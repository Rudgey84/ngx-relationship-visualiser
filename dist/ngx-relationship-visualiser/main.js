(self.webpackChunkngx_relationship_visualiser=self.webpackChunkngx_relationship_visualiser||[]).push([[792],{1060:(Oe,ut,B)=>{Oe.exports={graphlib:B(688),layout:B(7772),debug:B(6639),util:{time:B(1178).time,notime:B(1178).notime},version:B(9836)}},9012:(Oe,ut,B)=>{"use strict";let le=B(6701),J=B(1178).uniqueId;Oe.exports={run:function V(L){("greedy"===L.graph().acyclicer?le(L,function N(M){return k=>M.edge(k).weight}(L)):function W(L){let I=[],N={},M={};return L.nodes().forEach(function k(j){Object.hasOwn(M,j)||(M[j]=!0,N[j]=!0,L.outEdges(j).forEach(H=>{Object.hasOwn(N,H.w)?I.push(H):k(H.w)}),delete N[j])}),I}(L)).forEach(M=>{let k=L.edge(M);L.removeEdge(M),k.forwardName=M.name,k.reversed=!0,L.setEdge(M.w,M.v,k,J("rev"))})},undo:function R(L){L.edges().forEach(I=>{let N=L.edge(I);if(N.reversed){L.removeEdge(I);let M=N.forwardName;delete N.reversed,delete N.forwardName,L.setEdge(I.w,I.v,N,M)}})}}},8097:(Oe,ut,B)=>{let le=B(1178);function V(W,R,L,I,N,M){let j=N[R][M-1],H=le.addDummyNode(W,"border",{width:0,height:0,rank:M,borderType:R},L);N[R][M]=H,W.setParent(H,I),j&&W.setEdge(j,H,{weight:1})}Oe.exports=function J(W){W.children().forEach(function R(L){let I=W.children(L),N=W.node(L);if(I.length&&I.forEach(R),Object.hasOwn(N,"minRank")){N.borderLeft=[],N.borderRight=[];for(let M=N.minRank,k=N.maxRank+1;M<k;++M)V(W,"borderLeft","_bl",L,N,M),V(W,"borderRight","_br",L,N,M)}})}},6392:Oe=>{"use strict";function le(I){I.nodes().forEach(N=>J(I.node(N))),I.edges().forEach(N=>J(I.edge(N)))}function J(I){let N=I.width;I.width=I.height,I.height=N}function W(I){I.y=-I.y}function L(I){let N=I.x;I.x=I.y,I.y=N}Oe.exports={adjust:function ut(I){let N=I.graph().rankdir.toLowerCase();("lr"===N||"rl"===N)&&le(I)},undo:function B(I){let N=I.graph().rankdir.toLowerCase();("bt"===N||"rl"===N)&&function V(I){I.nodes().forEach(N=>W(I.node(N))),I.edges().forEach(N=>{let M=I.edge(N);M.points.forEach(W),Object.hasOwn(M,"y")&&W(M)})}(I),("lr"===N||"rl"===N)&&(function R(I){I.nodes().forEach(N=>L(I.node(N))),I.edges().forEach(N=>{let M=I.edge(N);M.points.forEach(L),Object.hasOwn(M,"x")&&L(M)})}(I),le(I))}}},7789:Oe=>{function B(J){J._prev._next=J._next,J._next._prev=J._prev,delete J._next,delete J._prev}function le(J,V){if("_next"!==J&&"_prev"!==J)return V}Oe.exports=class ut{constructor(){let V={};V._next=V._prev=V,this._sentinel=V}dequeue(){let V=this._sentinel,W=V._prev;if(W!==V)return B(W),W}enqueue(V){let W=this._sentinel;V._prev&&V._next&&B(V),V._next=W._next,W._next._prev=V,W._next=V,V._prev=W}toString(){let V=[],W=this._sentinel,R=W._prev;for(;R!==W;)V.push(JSON.stringify(R,le)),R=R._prev;return"["+V.join(", ")+"]"}}},6639:(Oe,ut,B)=>{let le=B(1178),J=B(688).Graph;Oe.exports={debugOrdering:function V(W){let R=le.buildLayerMatrix(W),L=new J({compound:!0,multigraph:!0}).setGraph({});return W.nodes().forEach(I=>{L.setNode(I,{label:I}),L.setParent(I,"layer"+W.node(I).rank)}),W.edges().forEach(I=>L.setEdge(I.v,I.w,{},I.name)),R.forEach((I,N)=>{L.setNode("layer"+N,{rank:"same"}),I.reduce((k,j)=>(L.setEdge(k,j,{style:"invis"}),j))}),L}}},6701:(Oe,ut,B)=>{let le=B(688).Graph,J=B(7789);Oe.exports=function W(k,j){if(k.nodeCount()<=1)return[];let H=function I(k,j){let H=new le,pe=0,ve=0;k.nodes().forEach(Me=>{H.setNode(Me,{v:Me,in:0,out:0})}),k.edges().forEach(Me=>{let Be=H.edge(Me.v,Me.w)||0,he=j(Me);H.setEdge(Me.v,Me.w,Be+he),ve=Math.max(ve,H.node(Me.v).out+=he),pe=Math.max(pe,H.node(Me.w).in+=he)});let Ne=function M(k){const j=[];for(let H=0;H<k;H++)j.push(H);return j}(ve+pe+3).map(()=>new J),lt=pe+1;return H.nodes().forEach(Me=>{N(Ne,lt,H.node(Me))}),{graph:H,buckets:Ne,zeroIdx:lt}}(k,j||V);return function R(k,j,H){let lt,pe=[],ve=j[j.length-1],Ne=j[0];for(;k.nodeCount();){for(;lt=Ne.dequeue();)L(k,j,H,lt);for(;lt=ve.dequeue();)L(k,j,H,lt);if(k.nodeCount())for(let Me=j.length-2;Me>0;--Me)if(lt=j[Me].dequeue(),lt){pe=pe.concat(L(k,j,H,lt,!0));break}}return pe}(H.graph,H.buckets,H.zeroIdx).flatMap(ve=>k.outEdges(ve.v,ve.w))};let V=()=>1;function L(k,j,H,pe,ve){let Ne=ve?[]:void 0;return k.inEdges(pe.v).forEach(lt=>{let Me=k.edge(lt),Be=k.node(lt.v);ve&&Ne.push({v:lt.v,w:lt.w}),Be.out-=Me,N(j,H,Be)}),k.outEdges(pe.v).forEach(lt=>{let Me=k.edge(lt),he=k.node(lt.w);he.in-=Me,N(j,H,he)}),k.removeNode(pe.v),Ne}function N(k,j,H){H.out?H.in?k[H.out-H.in+j].enqueue(H):k[k.length-1].enqueue(H):k[0].enqueue(H)}},7772:(Oe,ut,B)=>{"use strict";let le=B(9012),J=B(1939),V=B(5779),W=B(1178).normalizeRanks,R=B(930),L=B(1178).removeEmptyRanks,I=B(3259),N=B(8097),M=B(6392),k=B(4507),j=B(3110),H=B(1178),pe=B(688).Graph;Oe.exports=function ve(ye,ke){let ae=ke&&ke.debugTiming?H.time:H.notime;ae("layout",()=>{let at=ae("  buildLayoutGraph",()=>function se(ye){let ke=new pe({multigraph:!0,compound:!0}),ae=ro(ye.graph());return ke.setGraph(Object.assign({},Be,Hi(ae,Me),H.pick(ae,he))),ye.nodes().forEach(at=>{const vt=Hi(ro(ye.node(at)),be);Object.keys(Pe).forEach(mn=>{void 0===vt[mn]&&(vt[mn]=Pe[mn])}),ke.setNode(at,vt),ke.setParent(at,ye.parent(at))}),ye.edges().forEach(at=>{let Ut=ro(ye.edge(at));ke.setEdge(at,Object.assign({},Xe,Hi(Ut,Ze),H.pick(Ut,gt)))}),ke}(ye));ae("  runLayout",()=>function Ne(ye,ke,ae){ke("    makeSpaceForEdgeLabels",()=>function ge(ye){let ke=ye.graph();ke.ranksep/=2,ye.edges().forEach(ae=>{let at=ye.edge(ae);at.minlen*=2,"c"!==at.labelpos.toLowerCase()&&("TB"===ke.rankdir||"BT"===ke.rankdir?at.width+=at.labeloffset:at.height+=at.labeloffset)})}(ye)),ke("    removeSelfEdges",()=>function Bc(ye){ye.edges().forEach(ke=>{if(ke.v===ke.w){var ae=ye.node(ke.v);ae.selfEdges||(ae.selfEdges=[]),ae.selfEdges.push({e:ke,label:ye.edge(ke)}),ye.removeEdge(ke)}})}(ye)),ke("    acyclic",()=>le.run(ye)),ke("    nestingGraph.run",()=>I.run(ye)),ke("    rank",()=>V(H.asNonCompoundGraph(ye))),ke("    injectEdgeLabelProxies",()=>function De(ye){ye.edges().forEach(ke=>{let ae=ye.edge(ke);if(ae.width&&ae.height){let at=ye.node(ke.v),vt={rank:(ye.node(ke.w).rank-at.rank)/2+at.rank,e:ke};H.addDummyNode(ye,"edge-proxy",vt,"_ep")}})}(ye)),ke("    removeEmptyRanks",()=>L(ye)),ke("    nestingGraph.cleanup",()=>I.cleanup(ye)),ke("    normalizeRanks",()=>W(ye)),ke("    assignRankMinMax",()=>function Ae(ye){let ke=0;ye.nodes().forEach(ae=>{let at=ye.node(ae);at.borderTop&&(at.minRank=ye.node(at.borderTop).rank,at.maxRank=ye.node(at.borderBottom).rank,ke=Math.max(ke,at.maxRank))}),ye.graph().maxRank=ke}(ye)),ke("    removeEdgeLabelProxies",()=>function Le(ye){ye.nodes().forEach(ke=>{let ae=ye.node(ke);"edge-proxy"===ae.dummy&&(ye.edge(ae.e).labelRank=ae.rank,ye.removeNode(ke))})}(ye)),ke("    normalize.run",()=>J.run(ye)),ke("    parentDummyChains",()=>R(ye)),ke("    addBorderSegments",()=>N(ye)),ke("    order",()=>k(ye,ae)),ke("    insertSelfEdges",()=>function no(ye){H.buildLayerMatrix(ye).forEach(ae=>{var at=0;ae.forEach((Ut,vt)=>{var mn=ye.node(Ut);mn.order=vt+at,(mn.selfEdges||[]).forEach(Mr=>{H.addDummyNode(ye,"selfedge",{width:Mr.label.width,height:Mr.label.height,rank:mn.rank,order:vt+ ++at,e:Mr.e,label:Mr.label},"_se")}),delete mn.selfEdges})})}(ye)),ke("    adjustCoordinateSystem",()=>M.adjust(ye)),ke("    position",()=>j(ye)),ke("    positionSelfEdges",()=>function jc(ye){ye.nodes().forEach(ke=>{var ae=ye.node(ke);if("selfedge"===ae.dummy){var at=ye.node(ae.e.v),Ut=at.x+at.width/2,vt=at.y,mn=ae.x-Ut,Mr=at.height/2;ye.setEdge(ae.e,ae.label),ye.removeNode(ke),ae.label.points=[{x:Ut+2*mn/3,y:vt-Mr},{x:Ut+5*mn/6,y:vt-Mr},{x:Ut+mn,y:vt},{x:Ut+5*mn/6,y:vt+Mr},{x:Ut+2*mn/3,y:vt+Mr}],ae.label.x=ae.x,ae.label.y=ae.y}})}(ye)),ke("    removeBorderNodes",()=>function Si(ye){ye.nodes().forEach(ke=>{if(ye.children(ke).length){let ae=ye.node(ke),at=ye.node(ae.borderTop),Ut=ye.node(ae.borderBottom),vt=ye.node(ae.borderLeft[ae.borderLeft.length-1]),mn=ye.node(ae.borderRight[ae.borderRight.length-1]);ae.width=Math.abs(mn.x-vt.x),ae.height=Math.abs(Ut.y-at.y),ae.x=vt.x+ae.width/2,ae.y=at.y+ae.height/2}}),ye.nodes().forEach(ke=>{"border"===ye.node(ke).dummy&&ye.removeNode(ke)})}(ye)),ke("    normalize.undo",()=>J.undo(ye)),ke("    fixupEdgeLabelCoords",()=>function on(ye){ye.edges().forEach(ke=>{let ae=ye.edge(ke);if(Object.hasOwn(ae,"x"))switch(("l"===ae.labelpos||"r"===ae.labelpos)&&(ae.width-=ae.labeloffset),ae.labelpos){case"l":ae.x-=ae.width/2+ae.labeloffset;break;case"r":ae.x+=ae.width/2+ae.labeloffset}})}(ye)),ke("    undoCoordinateSystem",()=>M.undo(ye)),ke("    translateGraph",()=>function St(ye){let ke=Number.POSITIVE_INFINITY,ae=0,at=Number.POSITIVE_INFINITY,Ut=0,vt=ye.graph(),mn=vt.marginx||0,Mr=vt.marginy||0;function Ui(Qr){let Qn=Qr.x,io=Qr.y,Fr=Qr.width,Ii=Qr.height;ke=Math.min(ke,Qn-Fr/2),ae=Math.max(ae,Qn+Fr/2),at=Math.min(at,io-Ii/2),Ut=Math.max(Ut,io+Ii/2)}ye.nodes().forEach(Qr=>Ui(ye.node(Qr))),ye.edges().forEach(Qr=>{let Qn=ye.edge(Qr);Object.hasOwn(Qn,"x")&&Ui(Qn)}),ke-=mn,at-=Mr,ye.nodes().forEach(Qr=>{let Qn=ye.node(Qr);Qn.x-=ke,Qn.y-=at}),ye.edges().forEach(Qr=>{let Qn=ye.edge(Qr);Qn.points.forEach(io=>{io.x-=ke,io.y-=at}),Object.hasOwn(Qn,"x")&&(Qn.x-=ke),Object.hasOwn(Qn,"y")&&(Qn.y-=at)}),vt.width=ae-ke+mn,vt.height=Ut-at+Mr}(ye)),ke("    assignNodeIntersects",()=>function Tt(ye){ye.edges().forEach(ke=>{let vt,mn,ae=ye.edge(ke),at=ye.node(ke.v),Ut=ye.node(ke.w);ae.points?(vt=ae.points[0],mn=ae.points[ae.points.length-1]):(ae.points=[],vt=Ut,mn=at),ae.points.unshift(H.intersectRect(at,vt)),ae.points.push(H.intersectRect(Ut,mn))})}(ye)),ke("    reversePoints",()=>function Xn(ye){ye.edges().forEach(ke=>{let ae=ye.edge(ke);ae.reversed&&ae.points.reverse()})}(ye)),ke("    acyclic.undo",()=>le.undo(ye))}(at,ae,ke)),ae("  updateInputGraph",()=>function lt(ye,ke){ye.nodes().forEach(ae=>{let at=ye.node(ae),Ut=ke.node(ae);at&&(at.x=Ut.x,at.y=Ut.y,at.rank=Ut.rank,ke.children(ae).length&&(at.width=Ut.width,at.height=Ut.height))}),ye.edges().forEach(ae=>{let at=ye.edge(ae),Ut=ke.edge(ae);at.points=Ut.points,Object.hasOwn(Ut,"x")&&(at.x=Ut.x,at.y=Ut.y)}),ye.graph().width=ke.graph().width,ye.graph().height=ke.graph().height}(ye,at))})};let Me=["nodesep","edgesep","ranksep","marginx","marginy"],Be={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},he=["acyclicer","ranker","rankdir","align"],be=["width","height"],Pe={width:0,height:0},Ze=["minlen","weight","width","height","labeloffset"],Xe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},gt=["labelpos"];function Hi(ye,ke){return H.mapValues(H.pick(ye,ke),Number)}function ro(ye){var ke={};return ye&&Object.entries(ye).forEach(([ae,at])=>{"string"==typeof ae&&(ae=ae.toLowerCase()),ke[ae]=at}),ke}},3259:(Oe,ut,B)=>{let le=B(1178);function V(I,N,M,k,j,H,pe){let ve=I.children(pe);if(!ve.length)return void(pe!==N&&I.setEdge(N,pe,{weight:0,minlen:M}));let Ne=le.addBorderNode(I,"_bt"),lt=le.addBorderNode(I,"_bb"),Me=I.node(pe);I.setParent(Ne,pe),Me.borderTop=Ne,I.setParent(lt,pe),Me.borderBottom=lt,ve.forEach(Be=>{V(I,N,M,k,j,H,Be);let he=I.node(Be),be=he.borderTop?he.borderTop:Be,Pe=he.borderBottom?he.borderBottom:Be,Ze=he.borderTop?k:2*k,Xe=be!==Pe?1:j-H[pe]+1;I.setEdge(Ne,be,{weight:Ze,minlen:Xe,nestingEdge:!0}),I.setEdge(Pe,lt,{weight:Ze,minlen:Xe,nestingEdge:!0})}),I.parent(pe)||I.setEdge(N,Ne,{weight:0,minlen:j+H[pe]})}Oe.exports={run:function J(I){let N=le.addDummyNode(I,"root",{},"_root"),M=function W(I){var N={};function M(k,j){var H=I.children(k);H&&H.length&&H.forEach(pe=>M(pe,j+1)),N[k]=j}return I.children().forEach(k=>M(k,1)),N}(I),k=Object.values(M),j=le.applyWithChunking(Math.max,k)-1,H=2*j+1;I.graph().nestingRoot=N,I.edges().forEach(ve=>I.edge(ve).minlen*=H);let pe=function R(I){return I.edges().reduce((N,M)=>N+I.edge(M).weight,0)}(I)+1;I.children().forEach(ve=>V(I,N,H,pe,j,M,ve)),I.graph().nodeRankFactor=H},cleanup:function L(I){var N=I.graph();I.removeNode(N.nestingRoot),delete N.nestingRoot,I.edges().forEach(M=>{I.edge(M).nestingEdge&&I.removeEdge(M)})}}},1939:(Oe,ut,B)=>{"use strict";let le=B(1178);Oe.exports={run:function J(R){R.graph().dummyChains=[],R.edges().forEach(L=>function V(R,L){let ve,Ne,lt,I=L.v,N=R.node(I).rank,M=L.w,k=R.node(M).rank,j=L.name,H=R.edge(L),pe=H.labelRank;if(k!==N+1){for(R.removeEdge(L),lt=0,++N;N<k;++lt,++N)H.points=[],Ne={width:0,height:0,edgeLabel:H,edgeObj:L,rank:N},ve=le.addDummyNode(R,"edge",Ne,"_d"),N===pe&&(Ne.width=H.width,Ne.height=H.height,Ne.dummy="edge-label",Ne.labelpos=H.labelpos),R.setEdge(I,ve,{weight:H.weight},j),0===lt&&R.graph().dummyChains.push(ve),I=ve;R.setEdge(I,M,{weight:H.weight},j)}}(R,L))},undo:function W(R){R.graph().dummyChains.forEach(L=>{let M,I=R.node(L),N=I.edgeLabel;for(R.setEdge(I.edgeObj,N);I.dummy;)M=R.successors(L)[0],R.removeNode(L),N.points.push({x:I.x,y:I.y}),"edge-label"===I.dummy&&(N.x=I.x,N.y=I.y,N.width=I.width,N.height=I.height),I=R.node(L=M)})}}},3826:Oe=>{Oe.exports=function ut(B,le,J){let W,V={};J.forEach(R=>{let I,N,L=B.parent(R);for(;L;){if(I=B.parent(L),I?(N=V[I],V[I]=L):(N=W,W=L),N&&N!==L)return void le.setEdge(N,L);L=I}})}},9750:Oe=>{Oe.exports=function ut(B,le=[]){return le.map(J=>{let V=B.inEdges(J);if(V.length){let W=V.reduce((R,L)=>{let I=B.edge(L),N=B.node(L.v);return{sum:R.sum+I.weight*N.order,weight:R.weight+I.weight}},{sum:0,weight:0});return{v:J,barycenter:W.sum/W.weight,weight:W.weight}}return{v:J}})}},5742:(Oe,ut,B)=>{let le=B(688).Graph,J=B(1178);Oe.exports=function V(R,L,I){let N=function W(R){for(var L;R.hasNode(L=J.uniqueId("_root")););return L}(R),M=new le({compound:!0}).setGraph({root:N}).setDefaultNodeLabel(k=>R.node(k));return R.nodes().forEach(k=>{let j=R.node(k),H=R.parent(k);(j.rank===L||j.minRank<=L&&L<=j.maxRank)&&(M.setNode(k),M.setParent(k,H||N),R[I](k).forEach(pe=>{let ve=pe.v===k?pe.w:pe.v,Ne=M.edge(ve,k),lt=void 0!==Ne?Ne.weight:0;M.setEdge(ve,k,{weight:R.edge(pe).weight+lt})}),Object.hasOwn(j,"minRank")&&M.setNode(k,{borderLeft:j.borderLeft[L],borderRight:j.borderRight[L]}))}),M}},7217:(Oe,ut,B)=>{"use strict";let le=B(1178).zipObject;function V(W,R,L){let I=le(L,L.map((pe,ve)=>ve)),N=R.flatMap(pe=>W.outEdges(pe).map(ve=>({pos:I[ve.w],weight:W.edge(ve).weight})).sort((ve,Ne)=>ve.pos-Ne.pos)),M=1;for(;M<L.length;)M<<=1;let k=2*M-1;M-=1;let j=new Array(k).fill(0),H=0;return N.forEach(pe=>{let ve=pe.pos+M;j[ve]+=pe.weight;let Ne=0;for(;ve>0;)ve%2&&(Ne+=j[ve+1]),ve=ve-1>>1,j[ve]+=pe.weight;H+=pe.weight*Ne}),H}Oe.exports=function J(W,R){let L=0;for(let I=1;I<R.length;++I)L+=V(W,R[I-1],R[I]);return L}},4507:(Oe,ut,B)=>{"use strict";let le=B(3252),J=B(7217),V=B(8414),W=B(5742),R=B(3826),L=B(688).Graph,I=B(1178);function M(H,pe,ve){return pe.map(function(Ne){return W(H,Ne,ve)})}function k(H,pe){let ve=new L;H.forEach(function(Ne){let lt=Ne.graph().root,Me=V(Ne,lt,ve,pe);Me.vs.forEach((Be,he)=>Ne.node(Be).order=he),R(Ne,ve,Me.vs)})}function j(H,pe){Object.values(pe).forEach(ve=>ve.forEach((Ne,lt)=>H.node(Ne).order=lt))}Oe.exports=function N(H,pe){if(pe&&"function"==typeof pe.customOrder)return void pe.customOrder(H,N);let ve=I.maxRank(H),Ne=M(H,I.range(1,ve+1),"inEdges"),lt=M(H,I.range(ve-1,-1,-1),"outEdges"),Me=le(H);if(j(H,Me),pe&&pe.disableOptimalOrderHeuristic)return;let he,Be=Number.POSITIVE_INFINITY;for(let be=0,Pe=0;Pe<4;++be,++Pe){k(be%2?Ne:lt,be%4>=2),Me=I.buildLayerMatrix(H);let Ze=J(H,Me);Ze<Be&&(Pe=0,he=Object.assign({},Me),Be=Ze)}j(H,he)}},3252:(Oe,ut,B)=>{"use strict";let le=B(1178);Oe.exports=function J(V){let W={},R=V.nodes().filter(j=>!V.children(j).length),L=R.map(j=>V.node(j).rank),I=le.applyWithChunking(Math.max,L),N=le.range(I+1).map(()=>[]);return R.sort((j,H)=>V.node(j).rank-V.node(H).rank).forEach(function M(j){if(W[j])return;W[j]=!0;let H=V.node(j);N[H.rank].push(j),V.successors(j).forEach(M)}),N}},6753:(Oe,ut,B)=>{"use strict";let le=B(1178);Oe.exports=function J(R,L){let I={};return R.forEach((M,k)=>{let j=I[M.v]={indegree:0,in:[],out:[],vs:[M.v],i:k};void 0!==M.barycenter&&(j.barycenter=M.barycenter,j.weight=M.weight)}),L.edges().forEach(M=>{let k=I[M.v],j=I[M.w];void 0!==k&&void 0!==j&&(j.indegree++,k.out.push(I[M.w]))}),function V(R){let L=[];function I(M){return k=>{k.merged||(void 0===k.barycenter||void 0===M.barycenter||k.barycenter>=M.barycenter)&&function W(R,L){let I=0,N=0;R.weight&&(I+=R.barycenter*R.weight,N+=R.weight),L.weight&&(I+=L.barycenter*L.weight,N+=L.weight),R.vs=L.vs.concat(R.vs),R.barycenter=I/N,R.weight=N,R.i=Math.min(L.i,R.i),L.merged=!0}(M,k)}}function N(M){return k=>{k.in.push(M),0==--k.indegree&&R.push(k)}}for(;R.length;){let M=R.pop();L.push(M),M.in.reverse().forEach(I(M)),M.out.forEach(N(M))}return L.filter(M=>!M.merged).map(M=>le.pick(M,["vs","i","barycenter","weight"]))}(Object.values(I).filter(M=>!M.indegree))}},8414:(Oe,ut,B)=>{let le=B(9750),J=B(6753),V=B(6843);Oe.exports=function W(I,N,M,k){let j=I.children(N),H=I.node(N),pe=H?H.borderLeft:void 0,ve=H?H.borderRight:void 0,Ne={};pe&&(j=j.filter(he=>he!==pe&&he!==ve));let lt=le(I,j);lt.forEach(he=>{if(I.children(he.v).length){let be=W(I,he.v,M,k);Ne[he.v]=be,Object.hasOwn(be,"barycenter")&&function L(I,N){void 0!==I.barycenter?(I.barycenter=(I.barycenter*I.weight+N.barycenter*N.weight)/(I.weight+N.weight),I.weight+=N.weight):(I.barycenter=N.barycenter,I.weight=N.weight)}(he,be)}});let Me=J(lt,M);!function R(I,N){I.forEach(M=>{M.vs=M.vs.flatMap(k=>N[k]?N[k].vs:k)})}(Me,Ne);let Be=V(Me,k);if(pe&&(Be.vs=[pe,Be.vs,ve].flat(!0),I.predecessors(pe).length)){let he=I.node(I.predecessors(pe)[0]),be=I.node(I.predecessors(ve)[0]);Object.hasOwn(Be,"barycenter")||(Be.barycenter=0,Be.weight=0),Be.barycenter=(Be.barycenter*Be.weight+he.order+be.order)/(Be.weight+2),Be.weight+=2}return Be}},6843:(Oe,ut,B)=>{let le=B(1178);function V(R,L,I){let N;for(;L.length&&(N=L[L.length-1]).i<=I;)L.pop(),R.push(N.vs),I++;return I}Oe.exports=function J(R,L){let I=le.partition(R,Ne=>Object.hasOwn(Ne,"barycenter")),N=I.lhs,M=I.rhs.sort((Ne,lt)=>lt.i-Ne.i),k=[],j=0,H=0,pe=0;N.sort(function W(R){return(L,I)=>L.barycenter<I.barycenter?-1:L.barycenter>I.barycenter?1:R?I.i-L.i:L.i-I.i}(!!L)),pe=V(k,M,pe),N.forEach(Ne=>{pe+=Ne.vs.length,k.push(Ne.vs),j+=Ne.barycenter*Ne.weight,H+=Ne.weight,pe=V(k,M,pe)});let ve={vs:k.flat(!0)};return H&&(ve.barycenter=j/H,ve.weight=H),ve}},930:Oe=>{Oe.exports=function ut(J){let V=function le(J){let V={},W=0;return J.children().forEach(function R(L){let I=W;J.children(L).forEach(R),V[L]={low:I,lim:W++}}),V}(J);J.graph().dummyChains.forEach(W=>{let R=J.node(W),L=R.edgeObj,I=function B(J,V,W,R){let k,j,L=[],I=[],N=Math.min(V[W].low,V[R].low),M=Math.max(V[W].lim,V[R].lim);k=W;do{k=J.parent(k),L.push(k)}while(k&&(V[k].low>N||M>V[k].lim));for(j=k,k=R;(k=J.parent(k))!==j;)I.push(k);return{path:L.concat(I.reverse()),lca:j}}(J,V,L.v,L.w),N=I.path,M=I.lca,k=0,j=N[k],H=!0;for(;W!==L.w;){if(R=J.node(W),H){for(;(j=N[k])!==M&&J.node(j).maxRank<R.rank;)k++;j===M&&(H=!1)}if(!H){for(;k<N.length-1&&J.node(j=N[k+1]).minRank<=R.rank;)k++;j=N[k]}J.setParent(W,j),W=J.successors(W)[0]}})}},2363:(Oe,ut,B)=>{"use strict";let le=B(688).Graph,J=B(1178);function V(Me,Be){let he={};return Be.length&&Be.reduce(function be(Pe,Ze){let Xe=0,gt=0,se=Pe.length,ge=Ze[Ze.length-1];return Ze.forEach((De,Ae)=>{let Le=function R(Me,Be){if(Me.node(Be).dummy)return Me.predecessors(Be).find(he=>Me.node(he).dummy)}(Me,De),St=Le?Me.node(Le).order:se;(Le||De===ge)&&(Ze.slice(gt,Ae+1).forEach(Tt=>{Me.predecessors(Tt).forEach(on=>{let Xn=Me.node(on),Si=Xn.order;(Si<Xe||St<Si)&&(!Xn.dummy||!Me.node(Tt).dummy)&&L(he,on,Tt)})}),gt=Ae+1,Xe=St)}),Ze}),he}function W(Me,Be){let he={};function be(Ze,Xe,gt,se,ge){let De;J.range(Xe,gt).forEach(Ae=>{De=Ze[Ae],Me.node(De).dummy&&Me.predecessors(De).forEach(Le=>{let St=Me.node(Le);St.dummy&&(St.order<se||St.order>ge)&&L(he,Le,De)})})}return Be.length&&Be.reduce(function Pe(Ze,Xe){let se,gt=-1,ge=0;return Xe.forEach((De,Ae)=>{if("border"===Me.node(De).dummy){let Le=Me.predecessors(De);Le.length&&(se=Me.node(Le[0]).order,be(Xe,ge,Ae,gt,se),ge=Ae,gt=se)}be(Xe,ge,Xe.length,se,Ze.length)}),Xe}),he}function L(Me,Be,he){if(Be>he){let Pe=Be;Be=he,he=Pe}let be=Me[Be];be||(Me[Be]=be={}),be[he]=!0}function I(Me,Be,he){if(Be>he){let be=Be;Be=he,he=be}return!!Me[Be]&&Object.hasOwn(Me[Be],he)}function N(Me,Be,he,be){let Pe={},Ze={},Xe={};return Be.forEach(gt=>{gt.forEach((se,ge)=>{Pe[se]=se,Ze[se]=se,Xe[se]=ge})}),Be.forEach(gt=>{let se=-1;gt.forEach(ge=>{let De=be(ge);if(De.length){De=De.sort((Le,St)=>Xe[Le]-Xe[St]);let Ae=(De.length-1)/2;for(let Le=Math.floor(Ae),St=Math.ceil(Ae);Le<=St;++Le){let Tt=De[Le];Ze[ge]===ge&&se<Xe[Tt]&&!I(he,ge,Tt)&&(Ze[Tt]=ge,Ze[ge]=Pe[ge]=Pe[Tt],se=Xe[Tt])}}})}),{root:Pe,align:Ze}}function M(Me,Be,he,be,Pe){let Ze={},Xe=function k(Me,Be,he,be){let Pe=new le,Ze=Me.graph(),Xe=function Ne(Me,Be,he){return(be,Pe,Ze)=>{let ge,Xe=be.node(Pe),gt=be.node(Ze),se=0;if(se+=Xe.width/2,Object.hasOwn(Xe,"labelpos"))switch(Xe.labelpos.toLowerCase()){case"l":ge=-Xe.width/2;break;case"r":ge=Xe.width/2}if(ge&&(se+=he?ge:-ge),ge=0,se+=(Xe.dummy?Be:Me)/2,se+=(gt.dummy?Be:Me)/2,se+=gt.width/2,Object.hasOwn(gt,"labelpos"))switch(gt.labelpos.toLowerCase()){case"l":ge=gt.width/2;break;case"r":ge=-gt.width/2}return ge&&(se+=he?ge:-ge),ge=0,se}}(Ze.nodesep,Ze.edgesep,be);return Be.forEach(gt=>{let se;gt.forEach(ge=>{let De=he[ge];if(Pe.setNode(De),se){var Ae=he[se],Le=Pe.edge(Ae,De);Pe.setEdge(Ae,De,Math.max(Xe(Me,ge,se),Le||0))}se=ge})}),Pe}(Me,Be,he,Pe),gt=Pe?"borderLeft":"borderRight";function se(Ae,Le){let St=Xe.nodes(),Tt=St.pop(),on={};for(;Tt;)on[Tt]?Ae(Tt):(on[Tt]=!0,St.push(Tt),St=St.concat(Le(Tt))),Tt=St.pop()}return se(function ge(Ae){Ze[Ae]=Xe.inEdges(Ae).reduce((Le,St)=>Math.max(Le,Ze[St.v]+Xe.edge(St)),0)},Xe.predecessors.bind(Xe)),se(function De(Ae){let Le=Xe.outEdges(Ae).reduce((Tt,on)=>Math.min(Tt,Ze[on.w]-Xe.edge(on)),Number.POSITIVE_INFINITY),St=Me.node(Ae);Le!==Number.POSITIVE_INFINITY&&St.borderType!==gt&&(Ze[Ae]=Math.max(Ze[Ae],Le))},Xe.successors.bind(Xe)),Object.keys(be).forEach(Ae=>Ze[Ae]=Ze[he[Ae]]),Ze}function j(Me,Be){return Object.values(Be).reduce((he,be)=>{let Pe=Number.NEGATIVE_INFINITY,Ze=Number.POSITIVE_INFINITY;Object.entries(be).forEach(([gt,se])=>{let ge=function lt(Me,Be){return Me.node(Be).width}(Me,gt)/2;Pe=Math.max(se+ge,Pe),Ze=Math.min(se-ge,Ze)});const Xe=Pe-Ze;return Xe<he[0]&&(he=[Xe,be]),he},[Number.POSITIVE_INFINITY,null])[1]}function H(Me,Be){let he=Object.values(Be),be=J.applyWithChunking(Math.min,he),Pe=J.applyWithChunking(Math.max,he);["u","d"].forEach(Ze=>{["l","r"].forEach(Xe=>{let gt=Ze+Xe,se=Me[gt];if(se===Be)return;let ge=Object.values(se),De=be-J.applyWithChunking(Math.min,ge);"l"!==Xe&&(De=Pe-J.applyWithChunking(Math.max,ge)),De&&(Me[gt]=J.mapValues(se,Ae=>Ae+De))})})}function pe(Me,Be){return J.mapValues(Me.ul,(he,be)=>{if(Be)return Me[Be.toLowerCase()][be];{let Pe=Object.values(Me).map(Ze=>Ze[be]).sort((Ze,Xe)=>Ze-Xe);return(Pe[1]+Pe[2])/2}})}Oe.exports={positionX:function ve(Me){let Pe,Be=J.buildLayerMatrix(Me),he=Object.assign(V(Me,Be),W(Me,Be)),be={};["u","d"].forEach(Xe=>{Pe="u"===Xe?Be:Object.values(Be).reverse(),["l","r"].forEach(gt=>{"r"===gt&&(Pe=Pe.map(Ae=>Object.values(Ae).reverse()));let se=("u"===Xe?Me.predecessors:Me.successors).bind(Me),ge=N(0,Pe,he,se),De=M(Me,Pe,ge.root,ge.align,"r"===gt);"r"===gt&&(De=J.mapValues(De,Ae=>-Ae)),be[Xe+gt]=De})});let Ze=j(Me,be);return H(be,Ze),pe(be,Me.graph().align)},findType1Conflicts:V,findType2Conflicts:W,addConflict:L,hasConflict:I,verticalAlignment:N,horizontalCompaction:M,alignCoordinates:H,findSmallestWidthAlignment:j,balance:pe}},3110:(Oe,ut,B)=>{"use strict";let le=B(1178),J=B(2363).positionX;Oe.exports=function V(R){(function W(R){let L=le.buildLayerMatrix(R),I=R.graph().ranksep,N=0;L.forEach(M=>{const k=M.reduce((j,H)=>{const pe=R.node(H).height;return j>pe?j:pe},0);M.forEach(j=>R.node(j).y=N+k/2),N+=k+I})})(R=le.asNonCompoundGraph(R)),Object.entries(J(R)).forEach(([L,I])=>R.node(L).x=I)}},5975:(Oe,ut,B)=>{"use strict";var le=B(688).Graph,J=B(1211).slack;function W(I,N){return I.nodes().forEach(function M(k){N.nodeEdges(k).forEach(j=>{var H=j.v,pe=k===H?j.w:H;!I.hasNode(pe)&&!J(N,j)&&(I.setNode(pe,{}),I.setEdge(k,pe,{}),M(pe))})}),I.nodeCount()}function R(I,N){return N.edges().reduce((k,j)=>{let H=Number.POSITIVE_INFINITY;return I.hasNode(j.v)!==I.hasNode(j.w)&&(H=J(N,j)),H<k[0]?[H,j]:k},[Number.POSITIVE_INFINITY,null])[1]}function L(I,N,M){I.nodes().forEach(k=>N.node(k).rank+=M)}Oe.exports=function V(I){var j,H,N=new le({directed:!1}),M=I.nodes()[0],k=I.nodeCount();for(N.setNode(M,{});W(N,I)<k;)j=R(N,I),H=N.hasNode(j.v)?J(I,j):-J(I,j),L(N,I,H);return N}},5779:(Oe,ut,B)=>{"use strict";var J=B(1211).longestPath,V=B(5975),W=B(9722);Oe.exports=function R(M){switch(M.graph().ranker){case"network-simplex":default:!function N(M){W(M)}(M);break;case"tight-tree":!function I(M){J(M),V(M)}(M);break;case"longest-path":L(M)}};var L=J},9722:(Oe,ut,B)=>{"use strict";var le=B(5975),J=B(1211).slack,V=B(1211).longestPath,W=B(688).alg.preorder,R=B(688).alg.postorder,L=B(1178).simplify;function I(he){he=L(he),V(he);var Pe,be=le(he);for(j(be),N(be,he);Pe=pe(be);)Ne(be,he,Pe,ve(be,he,Pe))}function N(he,be){var Pe=R(he,he.nodes());(Pe=Pe.slice(0,Pe.length-1)).forEach(Ze=>function M(he,be,Pe){var Ze=he.node(Pe);he.edge(Pe,Ze.parent).cutvalue=k(he,be,Pe)}(he,be,Ze))}function k(he,be,Pe){var Xe=he.node(Pe).parent,gt=!0,se=be.edge(Pe,Xe),ge=0;return se||(gt=!1,se=be.edge(Xe,Pe)),ge=se.weight,be.nodeEdges(Pe).forEach(De=>{var Ae=De.v===Pe,Le=Ae?De.w:De.v;if(Le!==Xe){var St=Ae===gt,Tt=be.edge(De).weight;if(ge+=St?Tt:-Tt,function Me(he,be,Pe){return he.hasEdge(be,Pe)}(he,Pe,Le)){var on=he.edge(Pe,Le).cutvalue;ge+=St?-on:on}}}),ge}function j(he,be){arguments.length<2&&(be=he.nodes()[0]),H(he,{},1,be)}function H(he,be,Pe,Ze,Xe){var gt=Pe,se=he.node(Ze);return be[Ze]=!0,he.neighbors(Ze).forEach(ge=>{Object.hasOwn(be,ge)||(Pe=H(he,be,Pe,ge,Ze))}),se.low=gt,se.lim=Pe++,Xe?se.parent=Xe:delete se.parent,Pe}function pe(he){return he.edges().find(be=>he.edge(be).cutvalue<0)}function ve(he,be,Pe){var Ze=Pe.v,Xe=Pe.w;be.hasEdge(Ze,Xe)||(Ze=Pe.w,Xe=Pe.v);var gt=he.node(Ze),se=he.node(Xe),ge=gt,De=!1;return gt.lim>se.lim&&(ge=se,De=!0),be.edges().filter(Le=>De===Be(0,he.node(Le.v),ge)&&De!==Be(0,he.node(Le.w),ge)).reduce((Le,St)=>J(be,St)<J(be,Le)?St:Le)}function Ne(he,be,Pe,Ze){he.removeEdge(Pe.v,Pe.w),he.setEdge(Ze.v,Ze.w,{}),j(he),N(he,be),function lt(he,be){var Pe=he.nodes().find(Xe=>!be.node(Xe).parent),Ze=W(he,Pe);(Ze=Ze.slice(1)).forEach(Xe=>{var gt=he.node(Xe).parent,se=be.edge(Xe,gt),ge=!1;se||(se=be.edge(gt,Xe),ge=!0),be.node(Xe).rank=be.node(gt).rank+(ge?se.minlen:-se.minlen)})}(he,be)}function Be(he,be,Pe){return Pe.low<=be.lim&&be.lim<=Pe.lim}Oe.exports=I,I.initLowLimValues=j,I.initCutValues=N,I.calcCutValue=k,I.leaveEdge=pe,I.enterEdge=ve,I.exchangeEdges=Ne},1211:(Oe,ut,B)=>{"use strict";const{applyWithChunking:le}=B(1178);Oe.exports={longestPath:function J(W){var R={};W.sources().forEach(function L(I){var N=W.node(I);if(Object.hasOwn(R,I))return N.rank;R[I]=!0;let M=W.outEdges(I).map(j=>null==j?Number.POSITIVE_INFINITY:L(j.w)-W.edge(j).minlen);var k=le(Math.min,M);return k===Number.POSITIVE_INFINITY&&(k=0),N.rank=k})},slack:function V(W,R){return W.node(R.w).rank-W.node(R.v).rank-W.edge(R).minlen}}},1178:(Oe,ut,B)=>{"use strict";let le=B(688).Graph;function J(se,ge,De,Ae){let Le;do{Le=be(Ae)}while(se.hasNode(Le));return De.dummy=ge,se.setNode(Le,De),Le}Oe.exports={addBorderNode:function j(se,ge,De,Ae){let Le={width:0,height:0};return arguments.length>=4&&(Le.rank=De,Le.order=Ae),J(se,"border",Le,ge)},addDummyNode:J,applyWithChunking:ve,asNonCompoundGraph:function W(se){let ge=new le({multigraph:se.isMultigraph()}).setGraph(se.graph());return se.nodes().forEach(De=>{se.children(De).length||ge.setNode(De,se.node(De))}),se.edges().forEach(De=>{ge.setEdge(De,se.edge(De))}),ge},buildLayerMatrix:function N(se){let ge=Pe(Ne(se)+1).map(()=>[]);return se.nodes().forEach(De=>{let Ae=se.node(De),Le=Ae.rank;void 0!==Le&&(ge[Le][Ae.order]=De)}),ge},intersectRect:function I(se,ge){let Xn,Si,De=se.x,Ae=se.y,Le=ge.x-De,St=ge.y-Ae,Tt=se.width/2,on=se.height/2;if(!Le&&!St)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(St)*Tt>Math.abs(Le)*on?(St<0&&(on=-on),Xn=on*Le/St,Si=on):(Le<0&&(Tt=-Tt),Xn=Tt,Si=Tt*St/Le),{x:De+Xn,y:Ae+Si}},mapValues:function Xe(se,ge){let De=ge;return"string"==typeof ge&&(De=Ae=>Ae[ge]),Object.entries(se).reduce((Ae,[Le,St])=>(Ae[Le]=De(St,Le),Ae),{})},maxRank:Ne,normalizeRanks:function M(se){let ge=se.nodes().map(Ae=>{let Le=se.node(Ae).rank;return void 0===Le?Number.MAX_VALUE:Le}),De=ve(Math.min,ge);se.nodes().forEach(Ae=>{let Le=se.node(Ae);Object.hasOwn(Le,"rank")&&(Le.rank-=De)})},notime:function Be(se,ge){return ge()},partition:function lt(se,ge){let De={lhs:[],rhs:[]};return se.forEach(Ae=>{ge(Ae)?De.lhs.push(Ae):De.rhs.push(Ae)}),De},pick:function Ze(se,ge){const De={};for(const Ae of ge)void 0!==se[Ae]&&(De[Ae]=se[Ae]);return De},predecessorWeights:function L(se){let ge=se.nodes().map(De=>{let Ae={};return se.inEdges(De).forEach(Le=>{Ae[Le.v]=(Ae[Le.v]||0)+se.edge(Le).weight}),Ae});return gt(se.nodes(),ge)},range:Pe,removeEmptyRanks:function k(se){let ge=se.nodes().map(Tt=>se.node(Tt).rank),De=ve(Math.min,ge),Ae=[];se.nodes().forEach(Tt=>{let on=se.node(Tt).rank-De;Ae[on]||(Ae[on]=[]),Ae[on].push(Tt)});let Le=0,St=se.graph().nodeRankFactor;Array.from(Ae).forEach((Tt,on)=>{void 0===Tt&&on%St!=0?--Le:void 0!==Tt&&Le&&Tt.forEach(Xn=>se.node(Xn).rank+=Le)})},simplify:function V(se){let ge=(new le).setGraph(se.graph());return se.nodes().forEach(De=>ge.setNode(De,se.node(De))),se.edges().forEach(De=>{let Ae=ge.edge(De.v,De.w)||{weight:0,minlen:1},Le=se.edge(De);ge.setEdge(De.v,De.w,{weight:Ae.weight+Le.weight,minlen:Math.max(Ae.minlen,Le.minlen)})}),ge},successorWeights:function R(se){let ge=se.nodes().map(De=>{let Ae={};return se.outEdges(De).forEach(Le=>{Ae[Le.w]=(Ae[Le.w]||0)+se.edge(Le).weight}),Ae});return gt(se.nodes(),ge)},time:function Me(se,ge){let De=Date.now();try{return ge()}finally{console.log(se+" time: "+(Date.now()-De)+"ms")}},uniqueId:be,zipObject:gt};const pe=65535;function ve(se,ge){if(ge.length>pe){const De=function H(se,ge=pe){const De=[];for(let Ae=0;Ae<se.length;Ae+=ge){const Le=se.slice(Ae,Ae+ge);De.push(Le)}return De}(ge);return se.apply(null,De.map(Ae=>se.apply(null,Ae)))}return se.apply(null,ge)}function Ne(se){const De=se.nodes().map(Ae=>{let Le=se.node(Ae).rank;return void 0===Le?Number.MIN_VALUE:Le});return ve(Math.max,De)}let he=0;function be(se){var ge=++he;return toString(se)+ge}function Pe(se,ge,De=1){null==ge&&(ge=se,se=0);let Ae=St=>St<ge;De<0&&(Ae=St=>ge<St);const Le=[];for(let St=se;Ae(St);St+=De)Le.push(St);return Le}function gt(se,ge){return se.reduce((De,Ae,Le)=>(De[Ae]=ge[Le],De),{})}},9836:Oe=>{Oe.exports="1.1.4"},688:(Oe,ut,B)=>{var le=B(3820);Oe.exports={Graph:le.Graph,json:B(8388),alg:B(1873),version:le.version}},9:Oe=>{Oe.exports=function ut(B){var V,le={},J=[];function W(R){Object.hasOwn(le,R)||(le[R]=!0,V.push(R),B.successors(R).forEach(W),B.predecessors(R).forEach(W))}return B.nodes().forEach(function(R){V=[],W(R),V.length&&J.push(V)}),J}},7766:Oe=>{function B(V,W,R,L){for(var I=[[V,!1]];I.length>0;){var N=I.pop();N[1]?L.push(N[0]):Object.hasOwn(R,N[0])||(R[N[0]]=!0,I.push([N[0],!0]),J(W(N[0]),M=>I.push([M,!1])))}}function le(V,W,R,L){for(var I=[V];I.length>0;){var N=I.pop();Object.hasOwn(R,N)||(R[N]=!0,L.push(N),J(W(N),M=>I.push(M)))}}function J(V,W){for(var R=V.length;R--;)W(V[R],R,V);return V}Oe.exports=function ut(V,W,R){Array.isArray(W)||(W=[W]);var L=V.isDirected()?k=>V.successors(k):k=>V.neighbors(k),I="post"===R?B:le,N=[],M={};return W.forEach(k=>{if(!V.hasNode(k))throw new Error("Graph does not have node: "+k);I(k,L,M,N)}),N}},445:(Oe,ut,B)=>{var le=B(7103);Oe.exports=function J(V,W,R){return V.nodes().reduce(function(L,I){return L[I]=le(V,I,W,R),L},{})}},7103:(Oe,ut,B)=>{var le=B(859);Oe.exports=function V(R,L,I,N){return function W(R,L,I,N){var j,H,M={},k=new le,pe=function(ve){var Ne=ve.v!==j?ve.v:ve.w,lt=M[Ne],Me=I(ve),Be=H.distance+Me;if(Me<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+ve+" Weight: "+Me);Be<lt.distance&&(lt.distance=Be,lt.predecessor=j,k.decrease(Ne,Be))};for(R.nodes().forEach(function(ve){var Ne=ve===L?0:Number.POSITIVE_INFINITY;M[ve]={distance:Ne},k.add(ve,Ne)});k.size()>0&&(j=k.removeMin(),(H=M[j]).distance!==Number.POSITIVE_INFINITY);)N(j).forEach(pe);return M}(R,String(L),I||J,N||function(M){return R.outEdges(M)})};var J=()=>1},2244:(Oe,ut,B)=>{var le=B(8829);Oe.exports=function J(V){return le(V).filter(function(W){return W.length>1||1===W.length&&V.hasEdge(W[0],W[0])})}},9432:Oe=>{Oe.exports=function B(J,V,W){return function le(J,V,W){var R={},L=J.nodes();return L.forEach(function(I){R[I]={},R[I][I]={distance:0},L.forEach(function(N){I!==N&&(R[I][N]={distance:Number.POSITIVE_INFINITY})}),W(I).forEach(function(N){var M=N.v===I?N.w:N.v,k=V(N);R[I][M]={distance:k,predecessor:I}})}),L.forEach(function(I){var N=R[I];L.forEach(function(M){var k=R[M];L.forEach(function(j){var pe=N[j],ve=k[j],Ne=k[I].distance+pe.distance;Ne<ve.distance&&(ve.distance=Ne,ve.predecessor=pe.predecessor)})})}),R}(J,V||ut,W||function(R){return J.outEdges(R)})};var ut=()=>1},1873:(Oe,ut,B)=>{Oe.exports={components:B(9),dijkstra:B(7103),dijkstraAll:B(445),findCycles:B(2244),floydWarshall:B(9432),isAcyclic:B(9640),postorder:B(4691),preorder:B(3166),prim:B(937),tarjan:B(8829),topsort:B(8306)}},9640:(Oe,ut,B)=>{var le=B(8306);Oe.exports=function J(V){try{le(V)}catch(W){if(W instanceof le.CycleException)return!1;throw W}return!0}},4691:(Oe,ut,B)=>{var le=B(7766);Oe.exports=function J(V,W){return le(V,W,"post")}},3166:(Oe,ut,B)=>{var le=B(7766);Oe.exports=function J(V,W){return le(V,W,"pre")}},937:(Oe,ut,B)=>{var le=B(9744),J=B(859);Oe.exports=function V(W,R){var M,L=new le,I={},N=new J;function k(H){var pe=H.v===M?H.w:H.v,ve=N.priority(pe);if(void 0!==ve){var Ne=R(H);Ne<ve&&(I[pe]=M,N.decrease(pe,Ne))}}if(0===W.nodeCount())return L;W.nodes().forEach(function(H){N.add(H,Number.POSITIVE_INFINITY),L.setNode(H)}),N.decrease(W.nodes()[0],0);for(var j=!1;N.size()>0;){if(M=N.removeMin(),Object.hasOwn(I,M))L.setEdge(M,I[M]);else{if(j)throw new Error("Input graph is not connected: "+W);j=!0}W.nodeEdges(M).forEach(k)}return L}},8829:Oe=>{Oe.exports=function ut(B){var le=0,J=[],V={},W=[];function R(L){var I=V[L]={onStack:!0,lowlink:le,index:le++};if(J.push(L),B.successors(L).forEach(function(k){Object.hasOwn(V,k)?V[k].onStack&&(I.lowlink=Math.min(I.lowlink,V[k].index)):(R(k),I.lowlink=Math.min(I.lowlink,V[k].lowlink))}),I.lowlink===I.index){var M,N=[];do{M=J.pop(),V[M].onStack=!1,N.push(M)}while(L!==M);W.push(N)}}return B.nodes().forEach(function(L){Object.hasOwn(V,L)||R(L)}),W}},8306:Oe=>{function ut(le){var J={},V={},W=[];if(le.sinks().forEach(function R(L){if(Object.hasOwn(V,L))throw new B;Object.hasOwn(J,L)||(V[L]=!0,J[L]=!0,le.predecessors(L).forEach(R),delete V[L],W.push(L))}),Object.keys(J).length!==le.nodeCount())throw new B;return W}class B extends Error{constructor(){super(...arguments)}}Oe.exports=ut,ut.CycleException=B},859:Oe=>{Oe.exports=class ut{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(le){return le.key})}has(le){return Object.hasOwn(this._keyIndices,le)}priority(le){var J=this._keyIndices[le];if(void 0!==J)return this._arr[J].priority}min(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key}add(le,J){var V=this._keyIndices;if(le=String(le),!Object.hasOwn(V,le)){var W=this._arr,R=W.length;return V[le]=R,W.push({key:le,priority:J}),this._decrease(R),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var le=this._arr.pop();return delete this._keyIndices[le.key],this._heapify(0),le.key}decrease(le,J){var V=this._keyIndices[le];if(J>this._arr[V].priority)throw new Error("New priority is greater than current priority. Key: "+le+" Old: "+this._arr[V].priority+" New: "+J);this._arr[V].priority=J,this._decrease(V)}_heapify(le){var J=this._arr,V=2*le,W=V+1,R=le;V<J.length&&(R=J[V].priority<J[R].priority?V:R,W<J.length&&(R=J[W].priority<J[R].priority?W:R),R!==le&&(this._swap(le,R),this._heapify(R)))}_decrease(le){for(var W,J=this._arr,V=J[le].priority;0!==le&&!(J[W=le>>1].priority<V);)this._swap(le,W),le=W}_swap(le,J){var V=this._arr,W=this._keyIndices,R=V[le],L=V[J];V[le]=L,V[J]=R,W[L.key]=le,W[R.key]=J}}},9744:Oe=>{"use strict";var ut="\0",B="\0",le="\x01";function V(N,M){N[M]?N[M]++:N[M]=1}function W(N,M){--N[M]||delete N[M]}function R(N,M,k,j){var H=""+M,pe=""+k;if(!N&&H>pe){var ve=H;H=pe,pe=ve}return H+le+pe+le+(void 0===j?ut:j)}function I(N,M){return R(N,M.v,M.w,M.name)}Oe.exports=class J{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(M){M&&(this._isDirected=!Object.hasOwn(M,"directed")||M.directed,this._isMultigraph=!!Object.hasOwn(M,"multigraph")&&M.multigraph,this._isCompound=!!Object.hasOwn(M,"compound")&&M.compound),this._isCompound&&(this._parent={},this._children={},this._children[B]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(M){return this._label=M,this}graph(){return this._label}setDefaultNodeLabel(M){return this._defaultNodeLabelFn=M,"function"!=typeof M&&(this._defaultNodeLabelFn=()=>M),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var M=this;return this.nodes().filter(k=>0===Object.keys(M._in[k]).length)}sinks(){var M=this;return this.nodes().filter(k=>0===Object.keys(M._out[k]).length)}setNodes(M,k){var j=arguments,H=this;return M.forEach(function(pe){j.length>1?H.setNode(pe,k):H.setNode(pe)}),this}setNode(M,k){return Object.hasOwn(this._nodes,M)?(arguments.length>1&&(this._nodes[M]=k),this):(this._nodes[M]=arguments.length>1?k:this._defaultNodeLabelFn(M),this._isCompound&&(this._parent[M]=B,this._children[M]={},this._children[B][M]=!0),this._in[M]={},this._preds[M]={},this._out[M]={},this._sucs[M]={},++this._nodeCount,this)}node(M){return this._nodes[M]}hasNode(M){return Object.hasOwn(this._nodes,M)}removeNode(M){var k=this;if(Object.hasOwn(this._nodes,M)){var j=H=>k.removeEdge(k._edgeObjs[H]);delete this._nodes[M],this._isCompound&&(this._removeFromParentsChildList(M),delete this._parent[M],this.children(M).forEach(function(H){k.setParent(H)}),delete this._children[M]),Object.keys(this._in[M]).forEach(j),delete this._in[M],delete this._preds[M],Object.keys(this._out[M]).forEach(j),delete this._out[M],delete this._sucs[M],--this._nodeCount}return this}setParent(M,k){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(void 0===k)k=B;else{for(var j=k+="";void 0!==j;j=this.parent(j))if(j===M)throw new Error("Setting "+k+" as parent of "+M+" would create a cycle");this.setNode(k)}return this.setNode(M),this._removeFromParentsChildList(M),this._parent[M]=k,this._children[k][M]=!0,this}_removeFromParentsChildList(M){delete this._children[this._parent[M]][M]}parent(M){if(this._isCompound){var k=this._parent[M];if(k!==B)return k}}children(M=B){if(this._isCompound){var k=this._children[M];if(k)return Object.keys(k)}else{if(M===B)return this.nodes();if(this.hasNode(M))return[]}}predecessors(M){var k=this._preds[M];if(k)return Object.keys(k)}successors(M){var k=this._sucs[M];if(k)return Object.keys(k)}neighbors(M){var k=this.predecessors(M);if(k){const H=new Set(k);for(var j of this.successors(M))H.add(j);return Array.from(H.values())}}isLeaf(M){return 0===(this.isDirected()?this.successors(M):this.neighbors(M)).length}filterNodes(M){var k=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});k.setGraph(this.graph());var j=this;Object.entries(this._nodes).forEach(function([ve,Ne]){M(ve)&&k.setNode(ve,Ne)}),Object.values(this._edgeObjs).forEach(function(ve){k.hasNode(ve.v)&&k.hasNode(ve.w)&&k.setEdge(ve,j.edge(ve))});var H={};function pe(ve){var Ne=j.parent(ve);return void 0===Ne||k.hasNode(Ne)?(H[ve]=Ne,Ne):Ne in H?H[Ne]:pe(Ne)}return this._isCompound&&k.nodes().forEach(ve=>k.setParent(ve,pe(ve))),k}setDefaultEdgeLabel(M){return this._defaultEdgeLabelFn=M,"function"!=typeof M&&(this._defaultEdgeLabelFn=()=>M),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(M,k){var j=this,H=arguments;return M.reduce(function(pe,ve){return H.length>1?j.setEdge(pe,ve,k):j.setEdge(pe,ve),ve}),this}setEdge(){var M,k,j,H,pe=!1,ve=arguments[0];"object"==typeof ve&&null!==ve&&"v"in ve?(M=ve.v,k=ve.w,j=ve.name,2===arguments.length&&(H=arguments[1],pe=!0)):(M=ve,k=arguments[1],j=arguments[3],arguments.length>2&&(H=arguments[2],pe=!0)),void 0!==j&&(j=""+j);var Ne=R(this._isDirected,M=""+M,k=""+k,j);if(Object.hasOwn(this._edgeLabels,Ne))return pe&&(this._edgeLabels[Ne]=H),this;if(void 0!==j&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(M),this.setNode(k),this._edgeLabels[Ne]=pe?H:this._defaultEdgeLabelFn(M,k,j);var lt=function L(N,M,k,j){var H=""+M,pe=""+k;if(!N&&H>pe){var ve=H;H=pe,pe=ve}var Ne={v:H,w:pe};return j&&(Ne.name=j),Ne}(this._isDirected,M,k,j);return M=lt.v,k=lt.w,Object.freeze(lt),this._edgeObjs[Ne]=lt,V(this._preds[k],M),V(this._sucs[M],k),this._in[k][Ne]=lt,this._out[M][Ne]=lt,this._edgeCount++,this}edge(M,k,j){var H=1===arguments.length?I(this._isDirected,arguments[0]):R(this._isDirected,M,k,j);return this._edgeLabels[H]}edgeAsObj(){const M=this.edge(...arguments);return"object"!=typeof M?{label:M}:M}hasEdge(M,k,j){var H=1===arguments.length?I(this._isDirected,arguments[0]):R(this._isDirected,M,k,j);return Object.hasOwn(this._edgeLabels,H)}removeEdge(M,k,j){var H=1===arguments.length?I(this._isDirected,arguments[0]):R(this._isDirected,M,k,j),pe=this._edgeObjs[H];return pe&&(M=pe.v,k=pe.w,delete this._edgeLabels[H],delete this._edgeObjs[H],W(this._preds[k],M),W(this._sucs[M],k),delete this._in[k][H],delete this._out[M][H],this._edgeCount--),this}inEdges(M,k){var j=this._in[M];if(j){var H=Object.values(j);return k?H.filter(pe=>pe.v===k):H}}outEdges(M,k){var j=this._out[M];if(j){var H=Object.values(j);return k?H.filter(pe=>pe.w===k):H}}nodeEdges(M,k){var j=this.inEdges(M,k);if(j)return j.concat(this.outEdges(M,k))}}},3820:(Oe,ut,B)=>{Oe.exports={Graph:B(9744),version:B(2384)}},8388:(Oe,ut,B)=>{var le=B(9744);function V(L){return L.nodes().map(function(I){var N=L.node(I),M=L.parent(I),k={v:I};return void 0!==N&&(k.value=N),void 0!==M&&(k.parent=M),k})}function W(L){return L.edges().map(function(I){var N=L.edge(I),M={v:I.v,w:I.w};return void 0!==I.name&&(M.name=I.name),void 0!==N&&(M.value=N),M})}Oe.exports={write:function J(L){var I={options:{directed:L.isDirected(),multigraph:L.isMultigraph(),compound:L.isCompound()},nodes:V(L),edges:W(L)};return void 0!==L.graph()&&(I.value=structuredClone(L.graph())),I},read:function R(L){var I=new le(L.options).setGraph(L.value);return L.nodes.forEach(function(N){I.setNode(N.v,N.value),N.parent&&I.setParent(N.v,N.parent)}),L.edges.forEach(function(N){I.setEdge({v:N.v,w:N.w,name:N.name},N.value)}),I}}},2384:Oe=>{Oe.exports="2.2.4"},749:(Oe,ut,B)=>{"use strict";var le={};function J(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function V(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){J(o,r,i,s,a,"next",c)}function a(c){J(o,r,i,s,a,"throw",c)}s(void 0)})}}B.r(le),B.d(le,{FormatSpecifier:()=>gv,active:()=>Mee,arc:()=>Nce,area:()=>FV,areaRadial:()=>jV,ascending:()=>pa,autoType:()=>Vte,axisBottom:()=>TX,axisLeft:()=>kX,axisRight:()=>AX,axisTop:()=>IX,bisect:()=>fc,bisectLeft:()=>iX,bisectRight:()=>$O,bisector:()=>l1,blob:()=>fne,brush:()=>KR,brushSelection:()=>Pee,brushX:()=>Fee,brushY:()=>Lee,buffer:()=>pne,chord:()=>Bee,clientPoint:()=>Gm,cluster:()=>Iie,color:()=>va,contourDensity:()=>vte,contours:()=>wP,create:()=>wce,creator:()=>Vm,cross:()=>sX,csv:()=>vne,csvFormat:()=>Ste,csvFormatBody:()=>Ite,csvFormatRow:()=>Tte,csvFormatRows:()=>Ate,csvFormatValue:()=>kte,csvParse:()=>MP,csvParseRows:()=>xte,cubehelix:()=>So,curveBasis:()=>Xce,curveBasisClosed:()=>Qce,curveBasisOpen:()=>Jce,curveBundle:()=>eue,curveCardinal:()=>tue,curveCardinalClosed:()=>nue,curveCardinalOpen:()=>rue,curveCatmullRom:()=>iue,curveCatmullRomClosed:()=>oue,curveCatmullRomOpen:()=>sue,curveLinear:()=>My,curveLinearClosed:()=>aue,curveMonotoneX:()=>cue,curveMonotoneY:()=>uue,curveNatural:()=>lue,curveStep:()=>due,curveStepAfter:()=>hue,curveStepBefore:()=>fue,customEvent:()=>Rf,descending:()=>aX,deviation:()=>qO,dispatch:()=>rl,drag:()=>Ete,dragDisable:()=>Bm,dragEnable:()=>jm,dsv:()=>mne,dsvFormat:()=>lv,easeBack:()=>RP,easeBackIn:()=>ane,easeBackInOut:()=>RP,easeBackOut:()=>cne,easeBounce:()=>Kf,easeBounceIn:()=>one,easeBounceInOut:()=>sne,easeBounceOut:()=>Kf,easeCircle:()=>OP,easeCircleIn:()=>Kte,easeCircleInOut:()=>OP,easeCircleOut:()=>Zte,easeCubic:()=>W1,easeCubicIn:()=>bee,easeCubicInOut:()=>W1,easeCubicOut:()=>wee,easeElastic:()=>PP,easeElasticIn:()=>une,easeElasticInOut:()=>lne,easeElasticOut:()=>PP,easeExp:()=>NP,easeExpIn:()=>qte,easeExpInOut:()=>NP,easeExpOut:()=>Yte,easeLinear:()=>jte,easePoly:()=>IP,easePolyIn:()=>zte,easePolyInOut:()=>IP,easePolyOut:()=>$te,easeQuad:()=>SP,easeQuadIn:()=>Hte,easeQuadInOut:()=>SP,easeQuadOut:()=>Ute,easeSin:()=>kP,easeSinIn:()=>Gte,easeSinInOut:()=>kP,easeSinOut:()=>Wte,entries:()=>ete,event:()=>Ke,extent:()=>d1,forceCenter:()=>Mne,forceCollide:()=>$ne,forceLink:()=>Wne,forceManyBody:()=>Qne,forceRadial:()=>Jne,forceSimulation:()=>Xne,forceX:()=>ere,forceY:()=>tre,format:()=>vv,formatDefaultLocale:()=>qP,formatLocale:()=>WP,formatPrefix:()=>CE,formatSpecifier:()=>Zf,geoAlbers:()=>cL,geoAlbersUsa:()=>sie,geoArea:()=>dre,geoAzimuthalEqualArea:()=>aie,geoAzimuthalEqualAreaRaw:()=>cC,geoAzimuthalEquidistant:()=>cie,geoAzimuthalEquidistantRaw:()=>uC,geoBounds:()=>gre,geoCentroid:()=>wre,geoCircle:()=>Ere,geoClipAntimeridian:()=>HE,geoClipCircle:()=>TF,geoClipExtent:()=>Are,geoClipRectangle:()=>Hv,geoConicConformal:()=>lie,geoConicConformalRaw:()=>dL,geoConicEqualArea:()=>Jv,geoConicEqualAreaRaw:()=>aL,geoConicEquidistant:()=>fie,geoConicEquidistantRaw:()=>fL,geoContains:()=>Fre,geoDistance:()=>$v,geoEqualEarth:()=>pie,geoEqualEarthRaw:()=>lC,geoEquirectangular:()=>die,geoEquirectangularRaw:()=>lh,geoGnomonic:()=>gie,geoGnomonicRaw:()=>dC,geoGraticule:()=>jF,geoGraticule10:()=>Lre,geoIdentity:()=>mie,geoInterpolate:()=>Vre,geoLength:()=>kF,geoMercator:()=>uie,geoMercatorRaw:()=>uh,geoNaturalEarth1:()=>vie,geoNaturalEarth1Raw:()=>fC,geoOrthographic:()=>yie,geoOrthographicRaw:()=>hC,geoPath:()=>Zre,geoProjection:()=>gs,geoProjectionMutator:()=>sC,geoRotation:()=>EF,geoStereographic:()=>_ie,geoStereographicRaw:()=>pC,geoStream:()=>Io,geoTransform:()=>Xre,geoTransverseMercator:()=>bie,geoTransverseMercatorRaw:()=>gC,gray:()=>nte,hcl:()=>av,hierarchy:()=>mC,histogram:()=>dX,hsl:()=>Um,html:()=>Cne,image:()=>_ne,interpolate:()=>Vf,interpolateArray:()=>dJ,interpolateBasis:()=>bR,interpolateBasisClosed:()=>wR,interpolateBlues:()=>nce,interpolateBrBG:()=>Pae,interpolateBuGn:()=>$ae,interpolateBuPu:()=>Gae,interpolateCividis:()=>cce,interpolateCool:()=>dce,interpolateCubehelix:()=>Moe,interpolateCubehelixDefault:()=>uce,interpolateCubehelixLong:()=>ay,interpolateDate:()=>SR,interpolateDiscrete:()=>goe,interpolateGnBu:()=>Wae,interpolateGreens:()=>rce,interpolateGreys:()=>ice,interpolateHcl:()=>Coe,interpolateHclLong:()=>Doe,interpolateHsl:()=>boe,interpolateHslLong:()=>woe,interpolateHue:()=>moe,interpolateInferno:()=>_ce,interpolateLab:()=>Eoe,interpolateMagma:()=>yce,interpolateNumber:()=>Zi,interpolateNumberArray:()=>k1,interpolateObject:()=>IR,interpolateOrRd:()=>qae,interpolateOranges:()=>ace,interpolatePRGn:()=>Fae,interpolatePiYG:()=>Lae,interpolatePlasma:()=>bce,interpolatePuBu:()=>Kae,interpolatePuBuGn:()=>Yae,interpolatePuOr:()=>Vae,interpolatePuRd:()=>Zae,interpolatePurples:()=>oce,interpolateRainbow:()=>fce,interpolateRdBu:()=>Bae,interpolateRdGy:()=>jae,interpolateRdPu:()=>Xae,interpolateRdYlBu:()=>Hae,interpolateRdYlGn:()=>Uae,interpolateReds:()=>sce,interpolateRgb:()=>Lf,interpolateRgbBasis:()=>DR,interpolateRgbBasisClosed:()=>lJ,interpolateRound:()=>AL,interpolateSinebow:()=>gce,interpolateSpectral:()=>zae,interpolateString:()=>R1,interpolateTransformCss:()=>BR,interpolateTransformSvg:()=>jR,interpolateTurbo:()=>mce,interpolateViridis:()=>vce,interpolateWarm:()=>lce,interpolateYlGn:()=>Jae,interpolateYlGnBu:()=>Qae,interpolateYlOrBr:()=>ece,interpolateYlOrRd:()=>tce,interpolateZoom:()=>NL,interrupt:()=>yc,interval:()=>Tue,isoFormat:()=>xue,isoParse:()=>Aue,json:()=>wne,keys:()=>Qee,lab:()=>sv,lch:()=>rte,line:()=>qC,lineRadial:()=>BV,linkHorizontal:()=>Hce,linkRadial:()=>zce,linkVertical:()=>Uce,local:()=>NV,map:()=>ya,matcher:()=>w1,max:()=>KO,mean:()=>pX,median:()=>gX,merge:()=>v1,min:()=>ZO,mouse:()=>mc,namespace:()=>Of,namespaces:()=>C1,nest:()=>Yee,now:()=>dl,pack:()=>Jie,packEnclose:()=>pL,packSiblings:()=>Zie,pairs:()=>oX,partition:()=>eoe,path:()=>bc,permute:()=>mX,pie:()=>Pce,piecewise:()=>xoe,pointRadial:()=>kh,polygonArea:()=>Ioe,polygonCentroid:()=>Aoe,polygonContains:()=>Ooe,polygonHull:()=>Noe,polygonLength:()=>Roe,precisionFixed:()=>YP,precisionPrefix:()=>KP,precisionRound:()=>ZP,quadtree:()=>hv,quantile:()=>kf,quantize:()=>Soe,radialArea:()=>jV,radialLine:()=>BV,randomBates:()=>Loe,randomExponential:()=>Voe,randomIrwinHall:()=>VL,randomLogNormal:()=>Foe,randomNormal:()=>LL,randomUniform:()=>Poe,range:()=>Li,rgb:()=>ul,ribbon:()=>qee,scaleBand:()=>DC,scaleDiverging:()=>nV,scaleDivergingLog:()=>rV,scaleDivergingPow:()=>UC,scaleDivergingSqrt:()=>Dae,scaleDivergingSymlog:()=>iV,scaleIdentity:()=>WL,scaleImplicit:()=>EC,scaleLinear:()=>GL,scaleLog:()=>XL,scaleOrdinal:()=>CC,scalePoint:()=>Boe,scalePow:()=>TC,scaleQuantile:()=>n3,scaleQuantize:()=>r3,scaleSequential:()=>Q3,scaleSequentialLog:()=>J3,scaleSequentialPow:()=>HC,scaleSequentialQuantile:()=>tV,scaleSequentialSqrt:()=>Cae,scaleSequentialSymlog:()=>eV,scaleSqrt:()=>Zoe,scaleSymlog:()=>e3,scaleThreshold:()=>i3,scaleTime:()=>yae,scaleUtc:()=>Eae,scan:()=>vX,schemeAccent:()=>xae,schemeBlues:()=>xV,schemeBrBG:()=>oV,schemeBuGn:()=>pV,schemeBuPu:()=>gV,schemeCategory10:()=>Mae,schemeDark2:()=>Sae,schemeGnBu:()=>mV,schemeGreens:()=>SV,schemeGreys:()=>IV,schemeOrRd:()=>vV,schemeOranges:()=>kV,schemePRGn:()=>sV,schemePaired:()=>Iae,schemePastel1:()=>Aae,schemePastel2:()=>Tae,schemePiYG:()=>aV,schemePuBu:()=>_V,schemePuBuGn:()=>yV,schemePuOr:()=>cV,schemePuRd:()=>bV,schemePurples:()=>AV,schemeRdBu:()=>uV,schemeRdGy:()=>lV,schemeRdPu:()=>wV,schemeRdYlBu:()=>dV,schemeRdYlGn:()=>fV,schemeReds:()=>TV,schemeSet1:()=>kae,schemeSet2:()=>Nae,schemeSet3:()=>Oae,schemeSpectral:()=>hV,schemeTableau10:()=>Rae,schemeYlGn:()=>CV,schemeYlGnBu:()=>EV,schemeYlOrBr:()=>DV,schemeYlOrRd:()=>MV,select:()=>Xt,selectAll:()=>No,selection:()=>il,selector:()=>Fm,selectorAll:()=>b1,set:()=>Xee,shuffle:()=>yX,stack:()=>gue,stackOffsetDiverging:()=>vue,stackOffsetExpand:()=>mue,stackOffsetNone:()=>Tl,stackOffsetSilhouette:()=>yue,stackOffsetWiggle:()=>_ue,stackOrderAppearance:()=>u8,stackOrderAscending:()=>l8,stackOrderDescending:()=>wue,stackOrderInsideOut:()=>Eue,stackOrderNone:()=>kl,stackOrderReverse:()=>Cue,stratify:()=>ioe,style:()=>pc,sum:()=>_X,svg:()=>Dne,symbol:()=>Zce,symbolCircle:()=>XC,symbolCross:()=>HV,symbolDiamond:()=>zV,symbolSquare:()=>WV,symbolStar:()=>GV,symbolTriangle:()=>qV,symbolWye:()=>YV,symbols:()=>Kce,text:()=>fv,thresholdFreedmanDiaconis:()=>fX,thresholdScott:()=>hX,thresholdSturges:()=>m1,tickFormat:()=>$L,tickIncrement:()=>Tf,tickStep:()=>hc,ticks:()=>g1,timeDay:()=>fy,timeDays:()=>ose,timeFormat:()=>LC,timeFormatDefaultLocale:()=>$3,timeFormatLocale:()=>I3,timeFriday:()=>d3,timeFridays:()=>rse,timeHour:()=>m3,timeHours:()=>sse,timeInterval:()=>Dr,timeMillisecond:()=>gy,timeMilliseconds:()=>w3,timeMinute:()=>y3,timeMinutes:()=>ase,timeMonday:()=>bh,timeMondays:()=>Joe,timeMonth:()=>s3,timeMonths:()=>Qoe,timeParse:()=>z3,timeSaturday:()=>f3,timeSaturdays:()=>ise,timeSecond:()=>hy,timeSeconds:()=>b3,timeSunday:()=>_h,timeSundays:()=>h3,timeThursday:()=>Rc,timeThursdays:()=>nse,timeTuesday:()=>u3,timeTuesdays:()=>ese,timeWednesday:()=>l3,timeWednesdays:()=>tse,timeWeek:()=>_h,timeWeeks:()=>h3,timeYear:()=>kc,timeYears:()=>Xoe,timeout:()=>L1,timer:()=>Km,timerFlush:()=>kR,touch:()=>Bf,touches:()=>Cce,transition:()=>G1,transpose:()=>XO,tree:()=>loe,treemap:()=>doe,treemapBinary:()=>foe,treemapDice:()=>mh,treemapResquarify:()=>poe,treemapSlice:()=>sy,treemapSliceDice:()=>hoe,treemapSquarify:()=>IL,tsv:()=>yne,tsvFormat:()=>Ote,tsvFormatBody:()=>Rte,tsvFormatRow:()=>Fte,tsvFormatRows:()=>Pte,tsvFormatValue:()=>Lte,tsvParse:()=>xP,tsvParseRows:()=>Nte,utcDay:()=>my,utcDays:()=>pse,utcFormat:()=>vy,utcFriday:()=>D3,utcFridays:()=>fse,utcHour:()=>K3,utcHours:()=>bae,utcMillisecond:()=>gy,utcMilliseconds:()=>w3,utcMinute:()=>X3,utcMinutes:()=>wae,utcMonday:()=>Eh,utcMondays:()=>cse,utcMonth:()=>q3,utcMonths:()=>_ae,utcParse:()=>VC,utcSaturday:()=>M3,utcSaturdays:()=>hse,utcSecond:()=>hy,utcSeconds:()=>b3,utcSunday:()=>wh,utcSundays:()=>x3,utcThursday:()=>Fc,utcThursdays:()=>dse,utcTuesday:()=>E3,utcTuesdays:()=>use,utcWednesday:()=>C3,utcWednesdays:()=>lse,utcWeek:()=>wh,utcWeeks:()=>x3,utcYear:()=>Lc,utcYears:()=>gse,values:()=>Jee,variance:()=>WO,version:()=>nX,voronoi:()=>Kue,window:()=>D1,xml:()=>Ene,zip:()=>wX,zoom:()=>E8,zoomIdentity:()=>Pl,zoomTransform:()=>Ry});let R=null,L=!1,I=1;const N=Symbol("SIGNAL");function M(e){const t=R;return R=e,t}const pe={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function lt(e){if((!ge(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==I)){if(!e.producerMustRecompute(e)&&!Ze(e))return e.dirty=!1,void(e.lastCleanEpoch=I);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=I}}function he(e){e.dirty=!0,function Me(e){if(void 0===e.liveConsumerNode)return;const t=L;L=!0;try{for(const n of e.liveConsumerNode)n.dirty||he(n)}finally{L=t}}(e),e.consumerMarkedDirty?.(e)}function be(e){return e&&(e.nextProducerIndex=0),M(e)}function Pe(e,t){if(M(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(ge(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)se(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ze(e){De(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(lt(n),r!==n.version))return!0}return!1}function Xe(e){if(De(e),ge(e))for(let t=0;t<e.producerNode.length;t++)se(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function se(e,t){if(function Ae(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),De(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)se(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];De(i),i.producerIndexOfThis[r]=t}}function ge(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function De(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Bc=null;const Mr=()=>{},Ui={...pe,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Mr};function Qn(e){return"function"==typeof e}let io=!1;const Fr={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else io&&console.log("RxJS: Back to a better error behavior. Thank you. <3");io=e},get useDeprecatedSynchronousErrorHandling(){return io}};function Ii(e){setTimeout(()=>{throw e},0)}const Jr={closed:!0,next(e){},error(e){if(Fr.useDeprecatedSynchronousErrorHandling)throw e;Ii(e)},complete(){}},qs=Array.isArray||(e=>e&&"number"==typeof e.length);function ys(e){return null!==e&&"object"==typeof e}const Oo=(()=>{function e(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e})();class Qt{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof Qt)n.remove(this);else if(null!==n)for(let s=0;s<n.length;++s)n[s].remove(this);if(Qn(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){t=s instanceof Oo?Hc(s.errors):[s]}}if(qs(o)){let s=-1,a=o.length;for(;++s<a;){const c=o[s];if(ys(c))try{c.unsubscribe()}catch(u){t=t||[],u instanceof Oo?t=t.concat(Hc(u.errors)):t.push(u)}}}if(t)throw new Oo(t)}add(t){let n=t;if(!t)return Qt.EMPTY;switch(typeof t){case"function":n=new Qt(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof Qt)){const o=n;n=new Qt,n._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof Qt){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const n=this._subscriptions;if(n){const r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}var e;function Hc(e){return e.reduce((t,n)=>t.concat(n instanceof Oo?n.errors:n),[])}Qt.EMPTY=((e=new Qt).closed=!0,e);const Ro="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Bn extends Qt{constructor(t,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Jr;break;case 1:if(!t){this.destination=Jr;break}if("object"==typeof t){t instanceof Bn?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new Po(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new Po(this,t,n,r)}}[Ro](){return this}static create(t,n,r){const i=new Bn(t,n,r);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class Po extends Bn{constructor(t,n,r,i){super(),this._parentSubscriber=t;let o,s=this;Qn(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==Jr&&(s=Object.create(n),Qn(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;Fr.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=Fr;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=t,n.syncErrorThrown=!0):Ii(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;Ii(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const n=()=>this._complete.call(this._context);Fr.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,n){try{t.call(this._context,n)}catch(r){if(this.unsubscribe(),Fr.useDeprecatedSynchronousErrorHandling)throw r;Ii(r)}}__tryOrSetError(t,n,r){if(!Fr.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return Fr.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Ii(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const vi="function"==typeof Symbol&&Symbol.observable||"@@observable";function ft(e){return e}let Hn=(()=>{class e{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:o}=this,s=function Fl(e,t,n){if(e){if(e instanceof Bn)return e;if(e[Ro])return e[Ro]()}return e||t||n?new Bn(e,t,n):new Bn(Jr)}(n,r,i);if(s.add(o?o.call(s,this.source):this.source||Fr.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Fr.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){Fr.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function Uc(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof Bn?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=Qe(r))((i,o)=>{let s;s=this.subscribe(a=>{try{n(a)}catch(c){o(c),s&&s.unsubscribe()}},o,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[vi](){return this}pipe(...n){return 0===n.length?this:function Fo(e){return 0===e.length?ft:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=Qe(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Qe(e){if(e||(e=Fr.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const Lo=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class $c extends Qt{constructor(t,n){super(),this.subject=t,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,n=t.observers;if(this.subject=null,!n||0===n.length||t.isStopped||t.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class jh extends Bn{constructor(t){super(t),this.destination=t}}let Cn=(()=>{class e extends Hn{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ro](){return new jh(this)}lift(n){const r=new Hh(this,this);return r.operator=n,r}next(n){if(this.closed)throw new Lo;if(!this.isStopped){const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(n)}}error(n){if(this.closed)throw new Lo;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(n);this.observers.length=0}complete(){if(this.closed)throw new Lo;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new Lo;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new Lo;return this.hasError?(n.error(this.thrownError),Qt.EMPTY):this.isStopped?(n.complete(),Qt.EMPTY):(this.observers.push(n),new $c(this,n))}asObservable(){const n=new Hn;return n.source=this,n}}return e.create=(t,n)=>new Hh(t,n),e})();class Hh extends Cn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){const{destination:n}=this;n&&n.next&&n.next(t)}error(t){const{destination:n}=this;n&&n.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:n}=this;return n?this.source.subscribe(t):Qt.EMPTY}}class Vy extends Cn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return n&&!n.closed&&t.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Lo;return this._value}next(t){super.next(this._value=t)}}function Ai(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new Ys(e,t))}}class Ys{constructor(t,n){this.project=t,this.thisArg=n}call(t,n){return n.subscribe(new Ll(t,this.project,this.thisArg))}}class Ll extends Bn{constructor(t,n,r){super(t),this.project=n,this.count=0,this.thisArg=r||this}_next(t){let n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}class Ce extends Error{constructor(t,n){super(function Ks(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function Lr(e){return{toString:e}.toString()}const so="__parameters__";function yi(e,t,n){return Lr(()=>{const r=function Gc(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(so)?c[so]:Object.defineProperty(c,so,{value:[]})[so];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const sn=globalThis;function Wt(e){for(let t in e)if(e[t]===Wt)return t;throw Error("Could not find renamed property on target object.")}function Uh(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Nn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Nn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Qs(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const jl=Wt({__forward_ref__:Wt});function an(e){return e.__forward_ref__=an,e.toString=function(){return Nn(this())},e}function xt(e){return bs(e)?e():e}function bs(e){return"function"==typeof e&&e.hasOwnProperty(jl)&&e.__forward_ref__===an}function nt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Sr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ir(e){return Na(e,Ra)||Na(e,Ti)}function Na(e,t){return e.hasOwnProperty(t)?e[t]:null}function Oa(e){return e&&(e.hasOwnProperty(er)||e.hasOwnProperty(Pa))?e[er]:null}const Ra=Wt({\u0275prov:Wt}),er=Wt({\u0275inj:Wt}),Ti=Wt({ngInjectableDef:Wt}),Pa=Wt({ngInjectorDef:Wt});class et{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=nt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function zl(e){return e&&!!e.\u0275providers}const uo=Wt({\u0275cmp:Wt}),$l=Wt({\u0275dir:Wt}),Gl=Wt({\u0275pipe:Wt}),La=Wt({\u0275mod:Wt}),bi=Wt({\u0275fac:Wt}),ws=Wt({__NG_ELEMENT_ID__:Wt}),Kh=Wt({__NG_ENV_ID__:Wt});function Ot(e){return"string"==typeof e?e:null==e?"":String(e)}function Js(e,t){throw new Ce(-201,!1)}var Yt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Yt||{});let Yl;function Va(){return Yl}function Ar(e){const t=Yl;return Yl=e,t}function Jc(e,t,n){const r=Ir(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Yt.Optional?null:void 0!==t?t:void Js()}const tr={},Es="__NG_DI_FLAG__",jo="ngTempTokenPath",eu=/\n/gm,Kl="__source";let lo;function Br(e){const t=lo;return lo=e,t}function Xl(e,t=Yt.Default){if(void 0===lo)throw new Ce(-203,!1);return null===lo?Jc(e,void 0,t):lo.get(e,t&Yt.Optional?null:void 0,t)}function Re(e,t=Yt.Default){return(Va()||Xl)(xt(e),t)}function Et(e,t=Yt.Default){return Re(e,ja(t))}function ja(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ql(e){const t=[];for(let n=0;n<e.length;n++){const r=xt(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ce(900,!1);let i,o=Yt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=tu(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(Re(i,o))}else t.push(Re(r))}return t}function Cs(e,t){return e[Es]=t,e.prototype[Es]=t,e}function tu(e){return e[Es]}const td=Cs(yi("Optional"),8),nd=Cs(yi("SkipSelf"),4);function Ho(e,t){return e.hasOwnProperty(bi)?e[bi]:null}function Uo(e,t){e.forEach(n=>Array.isArray(n)?Uo(n,t):t(n))}function rd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ha(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function nn(e,t,n){let r=mr(e,t);return r>=0?e[1|r]=n:(r=~r,function Ua(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function ea(e,t){const n=mr(e,t);if(n>=0)return e[1|n]}function mr(e,t){return function ru(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const ki={},zt=[],$o=new et(""),Ds=new et("",-1),$i=new et("");class za{get(t,n=tr){if(n===tr){const r=new Error(`NullInjectorError: No provider for ${Nn(t)}!`);throw r.name="NullInjectorError",r}return n}}var f=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(f||{}),p=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(p||{}),v=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(v||{});function b(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function E(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];T(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function x(e){return 3===e||4===e||6===e}function T(e){return 64===e.charCodeAt(0)}function O(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||U(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function U(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const q="ng-template";function Z(e,t,n,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==b(t[i+1].toLowerCase(),n,0))return!0}else if(F(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&"string"==typeof(o=t[i]);)if(o.toLowerCase()===n)return!0}return!1}function F(e){return 4===e.type&&e.value!==q}function te(e,t,n){return t===(4!==e.type||n?e.value:q)}function z(e,t,n){let r=4;const i=e.attrs,o=null!==i?function ce(e){for(let t=0;t<e.length;t++)if(x(e[t]))return t;return e.length}(i):0;let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!te(e,c,n)||""===c&&1===t.length){if(Y(r))return!1;s=!0}}else if(8&r){if(null===i||!Z(e,i,c,n)){if(Y(r))return!1;s=!0}}else{const u=t[++a],l=X(c,i,F(e),n);if(-1===l){if(Y(r))return!1;s=!0;continue}if(""!==u){let d;if(d=l>o?"":i[l+1].toLowerCase(),2&r&&u!==d){if(Y(r))return!1;s=!0}}}}else{if(!s&&!Y(r)&&!Y(c))return!1;if(s&&Y(c))continue;s=!1,r=c|1&r}}return Y(r)||s}function Y(e){return!(1&e)}function X(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function ue(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function K(e,t,n=!1){for(let r=0;r<t.length;r++)if(z(e,t[r],n))return!0;return!1}function _e(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Fe(e,t){return e?":not("+t.trim()+")":t}function qe(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Y(s)&&(t+=Fe(o,i),i=""),r=s,o=o||!Y(r);n++}return""!==i&&(t+=Fe(o,i)),t}function ze(e){return Lr(()=>{const t=Go(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===f.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||p.Emulated,styles:e.styles||zt,_:null,schemas:e.schemas||null,tView:null,id:""};iu(n);const r=e.dependencies;return n.directiveDefs=ip(r,!1),n.pipeDefs=ip(r,!0),n.id=function A8(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function We(e){return Ye(e)||en(e)}function rt(e){return null!==e}function mt(e){return Lr(()=>({type:e.type,bootstrap:e.bootstrap||zt,declarations:e.declarations||zt,imports:e.imports||zt,exports:e.exports||zt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $t(e,t){if(null==e)return ki;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let o,s,a=v.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==v.None?[r,a]:r,t[o]=s):n[o]=r}return n}function Ge(e){return Lr(()=>{const t=Go(e);return iu(t),t})}function Ye(e){return e[uo]||null}function en(e){return e[$l]||null}function cn(e){return e[Gl]||null}function Go(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ki,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||zt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$t(e.inputs,t),outputs:$t(e.outputs),debugInfo:null}}function iu(e){e.features?.forEach(t=>t(e))}function ip(e,t){if(!e)return null;const n=t?cn:We;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(rt)}function T8(...e){return{\u0275providers:Wy(0,e),\u0275fromNgModule:!0}}function Wy(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Uo(t,s=>{const a=s;sp(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&bD(i,o),n}function bD(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];qy(i,o=>{t(o,r)})}}function sp(e,t,n,r){if(!(e=xt(e)))return!1;let i=null,o=Oa(e);const s=!o&&Ye(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=Oa(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)sp(u,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Uo(o.imports,l=>{sp(l,t,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&bD(u,t)}if(!a){const u=Ho(i)||(()=>new i);t({provide:i,useFactory:u,deps:zt},i),t({provide:$i,useValue:i,multi:!0},i),t({provide:$o,useValue:()=>Re(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=e;qy(c,l=>{t(l,u)})}}}return i!==e&&void 0!==e.providers}function qy(e,t){for(let n of e)zl(n)&&(n=n.\u0275providers),Array.isArray(n)?qy(n,t):t(n)}const k8=Wt({provide:String,useValue:Wt});function Yy(e){return null!==e&&"object"==typeof e&&k8 in e}function $a(e){return"function"==typeof e}const Ky=new et(""),ap={},O8={};let Zy;function cp(){return void 0===Zy&&(Zy=new za),Zy}class Wo{}class ou extends Wo{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qy(t,s=>this.processProvider(s)),this.records.set(Ds,su(void 0,this)),i.has("environment")&&this.records.set(Wo,su(void 0,this));const o=this.records.get(Ky);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($i,zt,Yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=M(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),M(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Br(this),r=Ar(void 0);try{return t()}finally{Br(n),Ar(r)}}get(t,n=tr,r=Yt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Kh))return t[Kh](this);r=ja(r);const o=Br(this),s=Ar(void 0);try{if(!(r&Yt.SkipSelf)){let c=this.records.get(t);if(void 0===c){const u=function V8(e){return"function"==typeof e||"object"==typeof e&&e instanceof et}(t)&&Ir(t);c=u&&this.injectableDefInScope(u)?su(Xy(t),ap):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&Yt.Self?cp():this.parent).get(t,n=r&Yt.Optional&&n===tr?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[jo]=a[jo]||[]).unshift(Nn(t)),o)throw a;return function $y(e,t,n,r){const i=e[jo];throw t[Kl]&&i.unshift(t[Kl]),e.message=function Jl(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Nn(t);if(Array.isArray(t))i=t.map(Nn).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Nn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(eu,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[jo]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Ar(s),Br(o)}}resolveInjectorInitializers(){const t=M(null),n=Br(this),r=Ar(void 0);try{const o=this.get($o,zt,Yt.Self);for(const s of o)s()}finally{Br(n),Ar(r),M(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Nn(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(t){let n=$a(t=xt(t))?t:xt(t&&t.provide);const r=function P8(e){return Yy(e)?su(void 0,e.useValue):su(CD(e),ap)}(t);if(!$a(t)&&!0===t.multi){let i=this.records.get(n);i||(i=su(void 0,ap,!0),i.factory=()=>Ql(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=M(null);try{return n.value===ap&&(n.value=O8,n.value=n.factory()),"object"==typeof n.value&&n.value&&function L8(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{M(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=xt(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Xy(e){const t=Ir(e),n=null!==t?t.factory:Ho(e);if(null!==n)return n;if(e instanceof et)throw new Ce(204,!1);if(e instanceof Function)return function R8(e){if(e.length>0)throw new Ce(204,!1);const n=function Bo(e){return e&&(e[Ra]||e[Ti])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ce(204,!1)}function CD(e,t,n){let r;if($a(e)){const i=xt(e);return Ho(i)||Xy(i)}if(Yy(e))r=()=>xt(e.useValue);else if(function ED(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Ql(e.deps||[]));else if(function wD(e){return!(!e||!e.useExisting)}(e))r=()=>Re(xt(e.useExisting));else{const i=xt(e&&(e.useClass||e.provide));if(!function F8(e){return!!e.deps}(e))return Ho(i)||Xy(i);r=()=>new i(...Ql(e.deps))}return r}function su(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Qy(e,t){for(const n of e)Array.isArray(n)?Qy(n,t):n&&zl(n)?Qy(n.\u0275providers,t):t(n)}function MD(){return void 0!==Va()||null!=function Zl(){return lo}()}const Un=0,je=1,yt=2,or=3,fo=4,jr=5,Ni=6,cu=7,Rn=8,lr=9,ho=10,kt=11,sd=12,SD=13,uu=14,Wn=15,ad=16,lu=17,Ms=18,cd=19,ID=20,ta=21,dp=22,Ga=23,Lt=25,e_=1,qo=7,du=9,sr=10;var t_=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(t_||{});function Hr(e){return Array.isArray(e)&&"object"==typeof e[e_]}function Ur(e){return Array.isArray(e)&&!0===e[e_]}function n_(e){return!!(4&e.flags)}function Wa(e){return e.componentOffset>-1}function hp(e){return!(1&~e.flags)}function po(e){return!!e.template}function r_(e){return!!(512&e[yt])}class X8{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ND(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function go(){return OD}function OD(e){return e.type.prototype.ngOnChanges&&(e.setInput=J8),Q8}function Q8(){const e=PD(this),t=e?.current;if(t){const n=e.previous;if(n===ki)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function J8(e,t,n,r,i){const o=this.declaredInputs[r],s=PD(e)||function e5(e,t){return e[RD]=t}(e,{previous:ki,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new X8(u&&u.currentValue,n,c===ki),ND(e,t,i,n)}go.ngInherit=!0;const RD="__ngSimpleChanges__";function PD(e){return e[RD]||null}const Yo=function(e,t,n){};let VD=!1;function Mn(e){for(;Array.isArray(e);)e=e[Un];return e}function ti(e,t){return Mn(t[e.index])}function dd(e,t){return e.data[t]}function Oi(e,t){const n=t[e];return Hr(n)?n:n[Un]}function c_(e){return!(128&~e[yt])}function Ko(e,t){return null==t?null:e[t]}function BD(e){e[lu]=0}function a5(e){1024&e[yt]||(e[yt]|=1024,c_(e)&&fd(e))}function u_(e){return!!(9216&e[yt]||e[Ga]?.dirty)}function l_(e){e[ho].changeDetectionScheduler?.notify(1),u_(e)?fd(e):64&e[yt]&&(function n5(){return VD}()?(e[yt]|=1024,fd(e)):e[ho].changeDetectionScheduler?.notify())}function fd(e){e[ho].changeDetectionScheduler?.notify();let t=qa(e);for(;null!==t&&!(8192&t[yt])&&(t[yt]|=8192,c_(t));)t=qa(t)}function pp(e,t){if(!(256&~e[yt]))throw new Ce(911,!1);null===e[ta]&&(e[ta]=[]),e[ta].push(t)}function qa(e){const t=e[or];return Ur(t)?t[or]:t}const Nt={lFrame:KD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function UD(){return Nt.bindingsEnabled}function hu(){return null!==Nt.skipHydrationRootTNode}function me(){return Nt.lFrame.lView}function Zt(){return Nt.lFrame.tView}function It(e){return Nt.lFrame.contextLView=e,e[Rn]}function At(e){return Nt.lFrame.contextLView=null,e}function wn(){let e=zD();for(;null!==e&&64===e.type;)e=e.parent;return e}function zD(){return Nt.lFrame.currentTNode}function Zo(e,t){const n=Nt.lFrame;n.currentTNode=e,n.isParent=t}function f_(){return Nt.lFrame.isParent}function h_(){Nt.lFrame.isParent=!1}function ni(){const e=Nt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function mo(){return Nt.lFrame.bindingIndex++}function Ss(e){const t=Nt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function y5(e,t){const n=Nt.lFrame;n.bindingIndex=n.bindingRootIndex=e,p_(t)}function p_(e){Nt.lFrame.currentDirectiveIndex=e}function m_(){return Nt.lFrame.currentQueryIndex}function gp(e){Nt.lFrame.currentQueryIndex=e}function b5(e){const t=e[je];return 2===t.type?t.declTNode:1===t.type?e[jr]:null}function qD(e,t,n){if(n&Yt.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Yt.Host||(i=b5(o),null===i||(o=o[uu],10&i.type))););if(null===i)return!1;t=i,e=o}const r=Nt.lFrame=YD();return r.currentTNode=t,r.lView=e,!0}function v_(e){const t=YD(),n=e[je];Nt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function YD(){const e=Nt.lFrame,t=null===e?null:e.child;return null===t?KD(e):t}function KD(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ZD(){const e=Nt.lFrame;return Nt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const XD=ZD;function y_(){const e=ZD();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function zr(){return Nt.lFrame.selectedIndex}function Ya(e){Nt.lFrame.selectedIndex=e}function Pn(){const e=Nt.lFrame;return dd(e.tView,e.selectedIndex)}let eM=!0;function pd(){return eM}function Xo(e){eM=e}function mp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=l&&(e.destroyHooks??=[]).push(n,l)}}function vp(e,t,n){tM(e,t,3,n)}function yp(e,t,n,r){(3&e[yt])===n&&tM(e,t,n,r)}function __(e,t){let n=e[yt];(3&n)===t&&(n&=16383,n+=1,e[yt]=n)}function tM(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[lu]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[lu]+=65536),(a<o||-1==o)&&(x5(e,n,t,c),e[lu]=(4294901760&e[lu])+c+2),c++}function nM(e,t){Yo(4,e,t);const n=M(null);try{t.call(e)}finally{M(n),Yo(5,e,t)}}function x5(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[yt]>>14<e[lu]>>16&&(3&e[yt])===t&&(e[yt]+=16384,nM(a,o)):nM(a,o)}const pu=-1;class gd{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function w_(e){return e!==pu}function md(e){return 32767&e}function vd(e,t){let n=function k5(e){return e>>16}(e),r=t;for(;n>0;)r=r[uu],n--;return r}let E_=!0;function _p(e){const t=E_;return E_=e,t}const rM=255,iM=5;let N5=0;const Qo={};function bp(e,t){const n=oM(e,t);if(-1!==n)return n;const r=t[je];r.firstCreatePass&&(e.injectorIndex=t.length,C_(r.data,e),C_(t,null),C_(r.blueprint,null));const i=wp(e,t),o=e.injectorIndex;if(w_(i)){const s=md(i),a=vd(i,t),c=a[je].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function C_(e,t){e.push(0,0,0,0,0,0,0,0,t)}function oM(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function wp(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=fM(i),null===r)return pu;if(n++,i=i[uu],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return pu}function D_(e,t,n){!function O5(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ws)&&(r=n[ws]),null==r&&(r=n[ws]=N5++);const i=r&rM;t.data[e+(i>>iM)]|=1<<i}(e,t,n)}function sM(e,t,n){if(n&Yt.Optional||void 0!==e)return e;Js()}function aM(e,t,n,r){if(n&Yt.Optional&&void 0===r&&(r=null),!(n&(Yt.Self|Yt.Host))){const i=e[lr],o=Ar(void 0);try{return i?i.get(t,r,n&Yt.Optional):Jc(t,r,n&Yt.Optional)}finally{Ar(o)}}return sM(r,0,n)}function cM(e,t,n,r=Yt.Default,i){if(null!==e){if(2048&t[yt]&&!(r&Yt.Self)){const s=function V5(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[yt]&&!(512&s[yt]);){const a=uM(o,s,n,r|Yt.Self,Qo);if(a!==Qo)return a;let c=o.parent;if(!c){const u=s[ID];if(u){const l=u.get(n,Qo,r);if(l!==Qo)return l}c=fM(s),s=s[uu]}o=c}return i}(e,t,n,r,Qo);if(s!==Qo)return s}const o=uM(e,t,n,r,Qo);if(o!==Qo)return o}return aM(t,n,r,i)}function uM(e,t,n,r,i){const o=function F5(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ws)?e[ws]:void 0;return"number"==typeof t?t>=0?t&rM:L5:t}(n);if("function"==typeof o){if(!qD(t,e,r))return r&Yt.Host?sM(i,0,r):aM(t,n,r,i);try{let s;if(s=o(r),null!=s||r&Yt.Optional)return s;Js()}finally{XD()}}else if("number"==typeof o){let s=null,a=oM(e,t),c=pu,u=r&Yt.Host?t[Wn][jr]:null;for((-1===a||r&Yt.SkipSelf)&&(c=-1===a?wp(e,t):t[a+8],c!==pu&&dM(r,!1)?(s=t[je],a=md(c),t=vd(c,t)):a=-1);-1!==a;){const l=t[je];if(lM(o,a,l.data)){const d=P5(a,t,n,s,r,u);if(d!==Qo)return d}c=t[a+8],c!==pu&&dM(r,t[je].data[a+8]===u)&&lM(o,a,t)?(s=l,a=md(c),t=vd(c,t)):a=-1}}return i}function P5(e,t,n,r,i,o){const s=t[je],a=s.data[e+8],l=Ep(a,s,n,null==r?Wa(a)&&E_:r!=s&&!!(3&a.type),i&Yt.Host&&o===a);return null!==l?Ka(t,s,l,a):Qo}function Ep(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,l=o>>20,h=i?a+l:e.directiveEnd;for(let g=r?a:a+l;g<h;g++){const m=s[g];if(g<c&&n===m||g>=c&&m.type===n)return g}if(i){const g=s[c];if(g&&po(g)&&g.type===n)return c}return null}function Ka(e,t,n,r){let i=e[n];const o=t.data;if(function S5(e){return e instanceof gd}(i)){const s=i;s.resolving&&function Xh(e,t){throw t&&t.join(" > "),new Ce(-200,e)}(function dn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ot(e)}(o[n]));const a=_p(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Ar(s.injectImpl):null;qD(e,r,Yt.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function M5(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=OD(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==u&&Ar(u),_p(a),s.resolving=!1,XD()}}return i}function lM(e,t,n){return!!(n[t+(e>>iM)]&1<<e)}function dM(e,t){return!(e&Yt.Self||e&Yt.Host&&t)}class yr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return cM(this._tNode,this._lView,t,ja(r),n)}}function L5(){return new yr(wn(),me())}function $r(e){return Lr(()=>{const t=e.prototype.constructor,n=t[bi]||M_(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[bi]||M_(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function M_(e){return bs(e)?()=>{const t=M_(xt(e));return t&&t()}:Ho(e)}function fM(e){const t=e[je],n=t.type;return 2===n?t.declTNode:1===n?e[jr]:null}function vM(e,t=null,n=null,r){const i=yM(e,t,n,r);return i.resolveInjectorInitializers(),i}function yM(e,t=null,n=null,r,i=new Set){const o=[n||zt,T8(e)];return r=r||("object"==typeof e?void 0:Nn(e)),new ou(o,t||cp(),r||null,i)}let Tr=(()=>{class e{static{this.THROW_IF_NOT_FOUND=tr}static{this.NULL=new za}static create(n,r){if(Array.isArray(n))return vM({name:""},r,n,"");{const i=n.name??"";return vM({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=nt({token:e,providedIn:"any",factory:()=>Re(Ds)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function S_(e){return e.ngOriginalError}class Jo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&S_(t);for(;n&&S_(n);)n=S_(n);return n||null}}const bM=new et("",{providedIn:"root",factory:()=>Et(Jo).handleError.bind(void 0)});let vu=(()=>{class e{static{this.__NG_ELEMENT_ID__=q5}static{this.__NG_ENV_ID__=n=>n}}return e})();class W5 extends vu{constructor(t){super(),this._lView=t}onDestroy(t){return pp(this._lView,t),()=>function d_(e,t){if(null===e[ta])return;const n=e[ta].indexOf(t);-1!==n&&e[ta].splice(n,1)}(this._lView,t)}}function q5(){return new W5(me())}function Y5(){return yu(wn(),me())}function yu(e,t){return new nr(ti(e,t))}let nr=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Y5}}return e})();function EM(e){return e instanceof nr?e.nativeElement:e}function I_(e){return t=>{setTimeout(e,void 0,t)}}const Pt=class K5 extends Cn{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,MD()&&(this.destroyRef=Et(vu,{optional:!0})??void 0)}emit(t){const n=M(null);try{super.next(t)}finally{M(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=I_(o),i&&(i=I_(i)),s&&(s=I_(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Qt&&t.add(a),a}};function Z5(){return this._results[Symbol.iterator]()}class _u{get changes(){return this._changes??=new Pt}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=_u.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Z5)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function Or(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Gy(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Mp(e){return!(128&~e.flags)}const A_=new Map;let Q5=0;const k_="__ngContext__";function Gr(e,t){Hr(t)?(e[k_]=t[cd],function e4(e){A_.set(e[cd],e)}(t)):e[k_]=t}function NM(e){return RM(e[sd])}function OM(e){return RM(e[fo])}function RM(e){for(;null!==e&&!Ur(e);)e=e[fo];return e}let N_;const Ip=new et("",{providedIn:"root",factory:()=>y4}),y4="ng",UM=new et(""),Is=new et("",{providedIn:"platform",factory:()=>"unknown"}),_4=new et(""),zM=new et("",{providedIn:"root",factory:()=>function na(){if(void 0!==N_)return N_;if(typeof document<"u")return document;throw new Ce(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $M=()=>null;function j_(e,t,n=!1){return $M(e,t,n)}const KM=new et("",{providedIn:"root",factory:()=>!1});class ex{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ra(e){return e instanceof ex?e.changingThisBreaksApplicationSecurity:e}function vo(e){return e.ownerDocument.defaultView}function J_(e){return e.ownerDocument}var ia=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ia||{});let e0;function t0(e,t){return e0(e,t)}function Mu(e,t,n,r,i){if(null!=r){let o,s=!1;Ur(r)?o=r:Hr(r)&&(s=!0,r=r[Un]);const a=Mn(r);0===e&&null!==n?null==i?Ex(t,n,a):Za(t,n,a,i||null,!0):1===e&&null!==n?Za(t,n,a,i||null,!0):2===e?function Ad(e,t,n){const r=Up(e,t);r&&function D6(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function S6(e,t,n,r,i){const o=n[qo];o!==Mn(n)&&Mu(t,e,r,o,i);for(let a=sr;a<n.length;a++){const c=n[a];$p(c[je],c,e,t,r,o)}}(t,e,o,n,i)}}function jp(e,t,n){return e.createElement(t,n)}function _x(e,t){t[ho].changeDetectionScheduler?.notify(1),$p(e,t,t[kt],2,null,null)}function bx(e,t){const n=e[du],r=n.indexOf(t);n.splice(r,1)}function Sd(e,t){if(e.length<=sr)return;const n=sr+t,r=e[n];if(r){const i=r[ad];null!==i&&i!==e&&bx(i,r),t>0&&(e[n-1][fo]=r[fo]);const o=Ha(e,sr+t);!function v6(e,t){_x(e,t),t[Un]=null,t[jr]=null}(r[je],r);const s=o[Ms];null!==s&&s.detachView(o[je]),r[or]=null,r[fo]=null,r[yt]&=-129}return r}function Hp(e,t){if(!(256&t[yt])){const n=t[kt];n.destroyNode&&$p(e,t,n,3,null,null),function _6(e){let t=e[sd];if(!t)return o0(e[je],e);for(;t;){let n=null;if(Hr(t))n=t[sd];else{const r=t[sr];r&&(n=r)}if(!n){for(;t&&!t[fo]&&t!==e;)Hr(t)&&o0(t[je],t),t=t[or];null===t&&(t=e),Hr(t)&&o0(t[je],t),n=t&&t[fo]}t=n}}(t)}}function o0(e,t){if(256&t[yt])return;const n=M(null);try{t[yt]&=-129,t[yt]|=256,t[Ga]&&Xe(t[Ga]),function C6(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof gd)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Yo(4,a,c);try{c.call(a)}finally{Yo(5,a,c)}}else{Yo(4,i,o);try{o.call(i)}finally{Yo(5,i,o)}}}}}(e,t),function E6(e,t){const n=e.cleanup,r=t[cu];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[cu]=null);const i=t[ta];if(null!==i){t[ta]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[je].type&&t[kt].destroy();const r=t[ad];if(null!==r&&Ur(t[or])){r!==t[or]&&bx(r,t);const i=t[Ms];null!==i&&i.detachView(e)}!function t4(e){A_.delete(e[cd])}(t)}finally{M(n)}}function s0(e,t,n){return function wx(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Un];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===p.None||o===p.Emulated)return null}return ti(r,n)}}(e,t.parent,n)}function Za(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Ex(e,t,n){e.appendChild(t,n)}function Cx(e,t,n,r,i){null!==r?Za(e,t,n,r,i):Ex(e,t,n)}function Up(e,t){return e.parentNode(t)}function Dx(e,t,n){return xx(e,t,n)}let a0,xx=function Mx(e,t,n){return 40&e.type?ti(e,n):null};function zp(e,t,n,r){const i=s0(e,r,t),o=t[kt],a=Dx(r.parent||t[jr],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Cx(o,i,n[c],a,!1);else Cx(o,i,n,a,!1);void 0!==a0&&a0(o,r,t,n,i)}function Id(e,t){if(null!==t){const n=t.type;if(3&n)return ti(t,e);if(4&n)return c0(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Id(e,r);{const i=e[t.index];return Ur(i)?c0(-1,i):Mn(i)}}if(32&n)return t0(t,e)()||Mn(e[t.index]);{const r=Ix(e,t);return null!==r?Array.isArray(r)?r[0]:Id(qa(e[Wn]),r):Id(e,t.next)}}return null}function Ix(e,t){return null!==t?e[Wn][jr].projection[t.projection]:null}function c0(e,t){const n=sr+e+1;if(n<t.length){const r=t[n],i=r[je].firstChild;if(null!==i)return Id(r,i)}return t[qo]}function u0(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&Gr(Mn(a),r),n.flags|=2),32&~n.flags)if(8&c)u0(e,t,n.child,r,i,o,!1),Mu(t,e,i,a,o);else if(32&c){const u=t0(n,r);let l;for(;l=u();)Mu(t,e,i,l,o);Mu(t,e,i,a,o)}else 16&c?Tx(e,t,r,n,i,o):Mu(t,e,i,a,o);n=s?n.projectionNext:n.next}}function $p(e,t,n,r,i,o){u0(n,r,e.firstChild,t,i,o,!1)}function Tx(e,t,n,r,i,o){const s=n[Wn],c=s[jr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Mu(t,e,i,c[u],o);else{let u=c;const l=s[or];Mp(r)&&(u.flags|=128),u0(e,t,u,l,i,o,!0)}}function kx(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Nx(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&E(e,t,r),null!==i&&kx(e,t,i),null!==o&&function A6(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}const Vt={};function Bt(e=1){Ox(Zt(),me(),zr()+e,!1)}function Ox(e,t,n,r){if(!r)if(3&~t[yt]){const o=e.preOrderHooks;null!==o&&yp(t,o,0,n)}else{const o=e.preOrderCheckHooks;null!==o&&vp(t,o,n)}Ya(n)}function Ie(e,t=Yt.Default){const n=me();return null===n?Re(e,t):cM(wn(),n,xt(e),t)}function Rx(e,t,n,r,i,o){const s=M(null);try{let a=null;i&v.SignalBased&&(a=t[r][N]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&v.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),null!==e.setInput?e.setInput(t,a,o,n,r):ND(t,a,r,o)}finally{M(s)}}function Gp(e,t,n,r,i,o,s,a,c,u,l){const d=t.blueprint.slice();return d[Un]=i,d[yt]=204|r,(null!==u||e&&2048&e[yt])&&(d[yt]|=2048),BD(d),d[or]=d[uu]=e,d[Rn]=n,d[ho]=s||e&&e[ho],d[kt]=a||e&&e[kt],d[lr]=c||e&&e[lr]||null,d[jr]=o,d[cd]=function J5(){return Q5++}(),d[Ni]=l,d[ID]=u,d[Wn]=2==t.type?e[Wn]:d,d}function xu(e,t,n,r,i){let o=e.data[t];if(null===o)o=function l0(e,t,n,r,i){const o=zD(),s=f_(),c=e.data[t]=function V6(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return hu()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,t,n,r,i),function v5(){return Nt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function hd(){const e=Nt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Zo(o,!0),o}function Td(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Px(e,t,n,r,i){const o=zr(),s=2&r;try{Ya(-1),s&&t.length>Lt&&Ox(e,t,Lt,!1),Yo(s?2:0,i),n(r,i)}finally{Ya(o),Yo(s?3:1,i)}}function d0(e,t,n){if(n_(t)){const r=M(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{M(r)}}}function f0(e,t,n){UD()&&(function G6(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;Wa(n)&&function Q6(e,t,n){const r=ti(t,e),i=Fx(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=Wp(e,Gp(e,i,null,s,r,t,null,e[ho].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||bp(n,t),Gr(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],u=Ka(t,e,a,n);Gr(u,t),null!==s&&J6(0,a-i,u,c,0,s),po(c)&&(Oi(n.index,t)[Rn]=Ka(t,e,a,n))}}(e,t,n,ti(n,t)),!(64&~n.flags)&&Hx(e,t,n))}function h0(e,t,n=ti){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function Fx(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=p0(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function p0(e,t,n,r,i,o,s,a,c,u,l){const d=Lt+r,h=d+i,g=function N6(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Vt);return n}(d,h),m="function"==typeof u?u():u;return g[je]={type:e,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}let Lx=()=>null;function Vx(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;const s=t[o];if(void 0===s)continue;r??={};let a,c=v.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=o;if(null!==i){if(!i.hasOwnProperty(o))continue;u=i[o]}0===e?Bx(r,n,u,a,c):Bx(r,n,u,a)}return r}function Bx(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],void 0!==i&&o.push(i)}function g0(e,t,n,r){if(UD()){const i=null===r?null:{"":-1},o=function q6(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(K(t,s.selectors,!1))if(r||(r=[]),po(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),m0(e,t,a.length)}else r.unshift(s),m0(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&jx(e,t,n,s,i,a),i&&function Y6(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new Ce(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=O(n.mergedAttrs,n.attrs)}function jx(e,t,n,r,i,o){for(let u=0;u<r.length;u++)D_(bp(n,t),e,r[u].type);!function Z6(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=Td(e,t,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=O(n.mergedAttrs,l.hostAttrs),X6(e,n,t,c,l),K6(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function B6(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let c=null,u=null;for(let l=t.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,m=h?h.outputs:null;c=Vx(0,d.inputs,l,c,h?h.inputs:null),u=Vx(1,d.outputs,l,u,m);const y=null===c||null===s||F(t)?null:eB(c,l,s);a.push(y)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=u}(e,n,o)}function Hx(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function _5(){return Nt.lFrame.currentDirectiveIndex}();try{Ya(o);for(let a=r;a<i;a++){const c=e.data[a],u=t[a];p_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&W6(c,u)}}finally{Ya(-1),p_(s)}}function W6(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function m0(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function K6(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;po(t)&&(n[""]=e)}}function X6(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Ho(i.type)),s=new gd(o,po(i),Ie);e.blueprint[r]=s,n[r]=s,function z6(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function $6(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Td(e,n,i.hostVars,Vt),i)}function es(e,t,n,r,i,o){const s=ti(e,t);!function v0(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?Ot(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[kt],s,o,e.value,n,r,i)}function J6(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)Rx(r,n,s[a++],s[a++],s[a++],s[a++])}function eB(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Ux(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function zx(e,t){const n=e.contentQueries;if(null!==n){const r=M(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=e.data[s];gp(n[i]),a.contentQueries(2,t[s],s)}}}finally{M(r)}}}function Wp(e,t){return e[sd]?e[SD][fo]=t:e[sd]=t,e[SD]=t,t}function y0(e,t,n){gp(0);const r=M(null);try{t(e,n)}finally{M(r)}}function $x(e){return e[cu]||(e[cu]=[])}function Gx(e){return e.cleanup||(e.cleanup=[])}function qp(e,t){const n=e[lr],r=n?n.get(Jo,null):null;r&&r.handleError(t)}function _0(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=n[o++];Rx(e.data[s],t[s],r,a,c,i)}}function tB(e,t){const n=Oi(t,e),r=n[je];!function nB(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Un];null!==i&&null===n[Ni]&&(n[Ni]=j_(i,n[lr])),b0(r,n,n[Rn])}function b0(e,t,n){v_(t);try{const r=e.viewQuery;null!==r&&y0(1,r,n);const i=e.template;null!==i&&Px(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ms]?.finishViewCreation(e),e.staticContentQueries&&zx(e,t),e.staticViewQueries&&y0(2,e.viewQuery,n);const o=e.components;null!==o&&function rB(e,t){for(let n=0;n<t.length;n++)tB(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[yt]&=-5,y_()}}function kd(e,t,n,r){const i=M(null);try{const o=t.tView,c=Gp(e,o,n,4096&e[yt]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[ad]=e[t.index];const l=e[Ms];return null!==l&&(c[Ms]=l.createEmbeddedView(o)),b0(o,c,n),c}finally{M(i)}}function qx(e,t){const n=sr+t;if(n<e.length)return e[n]}function Su(e,t){return!t||null===t.firstChild||Mp(e)}function Nd(e,t,n,r=!0){const i=t[je];if(function b6(e,t,n,r){const i=sr+r,o=n.length;r>0&&(n[i-1][fo]=t),r<o-sr?(t[fo]=n[i],rd(n,sr+r,t)):(n.push(t),t[fo]=null),t[or]=n;const s=t[ad];null!==s&&n!==s&&function w6(e,t){const n=e[du];t[Wn]!==t[or][or][Wn]&&(e[yt]|=t_.HasTransplantedViews),null===n?e[du]=[t]:n.push(t)}(s,t);const a=t[Ms];null!==a&&a.insertView(e),l_(t),t[yt]|=128}(i,t,e,n),r){const s=c0(n,e),a=t[kt],c=Up(a,e[qo]);null!==c&&function y6(e,t,n,r,i,o){r[Un]=i,r[jr]=t,$p(e,r,n,1,i,o)}(i,e[jr],a,t,c,s)}const o=t[Ni];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function w0(e,t){const n=Sd(e,t);return void 0!==n&&Hp(n[je],n),n}function Od(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(Mn(o)),Ur(o)&&Yx(o,r);const s=n.type;if(8&s)Od(e,t,n.child,r);else if(32&s){const a=t0(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Ix(t,n);if(Array.isArray(a))r.push(...a);else{const c=qa(t[Wn]);Od(c[je],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Yx(e,t){for(let n=sr;n<e.length;n++){const r=e[n],i=r[je].firstChild;null!==i&&Od(r[je],r,i,t)}e[qo]!==e[Un]&&t.push(e[qo])}let Kx=[];const aB={...pe,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{fd(e.lView)},consumerOnSignalRead(){this.lView[Ga]=this}},Zx=100;function Yp(e,t=!0,n=0){const r=e[ho],i=r.rendererFactory;i.begin?.();try{!function cB(e,t){E0(e,t);let n=0;for(;u_(e);){if(n===Zx)throw new Ce(103,!1);n++,E0(e,1)}}(e,n)}catch(s){throw t&&qp(e,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function uB(e,t,n,r){const i=t[yt];if(!(256&~i))return;t[ho].inlineEffectRunner?.flush(),v_(t);let s=null,a=null;(function lB(e){return 2!==e.type})(e)&&(a=function iB(e){return e[Ga]??function oB(e){const t=Kx.pop()??Object.create(aB);return t.lView=e,t}(e)}(t),s=be(a));try{BD(t),function GD(e){return Nt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Px(e,t,n,2,r);const c=!(3&~i);if(c){const d=e.preOrderCheckHooks;null!==d&&vp(t,d,null)}else{const d=e.preOrderHooks;null!==d&&yp(t,d,0,null),__(t,0)}if(function dB(e){for(let t=NM(e);null!==t;t=OM(t)){if(!(t[yt]&t_.HasTransplantedViews))continue;const n=t[du];for(let r=0;r<n.length;r++){a5(n[r])}}}(t),Xx(t,0),null!==e.contentQueries&&zx(e,t),c){const d=e.contentCheckHooks;null!==d&&vp(t,d)}else{const d=e.contentHooks;null!==d&&yp(t,d,1),__(t,1)}!function k6(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ya(~i);else{const o=i,s=n[++r],a=n[++r];y5(s,o),a(2,t[o])}}}finally{Ya(-1)}}(e,t);const u=e.components;null!==u&&Jx(t,u,0);const l=e.viewQuery;if(null!==l&&y0(2,l,r),c){const d=e.viewCheckHooks;null!==d&&vp(t,d)}else{const d=e.viewHooks;null!==d&&yp(t,d,2),__(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[dp]){for(const d of t[dp])d();t[dp]=null}t[yt]&=-73}catch(c){throw fd(t),c}finally{null!==a&&(Pe(a,s),function sB(e){e.lView[Ga]!==e&&(e.lView=null,Kx.push(e))}(a)),y_()}}function Xx(e,t){for(let n=NM(e);null!==n;n=OM(n))for(let r=sr;r<n.length;r++)Qx(n[r],t)}function fB(e,t,n){Qx(Oi(t,e),n)}function Qx(e,t){c_(e)&&E0(e,t)}function E0(e,t){const r=e[je],i=e[yt],o=e[Ga];let s=!!(0===t&&16&i);if(s||=!!(64&i&&0===t),s||=!!(1024&i),s||=!(!o?.dirty||!Ze(o)),o&&(o.dirty=!1),e[yt]&=-9217,s)uB(r,e,r.template,e[Rn]);else if(8192&i){Xx(e,1);const a=r.components;null!==a&&Jx(e,a,1)}}function Jx(e,t,n){for(let r=0;r<t.length;r++)fB(e,t[r],n)}function Rd(e){for(e[ho].changeDetectionScheduler?.notify();e;){e[yt]|=64;const t=qa(e);if(r_(e)&&!t)return e;e=t}return null}class Pd{get rootNodes(){const t=this._lView,n=t[je];return Od(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(t){this._lView[Rn]=t}get destroyed(){return!(256&~this._lView[yt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[or];if(Ur(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Sd(t,r),Ha(n,r))}this._attachedToViewContainer=!1}Hp(this._lView[je],this._lView)}onDestroy(t){pp(this._lView,t)}markForCheck(){Rd(this._cdRefInjectingView||this._lView)}detach(){this._lView[yt]&=-129}reattach(){l_(this._lView),this._lView[yt]|=128}detectChanges(){this._lView[yt]|=1024,Yp(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,_x(this._lView[je],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=t,l_(this._lView)}}let _o=(()=>{class e{static{this.__NG_ELEMENT_ID__=gB}}return e})();const hB=_o,pB=class extends hB{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=kd(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Pd(i)}};function gB(){return Kp(wn(),me())}function Kp(e,t){return 4&e.type?new pB(t,e,yu(e,t)):null}let oS=()=>null;function Iu(e,t){return oS(e,t)}class I0{}class BB{}class sS{}class HB{resolveComponentFactory(t){throw function jB(e){const t=Error(`No component factory found for ${Nn(e)}.`);return t.ngComponent=e,t}(t)}}let Au=(()=>{class e{static{this.NULL=new HB}}return e})();class eg{}let ks=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function UB(){const e=me(),n=Oi(wn().index,e);return(Hr(n)?n:e)[kt]}()}}return e})(),zB=(()=>{class e{static{this.\u0275prov=nt({token:e,providedIn:"root",factory:()=>null})}}return e})();const A0={},cS=new Set;function ts(e){cS.has(e)||(cS.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function uS(...e){}class fn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pt(!1),this.onMicrotaskEmpty=new Pt(!1),this.onStable=new Pt(!1),this.onError=new Pt(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function $B(){const e="function"==typeof sn.requestAnimationFrame;let t=sn[e?"requestAnimationFrame":"setTimeout"],n=sn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function qB(e){const t=()=>{!function WB(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(sn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,k0(e),e.isCheckStableRunning=!0,T0(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),k0(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function YB(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return lS(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),dS(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return lS(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),dS(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,k0(e),T0(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fn.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(fn.isInAngularZone())throw new Ce(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,GB,uS,uS);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const GB={};function T0(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function k0(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function lS(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function dS(e){e._nesting--,T0(e)}class fS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pt,this.onMicrotaskEmpty=new Pt,this.onStable=new Pt,this.onError=new Pt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let jd=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=nt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function ng(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Qs(i,a):2==o&&(r=Qs(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}class yS extends Au{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ye(t);return new zd(n,this.ngModule)}}function _S(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class rg{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ja(r);const i=this.injector.get(t,A0,r);return i!==A0||n===A0?i:this.parentInjector.get(t,n,r)}}class zd extends sS{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=_S(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return _S(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Ve(e){return e.map(qe).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){const o=M(null);try{let s=(i=i||this.ngModule)instanceof Wo?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new rg(t,s):t,c=a.get(eg,null);if(null===c)throw new Ce(407,!1);const u=a.get(zB,null),h={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:a.get(jd,null),changeDetectionScheduler:a.get(I0,null)},g=c.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=r?function O6(e,t,n,r){const o=r.get(KM,!1)||n===p.ShadowDom,s=e.selectRootElement(t,o);return function R6(e){Lx(e)}(s),s}(g,r,this.componentDef.encapsulation,a):jp(g,m,function e7(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(m));let _=512;this.componentDef.signals?_|=4096:this.componentDef.onPush||(_|=16);let w=null;null!==y&&(w=j_(y,a,!0));const C=p0(0,null,null,1,0,null,null,null,null,null,null),D=Gp(null,C,null,_,null,null,h,g,a,null,w);let S,P;v_(D);try{const G=this.componentDef;let $,fe=null;G.findHostDirectiveDefs?($=[],fe=new Map,G.findHostDirectiveDefs(G,$,fe),$.push(G)):$=[G];const ne=function n7(e,t){const n=e[je],r=Lt;return e[r]=t,xu(n,r,2,"#host",null)}(D,y),de=function r7(e,t,n,r,i,o,s){const a=i[je];!function i7(e,t,n,r){for(const i of e)t.mergedAttrs=O(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(ng(t,t.mergedAttrs,!0),null!==n&&Nx(r,n,t))}(r,e,t,s);let c=null;null!==t&&(c=j_(t,i[lr]));const u=o.rendererFactory.createRenderer(t,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Gp(i,Fx(n),null,l,i[e.index],e,o,u,null,null,c);return a.firstCreatePass&&m0(a,e,r.length-1),Wp(i,d),i[e.index]=d}(ne,y,G,$,D,h,g);P=dd(C,Lt),y&&function s7(e,t,n,r){if(r)E(e,n,["ng-version","17.3.12"]);else{const{attrs:i,classes:o}=function Ue(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Y(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&E(e,n,i),o&&o.length>0&&kx(e,n,o.join(" "))}}(g,G,y,r),void 0!==n&&function a7(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(P,this.ngContentSelectors,n),S=function o7(e,t,n,r,i,o){const s=wn(),a=i[je],c=ti(s,i);jx(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Gr(Ka(i,a,s.directiveStart+l,s),i);Hx(a,i,s),c&&Gr(c,i);const u=Ka(i,a,s.directiveStart+s.componentOffset,s);if(e[Rn]=i[Rn]=u,null!==o)for(const l of o)l(u,t);return d0(a,s,i),u}(de,G,$,fe,D,[c7]),b0(C,D,null)}finally{y_()}return new t7(this.componentType,S,yu(P,D),D,P)}finally{M(o)}}}class t7 extends BB{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Pd(i,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;_0(o[je],o,i,t,n),this.previousInputValues.set(t,n),Rd(Oi(this._tNode.index,o))}}get injector(){return new yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function c7(){const e=wn();mp(me()[je],e)}let ns=(()=>{class e{static{this.__NG_ELEMENT_ID__=u7}}return e})();function u7(){return ES(wn(),me())}const l7=ns,bS=class extends l7{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new yr(this._hostTNode,this._hostLView)}get parentInjector(){const t=wp(this._hostTNode,this._hostLView);if(w_(t)){const n=vd(t,this._hostLView),r=md(t);return new yr(n[je].data[r+8],n)}return new yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=wS(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-sr}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=Iu(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Su(this._hostTNode,s)),a}createComponent(t,n,r,i,o){const s=t&&!function od(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const c=s?t:new zd(Ye(t)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const y=(s?u:this.parentInjector).get(Wo,null);y&&(o=y)}const l=Ye(c.componentType??{}),d=Iu(this._lContainer,l?.id??null),g=c.create(u,i,d?.firstChild??null,o);return this.insertImpl(g.hostView,a,Su(this._hostTNode,d)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function s5(e){return Ur(e[or])}(i)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=i[or],u=new bS(c,c[jr],c[or]);u.detach(u.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;return Nd(s,i,o,r),t.attachToViewContainerRef(),rd(P0(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=wS(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Sd(this._lContainer,n);r&&(Ha(P0(this._lContainer),n),Hp(r[je],r))}detach(t){const n=this._adjustIndex(t,-1),r=Sd(this._lContainer,n);return r&&null!=Ha(P0(this._lContainer),n)?new Pd(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function wS(e){return e[8]}function P0(e){return e[8]||(e[8]=[])}function ES(e,t){let n;const r=t[e.index];return Ur(r)?n=r:(n=Ux(r,t,null,e),t[e.index]=n,Wp(t,n)),CS(n,t,e,r),new bS(n,e,t)}let CS=function MS(e,t,n,r){if(e[qo])return;let i;i=8&n.type?Mn(r):function d7(e,t){const n=e[kt],r=n.createComment(""),i=ti(t,e);return Za(n,Up(n,i),r,function M6(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[qo]=i},F0=()=>!1;class L0{constructor(t){this.queryList=t,this.matches=null}clone(){return new L0(this.queryList)}setDirty(){this.queryList.setDirty()}}class V0{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new V0(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==z0(t,n).matches&&this.queries[n].setDirty()}}class xS{constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function _7(e){return e.split(",").map(t=>t.trim())}(t):t}}class B0{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new B0(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class j0{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new j0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,g7(n,o)),this.matchTNodeWithReadOption(t,n,Ep(n,t,o,!1,!1))}else r===_o?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ep(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===nr||i===ns||i===_o&&4&n.type)this.addMatch(n.index,-2);else{const o=Ep(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function g7(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function v7(e,t,n,r){return-1===n?function m7(e,t){return 11&e.type?yu(e,t):4&e.type?Kp(e,t):null}(t,e):-2===n?function y7(e,t,n){return n===nr?yu(t,e):n===_o?Kp(t,e):n===ns?ES(t,e):void 0}(e,t,r):Ka(e,e[je],n,t)}function SS(e,t,n,r){const i=t[Ms].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const u=s[c];a.push(u<0?null:v7(t,o[u],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function H0(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=SS(e,t,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],l=t[-c];for(let d=sr;d<l.length;d++){const h=l[d];h[ad]===h[or]&&H0(h[je],h,u,r)}if(null!==l[du]){const d=l[du];for(let h=0;h<d.length;h++){const g=d[h];H0(g[je],g,u,r)}}}}}return r}function IS(e,t,n){const r=new _u(!(4&~n));return function L6(e,t,n,r){const i=$x(t);i.push(n),e.firstCreatePass&&Gx(e).push(r,i.length-1)}(e,t,r,r.destroy),(t[Ms]??=new V0).queries.push(new L0(r))-1}function kS(e,t,n){null===e.queries&&(e.queries=new B0),e.queries.track(new j0(t,n))}function z0(e,t){return e.queries.getByIndex(t)}function NS(e,t){const n=e[je],r=z0(n,t);return r.crossesNgTemplate?H0(n,e,t,[]):SS(n,e,r,t)}function ig(e){return"function"==typeof e&&void 0!==e[N]}function _n(e){let t=function GS(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(po(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ce(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=sg(e.inputs),s.inputTransforms=sg(e.inputTransforms),s.declaredInputs=sg(e.declaredInputs),s.outputs=sg(e.outputs);const a=i.hostBindings;a&&P7(e,a);const c=i.viewQuery,u=i.contentQueries;if(c&&O7(e,c),u&&R7(e,u),k7(e,i),Uh(e.outputs,i.outputs),po(i)&&i.data.animation){const l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===_n&&(n=!1)}}t=Object.getPrototypeOf(t)}!function N7(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=O(i.hostAttrs,n=O(n,i.hostAttrs))}}(r)}function k7(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function sg(e){return e===ki?{}:e===zt?[]:e}function O7(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function R7(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function P7(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}class Ja{}class U7{}class G0 extends Ja{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yS(this);const i=function pn(e,t){const n=e[La]||null;if(!n&&!0===t)throw new Error(`Type ${Nn(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function Ri(e){return e instanceof Function?e():e}(i.bootstrap),this._r3Injector=yM(t,n,[{provide:Ja,useValue:this},{provide:Au,useValue:this.componentFactoryResolver},...r],Nn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class W0 extends U7{constructor(t){super(),this.moduleType=t}create(t){return new G0(this.moduleType,t,[])}}let Gd=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vy(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cg(e){return!!function q0(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function rs(e,t,n){return e[t]=n}function ar(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function qn(e,t,n,r,i,o,s,a){const c=me(),u=Zt(),l=e+Lt,d=u.firstCreatePass?function Z7(e,t,n,r,i,o,s,a,c){const u=t.consts,l=xu(t,e,4,s||null,Ko(u,a));g0(t,n,l,Ko(u,c)),mp(t,l);const d=l.tView=p0(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}(l,u,c,t,n,r,i,o,s):u.data[l];Zo(d,!1);const h=XS(u,c,d,e);pd()&&zp(u,c,h,d),Gr(h,c);const g=Ux(h,c,h,d);return c[l]=g,Wp(c,g),function DS(e,t,n){return F0(e,t,n)}(g,d,c),hp(d)&&f0(u,c,d),null!=s&&h0(c,d,a),qn}let XS=function QS(e,t,n,r){return Xo(!0),t[kt].createComment("")};function qi(e,t,n,r){const i=me();return ar(i,mo(),t)&&(Zt(),es(Pn(),i,e,t,n,r)),qi}function gg(e,t){return e<<17|t<<2}function aa(e){return e>>17&32767}function rb(e){return 2|e}function nc(e){return(131068&e)>>2}function ib(e,t){return-131069&e|t<<2}function ob(e){return 1|e}function AI(e,t,n,r){const i=e[n+1],o=null===t;let s=r?aa(i):nc(i),a=!1;for(;0!==s&&(!1===a||o);){const u=e[s+1];F9(e[s],t)&&(a=!0,e[s+1]=r?ob(u):rb(u)),s=r?aa(u):nc(u)}a&&(e[n+1]=r?rb(i):ob(i))}function F9(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&mr(e,t)>=0}const _r={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function TI(e){return e.substring(_r.key,_r.keyEnd)}function kI(e,t){const n=_r.textEnd;return n===t?-1:(t=_r.keyEnd=function j9(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,_r.key=t,n),Wu(e,t,n))}function Wu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Rt(e,t,n){const r=me();return ar(r,mo(),t)&&function Ei(e,t,n,r,i,o,s,a){const c=ti(t,n);let l,u=t.inputs;!a&&null!=u&&(l=u[r])?(_0(e,n,l,r,i),Wa(t)&&function H6(e,t){const n=Oi(t,e);16&n[yt]||(n[yt]|=64)}(n,t.index)):3&t.type&&(r=function j6(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}(Zt(),Pn(),r,e,t,r[kt],n,!1),Rt}function sb(e,t,n,r,i){const s=i?"class":"style";_0(e,n,t.inputs[s],s,r)}function ab(e,t,n){return bo(e,t,n,!1),ab}function rc(e,t){return bo(e,t,null,!0),rc}function FI(e){!function wo(e,t,n,r){const i=Zt(),o=Ss(2);i.firstUpdatePass&&VI(i,null,o,r);const s=me();if(n!==Vt&&ar(s,o,n)){const a=i.data[zr()];if(UI(a,r)&&!LI(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=Qs(c,n||"")),sb(i,a,s,n,r)}else!function Z9(e,t,n,r,i,o,s,a){i===Vt&&(i=zt);let c=0,u=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,g=u<o.length?o[u+1]:void 0;let y,m=null;l===d?(c+=2,u+=2,h!==g&&(m=d,y=g)):null===d||null!==l&&l<d?(c+=2,m=l):(u+=2,m=d,y=g),null!==m&&jI(e,t,n,r,m,y,s,a),l=c<i.length?i[c]:null,d=u<o.length?o[u]:null}}(i,a,s,s[kt],s[o+1],s[o+1]=function Y9(e,t,n){if(null==n||""===n)return zt;const r=[],i=ra(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(K9,os,e,!0)}function os(e,t){for(let n=function V9(e){return function OI(e){_r.key=0,_r.keyEnd=0,_r.value=0,_r.valueEnd=0,_r.textEnd=e.length}(e),kI(e,Wu(e,0,_r.textEnd))}(t);n>=0;n=kI(t,n))nn(e,TI(t),!0)}function bo(e,t,n,r){const i=me(),o=Zt(),s=Ss(2);o.firstUpdatePass&&VI(o,e,s,r),t!==Vt&&ar(i,s,t)&&jI(o,o.data[zr()],i,i[kt],e,i[s+1]=function X9(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Nn(ra(e)))),e}(t,n),r,s)}function LI(e,t){return t>=e.expandoStartIndex}function VI(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[zr()],s=LI(e,n);UI(o,r)&&null===t&&!s&&(t=!1),t=function $9(e,t,n,r){const i=function g_(e){const t=Nt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Xd(n=cb(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=cb(i,e,t,n,r),null===o){let c=function G9(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==nc(r))return e[aa(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=cb(null,e,t,c[1],r),c=Xd(c,t.attrs,r),function W9(e,t,n,r){e[aa(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else o=function q9(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Xd(r,e[o].hostAttrs,n);return Xd(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function R9(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=aa(s),c=nc(s);e[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||mr(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=aa(e[a+1]);e[r+1]=gg(h,a),0!==h&&(e[h+1]=ib(e[h+1],r)),e[a+1]=function N9(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=gg(a,0),0!==a&&(e[a+1]=ib(e[a+1],r)),a=r;else e[r+1]=gg(c,0),0===a?a=r:e[c+1]=ib(e[c+1],r),c=r;u&&(e[r+1]=rb(e[r+1])),AI(e,l,r,!0),AI(e,l,r,!1),function P9(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&mr(o,t)>=0&&(n[r+1]=ob(n[r+1]))}(t,l,e,r,o),s=gg(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function cb(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Xd(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Xd(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),nn(e,s,!!n||t[++o]))}return void 0===e?null:e}function K9(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&nn(e,r,n)}function jI(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,u=c[a+1],l=function O9(e){return!(1&~e)}(u)?HI(c,t,n,i,nc(u),s):void 0;mg(l)||(mg(o)||function k9(e){return!(2&~e)}(u)&&(o=HI(c,null,n,i,a,s)),function I6(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ia.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ia.Important),e.setStyle(n,r,i,o))}}(r,s,function ld(e,t){return Mn(t[e])}(zr(),n),i,o))}function HI(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const c=e[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===Vt&&(h=d?zt:void 0);let g=d?ea(h,r):l===r?h:void 0;if(u&&!mg(g)&&(g=ea(c,r)),mg(g)&&(a=g,s))return a;const m=e[i+1];i=s?aa(m):nc(m)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=ea(c,r))}return a}function mg(e){return void 0!==e}function UI(e,t){return!!(e.flags&(t?8:16))}class cj{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){const s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}}function ub(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function lb(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function zI(e,t,n,r,i){if(lb(e,t,r,n(r,i)))e.updateValue(r,i);else{const o=e.create(r,i);e.attach(r,o)}}function $I(e,t,n,r){const i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}class GI{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}}function db(e,t,n){ts("NgControlFlow");const r=me(),i=mo(),o=fb(r,Lt+e);if(ar(r,i,t)){const a=M(null);try{if(w0(o,0),-1!==t){const c=hb(r[je],Lt+t),u=Iu(o,c.tView.ssrId);Nd(o,kd(r,c,n,{dehydratedView:u}),0,Su(c,u))}}finally{M(a)}}else{const a=qx(o,0);void 0!==a&&(a[Rn]=n)}}class lj{constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-sr}}function WI(e){return e}class fj{constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}class hj extends cj{constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-sr}at(t){return this.getLView(t)[Rn].$implicit}attach(t,n){const r=n[Ni];this.needsIndexUpdate||=t!==this.length,Nd(this.lContainer,n,t,Su(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function pj(e,t){return Sd(e,t)}(this.lContainer,t)}create(t,n){const r=Iu(this.lContainer,this.templateTNode.tView.ssrId);return kd(this.hostLView,this.templateTNode,new lj(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Hp(t[je],t)}updateValue(t,n){this.getLView(t)[Rn].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Rn].$index=t}getLView(t){return function gj(e,t){return qx(e,t)}(this.lContainer,t)}}function fb(e,t){return e[t]}function hb(e,t){return dd(e,t)}function Te(e,t,n,r){const i=me(),o=Zt(),s=Lt+e,a=i[kt],c=o.firstCreatePass?function mj(e,t,n,r,i,o){const s=t.consts,c=xu(t,e,2,r,Ko(s,i));return g0(t,n,c,Ko(s,o)),null!==c.attrs&&ng(c,c.attrs,!1),null!==c.mergedAttrs&&ng(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,t,n,r):o.data[s],u=KI(o,i,c,a,t,e);i[s]=u;const l=hp(c);return Zo(c,!0),Nx(a,u,c),!function qd(e){return!(32&~e.flags)}(c)&&pd()&&zp(o,i,u,c),0===function c5(){return Nt.lFrame.elementDepthCount}()&&Gr(u,i),function u5(){Nt.lFrame.elementDepthCount++}(),l&&(f0(o,i,c),d0(o,c,i)),null!==r&&h0(i,c),Te}function $e(){let e=wn();f_()?h_():(e=e.parent,Zo(e,!1));const t=e;(function d5(e){return Nt.skipHydrationRootTNode===e})(t)&&function g5(){Nt.skipHydrationRootTNode=null}(),function l5(){Nt.lFrame.elementDepthCount--}();const n=Zt();return n.firstCreatePass&&(mp(n,e),n_(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function A5(e){return!!(8&e.flags)}(t)&&sb(n,t,me(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function T5(e){return!!(16&e.flags)}(t)&&sb(n,t,me(),t.stylesWithoutHost,!1),$e}function un(e,t,n,r){return Te(e,t,n,r),$e(),un}let KI=(e,t,n,r,i,o)=>(Xo(!0),jp(r,i,function JD(){return Nt.lFrame.currentNamespace}()));function Ci(){return me()}const Yu="en-US";let nA=Yu;function Dt(e,t,n,r){const i=me(),o=Zt(),s=wn();return function yb(e,t,n,r,i,o,s){const a=hp(r),u=e.firstCreatePass&&Gx(e),l=t[Rn],d=$x(t);let h=!0;if(3&r.type||s){const y=ti(r,t),_=s?s(y):y,w=d.length,C=s?S=>s(Mn(S[r.index])):r.index;let D=null;if(!s&&a&&(D=function bH(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[cu],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=o,D.__ngLastListenerFn__=o,h=!1;else{o=TA(r,t,l,o,!1);const S=n.listen(_,i,o);d.push(o,S),u&&u.push(i,C,w,w+1)}}else o=TA(r,t,l,o,!1);const g=r.outputs;let m;if(h&&null!==g&&(m=g[i])){const y=m.length;if(y)for(let _=0;_<y;_+=2){const P=t[m[_]][m[_+1]].subscribe(o),G=d.length;d.push(o,P),u&&u.push(i,r.index,G,-(G+1))}}}(o,i,i[kt],s,e,t,r),Dt}function AA(e,t,n,r){const i=M(null);try{return Yo(6,t,n),!1!==n(r)}catch(o){return qp(e,o),!1}finally{Yo(7,t,n),M(i)}}function TA(e,t,n,r,i){return function o(s){if(s===Function)return r;Rd(e.componentOffset>-1?Oi(e.index,t):t);let c=AA(t,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=AA(t,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function Ft(e=1){return function w5(e){return(Nt.lFrame.contextLView=function jD(e,t){for(;e>0;)t=t[uu],e--;return t}(e,Nt.lFrame.contextLView))[Rn]}(e)}function wH(e,t){let n=null;const r=function ie(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?K(e,o,!0):_e(r,o))return i}else n=i}return n}function UA(e,t,n,r){!function TS(e,t,n,r){const i=Zt();if(i.firstCreatePass){const o=wn();kS(i,new xS(t,n,r),o.index),function b7(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),!(2&~n)&&(i.staticContentQueries=!0)}return IS(i,me(),n)}(e,t,n,r)}function ii(e,t,n){!function AS(e,t,n){const r=Zt();return r.firstCreatePass&&(kS(r,new xS(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),IS(r,me(),t)}(e,t,n)}function Wr(e){const t=me(),n=Zt(),r=m_();gp(r+1);const i=z0(n,r);if(e.dirty&&function o5(e){return!(4&~e[yt])}(t)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{const o=NS(t,r);e.reset(o,EM),e.notifyOnChanges()}return!0}return!1}function qr(){return function U0(e,t){return e[Ms].queries[t].queryList}(me(),m_())}function _t(e,t=""){const n=me(),r=Zt(),i=e+Lt,o=r.firstCreatePass?xu(r,i,1,t,null):r.data[i],s=QA(r,n,o,t,e);n[i]=s,pd()&&zp(r,n,s,o),Zo(o,!1)}let QA=(e,t,n,r,i)=>(Xo(!0),function n0(e,t){return e.createText(t)}(t[kt],r));function wb(e,t,n,r,i){if(e=xt(e),Array.isArray(e))for(let o=0;o<e.length;o++)wb(e[o],t,n,r,i);else{const o=Zt(),s=me(),a=wn();let c=$a(e)?e:xt(e.provide);const u=CD(e),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if($a(e)||!e.multi){const g=new gd(u,i,Ie),m=Cb(c,t,i?l:l+h,d);-1===m?(D_(bp(a,s),o,c),Eb(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[m]=g,s[m]=g)}else{const g=Cb(c,t,l+h,d),m=Cb(c,t,l,l+h),_=m>=0&&n[m];if(i&&!_||!i&&!(g>=0&&n[g])){D_(bp(a,s),o,c);const w=function UH(e,t,n,r,i){const o=new gd(e,n,Ie);return o.multi=[],o.index=t,o.componentProviders=0,lT(o,i,r&&!n),o}(i?HH:jH,n.length,i,r,u);!i&&_&&(n[m].providerFactory=w),Eb(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),s.push(w)}else Eb(o,e,g>-1?g:m,lT(n[i?m:g],u,!i&&r));!i&&r&&_&&n[m].componentProviders++}}}function Eb(e,t,n,r){const i=$a(t),o=function N8(e){return!!e.useClass}(t);if(i||o){const c=(o?xt(t.useClass):t).prototype.ngOnDestroy;if(c){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function lT(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Cb(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function jH(e,t,n,r){return Db(this.multi,[])}function HH(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ka(n,n[je],this.providerFactory.index,r);o=a.slice(0,s),Db(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Db(i,o);return o}function Db(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function zn(e,t=[]){return n=>{n.providersResolver=(r,i)=>function BH(e,t,n){const r=Zt();if(r.firstCreatePass){const i=po(e);wb(n,r.data,r.blueprint,i,!0),wb(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}function Eg(e,t,n,r){return function hT(e,t,n,r,i,o){const s=t+n;return ar(e,s,i)?rs(e,s+1,o?r.call(o,i):r(i)):sf(e,s+1)}(me(),ni(),e,t,n,r)}function fT(e,t,n,r,i){return function pT(e,t,n,r,i,o,s){const a=t+n;return function ec(e,t,n,r){const i=ar(e,t,n);return ar(e,t+1,r)||i}(e,a,i,o)?rs(e,a+2,s?r.call(s,i,o):r(i,o)):sf(e,a+2)}(me(),ni(),e,t,n,r,i)}function sf(e,t){const n=e[t];return n===Vt?void 0:n}function cf(e,t){return Kp(e,t)}const LT=new et(""),xg=new et("");let Nb,Tb=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Nb||(function tz(e){Nb=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(Re(fn),Re(kb),Re(xg))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac})}}return e})(),kb=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Nb?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Sg(e){return!!e&&"function"==typeof e.then}function VT(e){return!!e&&"function"==typeof e.subscribe}const nz=new et("");let Ob=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Et(nz,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(Sg(o))n.push(o);else if(VT(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const BT=new et("");function UT(e,t){return Array.isArray(t)?t.reduce(UT,e):{...e,...t}}let Ns=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Et(bM),this.afterRenderEffectManager=Et(jd),this.externalTestViews=new Set,this.beforeRender=new Cn,this.afterTick=new Cn,this.componentTypes=[],this.components=[],this.isStable=Et(Gd).hasPendingTasks.pipe(Ai(n=>!n)),this._injector=Et(Wo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof sS;if(!this._injector.get(Ob).done)throw!i&&function Gi(e){const t=Ye(e)||en(e)||cn(e);return null!==t&&t.standalone}(n),new Ce(405,!1);let s;s=i?n:this._injector.get(Au).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function rz(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Ja),u=s.create(Tr.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(LT,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Ig(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new Ce(101,!1);const r=M(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,M(r)}}detectChangesInAttachedViews(n){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===Zx)throw new Ce(103,!1);if(n){const o=0===r;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)oz(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Rb(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Rb(o))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ig(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(BT,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ig(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ce(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ig(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function oz(e,t,n){!t&&!Rb(e)||function sz(e,t,n){let r;n?(r=0,e[yt]|=1024):r=64&e[yt]?0:1,Yp(e,t,r)}(e,n,t)}function Rb(e){return u_(e)}let lz=(()=>{class e{constructor(){this.zone=Et(fn),this.applicationRef=Et(Ns)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function dz(){const e=Et(fn),t=Et(Jo);return n=>e.runOutsideAngular(()=>t.handleError(n))}let hz=(()=>{class e{constructor(){this.subscription=new Qt,this.initialized=!1,this.zone=Et(fn),this.pendingTasks=Et(Gd)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{fn.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{fn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Os=new et("",{providedIn:"root",factory:()=>Et(Os,Yt.Optional|Yt.SkipSelf)||function pz(){return typeof $localize<"u"&&$localize.locale||Yu}()}),Pb=new et("");let WT=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function KB(e="zone.js",t){return"noop"===e?new fS:"zone.js"===e?new fn(t):e}(r?.ngZone,function GT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function $7(e,t,n){return new G0(e,t,n)}(n.moduleType,this.injector,function $T(e){return[{provide:fn,useFactory:e},{provide:$o,multi:!0,useFactory:()=>{const t=Et(lz,{optional:!0});return()=>t.initialize()}},{provide:$o,multi:!0,useFactory:()=>{const t=Et(hz);return()=>{t.initialize()}}},{provide:bM,useFactory:dz}]}(()=>i)),s=o.injector.get(Jo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Ig(this._modules,o),a.unsubscribe()})}),function HT(e,t,n){try{const r=n();return Sg(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Ob);return a.runInitializers(),a.donePromise.then(()=>(function rA(e){"string"==typeof e&&(nA=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Os,Yu)||Yu),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=UT({},r);return function uz(e,t,n){const r=new W0(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ns);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Ce(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Pb,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(Re(Tr))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),ca=null;const qT=new et("");function YT(e,t,n=[]){const r=`Platform: ${t}`,i=new et(r);return(o=[])=>{let s=Fb();if(!s||s.injector.get(qT,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function vz(e){if(ca&&!ca.get(qT,!1))throw new Ce(400,!1);(function jT(){!function jc(e){Bc=e}(()=>{throw new Ce(600,!1)})})(),ca=e;const t=e.get(WT);(function ZT(e){e.get(UM,null)?.forEach(n=>n())})(e)}(function KT(e=[],t){return Tr.create({name:t,providers:[{provide:Ky,useValue:"platform"},{provide:Pb,useValue:new Set([()=>ca=null])},...e]})}(a,r))}return function yz(e){const t=Fb();if(!t)throw new Ce(401,!1);return t}()}}function Fb(){return ca?.get(WT)??null}let Lb=(()=>{class e{static{this.__NG_ELEMENT_ID__=bz}}return e})();function bz(e){return function wz(e,t,n){if(Wa(e)&&!n){const r=Oi(e.index,t);return new Pd(r,r)}return 47&e.type?new Pd(t[Wn],t):null}(wn(),me(),!(16&~e))}class tk{constructor(){}supports(t){return cg(t)}create(t){return new xz(t)}}const Mz=(e,t)=>t;class xz{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Mz}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<rk(r,i,o)?n:r,a=rk(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const g=h<o.length?o[h]:o[h]=0,m=g+h;l<=m&&m<u&&(o[h]=g+1)}o[s.previousIndex]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!cg(t))throw new Ce(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function Y7(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new Sz(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new nk),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nk),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Sz{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Iz{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class nk{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new Iz,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rk(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function ok(){return new Ub([new tk])}let Ub=(()=>{class e{static{this.\u0275prov=nt({token:e,providedIn:"root",factory:ok})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ok()),deps:[[e,new nd,new td]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Ce(901,!1)}}return e})();const Oz=YT(null,"core",[]);let Rz=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(Re(Ns))}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({})}}return e})();const l$=new et("",{providedIn:"root",factory:()=>Et(d$)});let d$=(()=>{class e{static{this.\u0275prov=nt({token:e,providedIn:"root",factory:()=>new f$})}}return e})();class f${constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=Et(Gd),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(t){const n=t.creationZone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,n]of this.queues)null===t?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(const n of t)t.delete(n),this.queuedEffectCount--,n.run()}}class h${constructor(t,n,r,i,o,s){this.scheduler=t,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=function mn(e,t,n){const r=Object.create(Ui);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=c=>{r.cleanupFn=c};return r.ref={notify:()=>he(r),run:()=>{if(null===r.fn)return;if(function j(){return L}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Ze(r))return;r.hasRun=!0;const c=be(r);try{r.cleanupFn(),r.cleanupFn=Mr,r.fn(i)}finally{Pe(r,c)}},cleanup:()=>r.cleanupFn(),destroy:()=>function s(c){(function o(c){return null===c.fn&&null===c.schedule})(c)||(Xe(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=Mr)}(r),[N]:r},r.ref}(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(n){this.injector.get(Jo,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Ak(e,t){ts("NgSignals"),!t?.injector&&function up(e){if(!MD())throw new Ce(-203,!1)}();const n=t?.injector??Et(Tr),r=!0!==t?.manualCleanup?n.get(vu):null,i=new h$(n.get(l$),e,typeof Zone>"u"?null:Zone.current,r,n,t?.allowSignalWrites??!1),o=n.get(Lb,null,{optional:!0});return o&&8&o._lView[yt]?(o._lView[dp]??=[]).push(i.watcher.notify):i.watcher.notify(),i}let Tk=null;function ua(){return Tk}class g${}const Yn=new et("");let kk=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:()=>Et(m$),providedIn:"platform"})}}return e})(),m$=(()=>{class e extends kk{constructor(){super(),this._doc=Et(Yn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ua().getBaseHref(this._doc)}onPopState(n){const r=ua().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ua().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Nk(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Ok(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function sc(e){return e&&"?"!==e[0]?"?"+e:e}let Wb=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:()=>Et(y$),providedIn:"root"})}}return e})();const v$=new et("");let y$=(()=>{class e extends Wb{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Et(Yn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Nk(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+sc(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+sc(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+sc(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(Re(kk),Re(v$,8))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Rk=(()=>{class e{constructor(n){this._subject=new Pt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function w$(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Ok(Pk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+sc(r))}normalize(n){return e.stripTrailingSlash(function b$(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,Pk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+sc(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+sc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=sc}static{this.joinWithSlash=Nk}static{this.stripTrailingSlash=Ok}static{this.\u0275fac=function(r){return new(r||e)(Re(Wb))}}static{this.\u0275prov=nt({token:e,factory:()=>function _$(){return new Rk(Re(Wb))}(),providedIn:"root"})}}return e})();function Pk(e){return e.replace(/\/index.html$/,"")}const nw=/\s+/,$k=[];let rw=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=$k,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(nw):$k}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(nw):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(nw).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(Ie(nr),Ie(ks))}}static{this.\u0275dir=Ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:[v.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class aG{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wk=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new aG(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),qk(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{qk(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(Ie(ns),Ie(_o),Ie(Ub))}}static{this.\u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function qk(e,t){e.context.$implicit=t.item}let iw=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new cG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Yk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Yk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(Ie(ns),Ie(_o))}}static{this.\u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class cG{constructor(){this.$implicit=null,this.ngIf=null}}function Yk(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Nn(t)}'.`)}let Zk=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||e)(Ie(ns))}}static{this.\u0275dir=Ge({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[go]})}}return e})(),uw=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({})}}return e})();const Qk="browser";function lw(e){return e===Qk}function Jk(e){return"server"===e}class pW extends g${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fw extends pW{static makeCurrent(){!function p$(e){Tk??=e}(new fw)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function gW(){return mf=mf||document.querySelector("base"),mf?mf.getAttribute("href"):null}();return null==n?null:function mW(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){mf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function oG(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let mf=null,yW=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac})}}return e})();const hw=new et("");let cN=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Ce(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(Re(hw),Re(fn))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac})}}return e})();class uN{constructor(t){this._doc=t}}const pw="ng-app-id";let lN=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Jk(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${pw}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(pw),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(pw,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(Re(Yn),Re(Ip),Re(zM,8),Re(Is))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac})}}return e})();const gw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mw=/%COMP%/g,EW=new et("",{providedIn:"root",factory:()=>!0});function fN(e,t){return t.map(n=>n.replace(mw,e))}let hN=(()=>{class e{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Jk(a),this.defaultRenderer=new vw(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===p.ShadowDom&&(r={...r,encapsulation:p.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof gN?i.applyToHost(n):i instanceof yw&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case p.Emulated:o=new gN(c,u,r,this.appId,l,s,a,d);break;case p.ShadowDom:return new xW(c,u,n,r,s,a,this.nonce,d);default:o=new yw(c,u,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(Re(cN),Re(lN),Re(Ip),Re(EW),Re(Yn),Re(Is),Re(fn),Re(zM))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac})}}return e})();class vw{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(gw[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(pN(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(pN(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Ce(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=gw[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=gw[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(ia.DashCase|ia.Important)?t.style.setProperty(n,r,i&ia.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&ia.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=ua().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function pN(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class xW extends vw{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=fN(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yw extends vw{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?fN(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gN extends yw{constructor(t,n,r,i,o,s,a,c){const u=i+"-"+r.id;super(t,n,r,o,s,a,c,u),this.contentAttr=function CW(e){return"_ngcontent-%COMP%".replace(mw,e)}(u),this.hostAttr=function DW(e){return"_nghost-%COMP%".replace(mw,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let SW=(()=>{class e extends uN{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(Re(Yn))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac})}}return e})();const mN=["alt","control","meta","shift"],IW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AW={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let TW=(()=>{class e extends uN{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ua().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),mN.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=IW[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mN.forEach(s=>{s!==i&&(0,AW[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(Re(Yn))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac})}}return e})();const yN=[{provide:Is,useValue:Qk},{provide:UM,useValue:function kW(){fw.makeCurrent()},multi:!0},{provide:Yn,useFactory:function OW(){return function v4(e){N_=e}(document),document},deps:[]}],RW=YT(Oz,"browser",yN),PW=new et(""),_N=[{provide:xg,useClass:class vW{addToWindow(t){sn.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Ce(5103,!1);return o},sn.getAllAngularTestabilities=()=>t.getAllTestabilities(),sn.getAllAngularRootElements=()=>t.getAllRootElements(),sn.frameworkStabilizers||(sn.frameworkStabilizers=[]),sn.frameworkStabilizers.push(r=>{const i=sn.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?ua().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:LT,useClass:Tb,deps:[fn,kb,xg]},{provide:Tb,useClass:Tb,deps:[fn,kb,xg]}],bN=[{provide:Ky,useValue:"root"},{provide:Jo,useFactory:function NW(){return new Jo},deps:[]},{provide:hw,useClass:SW,multi:!0,deps:[Yn,fn,Is]},{provide:hw,useClass:TW,multi:!0,deps:[Yn]},hN,lN,cN,{provide:eg,useExisting:hN},{provide:class jG{},useClass:yW,deps:[]},[]];let FW=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ip,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(Re(PW,12))}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({providers:[...bN,..._N],imports:[uw,Rz]})}}return e})();const DN=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()},Qg=function HW(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),MN=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function xN(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const SN=e=>{if(e&&"function"==typeof e[vi])return(e=>t=>{const n=e[vi]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)})(e);if(MN(e))return DN(e);if(xN(e))return(e=>t=>(e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ii),t))(e);if(e&&"function"==typeof e[Qg])return(e=>t=>{const n=e[Qg]();for(;;){let r;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t})(e);{const n=`You provided ${ys(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function _w(e,t){return new Hn(n=>{const r=new Qt;let i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function bw(e,t){return t?function KW(e,t){if(null!=e){if(function qW(e){return e&&"function"==typeof e[vi]}(e))return function $W(e,t){return new Hn(n=>{const r=new Qt;return r.add(t.schedule(()=>{const i=e[vi]();r.add(i.subscribe({next(o){r.add(t.schedule(()=>n.next(o)))},error(o){r.add(t.schedule(()=>n.error(o)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if(xN(e))return function GW(e,t){return new Hn(n=>{const r=new Qt;return r.add(t.schedule(()=>e.then(i=>{r.add(t.schedule(()=>{n.next(i),r.add(t.schedule(()=>n.complete()))}))},i=>{r.add(t.schedule(()=>n.error(i)))}))),r})}(e,t);if(MN(e))return _w(e,t);if(function YW(e){return e&&"function"==typeof e[Qg]}(e)||"string"==typeof e)return function WW(e,t){if(!e)throw new Error("Iterable cannot be null");return new Hn(n=>{const r=new Qt;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[Qg](),r.add(t.schedule(function(){if(n.closed)return;let o,s;try{const a=i.next();o=a.value,s=a.done}catch(a){return void n.error(a)}s?n.complete():(n.next(o),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof Hn?e:new Hn(SN(e))}function Jg(e,t){return new Hn(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=bw(e[a]);let u=!1;n.add(c.subscribe({next:l=>{u||(u=!0,s++),i[a]=l},error:l=>n.error(l),complete:()=>{o++,(o===r||!u)&&(s===r&&n.next(t?t.reduce((l,d,h)=>(l[d]=i[h],l),{}):i),n.complete())}}))}})}let IN=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(Ie(ks),Ie(nr))}}static{this.\u0275dir=Ge({type:e})}}return e})(),ac=(()=>{class e extends IN{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=$r(e)))(i||e)}})()}static{this.\u0275dir=Ge({type:e,features:[_n]})}}return e})();const ss=new et(""),XW={provide:ss,useExisting:an(()=>ww),multi:!0};let ww=(()=>{class e extends ac{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=$r(e)))(i||e)}})()}static{this.\u0275dir=Ge({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&Dt("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[zn([XW]),_n]})}}return e})();const QW={provide:ss,useExisting:an(()=>em),multi:!0},eq=new et("");let em=(()=>{class e extends IN{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function JW(){const e=ua()?ua().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(Ie(ks),Ie(nr),Ie(eq,8))}}static{this.\u0275dir=Ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Dt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[zn([QW]),_n]})}}return e})();function la(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function AN(e){return null!=e&&"number"==typeof e.length}const Yr=new et(""),da=new et(""),tq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fs{static min(t){return function TN(e){return t=>{if(la(t.value)||la(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function kN(e){return t=>{if(la(t.value)||la(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function NN(e){return la(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function ON(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function RN(e){return la(e.value)||tq.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function PN(e){return t=>la(t.value)||!AN(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function FN(e){return t=>AN(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function LN(e){if(!e)return tm;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(la(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return zN(t)}static composeAsync(t){return $N(t)}}function tm(e){return null}function VN(e){return null!=e}function BN(e){return Sg(e)?bw(e):e}function jN(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function HN(e,t){return t.map(n=>n(e))}function UN(e){return e.map(t=>function nq(e){return!e.validate}(t)?t:n=>t.validate(n))}function zN(e){if(!e)return null;const t=e.filter(VN);return 0==t.length?null:function(n){return jN(HN(n,t))}}function Ew(e){return null!=e?zN(UN(e)):null}function $N(e){if(!e)return null;const t=e.filter(VN);return 0==t.length?null:function(n){return function ZW(...e){if(1===e.length){const t=e[0];if(qs(t))return Jg(t,null);if(ys(t)&&Object.getPrototypeOf(t)===Object.prototype){const n=Object.keys(t);return Jg(n.map(r=>t[r]),n)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Jg(e=1===e.length&&qs(e[0])?e[0]:e,null).pipe(Ai(n=>t(...n)))}return Jg(e,null)}(HN(n,t).map(BN)).pipe(Ai(jN))}}function Cw(e){return null!=e?$N(UN(e)):null}function GN(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function WN(e){return e._rawValidators}function qN(e){return e._rawAsyncValidators}function Dw(e){return e?Array.isArray(e)?e:[e]:[]}function nm(e,t){return Array.isArray(e)?e.includes(t):e===t}function YN(e,t){const n=Dw(t);return Dw(e).forEach(i=>{nm(n,i)||n.push(i)}),n}function KN(e,t){return Dw(t).filter(n=>!nm(e,n))}class ZN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ew(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Cw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class ai extends ZN{get formDirective(){return null}get path(){return null}}class fa extends ZN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XN{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let QN=(()=>{class e extends XN{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(Ie(fa,2))}}static{this.\u0275dir=Ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&rc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[_n]})}}return e})(),JN=(()=>{class e extends XN{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(Ie(ai,10))}}static{this.\u0275dir=Ge({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&rc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[_n]})}}return e})();const yf="VALID",im="INVALID",Ju="PENDING",_f="DISABLED";function Sw(e){return(om(e)?e.validators:e)||null}function Iw(e,t){return(om(t)?t.asyncValidators:e)||null}function om(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function t2(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new Ce(1e3,"");if(!r[n])throw new Ce(1001,"")}function n2(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new Ce(1002,"")})}class sm{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===yf}get invalid(){return this.status===im}get pending(){return this.status==Ju}get disabled(){return this.status===_f}get enabled(){return this.status!==_f}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(YN(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(YN(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(KN(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(KN(t,this._rawAsyncValidators))}hasValidator(t){return nm(this._rawValidators,t)}hasAsyncValidator(t){return nm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ju,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=_f,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=yf,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yf||this.status===Ju)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_f:yf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ju,this._hasOwnPendingAsyncValidator=!0;const n=BN(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Pt,this.statusChanges=new Pt}_calculateStatus(){return this._allControlsDisabled()?_f:this.errors?im:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ju)?Ju:this._anyControlsHaveStatus(im)?im:yf}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){om(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function sq(e){return Array.isArray(e)?Ew(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function aq(e){return Array.isArray(e)?Cw(e):e||null}(this._rawAsyncValidators)}}class bf extends sm{constructor(t,n,r){super(Sw(n),Iw(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){n2(this,0,t),Object.keys(t).forEach(r=>{t2(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class r2 extends bf{}const el=new et("CallSetDisabledState",{providedIn:"root",factory:()=>am}),am="always";function cm(e,t){return[...t.path,e]}function wf(e,t,n=am){Aw(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function uq(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&o2(e,t)})}(e,t),function dq(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function lq(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&o2(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function cq(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function um(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),dm(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function lm(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Aw(e,t){const n=WN(e);null!==t.validator?e.setValidators(GN(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=qN(e);null!==t.asyncValidator?e.setAsyncValidators(GN(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();lm(t._rawValidators,i),lm(t._rawAsyncValidators,i)}function dm(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=WN(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=qN(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return lm(t._rawValidators,r),lm(t._rawAsyncValidators,r),n}function o2(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function c2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function u2(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const Cf=class extends sm{constructor(t=null,n,r){super(Sw(n),Iw(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),om(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=u2(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){c2(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){c2(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){u2(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let l2=(()=>{class e extends ai{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return cm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=$r(e)))(i||e)}})()}static{this.\u0275dir=Ge({type:e,features:[_n]})}}return e})();Promise.resolve();let p2=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Ge({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();const Rw=new et(""),Mq={provide:ai,useExisting:an(()=>fm)};let fm=(()=>{class e extends ai{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return wf(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){um(n.control||null,n,!1),function gq(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function a2(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(um(r||null,n),(e=>e instanceof Cf)(i)&&(wf(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function s2(e,t){Aw(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function fq(e,t){return dm(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Aw(this.form,this),this._oldForm&&dm(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||e)(Ie(Yr,10),Ie(da,10),Ie(el,8))}}static{this.\u0275dir=Ge({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Dt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[v.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zn([Mq]),_n,go]})}}return e})();const xq={provide:ai,useExisting:an(()=>hm)};let hm=(()=>{class e extends l2{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){_2(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(Ie(ai,13),Ie(Yr,10),Ie(da,10))}}static{this.\u0275dir=Ge({type:e,selectors:[["","formGroupName",""]],inputs:{name:[v.None,"formGroupName","name"]},features:[zn([xq]),_n]})}}return e})();const Sq={provide:ai,useExisting:an(()=>pm)};let pm=(()=>{class e extends ai{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return cm(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){_2(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(Ie(ai,13),Ie(Yr,10),Ie(da,10))}}static{this.\u0275dir=Ge({type:e,selectors:[["","formArrayName",""]],inputs:{name:[v.None,"formArrayName","name"]},features:[zn([Sq]),_n]})}}return e})();function _2(e){return!(e instanceof hm||e instanceof fm||e instanceof pm)}const Iq={provide:fa,useExisting:an(()=>Pw)};let Pw=(()=>{class e extends fa{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Pt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Nw(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===em?n=o:function pq(e){return Object.getPrototypeOf(e.constructor)===ac}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function kw(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return cm(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(Ie(ai,13),Ie(Yr,10),Ie(da,10),Ie(ss,10),Ie(Rw,8))}}static{this.\u0275dir=Ge({type:e,selectors:[["","formControlName",""]],inputs:{name:[v.None,"formControlName","name"],isDisabled:[v.None,"disabled","isDisabled"],model:[v.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[zn([Iq]),_n,go]})}}return e})();const Aq={provide:ss,useExisting:an(()=>gm),multi:!0};function b2(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let gm=(()=>{class e extends ac{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=b2(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Tq(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=$r(e)))(i||e)}})()}static{this.\u0275dir=Ge({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Dt("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[zn([Aq]),_n]})}}return e})(),w2=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(b2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(Ie(nr),Ie(ks),Ie(gm,9))}}static{this.\u0275dir=Ge({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const kq={provide:ss,useExisting:an(()=>Fw),multi:!0};function E2(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Fw=(()=>{class e extends ac{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function Nq(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=$r(e)))(i||e)}})()}static{this.\u0275dir=Ge({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Dt("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[zn([kq]),_n]})}}return e})(),C2=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(E2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(E2(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(Ie(nr),Ie(ks),Ie(Fw,9))}}static{this.\u0275dir=Ge({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),Hq=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({})}}return e})();class O2 extends sm{constructor(t,n,r){super(Sw(n),Iw(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){n2(this,0,t),t.forEach((r,i)=>{t2(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function R2(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let Uq=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return R2(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new bf(i,o)}record(n,r=null){const i=this._reduceControls(n);return new r2(i,r)}control(n,r,i){let o={};return this.useNonNullable?(R2(r)?o=r:(o.validators=r,o.asyncValidators=i),new Cf(n,{...o,nonNullable:!0})):new Cf(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new O2(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Cf||n instanceof sm?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),zq=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Rw,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:el,useValue:n.callSetDisabledState??am}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({imports:[Hq]})}}return e})();class $q{constructor(t,n){this.open=t,this.close=n||t}isManual(){return"manual"===this.open||"manual"===this.close}}const Gq={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const wr=typeof window<"u"&&window||{},Er=wr.document;var F2=function(e){return e.isBs4="bs4",e.isBs5="bs5",e}(F2||{});let Ls;function L2(){const e=wr.document.createElement("span");e.innerText="testing bs version",e.classList.add("d-none"),e.classList.add("pl-1"),wr.document.head.appendChild(e);const t=wr.getComputedStyle(e).paddingLeft;return t&&parseFloat(t)?(wr.document.head.removeChild(e),"bs4"):(wr.document.head.removeChild(e),"bs5")}function Df(){return{isBs4:(Ls||(Ls=L2()),"bs4"===Ls),isBs5:(Ls||(Ls=L2()),"bs5"===Ls)}}class Qq{static reflow(t){}static getStyles(t){let n=t.ownerDocument.defaultView;return(!n||!n.opener)&&(n=wr),n.getComputedStyle(t)}static stackOverflowConfig(){const t=function Xq(){const e=Df(),t=Object.keys(e).find(n=>e[n]);return F2[t]}();return{crossorigin:"anonymous",integrity:"bs5"===t?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===t?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;const eY=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})(),tY=new Hn(e=>e.complete());function B2(e){return e?function nY(e){return new Hn(t=>e.schedule(()=>t.complete()))}(e):tY}function mm(e){return t=>0===e?B2():t.lift(new rY(e))}class rY{constructor(t){if(this.total=t,this.total<0)throw new eY}call(t,n){return n.subscribe(new iY(t,this.total))}}class iY extends Bn{constructor(t,n){super(t),this.total=n,this.count=0}_next(t){const n=this.total,r=++this.count;r<=n&&(this.destination.next(t),r===n&&(this.destination.complete(),this.unsubscribe()))}}let Vw,oY=(()=>{class e{constructor(){this._focusTrapStack=[]}register(n){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==n);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(n),n._enable()}deregister(n){n._disable();const r=this._focusTrapStack,i=r.indexOf(n);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();try{Vw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Vw=!1}let j2=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?lw(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Vw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(Re(Is))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),H2=(()=>{class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function aY(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const r=function sY(e){try{return e.frameElement}catch{return null}}(function gY(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(n));if(r&&(-1===z2(r)||!this.isVisible(r)))return!1;let i=n.nodeName.toLowerCase(),o=z2(n);return n.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function hY(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(n))&&("audio"===i?!!n.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,r){return function pY(e){return!function uY(e){return function dY(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function cY(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function lY(e){return function fY(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||U2(e))}(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}static{this.\u0275fac=function(r){return new(r||e)(Re(j2))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function U2(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function z2(e){if(!U2(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function $2(e){return null!=e&&"false"!=`${e}`}class mY{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,n,r,i,o=!1){this._element=t,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),n&&(n.removeEventListener("focus",this.endAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<n.length;r++)n[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,n[r]):n[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,n[r]);return"start"==t?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return n?.focus(),!!n}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children||t.childNodes;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children||t.childNodes;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(mm(1)).subscribe(t)}}let vY=(()=>{class e{constructor(n,r,i){this._checker=n,this._ngZone=r,this._document=i}create(n,r=!1){return new mY(n,this._checker,this._ngZone,this._document,r)}static{this.\u0275fac=function(r){return new(r||e)(Re(H2),Re(fn),Re(Yn))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),yY=(()=>{class e{get enabled(){return this.focusTrap.enabled}set enabled(n){this.focusTrap.enabled=$2(n)}get autoCapture(){return this._autoCapture}set autoCapture(n){this._autoCapture=$2(n)}constructor(n,r,i){this._elementRef=n,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(n){const r=n.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(r){return new(r||e)(Ie(nr),Ie(vY),Ie(Yn))}}static{this.\u0275dir=Ge({type:e,selectors:[["","focusTrap",""]],inputs:{enabled:[v.None,"cdkTrapFocus","enabled"],autoCapture:[v.None,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[go]})}}return e})(),G2=(()=>{class e{static forRoot(){return{ngModule:e,providers:[oY,j2,H2]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({imports:[uw]})}}return e})();function vm(e){return e&&"function"==typeof e.schedule}class Bw extends Bn{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class jw extends Bn{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Hw(e,t){if(t.closed)return;if(e instanceof Hn)return e.subscribe(t);let n;try{n=SN(e)(t)}catch(r){t.error(r)}return n}function W2(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(W2((i,o)=>bw(e(i,o)).pipe(Ai((s,a)=>t(i,s,o,a))),n)):("number"==typeof t&&(n=t),r=>r.lift(new _Y(e,n)))}class _Y{constructor(t,n=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=n}call(t,n){return n.subscribe(new bY(t,this.project,this.concurrent))}}class bY extends jw{constructor(t,n,r=Number.POSITIVE_INFINITY){super(t),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let n;const r=this.index++;try{n=this.project(t,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(t){const n=new Bw(this),r=this.destination;r.add(n);const i=Hw(t,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function wY(e=Number.POSITIVE_INFINITY){return W2(ft,e)}function q2(e,t){return t?_w(e,t):new Hn(DN(e))}function Y2(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return vm(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof Hn?e[0]:wY(t)(q2(e,n))}function ym(e,t,n,r){return Qn(n)&&(r=n,n=void 0),r?ym(e,t,n).pipe(Ai(i=>qs(i)?r(...i):r(i))):new Hn(i=>{K2(e,t,function o(s){i.next(arguments.length>1?Array.prototype.slice.call(arguments):s)},i,n)})}function K2(e,t,n,r,i){let o;if(function DY(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const s=e;e.addEventListener(t,n,i),o=()=>s.removeEventListener(t,n,i)}else if(function CY(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const s=e;e.on(t,n),o=()=>s.off(t,n)}else if(function EY(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const s=e;e.addListener(t,n),o=()=>s.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)K2(e[s],t,n,r,i)}r.add(o)}function Uw(...e){let t=e[e.length-1];return vm(t)?(e.pop(),_w(e,t)):q2(e)}class MY extends Qt{constructor(t,n){super()}schedule(t,n=0){return this}}class _m extends MY{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){if(this.closed)return this;this.state=t;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return n;clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=!!o&&o||new Error(o)}if(r)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,n=this.scheduler,r=n.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null}}let Z2=(()=>{class e{constructor(n,r=e.now){this.SchedulerAction=n,this.now=r}schedule(n,r=0,i){return new this.SchedulerAction(this,n).schedule(i,r)}}return e.now=()=>Date.now(),e})();class Do extends Z2{constructor(t,n=Z2.now){super(t,()=>Do.delegate&&Do.delegate!==this?Do.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,n=0,r){return Do.delegate&&Do.delegate!==this?Do.delegate.schedule(t,n,r):super.schedule(t,n,r)}flush(t){const{actions:n}=this;if(this.active)return void n.push(t);let r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this.active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const X2=new class SY extends Do{flush(t){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let r,i=-1,o=n.length;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while(++i<o&&(t=n.shift()));if(this.active=!1,r){for(;++i<o&&(t=n.shift());)t.unsubscribe();throw r}}}(class xY extends _m{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,n,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)}});var Q2=function(e){return e.top="top",e.bottom="bottom",e.left="left",e.right="right",e.auto="auto",e.end="right",e.start="left",e["top left"]="top left",e["top right"]="top right",e["right top"]="right top",e["right bottom"]="right bottom",e["bottom right"]="bottom right",e["bottom left"]="bottom left",e["left bottom"]="left bottom",e["left top"]="left top",e["top start"]="top left",e["top end"]="top right",e["end top"]="right top",e["end bottom"]="right bottom",e["bottom end"]="bottom right",e["bottom start"]="bottom left",e["start bottom"]="start bottom",e["start top"]="left top",e}(Q2||{}),zw=function(e){return e.top="top",e.bottom="bottom",e.left="start",e.right="end",e.auto="auto",e.end="end",e.start="start",e["top left"]="top start",e["top right"]="top end",e["right top"]="end top",e["right bottom"]="end bottom",e["bottom right"]="bottom end",e["bottom left"]="bottom start",e["left bottom"]="start bottom",e["left top"]="start top",e["top start"]="top start",e["top end"]="top end",e["end top"]="end top",e["end bottom"]="end bottom",e["bottom end"]="bottom end",e["bottom start"]="bottom start",e["start bottom"]="start bottom",e["start top"]="start top",e}(zw||{});function uc(e,t){if(1!==e.nodeType)return[];const r=e.ownerDocument.defaultView?.getComputedStyle(e,null);return t?r&&r[t]:r}function $w(e){if(!e)return document.documentElement;let r,n=e?.offsetParent;for(;null===n&&e.nextElementSibling&&r!==e.nextElementSibling;)r=e.nextElementSibling,n=r.offsetParent;const i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?n&&-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===uc(n,"position")?$w(n):n:r?r.ownerDocument.documentElement:document.documentElement}function Gw(e){return null!==e.parentNode?Gw(e.parentNode):e}function bm(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;const n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);const s=o.commonAncestorContainer;if(e!==s&&t!==s||r.contains(i))return function IY(e){const{nodeName:t}=e;return"BODY"!==t&&("HTML"===t||$w(e.firstElementChild)===e)}(s)?s:$w(s);const a=Gw(e);return a.host?bm(a.host,t):bm(e,Gw(t).host)}function J2(e){if(!e||!e.parentElement)return document.documentElement;let t=e.parentElement;for(;t?.parentElement&&"none"===uc(t,"transform");)t=t.parentElement;return t||document.documentElement}function eO(e,t){const n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e[`border${n}Width`])+parseFloat(e[`border${r}Width`])}function tO(e,t,n,r){return Math.max(t[`offset${e}`],t[`scroll${e}`],n[`client${e}`],n[`offset${e}`],n[`scroll${e}`],0)}function nO(e){const t=e.body,n=e.documentElement;return{height:tO("Height",t,n),width:tO("Width",t,n)}}function Mf(e){return{...e,right:(e.left||0)+e.width,bottom:(e.top||0)+e.height}}function $n(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function rO(e){const t=e.getBoundingClientRect();if(!(t&&$n(t.top)&&$n(t.left)&&$n(t.bottom)&&$n(t.right)))return t;const n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?nO(e.ownerDocument):void 0,i=r?.width||e.clientWidth||$n(t.right)&&$n(n.left)&&t.right-n.left||0,o=r?.height||e.clientHeight||$n(t.bottom)&&$n(n.top)&&t.bottom-n.top||0;let s=e.offsetWidth-i,a=e.offsetHeight-o;if(s||a){const c=uc(e);s-=eO(c,"x"),a-=eO(c,"y"),n.width-=s,n.height-=a}return Mf(n)}function Ww(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function qw(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}const{overflow:t,overflowX:n,overflowY:r}=uc(e);return/(auto|scroll|overlay)/.test(String(t)+String(r)+String(n))?e:qw(Ww(e))}function Yw(e,t,n=!1){const r="HTML"===t.nodeName,i=rO(e),o=rO(t),a=(qw(e),uc(t)),c=parseFloat(a.borderTopWidth),u=parseFloat(a.borderLeftWidth);n&&r&&(o.top=Math.max(o.top??0,0),o.left=Math.max(o.left??0,0));const l=Mf({top:(i.top??0)-(o.top??0)-c,left:(i.left??0)-(o.left??0)-u,width:i.width,height:i.height});if(l.marginTop=0,l.marginLeft=0,r){const d=parseFloat(a.marginTop),h=parseFloat(a.marginLeft);$n(l.top)&&(l.top-=c-d),$n(l.bottom)&&(l.bottom-=c-d),$n(l.left)&&(l.left-=u-h),$n(l.right)&&(l.right-=u-h),l.marginTop=d,l.marginLeft=h}return l}function iO(e,t="top"){const n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;return"BODY"===r||"HTML"===r?(e.ownerDocument.scrollingElement||e.ownerDocument.documentElement)[n]:e[n]}function oO(e){const t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===uc(e,"position")||oO(Ww(e)))}function Kw(e,t,n=0,r,i=!1){let o={top:0,left:0};const s=i?J2(e):bm(e,t);if("viewport"===r)o=function TY(e,t=!1){const n=e.ownerDocument.documentElement,r=Yw(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:iO(n),a=t?0:iO(n,"left");return Mf({top:s-Number(r?.top)+Number(r?.marginTop),left:a-Number(r?.left)+Number(r?.marginLeft),width:i,height:o})}(s,i);else{let a;"scrollParent"===r?(a=qw(Ww(t)),"BODY"===a.nodeName&&(a=e.ownerDocument.documentElement)):a="window"===r?e.ownerDocument.documentElement:r;const c=Yw(a,s,i);if(c&&"HTML"===a.nodeName&&!oO(s)){const{height:u,width:l}=nO(e.ownerDocument);$n(o.top)&&$n(c.top)&&$n(c.marginTop)&&(o.top+=c.top-c.marginTop),$n(o.top)&&(o.bottom=Number(u)+Number(c.top)),$n(o.left)&&$n(c.left)&&$n(c.marginLeft)&&(o.left+=c.left-c.marginLeft),$n(o.top)&&(o.right=Number(l)+Number(c.left))}else c&&(o=c)}return $n(o.left)&&(o.left+=n),$n(o.top)&&(o.top+=n),$n(o.right)&&(o.right-=n),$n(o.bottom)&&(o.bottom-=n),o}function kY({width:e,height:t}){return e*t}function sO(e,t,n,r,i=["top","bottom","right","left"],o="viewport",s=0){if(-1===e.indexOf("auto"))return e;const a=Kw(n,r,s,o),c={top:{width:a?.width??0,height:(t?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(t?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(t?.bottom??0)},left:{width:(t.left??0)-(a?.left??0),height:a?.height??0}},u=Object.keys(c).map(g=>({position:g,...c[g],area:kY(c[g])})).sort((g,m)=>m.area-g.area);let l=u.filter(({width:g,height:m})=>g>=n.clientWidth&&m>=n.clientHeight);l=l.filter(({position:g})=>i.some(m=>m===g));const d=l.length>0?l[0].position:u[0].position,h=e.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Df().isBs5?zw[d]:d}`),d+(h?`-${h}`:"")}const wm=(e,t=0)=>e?parseFloat(e):t;function aO(e){const n=e.ownerDocument.defaultView?.getComputedStyle(e),r=wm(n?.marginTop)+wm(n?.marginBottom),i=wm(n?.marginLeft)+wm(n?.marginRight);return{width:Number(e.offsetWidth)+i,height:Number(e.offsetHeight)+r}}function cO(e,t,n){return Yw(t,n?J2(e):bm(e,t),n)}function Zw(e,t,n){const r=n.split(" ")[0],i=aO(e),o={width:i.width,height:i.height},s=-1!==["right","left"].indexOf(r),a=s?"top":"left",c=s?"left":"top",u=s?"height":"width",l=s?"width":"height";return o[a]=(t[a]??0)+t[u]/2-i[u]/2,o[c]=r===c?(t[c]??0)-i[l]:t[function OY(e){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,n=>t[n])}(c)]??0,o}function uO(e,t){return!!e.modifiers[t]?.enabled}const PY={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Em(e,t){return!!Df().isBs5&&PY[t].includes(e)}function lO(e,t,n){!e||!t||Object.keys(t).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function AY(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(Number(e))}(t[r])&&(i="px"),n?n.setStyle(e,r,`${String(t[r])}${i}`):e.style[r]=String(t[r])+i})}function VY(e){let t=e.offsets.target;const n=e.instance.target.querySelector(".arrow");if(!n)return e;const r=-1!==["left","right"].indexOf(e.placement.split(" ")[0]),i=r?"height":"width",o=r?"Top":"Left",s=o.toLowerCase(),a=r?"left":"top",c=r?"bottom":"right",u=aO(n)[i],l=e.placement.split(" ")[1];(e.offsets.host[c]??0)-u<(t[s]??0)&&(t[s]-=(t[s]??0)-((e.offsets.host[c]??0)-u)),Number(e.offsets.host[s])+Number(u)>(t[c]??0)&&(t[s]+=Number(e.offsets.host[s])+Number(u)-Number(t[c])),t=Mf(t);const d=uc(e.instance.target),h=parseFloat(d[`margin${o}`])||0,g=parseFloat(d[`border${o}Width`])||0;let m;if(l){const _=parseFloat(d.borderRadius)||0,w=Number(h+g+_);m=s===l?Number(e.offsets.host[s])+w:Number(e.offsets.host[s])+Number(e.offsets.host[i]-w)}else m=Number(e.offsets.host[s])+Number(e.offsets.host[i]/2-u/2);let y=m-(t[s]??0)-h-g;return y=Math.max(Math.min(t[i]-(u+5),y),0),e.offsets.arrow={[s]:Math.round(y),[a]:""},e.instance.arrow=n,e}function BY(e){if(e.offsets.target=Mf(e.offsets.target),!uO(e.options,"flip"))return e.offsets.target={...e.offsets.target,...Zw(e.instance.target,e.offsets.host,e.placement)},e;const t=Kw(e.instance.target,e.instance.host,0,"viewport",!1);let n=e.placement.split(" ")[0],r=e.placement.split(" ")[1]||"";const a=sO("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),c=[n,a];return c.forEach((u,l)=>{if(n!==u||c.length===l+1)return;n=e.placement.split(" ")[0];const d="left"===n&&Math.floor(e.offsets.target.right??0)>Math.floor(e.offsets.host.left??0)||"right"===n&&Math.floor(e.offsets.target.left??0)<Math.floor(e.offsets.host.right??0)||"top"===n&&Math.floor(e.offsets.target.bottom??0)>Math.floor(e.offsets.host.top??0)||"bottom"===n&&Math.floor(e.offsets.target.top??0)<Math.floor(e.offsets.host.bottom??0),h=Math.floor(e.offsets.target.left??0)<Math.floor(t.left??0),g=Math.floor(e.offsets.target.right??0)>Math.floor(t.right??0),m=Math.floor(e.offsets.target.top??0)<Math.floor(t.top??0),y=Math.floor(e.offsets.target.bottom??0)>Math.floor(t.bottom??0),_="left"===n&&h||"right"===n&&g||"top"===n&&m||"bottom"===n&&y,w=-1!==["top","bottom"].indexOf(n),C=w&&"left"===r&&h||w&&"right"===r&&g||!w&&"left"===r&&m||!w&&"right"===r&&y;(d||_||C)&&((d||_)&&(n=c[l+1]),C&&(r=function RY(e){return"right"===e?"left":"left"===e?"right":e}(r)),e.placement=n+(r?` ${r}`:""),e.offsets.target={...e.offsets.target,...Zw(e.instance.target,e.offsets.host,e.placement)})}),e}function HY(e){if(!uO(e.options,"preventOverflow"))return e;const t="transform",n=e.instance.target.style,{top:r,left:i,[t]:o}=n;n.top="",n.left="",n[t]="";const s=Kw(e.instance.target,e.instance.host,0,e.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);n.top=r,n.left=i,n[t]=o;const c={primary(u){let l=e.offsets.target[u];return(e.offsets.target[u]??0)<(s[u]??0)&&(l=Math.max(e.offsets.target[u]??0,s[u]??0)),{[u]:l}},secondary(u){const l="right"===u,d=l?"left":"top";let g=e.offsets.target[d];return(e.offsets.target[u]??0)>(s[u]??0)&&(g=Math.min(e.offsets.target[d]??0,(s[u]??0)-e.offsets.target[l?"width":"height"])),{[d]:g}}};return["left","right","top","bottom"].forEach(u=>{const l=-1!==["left","top","start"].indexOf(u)?c.primary:c.secondary;e.offsets.target={...e.offsets.target,...l(u)}}),e}function UY(e){const t=e.placement,n=t.split(" ")[0],r=t.split(" ")[1];if(r){const{host:i,target:o}=e.offsets,s=-1!==["bottom","top"].indexOf(n),a=s?"left":"top",c=s?"width":"height",u={start:{[a]:i[a]},end:{[a]:(i[a]??0)+i[c]-o[c]}};e.offsets.target={...o,[a]:a===r?u.start[a]:u.end[a]}}return e}const $Y=new class zY{position(t,n){return this.offset(t,n)}offset(t,n){return cO(n,t)}positionElements(t,n,r,i,o){const s=[BY,UY,HY,VY],c=function jY(e,t,n,r){if(!e||!t)return;const i=cO(e,t);!n.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!n.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(n="auto");const o=!!n.match(/auto/g);let s=n.match(/auto\s(left|right|top|bottom|start|end)/)?n.split(" ")[1]||"auto":n;const a=s.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(s=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(s)&&(s="auto"),s=sO(s,i,e,t,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:e,host:t,arrow:void 0},offsets:{target:Zw(e,i,s),host:i,arrow:void 0},positionFixed:!1,placement:s,placementAuto:o}}(n,t,Q2[r],o);if(c)return s.reduce((u,l)=>l(u),c)}};function GY(e,t,n,r,i,o){const s=$Y.positionElements(e,t,n,r,i);if(!s)return;const a=function NY(e){return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(e.offsets.target.left??0),top:Math.round(e.offsets.target.top??0),bottom:Math.round(e.offsets.target.bottom??0),right:Math.floor(e.offsets.target.right??0)}}(s);lO(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},o),s.instance.arrow&&lO(s.instance.arrow,s.offsets.arrow,o),function LY(e,t){const n=e.instance.target;let r=n.className;const i=Df().isBs5?zw[e.placement]:e.placement;e.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function FY(e){return Df().isBs5?Em(e,"end")?"ms-2":Em(e,"start")?"me-2":Em(e,"top")?"mb-2":Em(e,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),t?t.setAttribute(n,"class",r):n.className=r}(s,o)}let Xw=(()=>{class e{constructor(n,r,i){this.update$$=new Cn,this.positionElements=new Map,this.isDisabled=!1,lw(i)&&n.runOutsideAngular(()=>{this.triggerEvent$=Y2(ym(window,"scroll",{passive:!0}),ym(window,"resize",{passive:!0}),Uw(0,X2),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(o=>{GY(Cm(o.target),Cm(o.element),o.attachment,o.appendToBody,this.options,r.createRenderer(null,null))})})})}position(n){this.addPositionElement(n)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(n){this.positionElements.set(Cm(n.element),n)}calcPosition(){this.update$$.next(null)}deletePositionElement(n){this.positionElements.delete(Cm(n))}setOptions(n){this.options=n}static{this.\u0275fac=function(r){return new(r||e)(Re(fn),Re(eg),Re(Is))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Cm(e){return"string"==typeof e?document.querySelector(e):e instanceof nr?e.nativeElement:e??null}class xf{constructor(t,n,r){this.nodes=t,this.viewRef=n,this.componentRef=r}}class WY{constructor(t,n,r,i,o,s,a,c,u){this._viewContainerRef=t,this._renderer=n,this._elementRef=r,this._injector=i,this._componentFactoryResolver=o,this._ngZone=s,this._applicationRef=a,this._posService=c,this._document=u,this.onBeforeShow=new Pt,this.onShown=new Pt,this.onBeforeHide=new Pt,this.onHidden=new Pt,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const n=Tr.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(n,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof nr&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const r=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const n=this._componentRef.location.nativeElement;return n.parentNode?.removeChild(n),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef?.nativeElement;const n=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),r=this._listenOpts.show=o=>{t.show?t.show(o):this.show(o),o()};return this._renderer&&(this._unregisterListenersFn=function Wq(e,t){const n=function P2(e,t=Gq){const n=(e||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(o=>o.split(":")).map(o=>{const s=t[o[0]]||o;return new $q(s[0],s[1])}),i=r.filter(o=>o.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(t.triggers),r=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;const i=[],o=[],s=()=>{o.forEach(a=>i.push(a())),o.length=0};return n.forEach(a=>{const c=a.open===a.close,u=c?t.toggle:t.show;if(!c&&a.close&&t.hide){const l=a.close,d=t.hide;o.push(()=>e.listen(r,l,d))}u&&i.push(e.listen(r,a.open,()=>u(s)))}),()=>{i.forEach(a=>a())}}(this._renderer,{target:t.target,triggers:t.triggers,show:r,hide:n,toggle:o=>{this.isShown?n():r(o)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(t,n){return t&&n&&(this._inlineViewRef=t.createEmbeddedView(n)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function qq(e,t){return t.outsideClick?e.listen("document","click",n=>{t.target&&t.target.contains(n.target)||t.targets&&t.targets.some(r=>r.contains(n.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function Yq(e,t){return t.outsideEsc?e.listen("document","keyup.esc",n=>{t.target&&t.target.contains(n.target)||t.targets&&t.targets.some(r=>r.contains(n.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(t,n,r){if(!t)return new xf([]);if(t instanceof _o){if(this._viewContainerRef){const s=this._viewContainerRef.createEmbeddedView(t,n);return s.markForCheck(),new xf([s.rootNodes],s)}const o=t.createEmbeddedView({});return this._applicationRef.attachView(o),new xf([o.rootNodes],o)}if("function"==typeof t){const o=this._componentFactoryResolver.resolveComponentFactory(t),s=Tr.create({providers:this._providers,parent:this._injector}),a=o.create(s);return Object.assign(a.instance,r),this._applicationRef.attachView(a.hostView),new xf([[a.location.nativeElement]],a.hostView,a)}const i=this._renderer?[this._renderer.createText(`${t}`)]:[];return new xf([i])}}let Qw=(()=>{class e{constructor(n,r,i,o,s,a){this._componentFactoryResolver=n,this._ngZone=r,this._injector=i,this._posService=o,this._applicationRef=s,this._document=a}createLoader(n,r,i){return new WY(r,i,n,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(r){return new(r||e)(Re(Au),Re(fn),Re(Tr),Re(Xw),Re(Ns),Re(Yn))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const qY=["*"];let dO=(()=>{class e{constructor(){this.hide=()=>{},this.setClass=()=>{}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),fO=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const Dm={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},YY=new et("override-default-config");let KY=(()=>{class e{constructor(n,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},n)}ngOnInit(){this._focusEl=Er.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),Er&&Er.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(Er.body,"modal-open"),this._renderer.setStyle(Er.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(n){this.clickStartedInContent=n.target!==this._element.nativeElement}onClickStop(n){this.config.ignoreBackdropClick||"static"===this.config.backdrop||n.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(n){this.isShown&&((27===n.keyCode||"Escape"===n.key)&&n.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,Er&&Er.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(Er.body,"modal-open"),this._renderer.setStyle(Er.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static{this.\u0275fac=function(r){return new(r||e)(Ie(fO),Ie(nr),Ie(ks))}}static{this.\u0275cmp=ze({type:e,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(r,i){1&r&&Dt("mousedown",function(s){return i.onClickStarted(s)})("click",function(s){return i.onClickStop(s)})("popstate",function(){return i.onPopState()},!1,vo)("keydown.esc",function(s){return i.onEsc(s)},!1,vo),2&r&&qi("aria-modal",!0)("aria-labelledby",i.config.ariaLabelledBy)("aria-describedby",i.config.ariaDescribedby)},ngContentSelectors:qY,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(r,i){1&r&&(function kA(e){const t=me()[Wn][jr];if(!t.projection){const r=t.projection=function nu(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(e?e.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const s=e?wH(o,e):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),Te(0,"div",0)(1,"div",1),function NA(e,t=0,n){const r=me(),i=Zt(),o=xu(i,Lt+e,16,null,n||null);null===o.projection&&(o.projection=t),h_(),(!r[Ni]||hu())&&32&~o.flags&&function x6(e,t,n){Tx(t[kt],0,t,n,s0(e,n,t),Dx(n.parent||t[jr],n,t))}(i,r,o)}(2),$e()()),2&r&&FI("modal-dialog"+(i.config.class?" "+i.config.class:""))},dependencies:[yY],encapsulation:2})}}return e})(),ZY=(()=>{class e{get isAnimated(){return this._isAnimated}set isAnimated(n){this._isAnimated=n}get isShown(){return this._isShown}set isShown(n){this._isShown=n,n?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(n,r){this._isAnimated=!1,this._isShown=!1,this.element=n,this.renderer=r}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),Qq.reflow(this.element.nativeElement)),this.isShown=!0}static{this.\u0275fac=function(r){return new(r||e)(Ie(nr),Ie(ks))}}static{this.\u0275cmp=ze({type:e,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return e})(),XY=1,e1=(()=>{class e{constructor(n,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new Pt,this.onShown=new Pt,this.onHide=new Pt,this.onHidden=new Pt,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=n.createRenderer(null,null),this.config=i?Object.assign({},Dm,i):Dm}show(n,r){this._focusEl=Er.activeElement,this.modalsCount++,this._createLoaders();const i=r?.id||XY++;return this.config=this.modalDefaultOption?Object.assign({},Dm,this.modalDefaultOption,r):Object.assign({},Dm,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(n)}hide(n){(1===this.modalsCount||null==n)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=n?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(n),this.removeLoaders(n)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const n=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),n&&r&&(this._backdropLoader.attach(ZY).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(n){const r=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const s of this.config.providers)r.provide(s);const i=new dO,o=r.provide({provide:fO,useValue:this.config}).provide({provide:dO,useValue:i}).attach(KY).to("body");return i.hide=()=>this.hide(i.id),i.setClass=s=>{o.instance&&(o.instance.config.class=s)},i.onHidden=new Pt,i.onHide=new Pt,this.copyEvent(r.onBeforeHide,i.onHide),this.copyEvent(r.onHidden,i.onHidden),o.show({content:n,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),o.instance&&(o.instance.level=this.getModalsCount(),i.content=r.getInnerComponent(),i.id=o.instance.config?.id),i}_hideModal(n){if(null!=n){const r=this.loaders.findIndex(o=>o.instance?.config.id===n),i=this.loaders[r];i&&i.hide(n)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(n){this.lastDismissReason=n}removeBackdrop(){this._renderer.removeClass(Er.body,"modal-open"),this._renderer.setStyle(Er.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=Er.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){Er&&(this.originalBodyPadding=parseInt(window.getComputedStyle(Er.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(Er.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){Er.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const n=this._renderer.createElement("div");this._renderer.addClass(n,"modal-scrollbar-measure"),this._renderer.appendChild(Er.body,n);const r=n.offsetWidth-n.clientWidth;return this._renderer.removeChild(Er.body,n),r}_createLoaders(){const n=this.clf.createLoader();this.copyEvent(n.onBeforeShow,this.onShow),this.copyEvent(n.onShown,this.onShown),this.copyEvent(n.onBeforeHide,this.onHide),this.copyEvent(n.onHidden,this.onHidden),this.loaders.push(n)}removeLoaders(n){if(null!=n){const r=this.loaders.findIndex(i=>i.instance?.config.id===n);r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,o)=>{i.instance&&(i.instance.level=o+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(n,r){n.subscribe(i=>{r.emit(this.lastDismissReason||i)})}static{this.\u0275fac=function(r){return new(r||e)(Re(eg),Re(Qw),Re(YY,8))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();G2.forRoot();let QY=(()=>{class e{static forRoot(){return{ngModule:e,providers:[e1,Qw,Xw]}}static forChild(){return{ngModule:e,providers:[e1,Qw,Xw]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({imports:[G2]})}}return e})();function hO(e){return Array.isArray(e)?e:[e]}function hr(e){return null==e?"":"string"==typeof e?e:`${e}px`}let tK=1;const nK=Promise.resolve(),xm={};function pO(e){return e in xm&&(delete xm[e],!0)}const gO={setImmediate(e){const t=tK++;return xm[t]=!0,nK.then(()=>pO(t)&&e()),t},clearImmediate(e){pO(e)}},t1=(new class iK extends Do{flush(t){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let r,i=-1,o=n.length;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while(++i<o&&(t=n.shift()));if(this.active=!1,r){for(;++i<o&&(t=n.shift());)t.unsubscribe();throw r}}}(class rK extends _m{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=gO.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,n,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,n,r);0===t.actions.length&&(gO.clearImmediate(n),t.scheduled=void 0)}}),new Do(_m));class aK{constructor(t){this.durationSelector=t}call(t,n){return n.subscribe(new cK(t,this.durationSelector))}}class cK extends jw{constructor(t,n){super(t),this.durationSelector=n,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:i}=this;n=i(t)}catch(i){return this.destination.error(i)}const r=Hw(n,new Bw(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:n,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function mO(e){return!qs(e)&&e-parseFloat(e)+1>=0}function lK(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function vO(e,t=t1){return function sK(e){return function(n){return n.lift(new aK(e))}}(()=>function uK(e=0,t,n){let r=-1;return mO(t)?r=Number(t)<1?1:Number(t):vm(t)&&(n=t),vm(n)||(n=t1),new Hn(i=>{const o=mO(e)?e:+e-n.now();return n.schedule(lK,o,{index:0,period:r,subscriber:i})})}(e,t))}function Sm(e,t){return function(r){return r.lift(new dK(e,t))}}class dK{constructor(t,n){this.predicate=t,this.thisArg=n}call(t,n){return n.subscribe(new fK(t,this.predicate,this.thisArg))}}class fK extends Bn{constructor(t,n,r){super(t),this.predicate=n,this.thisArg=r,this.count=0}_next(t){let n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}n&&this.destination.next(t)}}let n1;try{n1=typeof Intl<"u"&&Intl.v8BreakIterator}catch{n1=!1}let lc,tl=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?lw(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!n1)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(Re(Is))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function pK(){if(null==lc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return lc=!1,lc;if("scrollBehavior"in document.documentElement.style)lc=!0;else{const e=Element.prototype.scrollTo;lc=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return lc}function bO(e){return e.composedPath?e.composedPath()[0]:e.target}function wO(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const mK=new et("cdk-dir-doc",{providedIn:"root",factory:function vK(){return Et(Yn)}}),yK=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let bK=(()=>{class e{constructor(n){this.value="ltr",this.change=new Pt,n&&(this.value=function _K(e){const t=e?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?yK.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||e)(Re(mK,8))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),o1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({})}}return e})(),EK=(()=>{class e{constructor(n,r,i){this._ngZone=n,this._platform=r,this._scrolled=new Cn,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new Hn(r=>{this._globalSubscription||this._addGlobalListener();const i=n>0?this._scrolled.pipe(vO(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Uw()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){const i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Sm(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(n){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,n)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let i=function eK(e){return e instanceof nr?e.nativeElement:e}(r),o=n.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ym(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||e)(Re(fn),Re(tl),Re(Yn,8))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),EO=(()=>{class e{constructor(n,r,i){this._platform=n,this._change=new Cn,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(n.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,r=this._getWindow(),i=n.documentElement,o=i.getBoundingClientRect();return{top:-o.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(vO(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||e)(Re(tl),Re(fn),Re(Yn,8))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),CO=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({})}}return e})(),DO=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({imports:[o1,CO,o1,CO]})}}return e})();class MK{constructor(t){this.notifier=t}call(t,n){const r=new xK(t),i=Hw(this.notifier,new Bw(r));return i&&!r.seenValue?(r.add(i),n.subscribe(r)):r}}class xK extends jw{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class s1{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class MO extends s1{constructor(t,n,r,i,o){super(),this.component=t,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class SK extends s1{constructor(t,n,r,i){super(),this.templateRef=t,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class IK extends s1{constructor(t){super(),this.element=t instanceof nr?t.nativeElement:t}}class AK{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof MO?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof SK?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof IK?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class TK extends AK{constructor(t,n,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||Tr.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);-1!==i&&n.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let kK=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({})}}return e})();const xO=pK();class NK{constructor(t,n){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=hr(-this._previousScrollPosition.left),t.style.top=hr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),xO&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),xO&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}}class OK{constructor(t,n,r,i){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Sm(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class SO{enable(){}disable(){}attach(){}}function a1(e,t){return t.some(n=>e.bottom<n.top||e.top>n.bottom||e.right<n.left||e.left>n.right)}function IO(e,t){return t.some(n=>e.top<n.top||e.bottom>n.bottom||e.left<n.left||e.right>n.right)}class RK{constructor(t,n,r,i){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();a1(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let AO=(()=>{class e{constructor(n,r,i,o){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new SO,this.close=s=>new OK(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new NK(this._viewportRuler,this._document),this.reposition=s=>new RK(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(r){return new(r||e)(Re(EK),Re(EO),Re(fn),Re(Yn))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class PK{constructor(t){if(this.scrollStrategy=new SO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const n=Object.keys(t);for(const r of n)void 0!==t[r]&&(this[r]=t[r])}}}class FK{constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}}let TO=(()=>{class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(r){return new(r||e)(Re(Yn))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),LK=(()=>{class e extends TO{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||e)(Re(Yn),Re(fn,8))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),VK=(()=>{class e extends TO{constructor(n,r,i){super(n),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=bO(o)},this._clickListener=o=>{const s=bO(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let u=c.length-1;u>-1;u--){const l=c[u];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(l.overlayElement.contains(s)||l.overlayElement.contains(a))break;const d=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(n){if(super.add(n),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||e)(Re(Yn),Re(tl),Re(fn,8))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Am=(()=>{class e{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||wO()){const i=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(n),wO()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||e)(Re(Yn),Re(tl))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class BK{constructor(t,n,r,i,o,s,a,c,u,l=!1){this._portalOutlet=t,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=l,this._backdropElement=null,this._backdropClick=new Cn,this._attachments=new Cn,this._detachments=new Cn,this._locationChanges=Qt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Cn,this._outsidePointerEvents=new Cn,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(mm(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof n?.onDestroy&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=hr(this._config.width),t.height=hr(this._config.height),t.minWidth=hr(this._config.minWidth),t.minHeight=hr(this._config.minHeight),t.maxWidth=hr(this._config.maxWidth),t.maxHeight=hr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,n,r){const i=hO(n||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(function DK(e){return t=>t.lift(new MK(e))}(Y2(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const kO="cdk-overlay-connected-position-bounding-box",jK=/([A-Za-z%]+)$/;class HK{get positions(){return this._preferredPositions}constructor(t,n,r,i,o){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Cn,this._resizeSubscription=Qt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(kO),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,i,a),u=this._getOverlayPoint(c,n,a),l=this._getOverlayFit(u,n,r,a);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(l,u,r)?o.push({position:a,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<l.visibleArea)&&(s={overlayFit:l,overlayPoint:u,originPoint:c,position:a,overlayRect:n})}if(o.length){let a=null,c=-1;for(const u of o){const l=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);l>c&&(c=l,a=u)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&dc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(kO),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,r){let i,o;if("center"==r.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;i="start"==r.originX?s:a}return n.left<0&&(i-=n.left),o="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,n.top<0&&(o-=n.top),{x:i,y:o}}_getOverlayPoint(t,n,r){let i,o;return i="center"==r.overlayX?-n.width/2:"start"===r.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,o="center"==r.overlayY?-n.height/2:"top"==r.overlayY?0:-n.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,n,r,i){const o=OO(n);let{x:s,y:a}=t,c=this._getOffset(i,"x"),u=this._getOffset(i,"y");c&&(s+=c),u&&(a+=u);let h=0-a,g=a+o.height-r.height,m=this._subtractOverflows(o.width,0-s,s+o.width-r.width),y=this._subtractOverflows(o.height,h,g),_=m*y;return{visibleArea:_,isCompletelyWithinViewport:o.width*o.height===_,fitsInViewportVertically:y===o.height,fitsInViewportHorizontally:m==o.width}}_canFitWithFlexibleDimensions(t,n,r){if(this._hasFlexibleDimensions){const i=r.bottom-n.y,o=r.right-n.x,s=NO(this._overlayRef.getConfig().minHeight),a=NO(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=i)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=OO(n),o=this._viewportRect,s=Math.max(t.x+i.width-o.width,0),a=Math.max(t.y+i.height-o.height,0),c=Math.max(o.top-r.top-t.y,0),u=Math.max(o.left-r.left-t.x,0);let l=0,d=0;return l=i.width<=o.width?u||-s:t.x<this._viewportMargin?o.left-r.left-t.x:0,d=i.height<=o.height?c||-a:t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:l,y:d},{x:t.x+l,y:t.y+d}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function UK(e,t){return e===t||e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new FK(t,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,n){const r=this._viewportRect,i=this._isRtl();let o,s,a,l,d,h;if("top"===n.overlayY)s=t.y,o=r.height-s+this._viewportMargin;else if("bottom"===n.overlayY)a=r.height-t.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const g=Math.min(r.bottom-t.y+r.top,t.y),m=this._lastBoundingBoxSize.height;o=2*g,s=t.y-g,o>m&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-m/2)}if("end"===n.overlayX&&!i||"start"===n.overlayX&&i)h=r.width-t.x+2*this._viewportMargin,l=t.x-this._viewportMargin;else if("start"===n.overlayX&&!i||"end"===n.overlayX&&i)d=t.x,l=r.right-t.x;else{const g=Math.min(r.right-t.x+r.left,t.x),m=this._lastBoundingBoxSize.width;l=2*g,d=t.x-g,l>m&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-m/2)}return{top:s,left:d,bottom:a,right:h,width:l,height:o}}_setBoundingBoxStyles(t,n){const r=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=hr(r.height),i.top=hr(r.top),i.bottom=hr(r.bottom),i.width=hr(r.width),i.left=hr(r.left),i.right=hr(r.right),i.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",i.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=hr(o)),s&&(i.maxWidth=hr(s))}this._lastBoundingBoxSize=r,dc(this._boundingBox.style,i)}_resetBoundingBoxStyles(){dc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){dc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const l=this._viewportRuler.getViewportScrollPosition();dc(r,this._getExactOverlayY(n,t,l)),dc(r,this._getExactOverlayX(n,t,l))}else r.position="static";let a="",c=this._getOffset(n,"x"),u=this._getOffset(n,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=hr(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=hr(s.maxWidth):o&&(r.maxWidth="")),dc(this._pane.style,r)}_getExactOverlayY(t,n,r){let i={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=hr(o.y),i}_getExactOverlayX(t,n,r){let s,i={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=hr(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:IO(t,r),isOriginOutsideView:a1(t,r),isOverlayClipped:IO(n,r),isOverlayOutsideView:a1(n,r)}}_subtractOverflows(t,...n){return n.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return"x"===n?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&hO(t).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof nr)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const n=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+n,height:r,width:n}}}function dc(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function NO(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(jK);return n&&"px"!==n?null:parseFloat(t)}return e||null}function OO(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const RO="cdk-global-overlay-wrapper";class zK{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(RO),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),u=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),l=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let g="",m="",y="";c?y="flex-start":"center"===l?(y="center",h?m=d:g=d):h?"left"===l||"end"===l?(y="flex-end",g=d):("right"===l||"start"===l)&&(y="flex-start",m=d):"left"===l||"start"===l?(y="flex-start",g=d):("right"===l||"end"===l)&&(y="flex-end",m=d),t.position=this._cssPosition,t.marginLeft=c?"0":g,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":m,n.justifyContent=y,n.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(RO),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let $K=(()=>{class e{constructor(n,r,i,o){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new zK}flexibleConnectedTo(n){return new HK(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||e)(Re(EO),Re(Yn),Re(tl),Re(Am))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),GK=0,Tm=(()=>{class e{constructor(n,r,i,o,s,a,c,u,l,d,h,g){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=u,this._directionality=l,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=g}create(n){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new PK(n);return s.direction=s.direction||this._directionality.value,new BK(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(n){const r=this._document.createElement("div");return r.id="cdk-overlay-"+GK++,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Ns)),new TK(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||e)(Re(AO),Re(Am),Re(Au),Re($K),Re(LK),Re(Tr),Re(fn),Re(Yn),Re(bK),Re(Rk),Re(VK),Re(_4,8))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const WK=new et("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const e=Et(Tm);return()=>e.scrollStrategies.reposition()}}),YK={provide:WK,deps:[Tm],useFactory:function qK(e){return()=>e.scrollStrategies.reposition()}};let KK=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({providers:[Tm,YK],imports:[o1,kK,DO,DO]})}}return e})(),ZK=(()=>{class e extends Am{constructor(n,r){super(n,r)}ngOnDestroy(){super.ngOnDestroy(),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){this._containerElement&&(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(n){const r=this._getEventName();r&&(this._fullScreenListener&&this._document.removeEventListener(r,this._fullScreenListener),this._document.addEventListener(r,n),this._fullScreenListener=n)}_getEventName(){if(!this._fullScreenEventName){const n=this._document;n.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":n.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":n.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":n.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}getFullscreenElement(){const n=this._document;return n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||null}static{this.\u0275fac=function(r){return new(r||e)(Re(Yn),Re(tl))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ha(){}class vZ{constructor(t,n,r){this.nextOrObserver=t,this.error=n,this.complete=r}call(t,n){return n.subscribe(new yZ(t,this.nextOrObserver,this.error,this.complete))}}class yZ extends Bn{constructor(t,n,r,i){super(t),this._tapNext=ha,this._tapError=ha,this._tapComplete=ha,this._tapError=r||ha,this._tapComplete=i||ha,Qn(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||ha,this._tapError=n.error||ha,this._tapComplete=n.complete||ha)}_next(t){try{this._tapNext.call(this._context,t)}catch(n){return void this.destination.error(n)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(n){return void this.destination.error(n)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class bZ{constructor(t,n){this.dueTime=t,this.scheduler=n}call(t,n){return n.subscribe(new wZ(t,this.dueTime,this.scheduler))}}class wZ extends Bn{constructor(t,n,r){super(t),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(EZ,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function EZ(e){e.debouncedNext()}class LO{constructor(t,n){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Cn,this._typeaheadSubscription=Qt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this._pressedLetters=[],this.tabOut=new Cn,this.change=new Cn,t instanceof _u?this._itemChangesSubscription=t.changes.subscribe(r=>this._itemsChanged(r.toArray())):ig(t)&&(this._effectRef=Ak(()=>this._itemsChanged(t()),{injector:n}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(function mZ(e,t,n){return function(i){return i.lift(new vZ(e,t,n))}}(n=>this._pressedLetters.push(n)),function _Z(e,t=t1){return n=>n.lift(new bZ(e,t))}(t),Sm(()=>this._pressedLetters.length>0),Ai(()=>this._pressedLetters.join(""))).subscribe(n=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,s=r[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(n)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,n=10){return this._pageUpAndDown={enabled:t,delta:n},this}setActiveItem(t){const n=this._activeItem;this.updateActiveItem(t),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(t){const n=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((i||function gZ(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const n=this._getItemsArray(),r="number"==typeof t?t:n.indexOf(t);this._activeItem=n[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const n=this._getItemsArray();for(let r=1;r<=n.length;r++){const i=(this._activeItemIndex+t*r+n.length)%n.length;if(!this._skipPredicateFn(n[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,n){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=n])return;this.setActiveItem(t)}}_getItemsArray(){return ig(this._items)?this._items():this._items instanceof _u?this._items.toArray():this._items}_itemsChanged(t){if(this._activeItem){const n=t.indexOf(this._activeItem);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n)}}}class MZ extends LO{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}const BO=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();class FZ{constructor(t){this.defaultValue=t}call(t,n){return n.subscribe(new LZ(t,this.defaultValue))}}class LZ extends Bn{constructor(t,n){super(t),this.defaultValue=n,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function VZ(e=HZ){return t=>t.lift(new BZ(e))}class BZ{constructor(t){this.errorFactory=t}call(t,n){return n.subscribe(new jZ(t,this.errorFactory))}}class jZ extends Bn{constructor(t,n){super(t),this.errorFactory=n,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)}}}function HZ(){return new BO}const jO=["menu"],zZ=["li"],HO=e=>({$implicit:e});function $Z(e,t){}function GZ(e,t){if(1&e){const n=Ci();Te(0,"a",7),Dt("click",function(i){It(n);const o=Ft().$implicit;return At(Ft().onMenuItemSelect(o,i))})("mouseenter",function(i){It(n);const o=Ft().$implicit;return At(Ft().onOpenSubMenu(o,i))}),qn(1,$Z,0,0,"ng-template",8),$e()}if(2&e){const n=Ft().$implicit,r=Ft();rc("dropdown-item",r.useBootstrap4)("active",n.isActive&&r.isMenuItemEnabled(n))("disabled",r.useBootstrap4&&!r.isMenuItemEnabled(n))("hasSubMenu",!!n.subMenu),Bt(),Rt("ngTemplateOutlet",n.template)("ngTemplateOutletContext",Eg(10,HO,r.item))}}function WZ(e,t){}function qZ(e,t){if(1&e){const n=Ci();Te(0,"span",10),Dt("click",function(i){return It(n),At(Ft(3).stopEvent(i))})("contextmenu",function(i){return It(n),At(Ft(3).stopEvent(i))}),qn(1,WZ,0,0,"ng-template",8),$e()}if(2&e){const n=Ft(2).$implicit,r=Ft();rc("dropdown-item",r.useBootstrap4)("disabled",r.useBootstrap4&&!r.isMenuItemEnabled(n)),Bt(),Rt("ngTemplateOutlet",n.template)("ngTemplateOutletContext",Eg(6,HO,r.item))}}function YZ(e,t){if(1&e&&qn(0,qZ,2,8,"span",9),2&e){const n=Ft().$implicit;Rt("ngIf",!n.divider&&n.passive)}}function KZ(e,t){if(1&e&&(Te(0,"li",null,1),qn(2,GZ,2,12,"a",5)(3,YZ,1,1,"span",6),$e()),2&e){const n=t.$implicit,r=Ft();rc("disabled",!r.isMenuItemEnabled(n))("divider",n.divider)("dropdown-divider",r.useBootstrap4&&n.divider)("active",n.isActive&&r.isMenuItemEnabled(n)),qi("role",n.divider?"separator":void 0),Bt(2),db(2,n.divider||n.passive?-1:2),Bt(),db(3,!n.divider&&n.passive?3:-1)}}const c1=new et("CONTEXT_MENU_OPTIONS");function Af(e,t){return e instanceof Function?e(t):e}let XZ=(()=>{class e{constructor(n){this.menuItems=[],this.isLeaf=!1,this.execute=new Pt,this.openSubMenu=new Pt,this.closeLeafMenu=new Pt,this.closeAllMenus=new Pt,this.autoFocus=!1,this.useBootstrap4=!1,this.subscription=new Qt,n&&(this.autoFocus=n.autoFocus,this.useBootstrap4=n.useBootstrap4)}ngOnInit(){this.menuItems.forEach(r=>{r.currentItem=this.item,this.subscription.add(r.execute.subscribe(i=>this.execute.emit({...i,menuItem:r})))});const n=new _u;n.reset(this.menuItems),this._keyManager=new MZ(n).withWrap()}ngAfterViewInit(){this.autoFocus&&setTimeout(()=>this.focus()),this.overlay.updatePosition()}ngOnDestroy(){this.subscription.unsubscribe()}focus(){this.autoFocus&&this.menuElement.nativeElement.focus()}stopEvent(n){n.stopPropagation()}isMenuItemEnabled(n){return Af(n?.enabled,this.item)}isMenuItemVisible(n){return Af(n?.visible,this.item)}isDisabled(n){return n.enabled&&!n.enabled(this.item)}onKeyEvent(n){this.isLeaf&&this._keyManager.onKeydown(n)}keyboardOpenSubMenu(n){if(!this.isLeaf)return;this.cancelEvent(n);const r=this.menuItems[this._keyManager.activeItemIndex];r&&this.onOpenSubMenu(r)}keyboardMenuItemSelect(n){if(!this.isLeaf)return;this.cancelEvent(n);const r=this.menuItems[this._keyManager.activeItemIndex];r&&this.onMenuItemSelect(r,n)}onCloseLeafMenu(n){this.isLeaf&&(this.cancelEvent(n),this.closeLeafMenu.emit({exceptRootMenu:37===n.keyCode,event:n}))}closeMenu(n){"click"===n.type&&2===n.button||this.closeAllMenus.emit({event:n})}onOpenSubMenu(n,r){const i=this.menuItemElements.toArray()[this._keyManager.activeItemIndex];this.openSubMenu.emit({anchorElement:i&&i.nativeElement,contextMenu:n.subMenu,event:r,item:this.item,parentContextMenu:this})}onMenuItemSelect(n,r){r.preventDefault(),r.stopPropagation(),this.onOpenSubMenu(n,r),n.subMenu||n.triggerExecute(this.item,r)}cancelEvent(n){if(!n)return;const r=n.target;["INPUT","TEXTAREA","SELECT"].indexOf(r.tagName)>-1||r.isContentEditable||(n.preventDefault(),n.stopPropagation())}static{this.\u0275fac=function(r){return new(r||e)(Ie(c1,8))}}static{this.\u0275cmp=ze({type:e,selectors:[["context-menu-content"]],viewQuery:function(r,i){if(1&r&&(ii(jO,7),ii(zZ,5)),2&r){let o;Wr(o=qr())&&(i.menuElement=o.first),Wr(o=qr())&&(i.menuItemElements=o)}},hostBindings:function(r,i){1&r&&Dt("keydown.ArrowDown",function(s){return i.onKeyEvent(s)},0,vo)("keydown.ArrowUp",function(s){return i.onKeyEvent(s)},!1,vo)("keydown.ArrowRight",function(s){return i.keyboardOpenSubMenu(s)},!1,vo)("keydown.Enter",function(s){return i.keyboardMenuItemSelect(s)},!1,vo)("keydown.Space",function(s){return i.keyboardMenuItemSelect(s)},!1,vo)("keydown.Escape",function(s){return i.onCloseLeafMenu(s)},!1,vo)("keydown.ArrowLeft",function(s){return i.onCloseLeafMenu(s)},!1,vo)("click",function(s){return i.closeMenu(s)},!1,J_)("contextmenu",function(s){return i.closeMenu(s)},!1,J_)},inputs:{menuItems:"menuItems",item:"item",event:"event",parentContextMenu:"parentContextMenu",menuClass:"menuClass",overlay:"overlay",isLeaf:"isLeaf"},outputs:{execute:"execute",openSubMenu:"openSubMenu",closeLeafMenu:"closeLeafMenu",closeAllMenus:"closeAllMenus"},decls:5,vars:1,consts:[["menu",""],["li",""],["tabindex","0",1,"dropdown","open","show","ngx-contextmenu",3,"ngClass"],["tabindex","0",1,"dropdown-menu","show",2,"position","static","float","none"],[3,"disabled","divider","dropdown-divider","active"],["href","",3,"dropdown-item","active","disabled","hasSubMenu"],[1,"passive",3,"dropdown-item","disabled"],["href","",3,"click","mouseenter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","passive",3,"dropdown-item","disabled","click","contextmenu",4,"ngIf"],[1,"passive",3,"click","contextmenu"]],template:function(r,i){1&r&&(Te(0,"div",2)(1,"ul",3,0),function qI(e,t,n,r,i,o,s,a,c,u,l,d,h){ts("NgControlFlow");const g=void 0!==c,m=me(),y=a?s.bind(m[Wn][Rn]):s,_=new fj(g,y);m[Lt+e]=_,qn(e+1,t,n,r,i,o),g&&qn(e+2,c,u,l,d,h)}(3,KZ,4,11,"li",4,WI),$e()()),2&r&&(Rt("ngClass",i.menuClass),Bt(3),function YI(e){const t=M(null),n=zr();try{const r=me(),i=r[je],o=r[n];if(void 0===o.liveCollection){const a=n+1,c=fb(r,a),u=hb(i,a);o.liveCollection=new hj(c,r,u)}else o.liveCollection.reset();const s=o.liveCollection;if(function uj(e,t,n){let r,i,o=0,s=e.length-1;if(Array.isArray(t)){let a=t.length-1;for(;o<=s&&o<=a;){const c=e.at(o),u=t[o],l=ub(o,c,o,u,n);if(0!==l){l<0&&e.updateValue(o,u),o++;continue}const d=e.at(s),h=t[a],g=ub(s,d,a,h,n);if(0!==g){g<0&&e.updateValue(s,h),s--,a--;continue}const m=n(o,c),y=n(s,d),_=n(o,u);if(Object.is(_,y)){const w=n(a,h);Object.is(w,m)?(e.swap(o,s),e.updateValue(s,h),a--,s--):e.move(s,o),e.updateValue(o,u),o++}else if(r??=new GI,i??=$I(e,o,s,n),lb(e,r,o,_))e.updateValue(o,u),o++,s++;else if(i.has(_))r.set(m,e.detach(o)),s--;else{const w=e.create(o,t[o]);e.attach(o,w),o++,s++}}for(;o<=a;)zI(e,r,n,o,t[o]),o++}else if(null!=t){const a=t[Symbol.iterator]();let c=a.next();for(;!c.done&&o<=s;){const u=e.at(o),l=c.value,d=ub(o,u,o,l,n);if(0!==d)d<0&&e.updateValue(o,l),o++,c=a.next();else{r??=new GI,i??=$I(e,o,s,n);const h=n(o,l);if(lb(e,r,o,h))e.updateValue(o,l),o++,s++,c=a.next();else if(i.has(h)){const g=n(o,u);r.set(g,e.detach(o)),s--}else e.attach(o,e.create(o,l)),o++,s++,c=a.next()}}for(;!c.done;)zI(e,r,n,e.length,c.value),c=a.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(a=>{e.destroy(a)})}(s,e,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){const a=mo(),c=0===s.length;if(ar(r,a,c)){const u=n+2,l=fb(r,u);if(c){const d=hb(i,u),h=Iu(l,d.tView.ssrId);Nd(l,kd(r,d,void 0,{dehydratedView:h}),0,Su(d,h))}else w0(l,0)}}}finally{M(t)}}(i.menuItems))},dependencies:[rw,iw,Zk],styles:['@charset "UTF-8";.passive[_ngcontent-%COMP%]{display:block;padding:3px 20px;clear:both;font-weight:400;white-space:nowrap}.hasSubMenu[_ngcontent-%COMP%]:before{content:"\\25b6";float:right}'],changeDetection:0})}}return e})(),UO=(()=>{class e{get disabled(){return this.passive||this.divider||!Af(this.enabled,this.currentItem)}constructor(n,r){this.template=n,this.elementRef=r,this.divider=!1,this.enabled=!0,this.passive=!1,this.visible=!0,this.execute=new Pt,this.isActive=!1}setActiveStyles(){this.isActive=!0}setInactiveStyles(){this.isActive=!1}triggerExecute(n,r){Af(this.enabled,n)&&this.execute.emit({event:r,item:n})}static{this.\u0275fac=function(r){return new(r||e)(Ie(_o),Ie(nr))}}static{this.\u0275dir=Ge({type:e,selectors:[["","contextMenuItem",""]],inputs:{subMenu:"subMenu",divider:"divider",enabled:"enabled",passive:"passive",visible:"visible"},outputs:{execute:"execute"}})}}return e})(),u1=(()=>{class e{constructor(n,r){this.overlay=n,this.scrollStrategy=r,this.isDestroyingLeafMenu=!1,this.show=new Cn,this.close=new Cn,this.overlays=[],this.fakeElement={getBoundingClientRect:()=>new DOMRect(0,0,0,0)},this.rootMenuPositionsFor=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"end",originY:"center",overlayX:"start",overlayY:"center"},{originX:"start",originY:"center",overlayX:"end",overlayY:"center"}],this.subMenuPositions=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}]}openContextMenu(n){const{anchorElement:r,event:i,parentContextMenu:o}=n;if(o){const s=this.overlay.position().flexibleConnectedTo(new nr(i?.target??r)).withPositions(this.subMenuPositions).withFlexibleDimensions(!1),a=this.overlay.create({positionStrategy:s,panelClass:"ngx-contextmenu",scrollStrategy:this.scrollStrategy.close()});this.destroySubMenus(o),this.overlays=this.overlays.concat(a),this.attachContextMenu(a,n)}else{const s=i;this.fakeElement.getBoundingClientRect=()=>new DOMRect(s.clientX,s.clientY,0,0),this.closeAllContextMenus({eventType:"cancel",event:i});const a=this.overlay.position().flexibleConnectedTo(new nr(r??this.fakeElement)).withPositions(this.rootMenuPositionsFor).withFlexibleDimensions(!1);this.overlays=[this.overlay.create({positionStrategy:a,panelClass:"ngx-contextmenu",scrollStrategy:this.scrollStrategy.close()})],this.attachContextMenu(this.overlays[0],n)}}attachContextMenu(n,r){const{event:i,item:o,menuItems:s,menuClass:a}=r,c=n.attach(new MO(XZ)),u=c.instance;u.event=i,u.item=o,u.menuItems=s,u.overlay=n,u.isLeaf=!0,u.menuClass=a,n.contextMenu=u;const l=new Qt;l.add(u.execute.subscribe(d=>this.closeAllContextMenus({eventType:"execute",...d}))),l.add(u.closeAllMenus.subscribe(d=>this.closeAllContextMenus({eventType:"cancel",...d}))),l.add(u.closeLeafMenu.subscribe(d=>this.destroyLeafMenu(d))),l.add(u.openSubMenu.subscribe(d=>{this.destroySubMenus(u),d.contextMenu?(u.isLeaf=!1,this.show.next(d)):u.isLeaf=!0})),c.onDestroy(()=>{s.forEach(d=>d.isActive=!1),l.unsubscribe()}),c.changeDetectorRef.detectChanges()}closeAllContextMenus(n){this.overlays?.length&&(this.close.next(n),this.overlays.forEach(r=>this.destroyOverlay(r))),this.overlays=[]}getLastAttachedOverlay(){let n=this.overlays.at(-1);for(;this.overlays.length>1&&n&&!n.hasAttached();)this.destroyOverlay(n),this.overlays=this.overlays.slice(0,-1),n=this.overlays.at(-1);return n}destroyLeafMenu({exceptRootMenu:n,event:r}={}){this.isDestroyingLeafMenu||(this.isDestroyingLeafMenu=!0,setTimeout(()=>{const i=this.getLastAttachedOverlay();this.overlays.length>1&&i&&this.destroyOverlay(i),!n&&this.overlays.length>0&&i&&(this.close.next({eventType:"cancel",event:r}),this.destroyOverlay(i));const o=this.getLastAttachedOverlay();o&&(o.contextMenu.isLeaf=!0),this.isDestroyingLeafMenu=!1}))}destroySubMenus(n){const i=this.overlays.indexOf(n.overlay);this.overlays.slice(i+1).forEach(o=>{this.destroyOverlay(o)})}isLeafMenu(n){const r=this.getLastAttachedOverlay();return n.overlay===r}destroyOverlay(n){n.detach(),n.dispose()}static{this.\u0275fac=function(r){return new(r||e)(Re(Tm),Re(AO))}}static{this.\u0275prov=nt({token:e,factory:e.\u0275fac})}}return e})(),QZ=(()=>{class e{constructor(n,r){this.contextMenuService=n,this.menuClass="",this.autoFocus=!1,this.useBootstrap4=!1,this.disabled=!1,this.close=new Pt,this.open=new Pt,this.visibleMenuItems=[],this.links=[],this.subscription=new Qt,r&&(this.autoFocus=r.autoFocus,this.useBootstrap4=r.useBootstrap4),this.subscription.add(n.show.subscribe(i=>{this.onMenuEvent(i)}))}ngOnDestroy(){this.subscription.unsubscribe()}onMenuEvent(n){if(this.disabled)return;const{contextMenu:r,event:i,item:o}=n;r&&r!==this||(this.event=i,this.item=o,this.setVisibleMenuItems(),this.contextMenuService.openContextMenu({...n,menuItems:this.visibleMenuItems,menuClass:this.menuClass}),this.contextMenuService.close.pipe(function UZ(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Sm((i,o)=>e(i,o,r)):ft,mm(1),n?function PZ(e=null){return t=>t.lift(new FZ(e))}(t):VZ(()=>new BO))}()).subscribe(s=>this.close.emit(s)),this.open.next(n))}isMenuItemVisible(n){return Af(n.visible,this.item)}setVisibleMenuItems(){this.visibleMenuItems=this.menuItems.filter(n=>this.isMenuItemVisible(n))}static{this.\u0275fac=function(r){return new(r||e)(Ie(u1),Ie(c1,8))}}static{this.\u0275cmp=ze({type:e,selectors:[["context-menu"]],contentQueries:function(r,i,o){if(1&r&&UA(o,UO,4),2&r){let s;Wr(s=qr())&&(i.menuItems=s)}},viewQuery:function(r,i){if(1&r&&ii(jO,5),2&r){let o;Wr(o=qr())&&(i.menuElement=o.first)}},inputs:{menuClass:"menuClass",autoFocus:"autoFocus",useBootstrap4:"useBootstrap4",disabled:"disabled"},outputs:{close:"close",open:"open"},decls:0,vars:0,template:function(r,i){},styles:[".cdk-overlay-container{position:fixed;z-index:1000;pointer-events:none;top:0;left:0;width:100%;height:100%}.ngx-contextmenu.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box}\n"],encapsulation:2,changeDetection:0})}}return e})(),JZ=(()=>{class e{static forRoot(n){return{ngModule:e,providers:[u1,{provide:c1,useValue:n},{provide:Am,useClass:ZK}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=mt({type:e})}static{this.\u0275inj=Sr({imports:[uw,KK]})}}return e})();const eX={dataId:"1234",nodes:[{id:"123",label:["John Doe","01/01/1970"],icon:"https://randomuser.me/api/portraits/thumb/men/24.jpg",fx:1e3,fy:400,linkStrength:!0},{id:"456",label:["Richard Hill","14/05/1982"],icon:"https://randomuser.me/api/portraits/thumb/men/99.jpg",fx:332,fy:684,linkStrength:!1},{id:"789",label:["Rick Smith","Software Developer"],icon:"https://randomuser.me/api/portraits/thumb/men/21.jpg",fx:55,fy:60,linkStrength:!0},{id:"4",label:["James Jones","BA"],icon:"https://randomuser.me/api/portraits/thumb/men/9.jpg",fx:414,fy:369,linkStrength:!1},{id:"423",label:["Linda Jones","Pilot"],icon:"https://randomuser.me/api/portraits/thumb/women/10.jpg",fx:null,fy:null,linkStrength:!0}],links:[{source:"123",target:"456",label:["Worked at IBM","Both in same scrum team"],lineStyle:"Unconfirmed",sourceArrow:!1,targetArrow:!0,linkId:"123_456",relationships:[{linkIndex:0,label:"Worked at IBM",lineStyle:"Unconfirmed",source:"123",sourceArrow:!1,target:"456",targetArrow:!0,linkStrength:!0},{linkIndex:1,label:"Both in same scrum team",lineStyle:"Confirmed",source:"123",sourceArrow:!0,target:"456",targetArrow:!1,linkStrength:!0}]},{source:"456",target:"789",label:["Play in the same football team","Daughters in the same class at school","Went on a family holiday together last year"],lineStyle:"Confirmed",sourceArrow:!0,targetArrow:!0,linkId:"456_789",relationships:[{linkIndex:2,label:"Play in the same football team",lineStyle:"Confirmed",source:"456",sourceArrow:!1,target:"789",targetArrow:!0,linkStrength:!1},{linkIndex:3,label:"Daughters in the same class at school",lineStyle:"Confirmed",source:"456",sourceArrow:!0,target:"789",targetArrow:!1,linkStrength:!0},{linkIndex:4,label:"Went on a family holiday together last year",lineStyle:"Confirmed",source:"456",sourceArrow:!0,target:"789",targetArrow:!1,linkStrength:!1}]},{source:"789",target:"123",label:["Drink in the same pub","Drinking friends"],lineStyle:"Unconfirmed",sourceArrow:!0,targetArrow:!0,linkId:"789_123",relationships:[{linkIndex:5,label:"Drink in the same pub",lineStyle:"Unconfirmed",source:"789",sourceArrow:!1,target:"123",targetArrow:!0,linkStrength:!0},{linkIndex:6,label:"Drinking friends",lineStyle:"Unconfirmed",source:"789",sourceArrow:!0,target:"123",targetArrow:!1,linkStrength:!1}]},{source:"4",target:"123",label:["Same University"],lineStyle:"Unconfirmed",sourceArrow:!0,targetArrow:!1,linkId:"4_123",relationships:[{linkIndex:7,label:["Same University"],lineStyle:"Unconfirmed",source:"4",sourceArrow:!1,target:"123",targetArrow:!1,linkStrength:!0}]}]},tX={dataId:"1234",nodes:[{id:"123",label:["John Doe","01/01/1970"],icon:"https://randomuser.me/api/portraits/thumb/men/24.jpg",fx:100,fy:400,linkStrength:!1},{id:"456",label:["Richard Hill","14/05/1982"],icon:"https://randomuser.me/api/portraits/thumb/men/99.jpg",fx:410,fy:284,linkStrength:!1},{id:"789",label:["Rick Smith","Software Developer"],icon:"https://randomuser.me/api/portraits/thumb/men/21.jpg",fx:55,fy:60,linkStrength:!1},{id:"101112",label:["Jane Doe","13/09/1970"],icon:"https://randomuser.me/api/portraits/thumb/women/3.jpg",fx:null,fy:null,linkStrength:!1},{id:"131415",label:["Rebecca Jones","Doctor"],icon:"https://randomuser.me/api/portraits/thumb/women/66.jpg",fx:null,fy:null,linkStrength:!1}],links:[{source:"123",target:"456",label:["Worked at IBM","Both in same scrum team"],lineStyle:"Unconfirmed",sourceArrow:!1,targetArrow:!0,linkId:"123_456",relationships:[{linkIndex:0,label:"Worked at IBM",lineStyle:"Unconfirmed",source:"123",sourceArrow:!1,target:"456",targetArrow:!0,linkStrength:!1},{linkIndex:1,label:"Both in same scrum team",lineStyle:"Confirmed",source:"123",sourceArrow:!0,target:"456",targetArrow:!1,linkStrength:!1}]},{source:"456",target:"789",label:["Play in the same football team","Daughters in the same class at school","Went on a family holiday together last year"],lineStyle:"Confirmed",sourceArrow:!0,targetArrow:!0,linkId:"456_789",relationships:[{linkIndex:2,label:"Play in the same football team",lineStyle:"Confirmed",source:"456",sourceArrow:!1,target:"789",targetArrow:!0,linkStrength:!1},{linkIndex:3,label:"Daughters in the same class at school",lineStyle:"Confirmed",source:"456",sourceArrow:!0,target:"789",targetArrow:!1,linkStrength:!1},{linkIndex:4,label:"Went on a family holiday together last year",lineStyle:"Confirmed",source:"456",sourceArrow:!0,target:"789",targetArrow:!1,linkStrength:!1}]},{source:"789",target:"123",label:["Drink in the same pub","Drinking friends"],lineStyle:"Unconfirmed",sourceArrow:!0,targetArrow:!0,linkId:"789_123",relationships:[{linkIndex:5,label:"Drink in the same pub",lineStyle:"Unconfirmed",source:"789",sourceArrow:!1,target:"123",targetArrow:!0,linkStrength:!1},{linkIndex:6,label:"Drinking friends",lineStyle:"Unconfirmed",source:"789",sourceArrow:!0,target:"123",targetArrow:!1,linkStrength:!1}]},{source:"123",target:"101112",label:["Married"],lineStyle:"Confirmed",sourceArrow:!0,targetArrow:!0,linkId:"123_101112",relationships:[{linkIndex:7,label:"Married",lineStyle:"Unconfirmed",source:"123",sourceArrow:!0,target:"101112",targetArrow:!0,linkStrength:!1}]}]};var nX="5.16.0";function pa(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function l1(e){return 1===e.length&&(e=function rX(e){return function(t,n){return pa(e(t),n)}}(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}var zO=l1(pa),$O=zO.right,iX=zO.left;const fc=$O;function oX(e,t){null==t&&(t=GO);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o}function GO(e,t){return[e,t]}function sX(e,t,n){var s,a,c,u,r=e.length,i=t.length,o=new Array(r*i);for(null==n&&(n=GO),s=c=0;s<r;++s)for(u=e[s],a=0;a<i;++a,++c)o[c]=n(u,t[a]);return o}function aX(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function ga(e){return null===e?NaN:+e}function WO(e,t){var s,a,n=e.length,r=0,i=-1,o=0,c=0;if(null==t)for(;++i<n;)isNaN(s=ga(e[i]))||(c+=(a=s-o)*(s-(o+=a/++r)));else for(;++i<n;)isNaN(s=ga(t(e[i],i,e)))||(c+=(a=s-o)*(s-(o+=a/++r)));if(r>1)return c/(r-1)}function qO(e,t){var n=WO(e,t);return n&&Math.sqrt(n)}function d1(e,t){var i,o,s,n=e.length,r=-1;if(null==t){for(;++r<n;)if(null!=(i=e[r])&&i>=i)for(o=s=i;++r<n;)null!=(i=e[r])&&(o>i&&(o=i),s<i&&(s=i))}else for(;++r<n;)if(null!=(i=t(e[r],r,e))&&i>=i)for(o=s=i;++r<n;)null!=(i=t(e[r],r,e))&&(o>i&&(o=i),s<i&&(s=i));return[o,s]}var YO=Array.prototype,cX=YO.slice,uX=YO.map;function km(e){return function(){return e}}function lX(e){return e}function Li(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}var f1=Math.sqrt(50),h1=Math.sqrt(10),p1=Math.sqrt(2);function g1(e,t,n){var r,o,s,a,i=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=Tf(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),s=new Array(o=Math.ceil(t-e+1));++i<o;)s[i]=(e+i)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),s=new Array(o=Math.ceil(e-t+1));++i<o;)s[i]=(e-i)/a;return r&&s.reverse(),s}function Tf(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=f1?10:o>=h1?5:o>=p1?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=f1?10:o>=h1?5:o>=p1?2:1)}function hc(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=f1?i*=10:o>=h1?i*=5:o>=p1&&(i*=2),t<e?-i:i}function m1(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function dX(){var e=lX,t=d1,n=m1;function r(i){var o,a,s=i.length,c=new Array(s);for(o=0;o<s;++o)c[o]=e(i[o],o,i);var u=t(c),l=u[0],d=u[1],h=n(c,l,d);Array.isArray(h)||(h=hc(l,d,h),h=Li(Math.ceil(l/h)*h,d,h));for(var g=h.length;h[0]<=l;)h.shift(),--g;for(;h[g-1]>d;)h.pop(),--g;var y,m=new Array(g+1);for(o=0;o<=g;++o)(y=m[o]=[]).x0=o>0?h[o-1]:l,y.x1=o<g?h[o]:d;for(o=0;o<s;++o)l<=(a=c[o])&&a<=d&&m[fc(h,a,0,g)].push(i[o]);return m}return r.value=function(i){return arguments.length?(e="function"==typeof i?i:km(i),r):e},r.domain=function(i){return arguments.length?(t="function"==typeof i?i:km([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n="function"==typeof i?i:Array.isArray(i)?km(cX.call(i)):km(i),r):n},r}function kf(e,t,n){if(null==n&&(n=ga),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e);return s+(+n(e[o+1],o+1,e)-s)*(i-o)}}function fX(e,t,n){return e=uX.call(e,ga).sort(pa),Math.ceil((n-t)/(2*(kf(e,.75)-kf(e,.25))*Math.pow(e.length,-1/3)))}function hX(e,t,n){return Math.ceil((n-t)/(3.5*qO(e)*Math.pow(e.length,-1/3)))}function KO(e,t){var i,o,n=e.length,r=-1;if(null==t){for(;++r<n;)if(null!=(i=e[r])&&i>=i)for(o=i;++r<n;)null!=(i=e[r])&&i>o&&(o=i)}else for(;++r<n;)if(null!=(i=t(e[r],r,e))&&i>=i)for(o=i;++r<n;)null!=(i=t(e[r],r,e))&&i>o&&(o=i);return o}function pX(e,t){var o,n=e.length,r=n,i=-1,s=0;if(null==t)for(;++i<n;)isNaN(o=ga(e[i]))?--r:s+=o;else for(;++i<n;)isNaN(o=ga(t(e[i],i,e)))?--r:s+=o;if(r)return s/r}function gX(e,t){var i,n=e.length,r=-1,o=[];if(null==t)for(;++r<n;)isNaN(i=ga(e[r]))||o.push(i);else for(;++r<n;)isNaN(i=ga(t(e[r],r,e)))||o.push(i);return kf(o.sort(pa),.5)}function v1(e){for(var n,o,s,t=e.length,r=-1,i=0;++r<t;)i+=e[r].length;for(o=new Array(i);--t>=0;)for(n=(s=e[t]).length;--n>=0;)o[--i]=s[n];return o}function ZO(e,t){var i,o,n=e.length,r=-1;if(null==t){for(;++r<n;)if(null!=(i=e[r])&&i>=i)for(o=i;++r<n;)null!=(i=e[r])&&o>i&&(o=i)}else for(;++r<n;)if(null!=(i=t(e[r],r,e))&&i>=i)for(o=i;++r<n;)null!=(i=t(e[r],r,e))&&o>i&&(o=i);return o}function mX(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r}function vX(e,t){if(n=e.length){var n,o,r=0,i=0,s=e[i];for(null==t&&(t=pa);++r<n;)(t(o=e[r],s)<0||0!==t(s,s))&&(s=o,i=r);if(0===t(s,s))return i}}function yX(e,t,n){for(var i,o,r=(n??e.length)-(t=null==t?0:+t);r;)o=Math.random()*r--|0,i=e[r+t],e[r+t]=e[o+t],e[o+t]=i;return e}function _X(e,t){var i,n=e.length,r=-1,o=0;if(null==t)for(;++r<n;)(i=+e[r])&&(o+=i);else for(;++r<n;)(i=+t(e[r],r,e))&&(o+=i);return o}function XO(e){if(!(o=e.length))return[];for(var t=-1,n=ZO(e,bX),r=new Array(n);++t<n;)for(var o,i=-1,s=r[t]=new Array(o);++i<o;)s[i]=e[i][t];return r}function bX(e){return e.length}function wX(){return XO(arguments)}var y1=Array.prototype.slice;function EX(e){return e}var Nm=1,Om=2,_1=3,Nf=4,QO=1e-6;function CX(e){return"translate("+(e+.5)+",0)"}function DX(e){return"translate(0,"+(e+.5)+")"}function MX(e){return function(t){return+e(t)}}function xX(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function SX(){return!this.__axis}function Rm(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,c=e===Nm||e===Nf?-1:1,u=e===Nf||e===Om?"x":"y",l=e===Nm||e===_1?CX:DX;function d(h){var g=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):EX),y=Math.max(o,0)+a,_=t.range(),w=+_[0]+.5,C=+_[_.length-1]+.5,D=(t.bandwidth?xX:MX)(t.copy()),S=h.selection?h.selection():h,P=S.selectAll(".domain").data([null]),G=S.selectAll(".tick").data(g,t).order(),$=G.exit(),fe=G.enter().append("g").attr("class","tick"),ne=G.select("line"),de=G.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),G=G.merge(fe),ne=ne.merge(fe.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),de=de.merge(fe.append("text").attr("fill","currentColor").attr(u,c*y).attr("dy",e===Nm?"0em":e===_1?"0.71em":"0.32em")),h!==S&&(P=P.transition(h),G=G.transition(h),ne=ne.transition(h),de=de.transition(h),$=$.transition(h).attr("opacity",QO).attr("transform",function(re){return isFinite(re=D(re))?l(re):this.getAttribute("transform")}),fe.attr("opacity",QO).attr("transform",function(re){var A=this.parentNode.__axis;return l(A&&isFinite(A=A(re))?A:D(re))})),$.remove(),P.attr("d",e===Nf||e==Om?s?"M"+c*s+","+w+"H0.5V"+C+"H"+c*s:"M0.5,"+w+"V"+C:s?"M"+w+","+c*s+"V0.5H"+C+"V"+c*s:"M"+w+",0.5H"+C),G.attr("opacity",1).attr("transform",function(re){return l(D(re))}),ne.attr(u+"2",c*o),de.attr(u,c*y).text(m),S.filter(SX).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Om?"start":e===Nf?"end":"middle"),S.each(function(){this.__axis=D})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=y1.call(arguments),d},d.tickArguments=function(h){return arguments.length?(n=null==h?[]:y1.call(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=null==h?null:y1.call(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=s=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(s=+h,d):s},d.tickPadding=function(h){return arguments.length?(a=+h,d):a},d}function IX(e){return Rm(Nm,e)}function AX(e){return Rm(Om,e)}function TX(e){return Rm(_1,e)}function kX(e){return Rm(Nf,e)}var NX={value:function(){}};function JO(){for(var r,e=0,t=arguments.length,n={};e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Pm(n)}function Pm(e){this._=e}function RX(e,t){for(var i,n=0,r=e.length;n<r;++n)if((i=e[n]).name===t)return i.value}function eR(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=NX,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Pm.prototype=JO.prototype={constructor:Pm,on:function(e,t){var i,n=this._,r=function OX(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}(e+"",n),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=eR(n[i],e.name,t);else if(null==t)for(i in n)n[i]=eR(n[i],e.name,null);return this}for(;++o<s;)if((i=(e=r[o]).type)&&(i=RX(n[i],e.name)))return i},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Pm(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var i,o,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,i=(o=this._[e]).length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const rl=JO;function PX(){}function Fm(e){return null==e?PX:function(){return this.querySelector(e)}}function LX(){return[]}function b1(e){return null==e?LX:function(){return this.querySelectorAll(e)}}function w1(e){return function(){return this.matches(e)}}function tR(e){return new Array(e.length)}function Lm(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Lm.prototype={constructor:Lm,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function UX(e,t,n,r,i,o){for(var a,s=0,c=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Lm(e,o[s]);for(;s<c;++s)(a=t[s])&&(i[s]=a)}function zX(e,t,n,r,i,o,s){var a,c,g,u={},l=t.length,d=o.length,h=new Array(l);for(a=0;a<l;++a)(c=t[a])&&(h[a]=g="$"+s.call(c,c.__data__,a,t),g in u?i[a]=c:u[g]=c);for(a=0;a<d;++a)(c=u[g="$"+s.call(e,o[a],a,o)])?(r[a]=c,c.__data__=o[a],u[g]=null):n[a]=new Lm(e,o[a]);for(a=0;a<l;++a)(c=t[a])&&u[h[a]]===c&&(i[a]=c)}function ZX(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var E1="http://www.w3.org/1999/xhtml";const C1={svg:"http://www.w3.org/2000/svg",xhtml:E1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Of(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),C1.hasOwnProperty(t)?{space:C1[t],local:e}:e}function rQ(e){return function(){this.removeAttribute(e)}}function iQ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function oQ(e,t){return function(){this.setAttribute(e,t)}}function sQ(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function aQ(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function cQ(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function D1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lQ(e){return function(){this.style.removeProperty(e)}}function dQ(e,t,n){return function(){this.style.setProperty(e,t,n)}}function fQ(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function pc(e,t){return e.style.getPropertyValue(t)||D1(e).getComputedStyle(e,null).getPropertyValue(t)}function pQ(e){return function(){delete this[e]}}function gQ(e,t){return function(){this[e]=t}}function mQ(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function rR(e){return e.trim().split(/^|\s+/)}function M1(e){return e.classList||new iR(e)}function iR(e){this._node=e,this._names=rR(e.getAttribute("class")||"")}function oR(e,t){for(var n=M1(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function sR(e,t){for(var n=M1(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function yQ(e){return function(){oR(this,e)}}function _Q(e){return function(){sR(this,e)}}function bQ(e,t){return function(){(t.apply(this,arguments)?oR:sR)(this,e)}}function EQ(){this.textContent=""}function CQ(e){return function(){this.textContent=e}}function DQ(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function xQ(){this.innerHTML=""}function SQ(e){return function(){this.innerHTML=e}}function IQ(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function TQ(){this.nextSibling&&this.parentNode.appendChild(this)}function NQ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function RQ(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===E1&&t.documentElement.namespaceURI===E1?t.createElement(e):t.createElementNS(n,e)}}function PQ(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Vm(e){var t=Of(e);return(t.local?PQ:RQ)(t)}function LQ(){return null}function BQ(){var e=this.parentNode;e&&e.removeChild(this)}function HQ(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function UQ(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}iR.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var aR={},Ke=null;function WQ(e,t,n){return e=cR(e,t,n),function(r){var i=r.relatedTarget;(!i||i!==this&&!(8&i.compareDocumentPosition(this)))&&e.call(this,r)}}function cR(e,t,n){return function(r){var i=Ke;Ke=r;try{e.call(this,this.__data__,t,n)}finally{Ke=i}}}function YQ(e){return function(){var t=this.__on;if(t){for(var o,n=0,r=-1,i=t.length;n<i;++n)o=t[n],e.type&&o.type!==e.type||o.name!==e.name?t[++r]=o:this.removeEventListener(o.type,o.listener,o.capture);++r?t.length=r:delete this.__on}}}function KQ(e,t,n){var r=aR.hasOwnProperty(e.type)?WQ:cR;return function(i,o,s){var c,a=this.__on,u=r(t,o,s);if(a)for(var l=0,d=a.length;l<d;++l)if((c=a[l]).type===e.type&&c.name===e.name)return this.removeEventListener(c.type,c.listener,c.capture),this.addEventListener(c.type,c.listener=u,c.capture=n),void(c.value=t);this.addEventListener(e.type,u,n),c={type:e.type,name:e.name,value:t,listener:u,capture:n},a?a.push(c):this.__on=[c]}}function Rf(e,t,n,r){var i=Ke;e.sourceEvent=Ke,Ke=e;try{return t.apply(n,r)}finally{Ke=i}}function uR(e,t,n){var r=D1(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function XQ(e,t){return function(){return uR(this,e,t)}}function QQ(e,t){return function(){return uR(this,e,t.apply(this,arguments))}}typeof document<"u"&&("onmouseenter"in document.documentElement||(aR={mouseenter:"mouseover",mouseleave:"mouseout"}));var x1=[null];function ci(e,t){this._groups=e,this._parents=t}function lR(){return new ci([[document.documentElement]],x1)}ci.prototype=lR.prototype={constructor:ci,select:function FX(e){"function"!=typeof e&&(e=Fm(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var c,u,o=t[i],s=o.length,a=r[i]=new Array(s),l=0;l<s;++l)(c=o[l])&&(u=e.call(c,c.__data__,l,o))&&("__data__"in c&&(u.__data__=c.__data__),a[l]=u);return new ci(r,this._parents)},selectAll:function VX(e){"function"!=typeof e&&(e=b1(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var c,s=t[o],a=s.length,u=0;u<a;++u)(c=s[u])&&(r.push(e.call(c,c.__data__,u,s)),i.push(c));return new ci(r,i)},filter:function BX(e){"function"!=typeof e&&(e=w1(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var c,o=t[i],s=o.length,a=r[i]=[],u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new ci(r,this._parents)},data:function $X(e,t){if(!e)return g=new Array(this.size()),u=-1,this.each(function(G){g[++u]=G}),g;var n=t?zX:UX,r=this._parents,i=this._groups;"function"!=typeof e&&(e=function HX(e){return function(){return e}}(e));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var l=r[u],d=i[u],h=d.length,g=e.call(l,l&&l.__data__,u,r),m=g.length,y=a[u]=new Array(m),_=s[u]=new Array(m);n(l,d,y,_,c[u]=new Array(h),g,t);for(var S,P,C=0,D=0;C<m;++C)if(S=y[C]){for(C>=D&&(D=C+1);!(P=_[D])&&++D<m;);S._next=P||null}}return(s=new ci(s,r))._enter=a,s._exit=c,s},enter:function jX(){return new ci(this._enter||this._groups.map(tR),this._parents)},exit:function GX(){return new ci(this._exit||this._groups.map(tR),this._parents)},join:function WX(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function qX(e){for(var t=this._groups,n=e._groups,r=t.length,o=Math.min(r,n.length),s=new Array(r),a=0;a<o;++a)for(var h,c=t[a],u=n[a],l=c.length,d=s[a]=new Array(l),g=0;g<l;++g)(h=c[g]||u[g])&&(d[g]=h);for(;a<r;++a)s[a]=t[a];return new ci(s,this._parents)},order:function YX(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s,r=e[t],i=r.length-1,o=r[i];--i>=0;)(s=r[i])&&(o&&4^s.compareDocumentPosition(o)&&o.parentNode.insertBefore(s,o),o=s);return this},sort:function KX(e){function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}e||(e=ZX);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var u,s=n[o],a=s.length,c=i[o]=new Array(a),l=0;l<a;++l)(u=s[l])&&(c[l]=u);c.sort(t)}return new ci(i,this._parents).order()},call:function XX(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function QX(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function JX(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function eQ(){var e=0;return this.each(function(){++e}),e},empty:function tQ(){return!this.node()},each:function nQ(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,i=t[n],o=0,s=i.length;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this},attr:function uQ(e,t){var n=Of(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?iQ:rQ:"function"==typeof t?n.local?cQ:aQ:n.local?sQ:oQ)(n,t))},style:function hQ(e,t,n){return arguments.length>1?this.each((null==t?lQ:"function"==typeof t?fQ:dQ)(e,t,n??"")):pc(this.node(),e)},property:function vQ(e,t){return arguments.length>1?this.each((null==t?pQ:"function"==typeof t?mQ:gQ)(e,t)):this.node()[e]},classed:function wQ(e,t){var n=rR(e+"");if(arguments.length<2){for(var r=M1(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?bQ:t?yQ:_Q)(n,t))},text:function MQ(e){return arguments.length?this.each(null==e?EQ:("function"==typeof e?DQ:CQ)(e)):this.node().textContent},html:function AQ(e){return arguments.length?this.each(null==e?xQ:("function"==typeof e?IQ:SQ)(e)):this.node().innerHTML},raise:function kQ(){return this.each(TQ)},lower:function OQ(){return this.each(NQ)},append:function FQ(e){var t="function"==typeof e?e:Vm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function VQ(e,t){var n="function"==typeof e?e:Vm(e),r=null==t?LQ:"function"==typeof t?t:Fm(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function jQ(){return this.each(BQ)},clone:function zQ(e){return this.select(e?UQ:HQ)},datum:function $Q(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function ZQ(e,t,n){var i,s,r=function qQ(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}(e+""),o=r.length;if(!(arguments.length<2)){for(a=t?KQ:YQ,null==n&&(n=!1),i=0;i<o;++i)this.each(a(r[i],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(i=0,l=a[c];i<o;++i)if((s=r[i]).type===l.type&&s.name===l.name)return l.value},dispatch:function JQ(e,t){return this.each(("function"==typeof t?QQ:XQ)(e,t))}};const il=lR;function Xt(e){return"string"==typeof e?new ci([[document.querySelector(e)]],[document.documentElement]):new ci([[e]],x1)}function S1(){Ke.stopImmediatePropagation()}function ol(){Ke.preventDefault(),Ke.stopImmediatePropagation()}function Bm(e){var t=e.document.documentElement,n=Xt(e).on("dragstart.drag",ol,!0);"onselectstart"in t?n.on("selectstart.drag",ol,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jm(e,t){var n=e.document.documentElement,r=Xt(e).on("dragstart.drag",null);t&&(r.on("click.drag",ol,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function sl(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Pf(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ma(){}var al=1/.7,cl="\\s*([+-]?\\d+)\\s*",Ff="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",cs="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eJ=/^#([0-9a-f]{3,8})$/,tJ=new RegExp("^rgb\\("+[cl,cl,cl]+"\\)$"),nJ=new RegExp("^rgb\\("+[cs,cs,cs]+"\\)$"),rJ=new RegExp("^rgba\\("+[cl,cl,cl,Ff]+"\\)$"),iJ=new RegExp("^rgba\\("+[cs,cs,cs,Ff]+"\\)$"),oJ=new RegExp("^hsl\\("+[Ff,cs,cs]+"\\)$"),sJ=new RegExp("^hsla\\("+[Ff,cs,cs,Ff]+"\\)$"),dR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function fR(){return this.rgb().formatHex()}function hR(){return this.rgb().formatRgb()}function va(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=eJ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?pR(t):3===n?new Rr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Hm(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Hm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=tJ.exec(e))?new Rr(t[1],t[2],t[3],1):(t=nJ.exec(e))?new Rr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=rJ.exec(e))?Hm(t[1],t[2],t[3],t[4]):(t=iJ.exec(e))?Hm(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=oJ.exec(e))?vR(t[1],t[2]/100,t[3]/100,1):(t=sJ.exec(e))?vR(t[1],t[2]/100,t[3]/100,t[4]):dR.hasOwnProperty(e)?pR(dR[e]):"transparent"===e?new Rr(NaN,NaN,NaN,0):null}function pR(e){return new Rr(e>>16&255,e>>8&255,255&e,1)}function Hm(e,t,n,r){return r<=0&&(e=t=n=NaN),new Rr(e,t,n,r)}function I1(e){return e instanceof ma||(e=va(e)),e?new Rr((e=e.rgb()).r,e.g,e.b,e.opacity):new Rr}function ul(e,t,n,r){return 1===arguments.length?I1(e):new Rr(e,t,n,r??1)}function Rr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function gR(){return"#"+A1(this.r)+A1(this.g)+A1(this.b)}function mR(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function A1(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function vR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new us(e,t,n,r)}function yR(e){if(e instanceof us)return new us(e.h,e.s,e.l,e.opacity);if(e instanceof ma||(e=va(e)),!e)return new us;if(e instanceof us)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new us(s,a,c,e.opacity)}function Um(e,t,n,r){return 1===arguments.length?yR(e):new us(e,t,n,r??1)}function us(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function T1(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function _R(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function bR(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1];return _R((n-r/t)*t,r>0?e[r-1]:2*i-o,i,o,r<t-1?e[r+2]:2*o-i)}}function wR(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t);return _R((n-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}}function zm(e){return function(){return e}}function ER(e,t){return function(n){return e+n*t}}function $m(e,t){var n=t-e;return n?ER(e,n>180||n<-180?n-360*Math.round(n/360):n):zm(isNaN(e)?t:e)}function kr(e,t){var n=t-e;return n?ER(e,n):zm(isNaN(e)?t:e)}sl(ma,va,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:fR,formatHex:fR,formatHsl:function aJ(){return yR(this).formatHsl()},formatRgb:hR,toString:hR}),sl(Rr,ul,Pf(ma,{brighter:function(e){return e=null==e?al:Math.pow(al,e),new Rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gR,formatHex:gR,formatRgb:mR,toString:mR})),sl(us,Um,Pf(ma,{brighter:function(e){return e=null==e?al:Math.pow(al,e),new us(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new us(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Rr(T1(e>=240?e-240:e+120,i,r),T1(e,i,r),T1(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const Lf=function e(t){var n=function uJ(e){return 1==(e=+e)?kr:function(t,n){return n-t?function cJ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):zm(isNaN(t)?n:t)}}(t);function r(i,o){var s=n((i=ul(i)).r,(o=ul(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=kr(i.opacity,o.opacity);return function(l){return i.r=s(l),i.g=a(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=e,r}(1);function CR(e){return function(t){var s,a,n=t.length,r=new Array(n),i=new Array(n),o=new Array(n);for(s=0;s<n;++s)a=ul(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(c){return a.r=r(c),a.g=i(c),a.b=o(c),a+""}}}var DR=CR(bR),lJ=CR(wR);function k1(e,t){t||(t=[]);var i,n=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function MR(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dJ(e,t){return(MR(t)?k1:xR)(e,t)}function xR(e,t){var s,n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n);for(s=0;s<r;++s)i[s]=Vf(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function SR(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Zi(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function IR(e,t){var i,n={},r={};for(i in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)i in e?n[i]=Vf(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var N1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O1=new RegExp(N1.source,"g");function R1(e,t){var r,i,o,n=N1.lastIndex=O1.lastIndex=0,s=-1,a=[],c=[];for(e+="",t+="";(r=N1.exec(e))&&(i=O1.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:Zi(r,i)})),n=O1.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?function hJ(e){return function(t){return e(t)+""}}(c[0].x):function fJ(e){return function(){return e}}(t):(t=c.length,function(u){for(var d,l=0;l<t;++l)a[(d=c[l]).i]=d.x(u);return a.join("")})}function Vf(e,t){var r,n=typeof t;return null==t||"boolean"===n?zm(t):("number"===n?Zi:"string"===n?(r=va(t))?(t=r,Lf):R1:t instanceof va?Lf:t instanceof Date?SR:MR(t)?k1:Array.isArray(t)?xR:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?IR:Zi)(e,t)}function P1(){for(var t,e=Ke;t=e.sourceEvent;)e=t;return e}function Gm(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}function Bf(e,t,n){arguments.length<3&&(n=t,t=P1().changedTouches);for(var o,r=0,i=t?t.length:0;r<i;++r)if((o=t[r]).identifier===n)return Gm(e,o);return null}function mc(e){var t=P1();return t.changedTouches&&(t=t.changedTouches[0]),Gm(e,t)}var Wm,Uf,ll=0,jf=0,Hf=0,AR=1e3,qm=0,vc=0,Ym=0,zf="object"==typeof performance&&performance.now?performance:Date,TR="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function dl(){return vc||(TR(pJ),vc=zf.now()+Ym)}function pJ(){vc=0}function $f(){this._call=this._time=this._next=null}function Km(e,t,n){var r=new $f;return r.restart(e,t,n),r}function kR(){dl(),++ll;for(var t,e=Wm;e;)(t=vc-e._time)>=0&&e._call.call(null,t),e=e._next;--ll}function NR(){vc=(qm=zf.now())+Ym,ll=jf=0;try{kR()}finally{ll=0,function mJ(){for(var e,n,t=Wm,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Wm=n);Uf=e,F1(r)}(),vc=0}}function gJ(){var e=zf.now(),t=e-qm;t>AR&&(Ym-=t,qm=e)}function F1(e){ll||(jf&&(jf=clearTimeout(jf)),e-vc>24?(e<1/0&&(jf=setTimeout(NR,e-zf.now()-Ym)),Hf&&(Hf=clearInterval(Hf))):(Hf||(qm=zf.now(),Hf=setInterval(gJ,AR)),ll=1,TR(NR)))}function L1(e,t,n){var r=new $f;return r.restart(function(i){r.stop(),e(i+t)},t=null==t?0:+t,n),r}$f.prototype=Km.prototype={constructor:$f,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?dl():+n)+(null==t?0:+t),!this._next&&Uf!==this&&(Uf?Uf._next=this:Wm=this,Uf=this),this._call=e,this._time=n,F1()},stop:function(){this._call&&(this._call=null,this._time=1/0,F1())}};var vJ=rl("start","end","cancel","interrupt"),yJ=[],OR=0,V1=1,B1=2,Zm=3,j1=5,Xm=6;function Qm(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function _J(e,t,n){var i,r=e.__transition;function s(u){var l,d,h,g;if(n.state!==V1)return c();for(l in r)if((g=r[l]).name===n.name){if(g.state===Zm)return L1(s);4===g.state?(g.state=Xm,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[l]):+l<t&&(g.state=Xm,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[l])}if(L1(function(){n.state===Zm&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=B1,n.on.call("start",e,e.__data__,n.index,n.group),n.state===B1){for(n.state=Zm,i=new Array(h=n.tween.length),l=0,d=-1;l<h;++l)(g=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=g);i.length=d+1}}function a(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=j1,1),d=-1,h=i.length;++d<h;)i[d].call(e,l);n.state===j1&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){for(var u in n.state=Xm,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=Km(function o(u){n.state=V1,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:i,on:vJ,tween:yJ,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:OR})}function H1(e,t){var n=Mo(e,t);if(n.state>OR)throw new Error("too late; already scheduled");return n}function Vs(e,t){var n=Mo(e,t);if(n.state>Zm)throw new Error("too late; already running");return n}function Mo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function yc(e,t){var r,i,s,n=e.__transition,o=!0;if(n){for(s in t=null==t?null:t+"",n)(r=n[s]).name===t?(i=r.state>B1&&r.state<j1,r.state=Xm,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]):o=!1;o&&delete e.__transition}}var Gf,z1,LR,Jm,PR=180/Math.PI,U1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function FR(e,t,n,r,i,o){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*PR,skewX:Math.atan(c)*PR,scaleX:s,scaleY:a}}function VR(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}return function(u,l){var d=[],h=[];return u=e(u),l=e(l),function o(u,l,d,h,g,m){if(u!==d||l!==h){var y=g.push("translate(",null,t,null,n);m.push({i:y-4,x:Zi(u,d)},{i:y-2,x:Zi(l,h)})}else(d||h)&&g.push("translate("+d+t+h+n)}(u.translateX,u.translateY,l.translateX,l.translateY,d,h),function s(u,l,d,h){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Zi(u,l)})):l&&d.push(i(d)+"rotate("+l+r)}(u.rotate,l.rotate,d,h),function a(u,l,d,h){u!==l?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Zi(u,l)}):l&&d.push(i(d)+"skewX("+l+r)}(u.skewX,l.skewX,d,h),function c(u,l,d,h,g,m){if(u!==d||l!==h){var y=g.push(i(g)+"scale(",null,",",null,")");m.push({i:y-4,x:Zi(u,d)},{i:y-2,x:Zi(l,h)})}else(1!==d||1!==h)&&g.push(i(g)+"scale("+d+","+h+")")}(u.scaleX,u.scaleY,l.scaleX,l.scaleY,d,h),u=l=null,function(g){for(var _,m=-1,y=h.length;++m<y;)d[(_=h[m]).i]=_.x(g);return d.join("")}}}var BR=VR(function wJ(e){return"none"===e?U1:(Gf||(Gf=document.createElement("DIV"),z1=document.documentElement,LR=document.defaultView),Gf.style.transform=e,e=LR.getComputedStyle(z1.appendChild(Gf),null).getPropertyValue("transform"),z1.removeChild(Gf),FR(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),jR=VR(function EJ(e){return null!=e&&(Jm||(Jm=document.createElementNS("http://www.w3.org/2000/svg","g")),Jm.setAttribute("transform",e),e=Jm.transform.baseVal.consolidate())?FR((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):U1},", ",")",")");function CJ(e,t){var n,r;return function(){var i=Vs(this,e),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function DJ(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Vs(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=a;break}c===u&&i.push(a)}o.tween=i}}function $1(e,t,n){var r=e._id;return e.each(function(){var i=Vs(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Mo(i,r).value[t]}}function HR(e,t){var n;return("number"==typeof t?Zi:t instanceof va?Lf:(n=va(t))?(t=n,Lf):R1)(e,t)}function xJ(e){return function(){this.removeAttribute(e)}}function SJ(e){return function(){this.removeAttributeNS(e.space,e.local)}}function IJ(e,t,n){var r,o,i=n+"";return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function AJ(e,t,n){var r,o,i=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function TJ(e,t,n){var r,i,o;return function(){var s,c,a=n(this);return null==a?void this.removeAttribute(e):(s=this.getAttribute(e))===(c=a+"")?null:s===r&&c===i?o:(i=c,o=t(r=s,a))}}function kJ(e,t,n){var r,i,o;return function(){var s,c,a=n(this);return null==a?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local))===(c=a+"")?null:s===r&&c===i?o:(i=c,o=t(r=s,a))}}function PJ(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function RJ(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return i._value=t,i}function FJ(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function OJ(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return i._value=t,i}function VJ(e,t){return function(){H1(this,e).delay=+t.apply(this,arguments)}}function BJ(e,t){return t=+t,function(){H1(this,e).delay=t}}function HJ(e,t){return function(){Vs(this,e).duration=+t.apply(this,arguments)}}function UJ(e,t){return t=+t,function(){Vs(this,e).duration=t}}var tee=il.prototype.constructor;function UR(e){return function(){this.style.removeProperty(e)}}var _ee=0;function ls(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function G1(e){return il().transition(e)}function zR(){return++_ee}var fl=il.prototype;function bee(e){return e*e*e}function wee(e){return--e*e*e+1}function W1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}ls.prototype=G1.prototype={constructor:ls,select:function JJ(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Fm(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l,d,a=r[s],c=a.length,u=o[s]=new Array(c),h=0;h<c;++h)(l=a[h])&&(d=e.call(l,l.__data__,h,a))&&("__data__"in l&&(d.__data__=l.__data__),u[h]=d,Qm(u[h],t,n,h,u,Mo(l,n)));return new ls(o,this._parents,t,n)},selectAll:function eee(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=b1(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var g,h=e.call(l,l.__data__,d,c),m=Mo(l,n),y=0,_=h.length;y<_;++y)(g=h[y])&&Qm(g,t,n,y,h,m);o.push(h),s.push(l)}return new ls(o,s,t,n)},filter:function WJ(e){"function"!=typeof e&&(e=w1(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var c,o=t[i],s=o.length,a=r[i]=[],u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new ls(r,this._parents,this._name,this._id)},merge:function qJ(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=Math.min(r,n.length),s=new Array(r),a=0;a<o;++a)for(var h,c=t[a],u=n[a],l=c.length,d=s[a]=new Array(l),g=0;g<l;++g)(h=c[g]||u[g])&&(d[g]=h);for(;a<r;++a)s[a]=t[a];return new ls(s,this._parents,this._name,this._id)},selection:function nee(){return new tee(this._groups,this._parents)},transition:function vee(){for(var e=this._name,t=this._id,n=zR(),r=this._groups,i=r.length,o=0;o<i;++o)for(var c,s=r[o],a=s.length,u=0;u<a;++u)if(c=s[u]){var l=Mo(c,t);Qm(c,e,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new ls(r,this._parents,e,n)},call:fl.call,nodes:fl.nodes,node:fl.node,size:fl.size,empty:fl.empty,each:fl.each,on:function ZJ(e,t){var n=this._id;return arguments.length<2?Mo(this.node(),n).on.on(e):this.each(function KJ(e,t,n){var r,i,o=function YJ(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(t)?H1:Vs;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function NJ(e,t){var n=Of(e),r="transform"===n?jR:HR;return this.attrTween(e,"function"==typeof t?(n.local?kJ:TJ)(n,r,$1(this,"attr."+e,t)):null==t?(n.local?SJ:xJ)(n):(n.local?AJ:IJ)(n,r,t))},attrTween:function LJ(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Of(e);return this.tween(n,(r.local?PJ:FJ)(r,t))},style:function aee(e,t,n){var r="transform"==(e+="")?BR:HR;return null==t?this.styleTween(e,function ree(e,t){var n,r,i;return function(){var o=pc(this,e),s=(this.style.removeProperty(e),pc(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}(e,r)).on("end.style."+e,UR(e)):"function"==typeof t?this.styleTween(e,function oee(e,t,n){var r,i,o;return function(){var s=pc(this,e),a=n(this),c=a+"";return null==a&&(this.style.removeProperty(e),c=a=pc(this,e)),s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a))}}(e,r,$1(this,"style."+e,t))).each(function see(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var c=Vs(this,e),u=c.on,l=null==c.value[o]?a||(a=UR(t)):void 0;(u!==n||i!==l)&&(r=(n=u).copy()).on(s,i=l),c.on=r}}(this._id,e)):this.styleTween(e,function iee(e,t,n){var r,o,i=n+"";return function(){var s=pc(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function lee(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function uee(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&function cee(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,s,n)),r}return o._value=t,o}(e,t,n??""))},text:function hee(e){return this.tween("text","function"==typeof e?function fee(e){return function(){var t=e(this);this.textContent=t??""}}($1(this,"text",e)):function dee(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function mee(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function gee(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&function pee(e){return function(t){this.textContent=e.call(this,t)}}(i)),t}return r._value=e,r}(e))},remove:function QJ(){return this.on("end.remove",function XJ(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function MJ(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s,r=Mo(this.node(),n).tween,i=0,o=r.length;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((null==t?CJ:DJ)(n,e,t))},delay:function jJ(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?VJ:BJ)(t,e)):Mo(this.node(),t).delay},duration:function zJ(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?HJ:UJ)(t,e)):Mo(this.node(),t).duration},ease:function GJ(e){var t=this._id;return arguments.length?this.each(function $J(e,t){if("function"!=typeof t)throw new Error;return function(){Vs(this,e).ease=t}}(t,e)):Mo(this.node(),t).ease},end:function yee(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){0==--i&&o()}};n.each(function(){var u=Vs(this,r),l=u.on;l!==e&&((t=(e=l).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t})})}};var q1={time:null,delay:0,duration:250,ease:W1};function Eee(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return q1.time=dl(),q1;return n}il.prototype.interrupt=function bJ(e){return this.each(function(){yc(this,e)})},il.prototype.transition=function Cee(e){var t,n;e instanceof ls?(t=e._id,e=e._name):(t=zR(),(n=q1).time=dl(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var c,s=r[o],a=s.length,u=0;u<a;++u)(c=s[u])&&Qm(c,e,t,u,s,n||Eee(c,t));return new ls(r,this._parents,e,t)};var Dee=[null];function Mee(e,t){var r,i,n=e.__transition;if(n)for(i in t=null==t?null:t+"",n)if((r=n[i]).state>V1&&r.name===t)return new ls([[e]],Dee,t,+i);return null}function Y1(e){return function(){return e}}function xee(e,t,n){this.target=e,this.type=t,this.selection=n}function $R(){Ke.stopImmediatePropagation()}function K1(){Ke.preventDefault(),Ke.stopImmediatePropagation()}var GR={name:"drag"},Z1={name:"space"},hl={name:"handle"},pl={name:"center"};function WR(e){return[+e[0],+e[1]]}function X1(e){return[WR(e[0]),WR(e[1])]}var ev={name:"x",handles:["w","e"].map(Wf),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},tv={name:"y",handles:["n","s"].map(Wf),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Iee={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Wf),input:function(e){return null==e?null:X1(e)},output:function(e){return e}},Bs={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},qR={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},YR={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Aee={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Tee={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Wf(e){return{type:e}}function kee(){return!Ke.ctrlKey&&!Ke.button}function Nee(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Oee(){return navigator.maxTouchPoints||"ontouchstart"in this}function Q1(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Pee(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function Fee(){return J1(ev)}function Lee(){return J1(tv)}function KR(){return J1(Iee)}function J1(e){var a,t=Nee,n=kee,r=Oee,i=!0,o=rl("start","brush","end"),s=6;function c(_){var w=_.property("__brush",y).selectAll(".overlay").data([Wf("overlay")]);w.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Bs.overlay).merge(w).each(function(){var D=Q1(this).extent;Xt(this).attr("x",D[0][0]).attr("y",D[0][1]).attr("width",D[1][0]-D[0][0]).attr("height",D[1][1]-D[0][1])}),_.selectAll(".selection").data([Wf("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Bs.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var C=_.selectAll(".handle").data(e.handles,function(D){return D.type});C.exit().remove(),C.enter().append("rect").attr("class",function(D){return"handle handle--"+D.type}).attr("cursor",function(D){return Bs[D.type]}),_.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function u(){var _=Xt(this),w=Q1(this).selection;w?(_.selectAll(".selection").style("display",null).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1]),_.selectAll(".handle").style("display",null).attr("x",function(C){return"e"===C.type[C.type.length-1]?w[1][0]-s/2:w[0][0]-s/2}).attr("y",function(C){return"s"===C.type[0]?w[1][1]-s/2:w[0][1]-s/2}).attr("width",function(C){return"n"===C.type||"s"===C.type?w[1][0]-w[0][0]+s:s}).attr("height",function(C){return"e"===C.type||"w"===C.type?w[1][1]-w[0][1]+s:s})):_.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(_,w,C){var D=_.__brush.emitter;return!D||C&&D.clean?new d(_,w,C):D}function d(_,w,C){this.that=_,this.args=w,this.state=_.__brush,this.active=0,this.clean=C}function h(){if((!a||Ke.touches)&&n.apply(this,arguments)){var ne,de,A,ee,Q,we,Je,ct,kn,tn,Gn,_=this,w=Ke.target.__data__.type,C="selection"===(i&&Ke.metaKey?w="overlay":w)?GR:i&&Ke.altKey?pl:hl,D=e===tv?null:Aee[w],S=e===ev?null:Tee[w],P=Q1(_),G=P.extent,$=P.selection,fe=G[0][0],re=G[0][1],Se=G[1][0],it=G[1][1],st=0,pt=0,bn=D&&S&&i&&Ke.shiftKey,oe=Ke.touches?function See(e){return function(t){return Bf(t,Ke.touches,e)}}(Ke.changedTouches[0].identifier):mc,tt=oe(_),dt=tt,xe=l(_,arguments,!0).beforestart();"overlay"===w?($&&(kn=!0),P.selection=$=[[ne=e===tv?fe:tt[0],A=e===ev?re:tt[1]],[Q=e===tv?Se:ne,Je=e===ev?it:A]]):(ne=$[0][0],A=$[0][1],Q=$[1][0],Je=$[1][1]),de=ne,ee=A,we=Q,ct=Je;var He=Xt(_).attr("pointer-events","none"),wt=He.selectAll(".overlay").attr("cursor",Bs[w]);if(Ke.touches)xe.moved=jt,xe.ended=hn;else{var Ee=Xt(Ke.view).on("mousemove.brush",jt,!0).on("mouseup.brush",hn,!0);i&&Ee.on("keydown.brush",function jn(){switch(Ke.keyCode){case 16:bn=D&&S;break;case 18:C===hl&&(D&&(Q=we-st*D,ne=de+st*D),S&&(Je=ct-pt*S,A=ee+pt*S),C=pl,Ht());break;case 32:(C===hl||C===pl)&&(D<0?Q=we-st:D>0&&(ne=de-st),S<0?Je=ct-pt:S>0&&(A=ee-pt),C=Z1,wt.attr("cursor",Bs.selection),Ht());break;default:return}K1()},!0).on("keyup.brush",function gr(){switch(Ke.keyCode){case 16:bn&&(tn=Gn=bn=!1,Ht());break;case 18:C===pl&&(D<0?Q=we:D>0&&(ne=de),S<0?Je=ct:S>0&&(A=ee),C=hl,Ht());break;case 32:C===Z1&&(Ke.altKey?(D&&(Q=we-st*D,ne=de+st*D),S&&(Je=ct-pt*S,A=ee+pt*S),C=pl):(D<0?Q=we:D>0&&(ne=de),S<0?Je=ct:S>0&&(A=ee),C=hl),wt.attr("cursor",Bs[w]),Ht());break;default:return}K1()},!0),Bm(Ke.view)}$R(),yc(_),u.call(_),xe.start()}function jt(){var En=oe(_);bn&&!tn&&!Gn&&(Math.abs(En[0]-dt[0])>Math.abs(En[1]-dt[1])?Gn=!0:tn=!0),dt=En,kn=!0,K1(),Ht()}function Ht(){var En;switch(st=dt[0]-tt[0],pt=dt[1]-tt[1],C){case Z1:case GR:D&&(st=Math.max(fe-ne,Math.min(Se-Q,st)),de=ne+st,we=Q+st),S&&(pt=Math.max(re-A,Math.min(it-Je,pt)),ee=A+pt,ct=Je+pt);break;case hl:D<0?(st=Math.max(fe-ne,Math.min(Se-ne,st)),de=ne+st,we=Q):D>0&&(st=Math.max(fe-Q,Math.min(Se-Q,st)),de=ne,we=Q+st),S<0?(pt=Math.max(re-A,Math.min(it-A,pt)),ee=A+pt,ct=Je):S>0&&(pt=Math.max(re-Je,Math.min(it-Je,pt)),ee=A,ct=Je+pt);break;case pl:D&&(de=Math.max(fe,Math.min(Se,ne-st*D)),we=Math.max(fe,Math.min(Se,Q+st*D))),S&&(ee=Math.max(re,Math.min(it,A-pt*S)),ct=Math.max(re,Math.min(it,Je+pt*S)))}we<de&&(D*=-1,En=ne,ne=Q,Q=En,En=de,de=we,we=En,w in qR&&wt.attr("cursor",Bs[w=qR[w]])),ct<ee&&(S*=-1,En=A,A=Je,Je=En,En=ee,ee=ct,ct=En,w in YR&&wt.attr("cursor",Bs[w=YR[w]])),P.selection&&($=P.selection),tn&&(de=$[0][0],we=$[1][0]),Gn&&(ee=$[0][1],ct=$[1][1]),($[0][0]!==de||$[0][1]!==ee||$[1][0]!==we||$[1][1]!==ct)&&(P.selection=[[de,ee],[we,ct]],u.call(_),xe.brush())}function hn(){if($R(),Ke.touches){if(Ke.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else jm(Ke.view,kn),Ee.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);He.attr("pointer-events","all"),wt.attr("cursor",Bs.overlay),P.selection&&($=P.selection),function Ree(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}($)&&(P.selection=null,u.call(_)),xe.end()}}function g(){l(this,arguments).moved()}function m(){l(this,arguments).ended()}function y(){var _=this.__brush||{selection:null};return _.extent=X1(t.apply(this,arguments)),_.dim=e,_}return c.move=function(_,w){_.selection?_.on("start.brush",function(){l(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){l(this,arguments).end()}).tween("brush",function(){var C=this,D=C.__brush,S=l(C,arguments),P=D.selection,G=e.input("function"==typeof w?w.apply(this,arguments):w,D.extent),$=Vf(P,G);function fe(ne){D.selection=1===ne&&null===G?null:$(ne),u.call(C),S.brush()}return null!==P&&null!==G?fe:fe(1)}):_.each(function(){var C=this,D=arguments,S=C.__brush,P=e.input("function"==typeof w?w.apply(C,D):w,S.extent),G=l(C,D).beforestart();yc(C),S.selection=null===P?null:P,u.call(C),G.start().brush().end()})},c.clear=function(_){c.move(_,null)},d.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(_){Rf(new xee(c,_,e.output(this.state.selection)),o.apply,o,[_,this.that,this.args])}},c.extent=function(_){return arguments.length?(t="function"==typeof _?_:Y1(X1(_)),c):t},c.filter=function(_){return arguments.length?(n="function"==typeof _?_:Y1(!!_),c):n},c.touchable=function(_){return arguments.length?(r="function"==typeof _?_:Y1(!!_),c):r},c.handleSize=function(_){return arguments.length?(s=+_,c):s},c.keyModifiers=function(_){return arguments.length?(i=!!_,c):i},c.on=function(){var _=o.on.apply(o,arguments);return _===o?c:_},c}var ZR=Math.cos,XR=Math.sin,QR=Math.PI,nv=QR/2,JR=2*QR,eP=Math.max;function Bee(){var e=0,t=null,n=null,r=null;function i(o){var g,m,y,_,w,C,s=o.length,a=[],c=Li(s),u=[],l=[],d=l.groups=new Array(s),h=new Array(s*s);for(g=0,w=-1;++w<s;){for(m=0,C=-1;++C<s;)m+=o[w][C];a.push(m),u.push(Li(s)),g+=m}for(t&&c.sort(function(de,re){return t(a[de],a[re])}),n&&u.forEach(function(de,re){de.sort(function(A,ee){return n(o[re][A],o[re][ee])})}),_=(g=eP(0,JR-e*s)/g)?e:JR/s,m=0,w=-1;++w<s;){for(y=m,C=-1;++C<s;){var D=c[w],S=u[D][C],P=o[D][S],G=m,$=m+=P*g;h[S*s+D]={index:D,subindex:S,startAngle:G,endAngle:$,value:P}}d[D]={index:D,startAngle:y,endAngle:m,value:a[D]},m+=_}for(w=-1;++w<s;)for(C=w-1;++C<s;){var fe=h[C*s+w],ne=h[w*s+C];(fe.value||ne.value)&&l.push(fe.value<ne.value?{source:ne,target:fe}:{source:fe,target:ne})}return r?l.sort(r):l}return i.padAngle=function(o){return arguments.length?(e=eP(0,o),i):e},i.sortGroups=function(o){return arguments.length?(t=o,i):t},i.sortSubgroups=function(o){return arguments.length?(n=o,i):n},i.sortChords=function(o){return arguments.length?(null==o?r=null:(r=function Vee(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}(o))._=o,i):r&&r._},i}var jee=Array.prototype.slice;function eE(e){return function(){return e}}var tE=Math.PI,nE=2*tE,_c=1e-6,Hee=nE-_c;function rE(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function tP(){return new rE}rE.prototype=tP.prototype={constructor:rE,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){var o=this._x1,s=this._y1,a=(n=+n)-(e=+e),c=(r=+r)-(t=+t),u=o-e,l=s-t,d=u*u+l*l;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>_c)if(Math.abs(l*a-c*u)>_c&&i){var h=n-o,g=r-s,m=a*a+c*c,y=h*h+g*g,_=Math.sqrt(m),w=Math.sqrt(d),C=i*Math.tan((tE-Math.acos((m+d-y)/(2*_*w)))/2),D=C/w,S=C/_;Math.abs(D-1)>_c&&(this._+="L"+(e+D*u)+","+(t+D*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>u*g)+","+(this._x1=e+S*a)+","+(this._y1=t+S*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var s=(n=+n)*Math.cos(r),a=n*Math.sin(r),c=e+s,u=t+a,l=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+u:(Math.abs(this._x1-c)>_c||Math.abs(this._y1-u)>_c)&&(this._+="L"+c+","+u),n&&(d<0&&(d=d%nE+nE),d>Hee?this._+="A"+n+","+n+",0,1,"+l+","+(e-s)+","+(t-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=u):d>_c&&(this._+="A"+n+","+n+",0,"+ +(d>=tE)+","+l+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const bc=tP;function Uee(e){return e.source}function zee(e){return e.target}function $ee(e){return e.radius}function Gee(e){return e.startAngle}function Wee(e){return e.endAngle}function qee(){var e=Uee,t=zee,n=$ee,r=Gee,i=Wee,o=null;function s(){var a,c=jee.call(arguments),u=e.apply(this,c),l=t.apply(this,c),d=+n.apply(this,(c[0]=u,c)),h=r.apply(this,c)-nv,g=i.apply(this,c)-nv,m=d*ZR(h),y=d*XR(h),_=+n.apply(this,(c[0]=l,c)),w=r.apply(this,c)-nv,C=i.apply(this,c)-nv;if(o||(o=a=bc()),o.moveTo(m,y),o.arc(0,0,d,h,g),(h!==w||g!==C)&&(o.quadraticCurveTo(0,0,_*ZR(w),_*XR(w)),o.arc(0,0,_,w,C)),o.quadraticCurveTo(0,0,m,y),o.closePath(),a)return o=null,a+""||null}return s.radius=function(a){return arguments.length?(n="function"==typeof a?a:eE(+a),s):n},s.startAngle=function(a){return arguments.length?(r="function"==typeof a?a:eE(+a),s):r},s.endAngle=function(a){return arguments.length?(i="function"==typeof a?a:eE(+a),s):i},s.source=function(a){return arguments.length?(e=a,s):e},s.target=function(a){return arguments.length?(t=a,s):t},s.context=function(a){return arguments.length?(o=a??null,s):o},s}var Xi="$";function rv(){}function nP(e,t){var n=new rv;if(e instanceof rv)e.each(function(a,c){n.set(c,a)});else if(Array.isArray(e)){var o,r=-1,i=e.length;if(null==t)for(;++r<i;)n.set(r,e[r]);else for(;++r<i;)n.set(t(o=e[r],r,e),o)}else if(e)for(var s in e)n.set(s,e[s]);return n}rv.prototype=nP.prototype={constructor:rv,has:function(e){return Xi+e in this},get:function(e){return this[Xi+e]},set:function(e,t){return this[Xi+e]=t,this},remove:function(e){var t=Xi+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===Xi&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===Xi&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===Xi&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===Xi&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===Xi&&++e;return e},empty:function(){for(var e in this)if(e[0]===Xi)return!1;return!0},each:function(e){for(var t in this)t[0]===Xi&&e(this[t],t.slice(1),this)}};const ya=nP;function Yee(){var n,r,i,e=[],t=[];function o(a,c,u,l){if(c>=e.length)return null!=n&&a.sort(n),null!=r?r(a):a;for(var m,y,w,d=-1,h=a.length,g=e[c++],_=ya(),C=u();++d<h;)(w=_.get(m=g(y=a[d])+""))?w.push(y):_.set(m,[y]);return _.each(function(D,S){l(C,S,o(D,c,u,l))}),C}function s(a,c){if(++c>e.length)return a;var u,l=t[c-1];return null!=r&&c>=e.length?u=a.entries():(u=[],a.each(function(d,h){u.push({key:h,values:s(d,c)})})),null!=l?u.sort(function(d,h){return l(d.key,h.key)}):u}return i={object:function(a){return o(a,0,Kee,Zee)},map:function(a){return o(a,0,rP,iP)},entries:function(a){return s(o(a,0,rP,iP),0)},key:function(a){return e.push(a),i},sortKeys:function(a){return t[e.length-1]=a,i},sortValues:function(a){return n=a,i},rollup:function(a){return r=a,i}}}function Kee(){return{}}function Zee(e,t,n){e[t]=n}function rP(){return ya()}function iP(e,t,n){e.set(t,n)}function iv(){}var wc=ya.prototype;function oP(e,t){var n=new iv;if(e instanceof iv)e.each(function(o){n.add(o)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}iv.prototype=oP.prototype={constructor:iv,has:wc.has,add:function(e){return this[Xi+(e+="")]=e,this},remove:wc.remove,clear:wc.clear,values:wc.keys,size:wc.size,empty:wc.empty,each:wc.each};const Xee=oP;function Qee(e){var t=[];for(var n in e)t.push(n);return t}function Jee(e){var t=[];for(var n in e)t.push(e[n]);return t}function ete(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}var sP=Math.PI/180,aP=180/Math.PI,cP=.96422,uP=1,lP=.82521,dP=4/29,gl=6/29,fP=3*gl*gl,tte=gl*gl*gl;function hP(e){if(e instanceof xo)return new xo(e.l,e.a,e.b,e.opacity);if(e instanceof ds)return gP(e);e instanceof Rr||(e=I1(e));var o,s,t=aE(e.r),n=aE(e.g),r=aE(e.b),i=iE((.2225045*t+.7168786*n+.0606169*r)/uP);return t===n&&n===r?o=s=i:(o=iE((.4360747*t+.3850649*n+.1430804*r)/cP),s=iE((.0139322*t+.0971045*n+.7141733*r)/lP)),new xo(116*i-16,500*(o-i),200*(i-s),e.opacity)}function nte(e,t){return new xo(e,0,0,t??1)}function sv(e,t,n,r){return 1===arguments.length?hP(e):new xo(e,t,n,r??1)}function xo(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function iE(e){return e>tte?Math.pow(e,1/3):e/fP+dP}function oE(e){return e>gl?e*e*e:fP*(e-dP)}function sE(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function aE(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pP(e){if(e instanceof ds)return new ds(e.h,e.c,e.l,e.opacity);if(e instanceof xo||(e=hP(e)),0===e.a&&0===e.b)return new ds(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*aP;return new ds(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function rte(e,t,n,r){return 1===arguments.length?pP(e):new ds(n,t,e,r??1)}function av(e,t,n,r){return 1===arguments.length?pP(e):new ds(e,t,n,r??1)}function ds(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function gP(e){if(isNaN(e.h))return new xo(e.l,0,0,e.opacity);var t=e.h*sP;return new xo(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}sl(xo,sv,Pf(ma,{brighter:function(e){return new xo(this.l+18*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new xo(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Rr(sE(3.1338561*(t=cP*oE(t))-1.6168667*(e=uP*oE(e))-.4906146*(n=lP*oE(n))),sE(-.9787684*t+1.9161415*e+.033454*n),sE(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),sl(ds,av,Pf(ma,{brighter:function(e){return new ds(this.h,this.c,this.l+18*(e??1),this.opacity)},darker:function(e){return new ds(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb:function(){return gP(this).rgb()}}));var cE=1.78277,uE=-.29227,cv=-.90649,qf=1.97294,vP=qf*cv,yP=qf*cE,_P=cE*uE- -.14861*cv;function So(e,t,n,r){return 1===arguments.length?function ite(e){if(e instanceof Ec)return new Ec(e.h,e.s,e.l,e.opacity);e instanceof Rr||(e=I1(e));var n=e.g/255,r=e.b/255,i=(_P*r+vP*(e.r/255)-yP*n)/(_P+vP-yP),o=r-i,s=(qf*(n-i)-uE*o)/cv,a=Math.sqrt(s*s+o*o)/(qf*i*(1-i)),c=a?Math.atan2(s,o)*aP-120:NaN;return new Ec(c<0?c+360:c,a,i,e.opacity)}(e):new Ec(e,t,n,r??1)}function Ec(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}sl(Ec,So,Pf(ma,{brighter:function(e){return e=null==e?al:Math.pow(al,e),new Ec(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Ec(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*sP,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Rr(255*(t+n*(-.14861*r+cE*i)),255*(t+n*(uE*r+cv*i)),255*(t+n*(qf*r)),this.opacity)}}));var bP=Array.prototype.slice;function ste(e,t){return e-t}function _a(e){return function(){return e}}function cte(e,t){for(var i,n=-1,r=t.length;++n<r;)if(i=ute(e,t[n]))return i;return 0}function ute(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var c=e[o],u=c[0],l=c[1],d=e[a],h=d[0],g=d[1];if(lte(c,d,t))return 0;l>r!=g>r&&n<(h-u)*(r-l)/(g-l)+u&&(i=-i)}return i}function lte(e,t,n){var r;return function dte(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&function fte(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}(e[r=+(e[0]===t[0])],n[r],t[r])}function hte(){}var js=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function wP(){var e=1,t=1,n=m1,r=c;function i(u){var l=n(u);if(Array.isArray(l))l=l.slice().sort(ste);else{var d=d1(u),h=d[0],g=d[1];l=hc(h,g,l),l=Li(Math.floor(h/l)*l,Math.floor(g/l)*l,l)}return l.map(function(m){return o(u,m)})}function o(u,l){var d=[],h=[];return function s(u,l,d){var m,y,w,C,D,h=new Array,g=new Array;for(m=y=-1,js[(w=u[0]>=l)<<1].forEach(S);++m<e-1;)js[w|(w=u[m+1]>=l)<<1].forEach(S);for(js[0|w].forEach(S);++y<t-1;){for(m=-1,js[(w=u[y*e+e]>=l)<<1|(C=u[y*e]>=l)<<2].forEach(S);++m<e-1;)D=C,js[w|(w=u[y*e+e+m+1]>=l)<<1|(C=u[y*e+m+1]>=l)<<2|D<<3].forEach(S);js[w|C<<3].forEach(S)}for(m=-1,js[(C=u[y*e]>=l)<<2].forEach(S);++m<e-1;)D=C,js[(C=u[y*e+m+1]>=l)<<2|D<<3].forEach(S);function S(P){var de,re,G=[P[0][0]+m,P[0][1]+y],$=[P[1][0]+m,P[1][1]+y],fe=a(G),ne=a($);(de=g[fe])?(re=h[ne])?(delete g[de.end],delete h[re.start],de===re?(de.ring.push($),d(de.ring)):h[de.start]=g[re.end]={start:de.start,end:re.end,ring:de.ring.concat(re.ring)}):(delete g[de.end],de.ring.push($),g[de.end=ne]=de):(de=h[ne])?(re=g[fe])?(delete h[de.start],delete g[re.end],de===re?(de.ring.push($),d(de.ring)):h[re.start]=g[de.end]={start:re.start,end:de.end,ring:re.ring.concat(de.ring)}):(delete h[de.start],de.ring.unshift(G),h[de.start=fe]=de):h[fe]=g[ne]={start:fe,end:ne,ring:[G,$]}}js[C<<3].forEach(S)}(u,l,function(g){r(g,u,l),function ate(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(g)>0?d.push([g]):h.push(g)}),h.forEach(function(g){for(var _,m=0,y=d.length;m<y;++m)if(-1!==cte((_=d[m])[0],g))return void _.push(g)}),{type:"MultiPolygon",value:l,coordinates:d}}function a(u){return 2*u[0]+u[1]*(e+1)*4}function c(u,l,d){u.forEach(function(h){var w,g=h[0],m=h[1],y=0|g,_=0|m,C=l[_*e+y];g>0&&g<e&&y===g&&(h[0]=g+(d-(w=l[_*e+y-1]))/(C-w)-.5),m>0&&m<t&&_===m&&(h[1]=m+(d-(w=l[(_-1)*e+y]))/(C-w)-.5)})}return i.contour=o,i.size=function(u){if(!arguments.length)return[e,t];var l=Math.ceil(u[0]),d=Math.ceil(u[1]);if(!(l>0&&d>0))throw new Error("invalid size");return e=l,t=d,i},i.thresholds=function(u){return arguments.length?(n="function"==typeof u?u:Array.isArray(u)?_a(bP.call(u)):_a(u),i):n},i.smooth=function(u){return arguments.length?(r=u?c:hte,i):r===c},i}function lE(e,t,n){for(var r=e.width,i=e.height,o=1+(n<<1),s=0;s<i;++s)for(var a=0,c=0;a<r+n;++a)a<r&&(c+=e.data[a+s*r]),a>=n&&(a>=o&&(c-=e.data[a-o+s*r]),t.data[a-n+s*r]=c/Math.min(a+1,r-1+o-a,o))}function dE(e,t,n){for(var r=e.width,i=e.height,o=1+(n<<1),s=0;s<r;++s)for(var a=0,c=0;a<i+n;++a)a<i&&(c+=e.data[s+a*r]),a>=n&&(a>=o&&(c-=e.data[s+(a-o)*r]),t.data[s+(a-n)*r]=c/Math.min(a+1,i-1+o-a,o))}function pte(e){return e[0]}function gte(e){return e[1]}function mte(){return 1}function vte(){var e=pte,t=gte,n=mte,r=960,i=500,o=20,s=2,a=3*o,c=r+2*a>>s,u=i+2*a>>s,l=_a(20);function d(w){var C=new Float32Array(c*u),D=new Float32Array(c*u);w.forEach(function(G,$,fe){var ne=+e(G,$,fe)+a>>s,de=+t(G,$,fe)+a>>s,re=+n(G,$,fe);ne>=0&&ne<c&&de>=0&&de<u&&(C[ne+de*c]+=re)}),lE({width:c,height:u,data:C},{width:c,height:u,data:D},o>>s),dE({width:c,height:u,data:D},{width:c,height:u,data:C},o>>s),lE({width:c,height:u,data:C},{width:c,height:u,data:D},o>>s),dE({width:c,height:u,data:D},{width:c,height:u,data:C},o>>s),lE({width:c,height:u,data:C},{width:c,height:u,data:D},o>>s),dE({width:c,height:u,data:D},{width:c,height:u,data:C},o>>s);var S=l(C);if(!Array.isArray(S)){var P=KO(C);S=hc(0,P,S),(S=Li(0,Math.floor(P/S)*S,S)).shift()}return wP().thresholds(S).size([c,u])(C).map(h)}function h(w){return w.value*=Math.pow(2,-2*s),w.coordinates.forEach(g),w}function g(w){w.forEach(m)}function m(w){w.forEach(y)}function y(w){w[0]=w[0]*Math.pow(2,s)-a,w[1]=w[1]*Math.pow(2,s)-a}function _(){return c=r+2*(a=3*o)>>s,u=i+2*a>>s,d}return d.x=function(w){return arguments.length?(e="function"==typeof w?w:_a(+w),d):e},d.y=function(w){return arguments.length?(t="function"==typeof w?w:_a(+w),d):t},d.weight=function(w){return arguments.length?(n="function"==typeof w?w:_a(+w),d):n},d.size=function(w){if(!arguments.length)return[r,i];var C=Math.ceil(w[0]),D=Math.ceil(w[1]);if(!(C>=0||C>=0))throw new Error("invalid size");return r=C,i=D,_()},d.cellSize=function(w){if(!arguments.length)return 1<<s;if(!((w=+w)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(w)/Math.LN2),_()},d.thresholds=function(w){return arguments.length?(l="function"==typeof w?w:Array.isArray(w)?_a(bP.call(w)):_a(w),d):l},d.bandwidth=function(w){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((w=+w)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*w*w+1)-1)/2),_()},d}function uv(e){return function(){return e}}function fE(e,t,n,r,i,o,s,a,c,u){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=s,this.dx=a,this.dy=c,this._=u}function yte(){return!Ke.ctrlKey&&!Ke.button}function _te(){return this.parentNode}function bte(e){return e??{x:Ke.x,y:Ke.y}}function wte(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ete(){var a,c,u,l,e=yte,t=_te,n=bte,r=wte,i={},o=rl("start","drag","end"),s=0,d=0;function h(S){S.on("mousedown.drag",g).filter(r).on("touchstart.drag",_).on("touchmove.drag",w).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(){if(!l&&e.apply(this,arguments)){var S=D("mouse",t.apply(this,arguments),mc,this,arguments);S&&(Xt(Ke.view).on("mousemove.drag",m,!0).on("mouseup.drag",y,!0),Bm(Ke.view),S1(),u=!1,a=Ke.clientX,c=Ke.clientY,S("start"))}}function m(){if(ol(),!u){var S=Ke.clientX-a,P=Ke.clientY-c;u=S*S+P*P>d}i.mouse("drag")}function y(){Xt(Ke.view).on("mousemove.drag mouseup.drag",null),jm(Ke.view,u),ol(),i.mouse("end")}function _(){if(e.apply(this,arguments)){var $,fe,S=Ke.changedTouches,P=t.apply(this,arguments),G=S.length;for($=0;$<G;++$)(fe=D(S[$].identifier,P,Bf,this,arguments))&&(S1(),fe("start"))}}function w(){var G,$,S=Ke.changedTouches,P=S.length;for(G=0;G<P;++G)($=i[S[G].identifier])&&(ol(),$("drag"))}function C(){var G,$,S=Ke.changedTouches,P=S.length;for(l&&clearTimeout(l),l=setTimeout(function(){l=null},500),G=0;G<P;++G)($=i[S[G].identifier])&&(S1(),$("end"))}function D(S,P,G,$,fe){var de,re,A,ne=G(P,S),ee=o.copy();if(Rf(new fE(h,"beforestart",de,S,s,ne[0],ne[1],0,0,ee),function(){return null!=(Ke.subject=de=n.apply($,fe))&&(re=de.x-ne[0]||0,A=de.y-ne[1]||0,!0)}))return function Se(Q){var it,we=ne;switch(Q){case"start":i[S]=Se,it=s++;break;case"end":delete i[S],--s;case"drag":ne=G(P,S),it=s}Rf(new fE(h,Q,de,S,it,ne[0]+re,ne[1]+A,ne[0]-we[0],ne[1]-we[1],ee),ee.apply,ee,[Q,$,fe])}}return h.filter=function(S){return arguments.length?(e="function"==typeof S?S:uv(!!S),h):e},h.container=function(S){return arguments.length?(t="function"==typeof S?S:uv(S),h):t},h.subject=function(S){return arguments.length?(n="function"==typeof S?S:uv(S),h):n},h.touchable=function(S){return arguments.length?(r="function"==typeof S?S:uv(!!S),h):r},h.on=function(){var S=o.on.apply(o,arguments);return S===o?h:S},h.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,h):Math.sqrt(d)},h}fE.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var EP={},hE={},pE=34,Yf=10,gE=13;function CP(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function DP(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Mi(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function lv(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function i(d,h){var w,g=[],m=d.length,y=0,_=0,C=m<=0,D=!1;function S(){if(C)return hE;if(D)return D=!1,EP;var G,fe,$=y;if(d.charCodeAt($)===pE){for(;y++<m&&d.charCodeAt(y)!==pE||d.charCodeAt(++y)===pE;);return(G=y)>=m?C=!0:(fe=d.charCodeAt(y++))===Yf?D=!0:fe===gE&&(D=!0,d.charCodeAt(y)===Yf&&++y),d.slice($+1,G-1).replace(/""/g,'"')}for(;y<m;){if((fe=d.charCodeAt(G=y++))===Yf)D=!0;else if(fe===gE)D=!0,d.charCodeAt(y)===Yf&&++y;else if(fe!==n)continue;return d.slice($,G)}return C=!0,d.slice($,m)}for(d.charCodeAt(m-1)===Yf&&--m,d.charCodeAt(m-1)===gE&&--m;(w=S())!==hE;){for(var P=[];w!==EP&&w!==hE;)P.push(w),w=S();h&&null==(P=h(P,_++))||g.push(P)}return g}function o(d,h){return d.map(function(g){return h.map(function(m){return l(g[m])}).join(e)})}function u(d){return d.map(l).join(e)}function l(d){return null==d?"":d instanceof Date?function Mte(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function Dte(e){return e<0?"-"+Mi(-e,6):e>9999?"+"+Mi(e,6):Mi(e,4)}(e.getUTCFullYear())+"-"+Mi(e.getUTCMonth()+1,2)+"-"+Mi(e.getUTCDate(),2)+(i?"T"+Mi(t,2)+":"+Mi(n,2)+":"+Mi(r,2)+"."+Mi(i,3)+"Z":r?"T"+Mi(t,2)+":"+Mi(n,2)+":"+Mi(r,2)+"Z":n||t?"T"+Mi(t,2)+":"+Mi(n,2)+"Z":"")}(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:function r(d,h){var g,m,y=i(d,function(_,w){if(g)return g(_,w-1);m=_,g=h?function Cte(e,t){var n=CP(e);return function(r,i){return t(n(r),i,e)}}(_,h):CP(_)});return y.columns=m||[],y},parseRows:i,format:function s(d,h){return null==h&&(h=DP(d)),[h.map(l).join(e)].concat(o(d,h)).join("\n")},formatBody:function a(d,h){return null==h&&(h=DP(d)),o(d,h).join("\n")},formatRows:function c(d){return d.map(u).join("\n")},formatRow:u,formatValue:l}}var Cc=lv(","),MP=Cc.parse,xte=Cc.parseRows,Ste=Cc.format,Ite=Cc.formatBody,Ate=Cc.formatRows,Tte=Cc.formatRow,kte=Cc.formatValue,Dc=lv("\t"),xP=Dc.parse,Nte=Dc.parseRows,Ote=Dc.format,Rte=Dc.formatBody,Pte=Dc.formatRows,Fte=Dc.formatRow,Lte=Dc.formatValue;function Vte(e){for(var t in e){var r,i,n=e[t].trim();if(n)if("true"===n)n=!0;else if("false"===n)n=!1;else if("NaN"===n)n=NaN;else if(isNaN(r=+n)){if(!(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Bte&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n)}else n=r;else n=null;e[t]=n}return e}var Bte=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function jte(e){return+e}function Hte(e){return e*e}function Ute(e){return e*(2-e)}function SP(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}var zte=function e(t){function n(r){return Math.pow(r,t)}return t=+t,n.exponent=e,n}(3),$te=function e(t){function n(r){return 1-Math.pow(1-r,t)}return t=+t,n.exponent=e,n}(3),IP=function e(t){function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return t=+t,n.exponent=e,n}(3),AP=Math.PI,TP=AP/2;function Gte(e){return 1==+e?1:1-Math.cos(e*TP)}function Wte(e){return Math.sin(e*TP)}function kP(e){return(1-Math.cos(AP*e))/2}function ba(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function qte(e){return ba(1-+e)}function Yte(e){return 1-ba(e)}function NP(e){return((e*=2)<=1?ba(1-e):2-ba(e-1))/2}function Kte(e){return 1-Math.sqrt(1-e*e)}function Zte(e){return Math.sqrt(1- --e*e)}function OP(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var vE=4/11,Xte=6/11,Qte=8/11,Jte=3/4,ene=9/11,tne=10/11,nne=15/16,rne=21/22,ine=63/64,dv=1/vE/vE;function one(e){return 1-Kf(1-e)}function Kf(e){return(e=+e)<vE?dv*e*e:e<Qte?dv*(e-=Xte)*e+Jte:e<tne?dv*(e-=ene)*e+nne:dv*(e-=rne)*e+ine}function sne(e){return((e*=2)<=1?1-Kf(1-e):Kf(e-1)+1)/2}var yE=1.70158,ane=function e(t){function n(r){return(r=+r)*r*(t*(r-1)+r)}return t=+t,n.overshoot=e,n}(yE),cne=function e(t){function n(r){return--r*r*((r+1)*t+r)+1}return t=+t,n.overshoot=e,n}(yE),RP=function e(t){function n(r){return((r*=2)<1?r*r*((t+1)*r-t):(r-=2)*r*((t+1)*r+t)+2)/2}return t=+t,n.overshoot=e,n}(yE),ml=2*Math.PI,une=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=ml);function i(o){return t*ba(- --o)*Math.sin((r-o)/n)}return i.amplitude=function(o){return e(o,n*ml)},i.period=function(o){return e(t,o)},i}(1,.3),PP=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=ml);function i(o){return 1-t*ba(o=+o)*Math.sin((o+r)/n)}return i.amplitude=function(o){return e(o,n*ml)},i.period=function(o){return e(t,o)},i}(1,.3),lne=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=ml);function i(o){return((o=2*o-1)<0?t*ba(-o)*Math.sin((r-o)/n):2-t*ba(o)*Math.sin((r+o)/n))/2}return i.amplitude=function(o){return e(o,n*ml)},i.period=function(o){return e(t,o)},i}(1,.3);function dne(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function fne(e,t){return fetch(e,t).then(dne)}function hne(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function pne(e,t){return fetch(e,t).then(hne)}function gne(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function fv(e,t){return fetch(e,t).then(gne)}function FP(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),fv(t,n).then(function(i){return e(i,r)})}}function mne(e,t,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=lv(e);return fv(t,n).then(function(o){return i.parse(o,r)})}var vne=FP(MP),yne=FP(xP);function _ne(e,t){return new Promise(function(n,r){var i=new Image;for(var o in t)i[o]=t[o];i.onerror=r,i.onload=function(){n(i)},i.src=e})}function bne(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function wne(e,t){return fetch(e,t).then(bne)}function wE(e){return function(t,n){return fv(t,n).then(function(r){return(new DOMParser).parseFromString(r,e)})}}const Ene=wE("application/xml");var Cne=wE("text/html"),Dne=wE("image/svg+xml");function Mne(e,t){var n;function r(){var i,s,o=n.length,a=0,c=0;for(i=0;i<o;++i)a+=(s=n[i]).x,c+=s.y;for(a=a/o-e,c=c/o-t,i=0;i<o;++i)(s=n[i]).x-=a,s.y-=c}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(i){n=i},r.x=function(i){return arguments.length?(e=+i,r):e},r.y=function(i){return arguments.length?(t=+i,r):t},r}function Cr(e){return function(){return e}}function wa(){return 1e-6*(Math.random()-.5)}function LP(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,d,h,g,m,y,_,w,C,o=e._root,s={data:r},a=e._x0,c=e._y0,u=e._x1,l=e._y1;if(!o)return e._root=s,e;for(;o.length;)if((y=t>=(d=(a+u)/2))?a=d:u=d,(_=n>=(h=(c+l)/2))?c=h:l=h,i=o,!(o=o[w=_<<1|y]))return i[w]=s,e;if(g=+e._x.call(null,o.data),m=+e._y.call(null,o.data),t===g&&n===m)return s.next=o,i?i[w]=s:e._root=s,e;do{i=i?i[w]=new Array(4):e._root=new Array(4),(y=t>=(d=(a+u)/2))?a=d:u=d,(_=n>=(h=(c+l)/2))?c=h:l=h}while((w=_<<1|y)==(C=(m>=h)<<1|g>=d));return i[C]=o,i[w]=s,e}function ui(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Vne(e){return e[0]}function jne(e){return e[1]}function hv(e,t,n){var r=new EE(t??Vne,n??jne,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function EE(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function VP(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var li=hv.prototype=EE.prototype;function Une(e){return e.x+e.vx}function zne(e){return e.y+e.vy}function $ne(e){var t,n,r=1,i=1;function o(){for(var c,l,d,h,g,m,y,u=t.length,_=0;_<i;++_)for(l=hv(t,Une,zne).visitAfter(s),c=0;c<u;++c)y=(m=n[(d=t[c]).index])*m,h=d.x+d.vx,g=d.y+d.vy,l.visit(w);function w(C,D,S,P,G){var $=C.data,fe=C.r,ne=m+fe;if(!$)return D>h+ne||P<h-ne||S>g+ne||G<g-ne;if($.index>d.index){var de=h-$.x-$.vx,re=g-$.y-$.vy,A=de*de+re*re;A<ne*ne&&(0===de&&(A+=(de=wa())*de),0===re&&(A+=(re=wa())*re),A=(ne-(A=Math.sqrt(A)))/A*r,d.vx+=(de*=A)*(ne=(fe*=fe)/(y+fe)),d.vy+=(re*=A)*ne,$.vx-=de*(ne=1-ne),$.vy-=re*ne)}}}function s(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function a(){if(t){var c,l,u=t.length;for(n=new Array(u),c=0;c<u;++c)n[(l=t[c]).index]=+e(l,c,t)}}return"function"!=typeof e&&(e=Cr(null==e?1:+e)),o.initialize=function(c){t=c,a()},o.iterations=function(c){return arguments.length?(i=+c,o):i},o.strength=function(c){return arguments.length?(r=+c,o):r},o.radius=function(c){return arguments.length?(e="function"==typeof c?c:Cr(+c),a(),o):e},o}function Gne(e){return e.index}function BP(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function Wne(e){var r,o,s,a,c,t=Gne,n=function l(y){return 1/Math.min(a[y.source.index],a[y.target.index])},i=Cr(30),u=1;function d(y){for(var _=0,w=e.length;_<u;++_)for(var D,S,P,G,$,fe,ne,C=0;C<w;++C)G=(P=(D=e[C]).target).x+P.vx-(S=D.source).x-S.vx||wa(),$=P.y+P.vy-S.y-S.vy||wa(),$*=fe=((fe=Math.sqrt(G*G+$*$))-o[C])/fe*y*r[C],P.vx-=(G*=fe)*(ne=c[C]),P.vy-=$*ne,S.vx+=G*(ne=1-ne),S.vy+=$*ne}function h(){if(s){var y,D,_=s.length,w=e.length,C=ya(s,t);for(y=0,a=new Array(_);y<w;++y)(D=e[y]).index=y,"object"!=typeof D.source&&(D.source=BP(C,D.source)),"object"!=typeof D.target&&(D.target=BP(C,D.target)),a[D.source.index]=(a[D.source.index]||0)+1,a[D.target.index]=(a[D.target.index]||0)+1;for(y=0,c=new Array(w);y<w;++y)c[y]=a[(D=e[y]).source.index]/(a[D.source.index]+a[D.target.index]);r=new Array(w),g(),o=new Array(w),m()}}function g(){if(s)for(var y=0,_=e.length;y<_;++y)r[y]=+n(e[y],y,e)}function m(){if(s)for(var y=0,_=e.length;y<_;++y)o[y]=+i(e[y],y,e)}return null==e&&(e=[]),d.initialize=function(y){s=y,h()},d.links=function(y){return arguments.length?(e=y,h(),d):e},d.id=function(y){return arguments.length?(t=y,d):t},d.iterations=function(y){return arguments.length?(u=+y,d):u},d.strength=function(y){return arguments.length?(n="function"==typeof y?y:Cr(+y),g(),d):n},d.distance=function(y){return arguments.length?(i="function"==typeof y?y:Cr(+y),m(),d):i},d}function qne(e){return e.x}function Yne(e){return e.y}li.copy=function(){var n,r,e=new EE(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root;if(!t)return e;if(!t.length)return e._root=VP(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=VP(r));return e},li.add=function xne(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return LP(this.cover(t,n),t,n,e)},li.addAll=function Sne(e){var t,n,i,o,r=e.length,s=new Array(r),a=new Array(r),c=1/0,u=1/0,l=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<c&&(c=i),i>l&&(l=i),o<u&&(u=o),o>d&&(d=o));if(c>l||u>d)return this;for(this.cover(c,u).cover(l,d),n=0;n<r;++n)LP(this,s[n],a[n],e[n]);return this},li.cover=function Ine(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var c,u,s=i-n,a=this._root;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,c=new Array(4),c[u]=a,a=c,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},li.data=function Ane(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},li.extent=function Tne(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},li.find=function kne(e,t,n){var r,s,a,c,u,m,y,i=this._x0,o=this._y0,l=this._x1,d=this._y1,h=[],g=this._root;for(g&&h.push(new ui(g,i,o,l,d)),null==n?n=1/0:(i=e-n,o=t-n,l=e+n,d=t+n,n*=n);m=h.pop();)if(!(!(g=m.node)||(s=m.x0)>l||(a=m.y0)>d||(c=m.x1)<i||(u=m.y1)<o))if(g.length){var _=(s+c)/2,w=(a+u)/2;h.push(new ui(g[3],_,w,c,u),new ui(g[2],s,w,_,u),new ui(g[1],_,a,c,w),new ui(g[0],s,a,_,w)),(y=(t>=w)<<1|e>=_)&&(m=h[h.length-1],h[h.length-1]=h[h.length-1-y],h[h.length-1-y]=m)}else{var C=e-+this._x.call(null,g.data),D=t-+this._y.call(null,g.data),S=C*C+D*D;if(S<n){var P=Math.sqrt(n=S);i=e-P,o=t-P,l=e+P,d=t+P,r=g.data}}return r},li.remove=function Nne(e){if(isNaN(l=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,r,i,o,l,d,h,g,m,y,_,w,n=this._root,s=this._x0,a=this._y0,c=this._x1,u=this._y1;if(!n)return this;if(n.length)for(;;){if((m=l>=(h=(s+c)/2))?s=h:c=h,(y=d>=(g=(a+u)/2))?a=g:u=g,t=n,!(n=n[_=y<<1|m]))return this;if(!n.length)break;(t[_+1&3]||t[_+2&3]||t[_+3&3])&&(r=t,w=_)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[_]=o:delete t[_],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[w]=n:this._root=n),this):(this._root=o,this)},li.removeAll=function One(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},li.root=function Rne(){return this._root},li.size=function Pne(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},li.visit=function Fne(e){var n,i,o,s,a,c,t=[],r=this._root;for(r&&t.push(new ui(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,c=n.y1)&&r.length){var u=(o+a)/2,l=(s+c)/2;(i=r[3])&&t.push(new ui(i,u,l,a,c)),(i=r[2])&&t.push(new ui(i,o,l,u,c)),(i=r[1])&&t.push(new ui(i,u,s,a,l)),(i=r[0])&&t.push(new ui(i,o,s,u,l))}return this},li.visitAfter=function Lne(e){var r,t=[],n=[];for(this._root&&t.push(new ui(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,c=r.x1,u=r.y1,l=(s+c)/2,d=(a+u)/2;(o=i[0])&&t.push(new ui(o,s,a,l,d)),(o=i[1])&&t.push(new ui(o,l,a,c,d)),(o=i[2])&&t.push(new ui(o,s,d,l,u)),(o=i[3])&&t.push(new ui(o,l,d,c,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this},li.x=function Bne(e){return arguments.length?(this._x=e,this):this._x},li.y=function Hne(e){return arguments.length?(this._y=e,this):this._y};var Kne=10,Zne=Math.PI*(3-Math.sqrt(5));function Xne(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=ya(),c=Km(l),u=rl("tick","end");function l(){d(),u.call("tick",t),n<r&&(c.stop(),u.call("end",t))}function d(m){var y,w,_=e.length;void 0===m&&(m=1);for(var C=0;C<m;++C)for(n+=(o-n)*i,a.each(function(D){D(n)}),y=0;y<_;++y)null==(w=e[y]).fx?w.x+=w.vx*=s:(w.x=w.fx,w.vx=0),null==w.fy?w.y+=w.vy*=s:(w.y=w.fy,w.vy=0);return t}function h(){for(var _,m=0,y=e.length;m<y;++m){if((_=e[m]).index=m,null!=_.fx&&(_.x=_.fx),null!=_.fy&&(_.y=_.fy),isNaN(_.x)||isNaN(_.y)){var w=Kne*Math.sqrt(m),C=m*Zne;_.x=w*Math.cos(C),_.y=w*Math.sin(C)}(isNaN(_.vx)||isNaN(_.vy))&&(_.vx=_.vy=0)}}function g(m){return m.initialize&&m.initialize(e),m}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return c.restart(l),t},stop:function(){return c.stop(),t},nodes:function(m){return arguments.length?(e=m,h(),a.each(g),t):e},alpha:function(m){return arguments.length?(n=+m,t):n},alphaMin:function(m){return arguments.length?(r=+m,t):r},alphaDecay:function(m){return arguments.length?(i=+m,t):+i},alphaTarget:function(m){return arguments.length?(o=+m,t):o},velocityDecay:function(m){return arguments.length?(s=1-m,t):1-s},force:function(m,y){return arguments.length>1?(null==y?a.remove(m):a.set(m,g(y)),t):a.get(m)},find:function(m,y,_){var D,S,P,G,$,w=0,C=e.length;for(null==_?_=1/0:_*=_,w=0;w<C;++w)(P=(D=m-(G=e[w]).x)*D+(S=y-G.y)*S)<_&&($=G,_=P);return $},on:function(m,y){return arguments.length>1?(u.on(m,y),t):u.on(m)}}}function Qne(){var e,t,n,i,r=Cr(-30),o=1,s=1/0,a=.81;function c(h){var g,m=e.length,y=hv(e,qne,Yne).visitAfter(l);for(n=h,g=0;g<m;++g)t=e[g],y.visit(d)}function u(){if(e){var h,m,g=e.length;for(i=new Array(g),h=0;h<g;++h)i[(m=e[h]).index]=+r(m,h,e)}}function l(h){var m,y,w,C,D,g=0,_=0;if(h.length){for(w=C=D=0;D<4;++D)(m=h[D])&&(y=Math.abs(m.value))&&(g+=m.value,_+=y,w+=y*m.x,C+=y*m.y);h.x=w/_,h.y=C/_}else{(m=h).x=m.data.x,m.y=m.data.y;do{g+=i[m.data.index]}while(m=m.next)}h.value=g}function d(h,g,m,y){if(!h.value)return!0;var _=h.x-t.x,w=h.y-t.y,C=y-g,D=_*_+w*w;if(C*C/a<D)return D<s&&(0===_&&(D+=(_=wa())*_),0===w&&(D+=(w=wa())*w),D<o&&(D=Math.sqrt(o*D)),t.vx+=_*h.value*n/D,t.vy+=w*h.value*n/D),!0;if(!(h.length||D>=s)){(h.data!==t||h.next)&&(0===_&&(D+=(_=wa())*_),0===w&&(D+=(w=wa())*w),D<o&&(D=Math.sqrt(o*D)));do{h.data!==t&&(t.vx+=_*(C=i[h.data.index]*n/D),t.vy+=w*C)}while(h=h.next)}}return c.initialize=function(h){e=h,u()},c.strength=function(h){return arguments.length?(r="function"==typeof h?h:Cr(+h),u(),c):r},c.distanceMin=function(h){return arguments.length?(o=h*h,c):Math.sqrt(o)},c.distanceMax=function(h){return arguments.length?(s=h*h,c):Math.sqrt(s)},c.theta=function(h){return arguments.length?(a=h*h,c):Math.sqrt(a)},c}function Jne(e,t,n){var r,o,s,i=Cr(.1);function a(u){for(var l=0,d=r.length;l<d;++l){var h=r[l],g=h.x-t||1e-6,m=h.y-n||1e-6,y=Math.sqrt(g*g+m*m),_=(s[l]-y)*o[l]*u/y;h.vx+=g*_,h.vy+=m*_}}function c(){if(r){var u,l=r.length;for(o=new Array(l),s=new Array(l),u=0;u<l;++u)s[u]=+e(r[u],u,r),o[u]=isNaN(s[u])?0:+i(r[u],u,r)}}return"function"!=typeof e&&(e=Cr(+e)),null==t&&(t=0),null==n&&(n=0),a.initialize=function(u){r=u,c()},a.strength=function(u){return arguments.length?(i="function"==typeof u?u:Cr(+u),c(),a):i},a.radius=function(u){return arguments.length?(e="function"==typeof u?u:Cr(+u),c(),a):e},a.x=function(u){return arguments.length?(t=+u,a):t},a.y=function(u){return arguments.length?(n=+u,a):n},a}function ere(e){var n,r,i,t=Cr(.1);function o(a){for(var l,c=0,u=n.length;c<u;++c)(l=n[c]).vx+=(i[c]-l.x)*r[c]*a}function s(){if(n){var a,c=n.length;for(r=new Array(c),i=new Array(c),a=0;a<c;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return"function"!=typeof e&&(e=Cr(null==e?0:+e)),o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t="function"==typeof a?a:Cr(+a),s(),o):t},o.x=function(a){return arguments.length?(e="function"==typeof a?a:Cr(+a),s(),o):e},o}function tre(e){var n,r,i,t=Cr(.1);function o(a){for(var l,c=0,u=n.length;c<u;++c)(l=n[c]).vy+=(i[c]-l.y)*r[c]*a}function s(){if(n){var a,c=n.length;for(r=new Array(c),i=new Array(c),a=0;a<c;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return"function"!=typeof e&&(e=Cr(null==e?0:+e)),o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t="function"==typeof a?a:Cr(+a),s(),o):t},o.y=function(a){return arguments.length?(e="function"==typeof a?a:Cr(+a),s(),o):e},o}function pv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function vl(e){return(e=pv(Math.abs(e)))?e[1]:NaN}var jP,ore=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zf(e){if(!(t=ore.exec(e)))throw new Error("invalid format: "+e);var t;return new gv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function gv(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function HP(e,t){var n=pv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Zf.prototype=gv.prototype,gv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const UP={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function nre(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return HP(100*e,t)},r:HP,s:function are(e,t){var n=pv(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(jP=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+pv(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function zP(e){return e}var mv,vv,CE,$P=Array.prototype.map,GP=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function WP(e){var t=void 0===e.grouping||void 0===e.thousands?zP:function rre(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}($P.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?zP:function ire(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}($P.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",a=void 0===e.minus?"-":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function u(d){var h=(d=Zf(d)).fill,g=d.align,m=d.sign,y=d.symbol,_=d.zero,w=d.width,C=d.comma,D=d.precision,S=d.trim,P=d.type;"n"===P?(C=!0,P="g"):UP[P]||(void 0===D&&(D=12),S=!0,P="g"),(_||"0"===h&&"="===g)&&(_=!0,h="0",g="=");var G="$"===y?n:"#"===y&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",$="$"===y?r:/[%p]/.test(P)?s:"",fe=UP[P],ne=/[defgprs%]/.test(P);function de(re){var Se,Q,we,A=G,ee=$;if("c"===P)ee=fe(re)+ee,re="";else{var it=(re=+re)<0||1/re<0;if(re=isNaN(re)?c:fe(Math.abs(re),D),S&&(re=function sre(e){e:for(var i,t=e.length,n=1,r=-1;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":0===r&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(i+1):e}(re)),it&&0==+re&&"+"!==m&&(it=!1),A=(it?"("===m?m:a:"-"===m||"("===m?"":m)+A,ee=("s"===P?GP[8+jP/3]:"")+ee+(it&&"("===m?")":""),ne)for(Se=-1,Q=re.length;++Se<Q;)if(48>(we=re.charCodeAt(Se))||we>57){ee=(46===we?i+re.slice(Se+1):re.slice(Se))+ee,re=re.slice(0,Se);break}}C&&!_&&(re=t(re,1/0));var Je=A.length+re.length+ee.length,ct=Je<w?new Array(w-Je+1).join(h):"";switch(C&&_&&(re=t(ct+re,ct.length?w-ee.length:1/0),ct=""),g){case"<":re=A+re+ee+ct;break;case"=":re=A+ct+re+ee;break;case"^":re=ct.slice(0,Je=ct.length>>1)+A+re+ee+ct.slice(Je);break;default:re=ct+A+re+ee}return o(re)}return D=void 0===D?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D)),de.toString=function(){return d+""},de}return{format:u,formatPrefix:function l(d,h){var g=u(((d=Zf(d)).type="f",d)),m=3*Math.max(-8,Math.min(8,Math.floor(vl(h)/3))),y=Math.pow(10,-m),_=GP[8+m/3];return function(w){return g(y*w)+_}}}}function qP(e){return mv=WP(e),vv=mv.format,CE=mv.formatPrefix,mv}function YP(e){return Math.max(0,-vl(Math.abs(e)))}function KP(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(vl(t)/3)))-vl(Math.abs(e)))}function ZP(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vl(t)-vl(e))+1}function Ea(){return new yv}function yv(){this.reset()}qP({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),yv.prototype={constructor:yv,reset:function(){this.s=this.t=0},add:function(e){XP(_v,e,this.t),XP(this,_v.s,this.s),this.s?this.t+=_v.t:this.s=_v.t},valueOf:function(){return this.s}};var _v=new yv;function XP(e,t,n){var r=e.s=t+n,i=r-t;e.t=t-(r-i)+(n-i)}var bt=1e-6,bv=1e-12,qt=Math.PI,rr=qt/2,wv=qt/4,di=2*qt,An=180/qt,Mt=qt/180,rn=Math.abs,yl=Math.atan,fi=Math.atan2,ht=Math.cos,Ev=Math.ceil,QP=Math.exp,Cv=(Math,Math.log),DE=Math.pow,ot=Math.sin,Qi=Math.sign||function(e){return e>0?1:e<0?-1:0},pr=Math.sqrt,ME=Math.tan;function JP(e){return e>1?0:e<-1?qt:Math.acos(e)}function hi(e){return e>1?rr:e<-1?-rr:Math.asin(e)}function eF(e){return(e=ot(e/2))*e}function Kn(){}function Dv(e,t){e&&nF.hasOwnProperty(e.type)&&nF[e.type](e,t)}var tF={Feature:function(e,t){Dv(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Dv(n[r].geometry,t)}},nF={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)t.point((e=n[r])[0],e[1],e[2])},LineString:function(e,t){xE(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)xE(n[r],t,0)},Polygon:function(e,t){rF(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)rF(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Dv(n[r],t)}};function xE(e,t,n){var o,r=-1,i=e.length-n;for(t.lineStart();++r<i;)t.point((o=e[r])[0],o[1],o[2]);t.lineEnd()}function rF(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)xE(e[n],t,1);t.polygonEnd()}function Io(e,t){e&&tF.hasOwnProperty(e.type)?tF[e.type](e,t):Dv(e,t)}var iF,oF,SE,IE,AE,Mv=Ea(),xv=Ea(),fs={point:Kn,lineStart:Kn,lineEnd:Kn,polygonStart:function(){Mv.reset(),fs.lineStart=cre,fs.lineEnd=ure},polygonEnd:function(){var e=+Mv;xv.add(e<0?di+e:e),this.lineStart=this.lineEnd=this.point=Kn},sphere:function(){xv.add(di)}};function cre(){fs.point=lre}function ure(){sF(iF,oF)}function lre(e,t){fs.point=sF,iF=e,oF=t,SE=e*=Mt,IE=ht(t=(t*=Mt)/2+wv),AE=ot(t)}function sF(e,t){var n=(e*=Mt)-SE,r=n>=0?1:-1,i=r*n,o=ht(t=(t*=Mt)/2+wv),s=ot(t),a=AE*s,c=IE*o+a*ht(i),u=a*r*ot(i);Mv.add(fi(u,c)),SE=e,IE=o,AE=s}function dre(e){return xv.reset(),Io(e,fs),2*xv}function Sv(e){return[fi(e[1],e[0]),hi(e[2])]}function Mc(e){var t=e[0],n=e[1],r=ht(n);return[r*ht(t),r*ot(t),ot(n)]}function Iv(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function _l(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function TE(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Av(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Tv(e){var t=pr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Zn,xi,ir,Vi,xc,aF,cF,bl,Ca,Hs,Xf=Ea(),Us={point:kE,lineStart:lF,lineEnd:dF,polygonStart:function(){Us.point=fF,Us.lineStart=fre,Us.lineEnd=hre,Xf.reset(),fs.polygonStart()},polygonEnd:function(){fs.polygonEnd(),Us.point=kE,Us.lineStart=lF,Us.lineEnd=dF,Mv<0?(Zn=-(ir=180),xi=-(Vi=90)):Xf>bt?Vi=90:Xf<-bt&&(xi=-90),Hs[0]=Zn,Hs[1]=ir},sphere:function(){Zn=-(ir=180),xi=-(Vi=90)}};function kE(e,t){Ca.push(Hs=[Zn=e,ir=e]),t<xi&&(xi=t),t>Vi&&(Vi=t)}function uF(e,t){var n=Mc([e*Mt,t*Mt]);if(bl){var r=_l(bl,n),o=_l([r[1],-r[0],0],r);Tv(o),o=Sv(o);var u,s=e-xc,a=s>0?1:-1,c=o[0]*An*a,l=rn(s)>180;l^(a*xc<c&&c<a*e)?(u=o[1]*An)>Vi&&(Vi=u):l^(a*xc<(c=(c+360)%360-180)&&c<a*e)?(u=-o[1]*An)<xi&&(xi=u):(t<xi&&(xi=t),t>Vi&&(Vi=t)),l?e<xc?Bi(Zn,e)>Bi(Zn,ir)&&(ir=e):Bi(e,ir)>Bi(Zn,ir)&&(Zn=e):ir>=Zn?(e<Zn&&(Zn=e),e>ir&&(ir=e)):e>xc?Bi(Zn,e)>Bi(Zn,ir)&&(ir=e):Bi(e,ir)>Bi(Zn,ir)&&(Zn=e)}else Ca.push(Hs=[Zn=e,ir=e]);t<xi&&(xi=t),t>Vi&&(Vi=t),bl=n,xc=e}function lF(){Us.point=uF}function dF(){Hs[0]=Zn,Hs[1]=ir,Us.point=kE,bl=null}function fF(e,t){if(bl){var n=e-xc;Xf.add(rn(n)>180?n+(n>0?360:-360):n)}else aF=e,cF=t;fs.point(e,t),uF(e,t)}function fre(){fs.lineStart()}function hre(){fF(aF,cF),fs.lineEnd(),rn(Xf)>bt&&(Zn=-(ir=180)),Hs[0]=Zn,Hs[1]=ir,bl=null}function Bi(e,t){return(t-=e)<0?t+360:t}function pre(e,t){return e[0]-t[0]}function hF(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function gre(e){var t,n,r,i,o,s,a;if(Vi=ir=-(Zn=xi=1/0),Ca=[],Io(e,Us),n=Ca.length){for(Ca.sort(pre),t=1,o=[r=Ca[0]];t<n;++t)hF(r,(i=Ca[t])[0])||hF(r,i[1])?(Bi(r[0],i[1])>Bi(r[0],r[1])&&(r[1]=i[1]),Bi(i[0],r[1])>Bi(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)(a=Bi(r[1],(i=o[t])[0]))>s&&(s=a,Zn=i[0],ir=r[1])}return Ca=Hs=null,Zn===1/0||xi===1/0?[[NaN,NaN],[NaN,NaN]]:[[Zn,xi],[ir,Vi]]}var Qf,kv,Nv,Ov,Rv,Pv,Fv,Lv,NE,OE,RE,pF,gF,pi,gi,mi,Ao={sphere:Kn,point:PE,lineStart:mF,lineEnd:vF,polygonStart:function(){Ao.lineStart=yre,Ao.lineEnd=_re},polygonEnd:function(){Ao.lineStart=mF,Ao.lineEnd=vF}};function PE(e,t){e*=Mt;var n=ht(t*=Mt);Jf(n*ht(e),n*ot(e),ot(t))}function Jf(e,t,n){++Qf,Nv+=(e-Nv)/Qf,Ov+=(t-Ov)/Qf,Rv+=(n-Rv)/Qf}function mF(){Ao.point=mre}function mre(e,t){e*=Mt;var n=ht(t*=Mt);pi=n*ht(e),gi=n*ot(e),mi=ot(t),Ao.point=vre,Jf(pi,gi,mi)}function vre(e,t){e*=Mt;var n=ht(t*=Mt),r=n*ht(e),i=n*ot(e),o=ot(t),s=fi(pr((s=gi*o-mi*i)*s+(s=mi*r-pi*o)*s+(s=pi*i-gi*r)*s),pi*r+gi*i+mi*o);kv+=s,Pv+=s*(pi+(pi=r)),Fv+=s*(gi+(gi=i)),Lv+=s*(mi+(mi=o)),Jf(pi,gi,mi)}function vF(){Ao.point=PE}function yre(){Ao.point=bre}function _re(){yF(pF,gF),Ao.point=PE}function bre(e,t){pF=e,gF=t,e*=Mt,t*=Mt,Ao.point=yF;var n=ht(t);pi=n*ht(e),gi=n*ot(e),mi=ot(t),Jf(pi,gi,mi)}function yF(e,t){e*=Mt;var n=ht(t*=Mt),r=n*ht(e),i=n*ot(e),o=ot(t),s=gi*o-mi*i,a=mi*r-pi*o,c=pi*i-gi*r,u=pr(s*s+a*a+c*c),l=hi(u),d=u&&-l/u;NE+=d*s,OE+=d*a,RE+=d*c,kv+=l,Pv+=l*(pi+(pi=r)),Fv+=l*(gi+(gi=i)),Lv+=l*(mi+(mi=o)),Jf(pi,gi,mi)}function wre(e){Qf=kv=Nv=Ov=Rv=Pv=Fv=Lv=NE=OE=RE=0,Io(e,Ao);var t=NE,n=OE,r=RE,i=t*t+n*n+r*r;return i<bv&&(t=Pv,n=Fv,r=Lv,kv<bt&&(t=Nv,n=Ov,r=Rv),(i=t*t+n*n+r*r)<bv)?[NaN,NaN]:[fi(n,t)*An,hi(r/pr(i))*An]}function wl(e){return function(){return e}}function FE(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return(r=t.invert(r,i))&&e.invert(r[0],r[1])}),n}function LE(e,t){return[rn(e)>qt?e+Math.round(-e/di)*di:e,t]}function VE(e,t,n){return(e%=di)?t||n?FE(bF(e),wF(t,n)):bF(e):t||n?wF(t,n):LE}function _F(e){return function(t,n){return[(t+=e)>qt?t-di:t<-qt?t+di:t,n]}}function bF(e){var t=_F(e);return t.invert=_F(-e),t}function wF(e,t){var n=ht(e),r=ot(e),i=ht(t),o=ot(t);function s(a,c){var u=ht(c),l=ht(a)*u,d=ot(a)*u,h=ot(c),g=h*n+l*r;return[fi(d*i-g*o,l*n-h*r),hi(g*i+d*o)]}return s.invert=function(a,c){var u=ht(c),l=ht(a)*u,d=ot(a)*u,h=ot(c),g=h*i-d*o;return[fi(d*i+h*o,l*n+g*r),hi(g*n-l*r)]},s}function EF(e){function t(n){return(n=e(n[0]*Mt,n[1]*Mt))[0]*=An,n[1]*=An,n}return e=VE(e[0]*Mt,e[1]*Mt,e.length>2?e[2]*Mt:0),t.invert=function(n){return(n=e.invert(n[0]*Mt,n[1]*Mt))[0]*=An,n[1]*=An,n},t}function CF(e,t,n,r,i,o){if(n){var s=ht(t),a=ot(t),c=r*n;null==i?(i=t+r*di,o=t-c/2):(i=DF(s,i),o=DF(s,o),(r>0?i<o:i>o)&&(i+=r*di));for(var u,l=i;r>0?l>o:l<o;l-=c)u=Sv([s,-a*ht(l),-a*ot(l)]),e.point(u[0],u[1])}}function DF(e,t){(t=Mc(t))[0]-=e,Tv(t);var n=JP(-t[1]);return((-t[2]<0?-n:n)+di-bt)%di}function Ere(){var r,i,e=wl([0,0]),t=wl(90),n=wl(6),o={point:function s(c,u){r.push(c=i(c,u)),c[0]*=An,c[1]*=An}};function a(){var c=e.apply(this,arguments),u=t.apply(this,arguments)*Mt,l=n.apply(this,arguments)*Mt;return r=[],i=VE(-c[0]*Mt,-c[1]*Mt,0).invert,CF(o,u,l,1),c={type:"Polygon",coordinates:[r]},r=i=null,c}return a.center=function(c){return arguments.length?(e="function"==typeof c?c:wl([+c[0],+c[1]]),a):e},a.radius=function(c){return arguments.length?(t="function"==typeof c?c:wl(+c),a):t},a.precision=function(c){return arguments.length?(n="function"==typeof c?c:wl(+c),a):n},a}function MF(){var t,e=[];return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Kn,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Vv(e,t){return rn(e[0]-t[0])<bt&&rn(e[1]-t[1])<bt}function Bv(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function xF(e,t,n,r,i){var a,c,o=[],s=[];if(e.forEach(function(m){if(!((y=m.length-1)<=0)){var y,C,_=m[0],w=m[y];if(Vv(_,w)){if(!_[2]&&!w[2]){for(i.lineStart(),a=0;a<y;++a)i.point((_=m[a])[0],_[1]);return void i.lineEnd()}w[0]+=2*bt}o.push(C=new Bv(_,m,null,!0)),s.push(C.o=new Bv(_,null,C,!1)),o.push(C=new Bv(w,m,null,!1)),s.push(C.o=new Bv(w,null,C,!0))}}),o.length){for(s.sort(t),SF(o),SF(s),a=0,c=s.length;a<c;++a)s[a].e=n=!n;for(var l,d,u=o[0];;){for(var h=u,g=!0;h.v;)if((h=h.n)===u)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(a=0,c=l.length;a<c;++a)i.point((d=l[a])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(g)for(a=(l=h.p.z).length-1;a>=0;--a)i.point((d=l[a])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,g=!g}while(!h.v);i.lineEnd()}}}function SF(e){if(t=e.length){for(var t,i,n=0,r=e[0];++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}LE.invert=LE;var BE=Ea();function jE(e){return rn(e[0])<=qt?e[0]:Qi(e[0])*((rn(e[0])+qt)%di-qt)}function IF(e,t){var n=jE(t),r=t[1],i=ot(r),o=[ot(n),-ht(n),0],s=0,a=0;BE.reset(),1===i?r=rr+bt:-1===i&&(r=-rr-bt);for(var c=0,u=e.length;c<u;++c)if(d=(l=e[c]).length)for(var l,d,h=l[d-1],g=jE(h),m=h[1]/2+wv,y=ot(m),_=ht(m),w=0;w<d;++w,g=D,y=P,_=G,h=C){var C=l[w],D=jE(C),S=C[1]/2+wv,P=ot(S),G=ht(S),$=D-g,fe=$>=0?1:-1,ne=fe*$,de=ne>qt,re=y*P;if(BE.add(fi(re*fe*ot(ne),_*G+re*ht(ne))),s+=de?$+fe*di:$,de^g>=n^D>=n){var A=_l(Mc(h),Mc(C));Tv(A);var ee=_l(o,A);Tv(ee);var Se=(de^$>=0?-1:1)*hi(ee[2]);(r>Se||r===Se&&(A[0]||A[1]))&&(a+=de^$>=0?1:-1)}}return(s<-bt||s<bt&&BE<-bt)^1&a}function AF(e,t,n,r){return function(i){var u,l,d,o=t(i),s=MF(),a=t(s),c=!1,h={point:g,lineStart:y,lineEnd:_,polygonStart:function(){h.point=w,h.lineStart=C,h.lineEnd=D,l=[],u=[]},polygonEnd:function(){h.point=g,h.lineStart=y,h.lineEnd=_,l=v1(l);var S=IF(u,r);l.length?(c||(i.polygonStart(),c=!0),xF(l,Dre,S,n,i)):S&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),l=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(S,P){e(S,P)&&i.point(S,P)}function m(S,P){o.point(S,P)}function y(){h.point=m,o.lineStart()}function _(){h.point=g,o.lineEnd()}function w(S,P){d.push([S,P]),a.point(S,P)}function C(){a.lineStart(),d=[]}function D(){w(d[0][0],d[0][1]),a.lineEnd();var G,fe,ne,de,S=a.clean(),P=s.result(),$=P.length;if(d.pop(),u.push(d),d=null,$){if(1&S){if((fe=(ne=P[0]).length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),G=0;G<fe;++G)i.point((de=ne[G])[0],de[1]);i.lineEnd()}return}$>1&&2&S&&P.push(P.pop().concat(P.shift())),l.push(P.filter(Cre))}}return h}}function Cre(e){return e.length>1}function Dre(e,t){return((e=e.x)[0]<0?e[1]-rr-bt:rr-e[1])-((t=t.x)[0]<0?t[1]-rr-bt:rr-t[1])}const HE=AF(function(){return!0},function Mre(e){var i,t=NaN,n=NaN,r=NaN;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?qt:-qt,c=rn(o-t);rn(c-qt)<bt?(e.point(t,n=(n+s)/2>0?rr:-rr),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&c>=qt&&(rn(t-r)<bt&&(t-=r*bt),rn(o-a)<bt&&(o-=a*bt),n=function xre(e,t,n,r){var i,o,s=ot(e-n);return rn(s)>bt?yl((ot(t)*(o=ht(r))*ot(n)-ot(r)*(i=ht(t))*ot(e))/(i*o*s)):(t+r)/2}(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}},function Sre(e,t,n,r){var i;if(null==e)r.point(-qt,i=n*rr),r.point(0,i),r.point(qt,i),r.point(qt,0),r.point(qt,-i),r.point(0,-i),r.point(-qt,-i),r.point(-qt,0),r.point(-qt,i);else if(rn(e[0]-t[0])>bt){var o=e[0]<t[0]?qt:-qt;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])},[-qt,-rr]);function TF(e){var t=ht(e),n=6*Mt,r=t>0,i=rn(t)>bt;function s(l,d){return ht(l)*ht(d)>t}function c(l,d,h){var y=[1,0,0],_=_l(Mc(l),Mc(d)),w=Iv(_,_),C=_[0],D=w-C*C;if(!D)return!h&&l;var S=t*w/D,P=-t*C/D,G=_l(y,_),$=Av(y,S);TE($,Av(_,P));var ne=G,de=Iv($,ne),re=Iv(ne,ne),A=de*de-re*(Iv($,$)-1);if(!(A<0)){var ee=pr(A),Se=Av(ne,(-de-ee)/re);if(TE(Se,$),Se=Sv(Se),!h)return Se;var ct,Q=l[0],we=d[0],it=l[1],Je=d[1];we<Q&&(ct=Q,Q=we,we=ct);var st=we-Q,pt=rn(st-qt)<bt;if(!pt&&Je<it&&(ct=it,it=Je,Je=ct),pt||st<bt?pt?it+Je>0^Se[1]<(rn(Se[0]-Q)<bt?it:Je):it<=Se[1]&&Se[1]<=Je:st>qt^(Q<=Se[0]&&Se[0]<=we)){var bn=Av(ne,(-de+ee)/re);return TE(bn,$),[Se,Sv(bn)]}}}function u(l,d){var h=r?e:qt-e,g=0;return l<-h?g|=1:l>h&&(g|=2),d<-h?g|=4:d>h&&(g|=8),g}return AF(s,function a(l){var d,h,g,m,y;return{lineStart:function(){m=g=!1,y=1},point:function(_,w){var D,C=[_,w],S=s(_,w),P=r?S?0:u(_,w):S?u(_+(_<0?qt:-qt),w):0;if(!d&&(m=g=S)&&l.lineStart(),S!==g&&(!(D=c(d,C))||Vv(d,D)||Vv(C,D))&&(C[2]=1),S!==g)y=0,S?(l.lineStart(),D=c(C,d),l.point(D[0],D[1])):(D=c(d,C),l.point(D[0],D[1],2),l.lineEnd()),d=D;else if(i&&d&&r^S){var G;!(P&h)&&(G=c(C,d,!0))&&(y=0,r?(l.lineStart(),l.point(G[0][0],G[0][1]),l.point(G[1][0],G[1][1]),l.lineEnd()):(l.point(G[1][0],G[1][1]),l.lineEnd(),l.lineStart(),l.point(G[0][0],G[0][1],3)))}S&&(!d||!Vv(d,C))&&l.point(C[0],C[1]),d=C,g=S,h=P},lineEnd:function(){g&&l.lineEnd(),d=null},clean:function(){return y|(m&&g)<<1}}},function o(l,d,h,g){CF(g,e,n,h,l,d)},r?[0,-e]:[-qt,e-qt])}var eh=1e9,jv=-eh;function Hv(e,t,n,r){function i(u,l){return e<=u&&u<=n&&t<=l&&l<=r}function o(u,l,d,h){var g=0,m=0;if(null==u||(g=s(u,d))!==(m=s(l,d))||c(u,l)<0^d>0)do{h.point(0===g||3===g?e:n,g>1?r:t)}while((g=(g+d+4)%4)!==m);else h.point(l[0],l[1])}function s(u,l){return rn(u[0]-e)<bt?l>0?0:3:rn(u[0]-n)<bt?l>0?2:1:rn(u[1]-t)<bt?l>0?1:0:l>0?3:2}function a(u,l){return c(u.x,l.x)}function c(u,l){var d=s(u,1),h=s(l,1);return d!==h?d-h:0===d?l[1]-u[1]:1===d?u[0]-l[0]:2===d?u[1]-l[1]:l[0]-u[0]}return function(u){var h,g,m,y,_,w,C,D,S,P,G,l=u,d=MF(),$={point:fe,lineStart:function A(){$.point=Se,g&&g.push(m=[]),P=!0,S=!1,C=D=NaN},lineEnd:function ee(){h&&(Se(y,_),w&&S&&d.rejoin(),h.push(d.result())),$.point=fe,S&&l.lineEnd()},polygonStart:function de(){l=d,h=[],g=[],G=!0},polygonEnd:function re(){var Q=function ne(){for(var Q=0,we=0,it=g.length;we<it;++we)for(var kn,bn,Je=g[we],ct=1,st=Je.length,pt=Je[0],tn=pt[0],Gn=pt[1];ct<st;++ct)kn=tn,bn=Gn,tn=(pt=Je[ct])[0],Gn=pt[1],bn<=r?Gn>r&&(tn-kn)*(r-bn)>(Gn-bn)*(e-kn)&&++Q:Gn<=r&&(tn-kn)*(r-bn)<(Gn-bn)*(e-kn)&&--Q;return Q}(),we=G&&Q,it=(h=v1(h)).length;(we||it)&&(u.polygonStart(),we&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),it&&xF(h,a,Q,o,u),u.polygonEnd()),l=u,h=g=m=null}};function fe(Q,we){i(Q,we)&&l.point(Q,we)}function Se(Q,we){var it=i(Q,we);if(g&&m.push([Q,we]),P)y=Q,_=we,w=it,P=!1,it&&(l.lineStart(),l.point(Q,we));else if(it&&S)l.point(Q,we);else{var Je=[C=Math.max(jv,Math.min(eh,C)),D=Math.max(jv,Math.min(eh,D))],ct=[Q=Math.max(jv,Math.min(eh,Q)),we=Math.max(jv,Math.min(eh,we))];!function Ire(e,t,n,r,i,o){var m,s=e[0],a=e[1],l=0,d=1,h=t[0]-s,g=t[1]-a;if(m=n-s,h||!(m>0)){if(m/=h,h<0){if(m<l)return;m<d&&(d=m)}else if(h>0){if(m>d)return;m>l&&(l=m)}if(m=i-s,h||!(m<0)){if(m/=h,h<0){if(m>d)return;m>l&&(l=m)}else if(h>0){if(m<l)return;m<d&&(d=m)}if(m=r-a,g||!(m>0)){if(m/=g,g<0){if(m<l)return;m<d&&(d=m)}else if(g>0){if(m>d)return;m>l&&(l=m)}if(m=o-a,g||!(m<0)){if(m/=g,g<0){if(m>d)return;m>l&&(l=m)}else if(g>0){if(m<l)return;m<d&&(d=m)}return l>0&&(e[0]=s+l*h,e[1]=a+l*g),d<1&&(t[0]=s+d*h,t[1]=a+d*g),!0}}}}}(Je,ct,e,t,n,r)?it&&(l.lineStart(),l.point(Q,we),G=!1):(S||(l.lineStart(),l.point(Je[0],Je[1])),l.point(ct[0],ct[1]),it||l.lineEnd(),G=!1)}C=Q,D=we,S=it}return $}}function Are(){var i,o,s,e=0,t=0,n=960,r=500;return s={stream:function(a){return i&&o===a?i:i=Hv(e,t,n,r)(o=a)},extent:function(a){return arguments.length?(e=+a[0][0],t=+a[0][1],n=+a[1][0],r=+a[1][1],i=o=null,s):[[e,t],[n,r]]}}}var zE,Uv,zv,UE=Ea(),El={sphere:Kn,point:Kn,lineStart:function Tre(){El.point=Nre,El.lineEnd=kre},lineEnd:Kn,polygonStart:Kn,polygonEnd:Kn};function kre(){El.point=El.lineEnd=Kn}function Nre(e,t){zE=e*=Mt,Uv=ot(t*=Mt),zv=ht(t),El.point=Ore}function Ore(e,t){e*=Mt;var n=ot(t*=Mt),r=ht(t),i=rn(e-zE),o=ht(i),a=r*ot(i),c=zv*n-Uv*r*o,u=Uv*n+zv*r*o;UE.add(fi(pr(a*a+c*c),u)),zE=e,Uv=n,zv=r}function kF(e){return UE.reset(),Io(e,El),+UE}var $E=[null,null],Rre={type:"LineString",coordinates:$E};function $v(e,t){return $E[0]=e,$E[1]=t,kF(Rre)}var NF={Feature:function(e,t){return Gv(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(Gv(n[r].geometry,t))return!0;return!1}},OF={Sphere:function(){return!0},Point:function(e,t){return RF(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(RF(n[r],t))return!0;return!1},LineString:function(e,t){return PF(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(PF(n[r],t))return!0;return!1},Polygon:function(e,t){return FF(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(FF(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(Gv(n[r],t))return!0;return!1}};function Gv(e,t){return!(!e||!OF.hasOwnProperty(e.type))&&OF[e.type](e,t)}function RF(e,t){return 0===$v(e,t)}function PF(e,t){for(var n,r,i,o=0,s=e.length;o<s;o++){if(0===(r=$v(e[o],t))||o>0&&(i=$v(e[o],e[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<bv*i)return!0;n=r}return!1}function FF(e,t){return!!IF(e.map(Pre),LF(t))}function Pre(e){return(e=e.map(LF)).pop(),e}function LF(e){return[e[0]*Mt,e[1]*Mt]}function Fre(e,t){return(e&&NF.hasOwnProperty(e.type)?NF[e.type]:Gv)(e,t)}function VF(e,t,n){var r=Li(e,t-bt,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function BF(e,t,n){var r=Li(e,t-bt,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function jF(){var e,t,n,r,i,o,s,a,h,g,m,y,c=10,u=c,l=90,d=360,_=2.5;function w(){return{type:"MultiLineString",coordinates:C()}}function C(){return Li(Ev(r/l)*l,n,l).map(m).concat(Li(Ev(a/d)*d,s,d).map(y)).concat(Li(Ev(t/c)*c,e,c).filter(function(D){return rn(D%l)>bt}).map(h)).concat(Li(Ev(o/u)*u,i,u).filter(function(D){return rn(D%d)>bt}).map(g))}return w.lines=function(){return C().map(function(D){return{type:"LineString",coordinates:D}})},w.outline=function(){return{type:"Polygon",coordinates:[m(r).concat(y(s).slice(1),m(n).reverse().slice(1),y(a).reverse().slice(1))]}},w.extent=function(D){return arguments.length?w.extentMajor(D).extentMinor(D):w.extentMinor()},w.extentMajor=function(D){return arguments.length?(a=+D[0][1],s=+D[1][1],(r=+D[0][0])>(n=+D[1][0])&&(D=r,r=n,n=D),a>s&&(D=a,a=s,s=D),w.precision(_)):[[r,a],[n,s]]},w.extentMinor=function(D){return arguments.length?(o=+D[0][1],i=+D[1][1],(t=+D[0][0])>(e=+D[1][0])&&(D=t,t=e,e=D),o>i&&(D=o,o=i,i=D),w.precision(_)):[[t,o],[e,i]]},w.step=function(D){return arguments.length?w.stepMajor(D).stepMinor(D):w.stepMinor()},w.stepMajor=function(D){return arguments.length?(l=+D[0],d=+D[1],w):[l,d]},w.stepMinor=function(D){return arguments.length?(c=+D[0],u=+D[1],w):[c,u]},w.precision=function(D){return arguments.length?(_=+D,h=VF(o,i,90),g=BF(t,e,_),m=VF(a,s,90),y=BF(r,n,_),w):_},w.extentMajor([[-180,-90+bt],[180,90-bt]]).extentMinor([[-180,-80-bt],[180,80+bt]])}function Lre(){return jF()()}function Vre(e,t){var n=e[0]*Mt,r=e[1]*Mt,i=t[0]*Mt,o=t[1]*Mt,s=ht(r),a=ot(r),c=ht(o),u=ot(o),l=s*ht(n),d=s*ot(n),h=c*ht(i),g=c*ot(i),m=2*hi(pr(eF(o-r)+s*c*eF(i-n))),y=ot(m),_=m?function(w){var C=ot(w*=m)/y,D=ot(m-w)/y,S=D*l+C*h,P=D*d+C*g,G=D*a+C*u;return[fi(P,S)*An,fi(G,pr(S*S+P*P))*An]}:function(){return[n*An,r*An]};return _.distance=m,_}function th(e){return e}var HF,UF,qE,YE,GE=Ea(),WE=Ea(),Da={point:Kn,lineStart:Kn,lineEnd:Kn,polygonStart:function(){Da.lineStart=Bre,Da.lineEnd=Hre},polygonEnd:function(){Da.lineStart=Da.lineEnd=Da.point=Kn,GE.add(rn(WE)),WE.reset()},result:function(){var e=GE/2;return GE.reset(),e}};function Bre(){Da.point=jre}function jre(e,t){Da.point=zF,HF=qE=e,UF=YE=t}function zF(e,t){WE.add(YE*e-qE*t),qE=e,YE=t}function Hre(){zF(HF,UF)}const $F=Da;var Cl=1/0,Wv=Cl,nh=-Cl,qv=nh,Ure={point:function zre(e,t){e<Cl&&(Cl=e),e>nh&&(nh=e),t<Wv&&(Wv=t),t>qv&&(qv=t)},lineStart:Kn,lineEnd:Kn,polygonStart:Kn,polygonEnd:Kn,result:function(){var e=[[Cl,Wv],[nh,qv]];return nh=qv=-(Wv=Cl=1/0),e}};const Yv=Ure;var GF,WF,hs,ps,KE=0,ZE=0,rh=0,Kv=0,Zv=0,Dl=0,XE=0,QE=0,ih=0,To={point:Sc,lineStart:qF,lineEnd:YF,polygonStart:function(){To.lineStart=Wre,To.lineEnd=qre},polygonEnd:function(){To.point=Sc,To.lineStart=qF,To.lineEnd=YF},result:function(){var e=ih?[XE/ih,QE/ih]:Dl?[Kv/Dl,Zv/Dl]:rh?[KE/rh,ZE/rh]:[NaN,NaN];return KE=ZE=rh=Kv=Zv=Dl=XE=QE=ih=0,e}};function Sc(e,t){KE+=e,ZE+=t,++rh}function qF(){To.point=$re}function $re(e,t){To.point=Gre,Sc(hs=e,ps=t)}function Gre(e,t){var n=e-hs,r=t-ps,i=pr(n*n+r*r);Kv+=i*(hs+e)/2,Zv+=i*(ps+t)/2,Dl+=i,Sc(hs=e,ps=t)}function YF(){To.point=Sc}function Wre(){To.point=Yre}function qre(){KF(GF,WF)}function Yre(e,t){To.point=KF,Sc(GF=hs=e,WF=ps=t)}function KF(e,t){var n=e-hs,r=t-ps,i=pr(n*n+r*r);Kv+=i*(hs+e)/2,Zv+=i*(ps+t)/2,Dl+=i,XE+=(i=ps*e-hs*t)*(hs+e),QE+=i*(ps+t),ih+=3*i,Sc(hs=e,ps=t)}const ZF=To;function XF(e){this._context=e}XF.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,di)}},result:Kn};var eC,QF,JF,oh,sh,JE=Ea(),Xv={point:Kn,lineStart:function(){Xv.point=Kre},lineEnd:function(){eC&&eL(QF,JF),Xv.point=Kn},polygonStart:function(){eC=!0},polygonEnd:function(){eC=null},result:function(){var e=+JE;return JE.reset(),e}};function Kre(e,t){Xv.point=eL,QF=oh=e,JF=sh=t}function eL(e,t){JE.add(pr((oh-=e)*oh+(sh-=t)*sh)),oh=e,sh=t}const tL=Xv;function nL(){this._string=[]}function rL(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Zre(e,t){var r,i,n=4.5;function o(s){return s&&("function"==typeof n&&i.pointRadius(+n.apply(this,arguments)),Io(s,r(i))),i.result()}return o.area=function(s){return Io(s,r($F)),$F.result()},o.measure=function(s){return Io(s,r(tL)),tL.result()},o.bounds=function(s){return Io(s,r(Yv)),Yv.result()},o.centroid=function(s){return Io(s,r(ZF)),ZF.result()},o.projection=function(s){return arguments.length?(r=null==s?(e=null,th):(e=s).stream,o):e},o.context=function(s){return arguments.length?(i=null==s?(t=null,new nL):new XF(t=s),"function"!=typeof n&&i.pointRadius(n),o):t},o.pointRadius=function(s){return arguments.length?(n="function"==typeof s?s:(i.pointRadius(+s),+s),o):n},o.projection(e).context(t)}function Xre(e){return{stream:ah(e)}}function ah(e){return function(t){var n=new tC;for(var r in e)n[r]=e[r];return n.stream=t,n}}function tC(){}function nC(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Io(n,e.stream(Yv)),t(Yv.result()),null!=r&&e.clipExtent(r),e}function Qv(e,t,n){return nC(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,c])},n)}function rC(e,t,n){return Qv(e,[[0,0],t],n)}function iC(e,t,n){return nC(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function oC(e,t,n){return nC(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}nL.prototype={_radius:4.5,_circle:rL(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=rL(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},tC.prototype={constructor:tC,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var iL=16,Qre=ht(30*Mt);function oL(e,t){return+t?function eie(e,t){function n(r,i,o,s,a,c,u,l,d,h,g,m,y,_){var w=u-r,C=l-i,D=w*w+C*C;if(D>4*t&&y--){var S=s+h,P=a+g,G=c+m,$=pr(S*S+P*P+G*G),fe=hi(G/=$),ne=rn(rn(G)-1)<bt||rn(o-d)<bt?(o+d)/2:fi(P,S),de=e(ne,fe),re=de[0],A=de[1],ee=re-r,Se=A-i,Q=C*ee-w*Se;(Q*Q/D>t||rn((w*ee+C*Se)/D-.5)>.3||s*h+a*g+c*m<Qre)&&(n(r,i,o,s,a,c,re,A,ne,S/=$,P/=$,G,y,_),_.point(re,A),n(re,A,ne,S,P,G,u,l,d,h,g,m,y,_))}}return function(r){var i,o,s,a,c,u,l,d,h,g,m,y,_={point:w,lineStart:C,lineEnd:S,polygonStart:function(){r.polygonStart(),_.lineStart=P},polygonEnd:function(){r.polygonEnd(),_.lineStart=C}};function w(fe,ne){fe=e(fe,ne),r.point(fe[0],fe[1])}function C(){d=NaN,_.point=D,r.lineStart()}function D(fe,ne){var de=Mc([fe,ne]),re=e(fe,ne);n(d,h,l,g,m,y,d=re[0],h=re[1],l=fe,g=de[0],m=de[1],y=de[2],iL,r),r.point(d,h)}function S(){_.point=w,r.lineEnd()}function P(){C(),_.point=G,_.lineEnd=$}function G(fe,ne){D(i=fe,ne),o=d,s=h,a=g,c=m,u=y,_.point=D}function $(){n(d,h,l,g,m,y,o,s,i,a,c,u,iL,r),_.lineEnd=S,S()}return _}}(e,t):function Jre(e){return ah({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var tie=ah({point:function(e,t){this.stream.point(e*Mt,t*Mt)}});function rie(e,t,n,r,i){function o(s,a){return[t+e*(s*=r),n-e*(a*=i)]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function sL(e,t,n,r,i,o){var s=ht(o),a=ot(o),c=s*e,u=a*e,l=s/e,d=a/e,h=(a*n-s*t)/e,g=(a*t+s*n)/e;function m(y,_){return[c*(y*=r)-u*(_*=i)+t,n-u*y-c*_]}return m.invert=function(y,_){return[r*(l*y-d*_+h),i*(g-d*y-l*_)]},m}function gs(e){return sC(function(){return e})()}function sC(e){var t,l,w,C,D,G,$,fe,ne,de,n=150,r=480,i=250,o=0,s=0,a=0,c=0,u=0,d=0,h=1,g=1,m=null,y=HE,_=null,S=th,P=.5;function re(Q){return fe(Q[0]*Mt,Q[1]*Mt)}function A(Q){return(Q=fe.invert(Q[0],Q[1]))&&[Q[0]*An,Q[1]*An]}function ee(){var Q=sL(n,0,0,h,g,d).apply(null,t(o,s)),we=(d?sL:rie)(n,r-Q[0],i-Q[1],h,g,d);return l=VE(a,c,u),$=FE(t,we),fe=FE(l,$),G=oL($,P),Se()}function Se(){return ne=de=null,re}return re.stream=function(Q){return ne&&de===Q?ne:ne=tie(function nie(e){return ah({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(l)(y(G(S(de=Q)))))},re.preclip=function(Q){return arguments.length?(y=Q,m=void 0,Se()):y},re.postclip=function(Q){return arguments.length?(S=Q,_=w=C=D=null,Se()):S},re.clipAngle=function(Q){return arguments.length?(y=+Q?TF(m=Q*Mt):(m=null,HE),Se()):m*An},re.clipExtent=function(Q){return arguments.length?(S=null==Q?(_=w=C=D=null,th):Hv(_=+Q[0][0],w=+Q[0][1],C=+Q[1][0],D=+Q[1][1]),Se()):null==_?null:[[_,w],[C,D]]},re.scale=function(Q){return arguments.length?(n=+Q,ee()):n},re.translate=function(Q){return arguments.length?(r=+Q[0],i=+Q[1],ee()):[r,i]},re.center=function(Q){return arguments.length?(o=Q[0]%360*Mt,s=Q[1]%360*Mt,ee()):[o*An,s*An]},re.rotate=function(Q){return arguments.length?(a=Q[0]%360*Mt,c=Q[1]%360*Mt,u=Q.length>2?Q[2]%360*Mt:0,ee()):[a*An,c*An,u*An]},re.angle=function(Q){return arguments.length?(d=Q%360*Mt,ee()):d*An},re.reflectX=function(Q){return arguments.length?(h=Q?-1:1,ee()):h<0},re.reflectY=function(Q){return arguments.length?(g=Q?-1:1,ee()):g<0},re.precision=function(Q){return arguments.length?(G=oL($,P=Q*Q),Se()):pr(P)},re.fitExtent=function(Q,we){return Qv(re,Q,we)},re.fitSize=function(Q,we){return rC(re,Q,we)},re.fitWidth=function(Q,we){return iC(re,Q,we)},re.fitHeight=function(Q,we){return oC(re,Q,we)},function(){return t=e.apply(this,arguments),re.invert=t.invert&&A,ee()}}function aC(e){var t=0,n=qt/3,r=sC(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*Mt,n=o[1]*Mt):[t*An,n*An]},i}function aL(e,t){var n=ot(e),r=(n+ot(t))/2;if(rn(r)<bt)return function iie(e){var t=ht(e);function n(r,i){return[r*t,ot(i)/t]}return n.invert=function(r,i){return[r/t,hi(i*t)]},n}(e);var i=1+n*(2*r-n),o=pr(i)/r;function s(a,c){var u=pr(i-2*r*ot(c))/r;return[u*ot(a*=r),o-u*ht(a)]}return s.invert=function(a,c){var u=o-c,l=fi(a,rn(u))*Qi(u);return u*r<0&&(l-=qt*Qi(a)*Qi(u)),[l/r,hi((i-(a*a+u*u)*r*r)/(2*r))]},s}function Jv(){return aC(aL).scale(155.424).center([0,33.6442])}function cL(){return Jv().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function sie(){var e,t,r,o,a,c,n=cL(),i=Jv().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=Jv().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(h,g){c=[h,g]}};function l(h){var g=h[0],m=h[1];return c=null,r.point(g,m),c||(o.point(g,m),c)||(a.point(g,m),c)}function d(){return e=t=null,l}return l.invert=function(h){var g=n.scale(),m=n.translate(),y=(h[0]-m[0])/g,_=(h[1]-m[1])/g;return(_>=.12&&_<.234&&y>=-.425&&y<-.214?i:_>=.166&&_<.234&&y>=-.214&&y<-.115?s:n).invert(h)},l.stream=function(h){return e&&t===h?e:e=function oie(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([n.stream(t=h),i.stream(h),s.stream(h)])},l.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},l.scale=function(h){return arguments.length?(n.scale(h),i.scale(.35*h),s.scale(h),l.translate(n.translate())):n.scale()},l.translate=function(h){if(!arguments.length)return n.translate();var g=n.scale(),m=+h[0],y=+h[1];return r=n.translate(h).clipExtent([[m-.455*g,y-.238*g],[m+.455*g,y+.238*g]]).stream(u),o=i.translate([m-.307*g,y+.201*g]).clipExtent([[m-.425*g+bt,y+.12*g+bt],[m-.214*g-bt,y+.234*g-bt]]).stream(u),a=s.translate([m-.205*g,y+.212*g]).clipExtent([[m-.214*g+bt,y+.166*g+bt],[m-.115*g-bt,y+.234*g-bt]]).stream(u),d()},l.fitExtent=function(h,g){return Qv(l,h,g)},l.fitSize=function(h,g){return rC(l,h,g)},l.fitWidth=function(h,g){return iC(l,h,g)},l.fitHeight=function(h,g){return oC(l,h,g)},l.scale(1070)}function uL(e){return function(t,n){var r=ht(t),i=ht(n),o=e(r*i);return[o*i*ot(t),o*ot(n)]}}function ch(e){return function(t,n){var r=pr(t*t+n*n),i=e(r),o=ot(i),s=ht(i);return[fi(t*o,r*s),hi(r&&n*o/r)]}}var cC=uL(function(e){return pr(2/(1+e))});function aie(){return gs(cC).scale(124.75).clipAngle(179.999)}cC.invert=ch(function(e){return 2*hi(e/2)});var uC=uL(function(e){return(e=JP(e))&&e/ot(e)});function cie(){return gs(uC).scale(79.4188).clipAngle(179.999)}function uh(e,t){return[e,Cv(ME((rr+t)/2))]}function uie(){return lL(uh).scale(961/di)}function lL(e){var a,c,u,t=gs(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null;function l(){var d=qt*r(),h=t(EF(t.rotate()).invert([0,0]));return o(null==s?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===uh?[[Math.max(h[0]-d,s),a],[Math.min(h[0]+d,c),u]]:[[s,Math.max(h[1]-d,a)],[c,Math.min(h[1]+d,u)]])}return t.scale=function(d){return arguments.length?(r(d),l()):r()},t.translate=function(d){return arguments.length?(i(d),l()):i()},t.center=function(d){return arguments.length?(n(d),l()):n()},t.clipExtent=function(d){return arguments.length?(null==d?s=a=c=u=null:(s=+d[0][0],a=+d[0][1],c=+d[1][0],u=+d[1][1]),l()):null==s?null:[[s,a],[c,u]]},l()}function ey(e){return ME((rr+e)/2)}function dL(e,t){var n=ht(e),r=e===t?ot(e):Cv(n/ht(t))/Cv(ey(t)/ey(e)),i=n*DE(ey(e),r)/r;if(!r)return uh;function o(s,a){i>0?a<-rr+bt&&(a=-rr+bt):a>rr-bt&&(a=rr-bt);var c=i/DE(ey(a),r);return[c*ot(r*s),i-c*ht(r*s)]}return o.invert=function(s,a){var c=i-a,u=Qi(r)*pr(s*s+c*c),l=fi(s,rn(c))*Qi(c);return c*r<0&&(l-=qt*Qi(s)*Qi(c)),[l/r,2*yl(DE(i/u,1/r))-rr]},o}function lie(){return aC(dL).scale(109.5).parallels([30,30])}function lh(e,t){return[e,t]}function die(){return gs(lh).scale(152.63)}function fL(e,t){var n=ht(e),r=e===t?ot(e):(n-ht(t))/(t-e),i=n/r+e;if(rn(r)<bt)return lh;function o(s,a){var c=i-a,u=r*s;return[c*ot(u),i-c*ht(u)]}return o.invert=function(s,a){var c=i-a,u=fi(s,rn(c))*Qi(c);return c*r<0&&(u-=qt*Qi(s)*Qi(c)),[u/r,i-Qi(r)*pr(s*s+c*c)]},o}function fie(){return aC(fL).scale(131.154).center([0,13.9389])}uC.invert=ch(function(e){return e}),uh.invert=function(e,t){return[e,2*yl(QP(t))-rr]},lh.invert=lh;var dh=1.340264,fh=-.081106,hh=893e-6,ph=.003796,ty=pr(3)/2;function lC(e,t){var n=hi(ty*ot(t)),r=n*n,i=r*r*r;return[e*ht(n)/(ty*(dh+3*fh*r+i*(7*hh+9*ph*r))),n*(dh+fh*r+i*(hh+ph*r))]}function pie(){return gs(lC).scale(177.158)}function dC(e,t){var n=ht(t),r=ht(e)*n;return[n*ot(e)/r,ot(t)/r]}function gie(){return gs(dC).scale(144.049).clipAngle(60)}function mie(){var s,a,u,l,d,_,w,e=1,t=0,n=0,r=1,i=1,o=0,c=null,h=1,g=1,m=ah({point:function(S,P){var G=D([S,P]);this.stream.point(G[0],G[1])}}),y=th;function C(){return h=e*r,g=e*i,_=w=null,D}function D(S){var P=S[0]*h,G=S[1]*g;if(o){var $=G*s-P*a;P=P*s+G*a,G=$}return[P+t,G+n]}return D.invert=function(S){var P=S[0]-t,G=S[1]-n;if(o){var $=G*s+P*a;P=P*s-G*a,G=$}return[P/h,G/g]},D.stream=function(S){return _&&w===S?_:_=m(y(w=S))},D.postclip=function(S){return arguments.length?(y=S,c=u=l=d=null,C()):y},D.clipExtent=function(S){return arguments.length?(y=null==S?(c=u=l=d=null,th):Hv(c=+S[0][0],u=+S[0][1],l=+S[1][0],d=+S[1][1]),C()):null==c?null:[[c,u],[l,d]]},D.scale=function(S){return arguments.length?(e=+S,C()):e},D.translate=function(S){return arguments.length?(t=+S[0],n=+S[1],C()):[t,n]},D.angle=function(S){return arguments.length?(a=ot(o=S%360*Mt),s=ht(o),C()):o*An},D.reflectX=function(S){return arguments.length?(r=S?-1:1,C()):r<0},D.reflectY=function(S){return arguments.length?(i=S?-1:1,C()):i<0},D.fitExtent=function(S,P){return Qv(D,S,P)},D.fitSize=function(S,P){return rC(D,S,P)},D.fitWidth=function(S,P){return iC(D,S,P)},D.fitHeight=function(S,P){return oC(D,S,P)},D}function fC(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function vie(){return gs(fC).scale(175.295)}function hC(e,t){return[ht(t)*ot(e),ot(t)]}function yie(){return gs(hC).scale(249.5).clipAngle(90+bt)}function pC(e,t){var n=ht(t),r=1+ht(e)*n;return[n*ot(e)/r,ot(t)/r]}function _ie(){return gs(pC).scale(250).clipAngle(142)}function gC(e,t){return[Cv(ME((rr+t)/2)),-e]}function bie(){var e=lL(gC),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):[(r=t())[1],-r[0]]},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):[(r=n())[0],r[1],r[2]-90]},n([0,0,90]).scale(159.155)}function wie(e,t){return e.parent===t.parent?1:2}function Cie(e,t){return e+t.x}function Mie(e,t){return Math.max(e,t.y)}function Iie(){var e=wie,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(h){var g=h.children;g?(h.x=function Eie(e){return e.reduce(Cie,0)/e.length}(g),h.y=function Die(e){return 1+e.reduce(Mie,0)}(g)):(h.x=s?a+=e(h,s):0,h.y=0,s=h)});var c=function xie(e){for(var t;t=e.children;)e=t[0];return e}(o),u=function Sie(e){for(var t;t=e.children;)e=t[t.length-1];return e}(o),l=c.x-e(c,u)/2,d=u.x+e(u,c)/2;return o.eachAfter(r?function(h){h.x=(h.x-o.x)*t,h.y=(o.y-h.y)*n}:function(h){h.x=(h.x-l)/(d-l)*t,h.y=(1-(o.y?h.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function Aie(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function mC(e,t){var i,s,a,c,u,n=new Ml(e),r=+e.value&&(n.value=e.value),o=[n];for(null==t&&(t=zie);i=o.pop();)if(r&&(i.value=+i.data.value),(a=t(i.data))&&(u=a.length))for(i.children=new Array(u),c=u-1;c>=0;--c)o.push(s=i.children[c]=new Ml(a[c])),s.parent=i,s.depth=i.depth+1;return n.eachBefore(hL)}function zie(e){return e.children}function $ie(e){e.data=e.data.data}function hL(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Ml(e){this.data=e,this.depth=this.height=0,this.parent=null}lC.invert=function(e,t){for(var s,n=t,r=n*n,i=r*r*r,o=0;o<12&&(i=(r=(n-=s=(n*(dh+fh*r+i*(hh+ph*r))-t)/(dh+3*fh*r+i*(7*hh+9*ph*r)))*n)*r*r,!(rn(s)<bv));++o);return[ty*e*(dh+3*fh*r+i*(7*hh+9*ph*r))/ht(n),hi(ot(n)/ty)]},dC.invert=ch(yl),fC.invert=function(e,t){var i,n=t,r=25;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-t)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(rn(i)>bt&&--r>0);return[e/(.8707+(o=n*n)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),n]},hC.invert=ch(hi),pC.invert=ch(function(e){return 2*yl(e)}),gC.invert=function(e,t){return[-t,2*yl(QP(e))-rr]},Ml.prototype=mC.prototype={constructor:Ml,count:function Tie(){return this.eachAfter(Aie)},each:function kie(e){var n,i,o,s,t=this,r=[t];do{for(n=r.reverse(),r=[];t=n.pop();)if(e(t),i=t.children)for(o=0,s=i.length;o<s;++o)r.push(i[o])}while(r.length);return this},eachAfter:function Oie(e){for(var i,o,s,t=this,n=[t],r=[];t=n.pop();)if(r.push(t),i=t.children)for(o=0,s=i.length;o<s;++o)n.push(i[o]);for(;t=r.pop();)e(t);return this},eachBefore:function Nie(e){for(var r,i,t=this,n=[t];t=n.pop();)if(e(t),r=t.children)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this},sum:function Rie(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function Pie(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function Fie(e){for(var t=this,n=function Lie(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)r.push(t=t.parent);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function Vie(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function Bie(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function jie(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function Hie(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function Uie(){return mC(this).eachBefore($ie)}};var Gie=Array.prototype.slice;function pL(e){for(var i,o,t=0,n=(e=function Wie(e){for(var n,r,t=e.length;t;)r=Math.random()*t--|0,n=e[t],e[t]=e[r],e[r]=n;return e}(Gie.call(e))).length,r=[];t<n;)i=e[t],o&&gL(o,i)?++t:(o=Yie(r=qie(r,i)),t=0);return o}function qie(e,t){var n,r;if(vC(t,e))return[t];for(n=0;n<e.length;++n)if(ny(t,e[n])&&vC(gh(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(ny(gh(e[n],e[r]),t)&&ny(gh(e[n],t),e[r])&&ny(gh(e[r],t),e[n])&&vC(mL(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function ny(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function gL(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function vC(e,t){for(var n=0;n<t.length;++n)if(!gL(e,t[n]))return!1;return!0}function Yie(e){switch(e.length){case 1:return function Kie(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return gh(e[0],e[1]);case 3:return mL(e[0],e[1],e[2])}}function gh(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,c=o-n,u=s-r,l=a-i,d=Math.sqrt(c*c+u*u);return{x:(n+o+c/d*l)/2,y:(r+s+u/d*l)/2,r:(d+i+a)/2}}function mL(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,c=t.r,u=n.x,l=n.y,d=n.r,h=r-s,g=r-u,m=i-a,y=i-l,_=c-o,w=d-o,C=r*r+i*i-o*o,D=C-s*s-a*a+c*c,S=C-u*u-l*l+d*d,P=g*m-h*y,G=(m*S-y*D)/(2*P)-r,$=(y*_-m*w)/P,fe=(g*D-h*S)/(2*P)-i,ne=(h*w-g*_)/P,de=$*$+ne*ne-1,re=2*(o+G*$+fe*ne),A=G*G+fe*fe-o*o,ee=-(de?(re+Math.sqrt(re*re-4*de*A))/(2*de):A/re);return{x:r+G+$*ee,y:i+fe+ne*ee,r:ee}}function vL(e,t,n){var i,o,a,c,r=e.x-t.x,s=e.y-t.y,u=r*r+s*s;u?(o=t.r+n.r,c=e.r+n.r,(o*=o)>(c*=c)?(i=(u+c-o)/(2*u),a=Math.sqrt(Math.max(0,c/u-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(u+o-c)/(2*u),a=Math.sqrt(Math.max(0,o/u-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function yL(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function _L(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function ry(e){this._=e,this.next=null,this.previous=null}function bL(e){if(!(i=e.length))return 0;var t,n,r,i,o,s,a,c,u,l,d;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(t.x=-(n=e[1]).r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;vL(n,t,r=e[2]),t=new ry(t),n=new ry(n),r=new ry(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(a=3;a<i;++a){vL(t._,n._,r=e[a]),r=new ry(r),c=n.next,u=t.previous,l=n._.r,d=t._.r;do{if(l<=d){if(yL(c._,r._)){t.next=n=c,n.previous=t,--a;continue e}l+=c._.r,c=c.next}else{if(yL(u._,r._)){(t=u).next=n,n.previous=t,--a;continue e}d+=u._.r,u=u.previous}}while(c!==u.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=_L(t);(r=r.next)!==n;)(s=_L(r))<o&&(t=r,o=s);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=pL(t),a=0;a<i;++a)(t=e[a]).x-=r.x,t.y-=r.y;return r.r}function Zie(e){return bL(e),e}function iy(e){if("function"!=typeof e)throw new Error;return e}function Ic(){return 0}function xl(e){return function(){return e}}function Qie(e){return Math.sqrt(e.value)}function Jie(){var e=null,t=1,n=1,r=Ic;function i(o){return o.x=t/2,o.y=n/2,e?o.eachBefore(wL(e)).eachAfter(yC(r,.5)).eachBefore(EL(1)):o.eachBefore(wL(Qie)).eachAfter(yC(Ic,1)).eachAfter(yC(r,o.r/Math.min(t,n))).eachBefore(EL(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=function Xie(e){return null==e?null:iy(e)}(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r="function"==typeof o?o:xl(+o),i):r},i}function wL(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function yC(e,t){return function(n){if(r=n.children){var r,i,a,o=r.length,s=e(n)*t||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=bL(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function EL(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function CL(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function mh(e,t,n,r,i){for(var s,o=e.children,a=-1,c=o.length,u=e.value&&(r-t)/e.value;++a<c;)(s=o[a]).y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*u}function eoe(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(function o(s,a){return function(c){c.children&&mh(c,c.x0,s*(c.depth+1)/a,c.x1,s*(c.depth+2)/a);var u=c.x0,l=c.y0,d=c.x1-n,h=c.y1-n;d<u&&(u=d=(u+d)/2),h<l&&(l=h=(l+h)/2),c.x0=u,c.y0=l,c.x1=d,c.y1=h}}(t,a)),r&&s.eachBefore(CL),s}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var DL="$",toe={depth:-1},ML={};function noe(e){return e.id}function roe(e){return e.parentId}function ioe(){var e=noe,t=roe;function n(r){var i,o,a,c,u,d,h,s=r.length,l=new Array(s),g={};for(o=0;o<s;++o)u=l[o]=new Ml(i=r[o]),null!=(d=e(i,o,r))&&(d+="")&&(g[h=DL+(u.id=d)]=h in g?ML:u);for(o=0;o<s;++o)if(u=l[o],null!=(d=t(r[o],o,r))&&(d+="")){if(!(c=g[DL+d]))throw new Error("missing: "+d);if(c===ML)throw new Error("ambiguous: "+d);c.children?c.children.push(u):c.children=[u],u.parent=c}else{if(a)throw new Error("multiple roots");a=u}if(!a)throw new Error("no root");if(a.parent=toe,a.eachBefore(function(m){m.depth=m.parent.depth+1,--s}).eachBefore(hL),a.parent=null,s>0)throw new Error("cycle");return a}return n.id=function(r){return arguments.length?(e=iy(r),n):e},n.parentId=function(r){return arguments.length?(t=iy(r),n):t},n}function ooe(e,t){return e.parent===t.parent?1:2}function _C(e){var t=e.children;return t?t[0]:e.t}function bC(e){var t=e.children;return t?t[t.length-1]:e.t}function soe(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function coe(e,t,n){return e.a.parent===t.parent?e.a:n}function oy(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function loe(){var e=ooe,t=1,n=1,r=null;function i(u){var l=function uoe(e){for(var n,i,o,s,a,t=new oy(e,0),r=[t];n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new oy(o[s],s)),i.parent=n;return(t.parent=new oy(null,0)).children=[t],t}(u);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(s),r)u.eachBefore(c);else{var d=u,h=u,g=u;u.eachBefore(function(C){C.x<d.x&&(d=C),C.x>h.x&&(h=C),C.depth>g.depth&&(g=C)});var m=d===h?1:e(d,h)/2,y=m-d.x,_=t/(h.x+m+y),w=n/(g.depth||1);u.eachBefore(function(C){C.x=(C.x+y)*_,C.y=C.depth*w})}return u}function o(u){var l=u.children,d=u.parent.children,h=u.i?d[u.i-1]:null;if(l){!function aoe(e){for(var o,t=0,n=0,r=e.children,i=r.length;--i>=0;)(o=r[i]).z+=t,o.m+=t,t+=o.s+(n+=o.c)}(u);var g=(l[0].z+l[l.length-1].z)/2;h?(u.z=h.z+e(u._,h._),u.m=u.z-g):u.z=g}else h&&(u.z=h.z+e(u._,h._));u.parent.A=function a(u,l,d){if(l){for(var S,h=u,g=u,m=l,y=h.parent.children[0],_=h.m,w=g.m,C=m.m,D=y.m;m=bC(m),h=_C(h),m&&h;)y=_C(y),(g=bC(g)).a=u,(S=m.z+C-h.z-_+e(m._,h._))>0&&(soe(coe(m,u,d),u,S),_+=S,w+=S),C+=m.m,_+=h.m,D+=y.m,w+=g.m;m&&!bC(g)&&(g.t=m,g.m+=C-w),h&&!_C(y)&&(y.t=h,y.m+=_-D,d=u)}return d}(u,h,u.parent.A||d[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function c(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}function sy(e,t,n,r,i){for(var s,o=e.children,a=-1,c=o.length,u=e.value&&(i-n)/e.value;++a<c;)(s=o[a]).x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*u}oy.prototype=Object.create(Ml.prototype);var xL=(1+Math.sqrt(5))/2;function SL(e,t,n,r,i,o){for(var c,u,g,m,_,w,C,D,S,P,G,s=[],a=t.children,l=0,d=0,h=a.length,y=t.value;l<h;){g=i-n,m=o-r;do{_=a[d++].value}while(!_&&d<h);for(w=C=_,G=_*_*(P=Math.max(m/g,g/m)/(y*e)),S=Math.max(C/G,G/w);d<h;++d){if(_+=u=a[d].value,u<w&&(w=u),u>C&&(C=u),G=_*_*P,(D=Math.max(C/G,G/w))>S){_-=u;break}S=D}s.push(c={value:_,dice:g<m,children:a.slice(l,d)}),c.dice?mh(c,n,r,i,y?r+=m*_/y:o):sy(c,n,r,y?n+=g*_/y:i,o),y-=_,l=d}return s}const IL=function e(t){function n(r,i,o,s,a){SL(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(xL);function doe(){var e=IL,t=!1,n=1,r=1,i=[0],o=Ic,s=Ic,a=Ic,c=Ic,u=Ic;function l(h){return h.x0=h.y0=0,h.x1=n,h.y1=r,h.eachBefore(d),i=[0],t&&h.eachBefore(CL),h}function d(h){var g=i[h.depth],m=h.x0+g,y=h.y0+g,_=h.x1-g,w=h.y1-g;_<m&&(m=_=(m+_)/2),w<y&&(y=w=(y+w)/2),h.x0=m,h.y0=y,h.x1=_,h.y1=w,h.children&&(g=i[h.depth+1]=o(h)/2,m+=u(h)-g,y+=s(h)-g,(_-=a(h)-g)<m&&(m=_=(m+_)/2),(w-=c(h)-g)<y&&(y=w=(y+w)/2),e(h,m,y,_,w))}return l.round=function(h){return arguments.length?(t=!!h,l):t},l.size=function(h){return arguments.length?(n=+h[0],r=+h[1],l):[n,r]},l.tile=function(h){return arguments.length?(e=iy(h),l):e},l.padding=function(h){return arguments.length?l.paddingInner(h).paddingOuter(h):l.paddingInner()},l.paddingInner=function(h){return arguments.length?(o="function"==typeof h?h:xl(+h),l):o},l.paddingOuter=function(h){return arguments.length?l.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):l.paddingTop()},l.paddingTop=function(h){return arguments.length?(s="function"==typeof h?h:xl(+h),l):s},l.paddingRight=function(h){return arguments.length?(a="function"==typeof h?h:xl(+h),l):a},l.paddingBottom=function(h){return arguments.length?(c="function"==typeof h?h:xl(+h),l):c},l.paddingLeft=function(h){return arguments.length?(u="function"==typeof h?h:xl(+h),l):u},l}function foe(e,t,n,r,i){var s,c,o=e.children,a=o.length,u=new Array(a+1);for(u[0]=c=s=0;s<a;++s)u[s+1]=c+=o[s].value;!function l(d,h,g,m,y,_,w){if(d>=h-1){var C=o[d];return C.x0=m,C.y0=y,C.x1=_,void(C.y1=w)}for(var D=u[d],S=g/2+D,P=d+1,G=h-1;P<G;){var $=P+G>>>1;u[$]<S?P=$+1:G=$}S-u[P-1]<u[P]-S&&d+1<P&&--P;var fe=u[P]-D,ne=g-fe;if(_-m>w-y){var de=(m*ne+_*fe)/g;l(d,P,fe,m,y,de,w),l(P,h,ne,de,y,_,w)}else{var re=(y*ne+w*fe)/g;l(d,P,fe,m,y,_,re),l(P,h,ne,m,re,_,w)}}(0,a,e.value,t,n,r,i)}function hoe(e,t,n,r,i){(1&e.depth?sy:mh)(e,t,n,r,i)}const poe=function e(t){function n(r,i,o,s,a){if((c=r._squarify)&&c.ratio===t)for(var c,u,l,d,g,h=-1,m=c.length,y=r.value;++h<m;){for(l=(u=c[h]).children,d=u.value=0,g=l.length;d<g;++d)u.value+=l[d].value;u.dice?mh(u,i,o,s,o+=(a-o)*u.value/y):sy(u,i,o,i+=(s-i)*u.value/y,a),y-=u.value}else r._squarify=c=SL(t,r,i,o,s,a),c.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(xL);function goe(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function moe(e,t){var n=$m(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function AL(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var vh=Math.SQRT2,wC=2,TL=4,voe=1e-12;function kL(e){return((e=Math.exp(e))+1/e)/2}function NL(e,t){var d,h,n=e[0],r=e[1],i=e[2],a=t[2],c=t[0]-n,u=t[1]-r,l=c*c+u*u;if(l<voe)h=Math.log(a/i)/vh,d=function(C){return[n+C*c,r+C*u,i*Math.exp(vh*C*h)]};else{var g=Math.sqrt(l),m=(a*a-i*i+TL*l)/(2*i*wC*g),y=(a*a-i*i-TL*l)/(2*a*wC*g),_=Math.log(Math.sqrt(m*m+1)-m),w=Math.log(Math.sqrt(y*y+1)-y);h=(w-_)/vh,d=function(C){var D=C*h,S=kL(_),P=i/(wC*g)*(S*function _oe(e){return((e=Math.exp(2*e))-1)/(e+1)}(vh*D+_)-function yoe(e){return((e=Math.exp(e))-1/e)/2}(_));return[n+P*c,r+P*u,i*S/kL(vh*D+_)]}}return d.duration=1e3*h,d}function OL(e){return function(t,n){var r=e((t=Um(t)).h,(n=Um(n)).h),i=kr(t.s,n.s),o=kr(t.l,n.l),s=kr(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const boe=OL($m);var woe=OL(kr);function Eoe(e,t){var n=kr((e=sv(e)).l,(t=sv(t)).l),r=kr(e.a,t.a),i=kr(e.b,t.b),o=kr(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function RL(e){return function(t,n){var r=e((t=av(t)).h,(n=av(n)).h),i=kr(t.c,n.c),o=kr(t.l,n.l),s=kr(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const Coe=RL($m);var Doe=RL(kr);function PL(e){return function t(n){function r(i,o){var s=e((i=So(i)).h,(o=So(o)).h),a=kr(i.s,o.s),c=kr(i.l,o.l),u=kr(i.opacity,o.opacity);return function(l){return i.h=s(l),i.s=a(l),i.l=c(Math.pow(l,n)),i.opacity=u(l),i+""}}return n=+n,r.gamma=t,r}(1)}const Moe=PL($m);var ay=PL(kr);function xoe(e,t){for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Soe(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function Ioe(e){for(var r,t=-1,n=e.length,i=e[n-1],o=0;++t<n;)o+=(r=i)[1]*(i=e[t])[0]-r[0]*i[1];return o/2}function Aoe(e){for(var o,a,t=-1,n=e.length,r=0,i=0,s=e[n-1],c=0;++t<n;)c+=a=(o=s)[0]*(s=e[t])[1]-s[0]*o[1],r+=(o[0]+s[0])*a,i+=(o[1]+s[1])*a;return[r/(c*=3),i/c]}function Toe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function koe(e,t){return e[0]-t[0]||e[1]-t[1]}function FL(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;++i){for(;r>1&&Toe(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Noe(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(koe),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var o=FL(r),s=FL(i),a=s[0]===o[0],c=s[s.length-1]===o[o.length-1],u=[];for(t=o.length-1;t>=0;--t)u.push(e[r[o[t]][2]]);for(t=+a;t<s.length-c;++t)u.push(e[r[s[t]][2]]);return u}function Ooe(e,t){for(var c,u,n=e.length,r=e[n-1],i=t[0],o=t[1],s=r[0],a=r[1],l=!1,d=0;d<n;++d)c=(r=e[d])[0],(u=r[1])>o!=a>o&&i<(s-c)*(o-u)/(a-u)+c&&(l=!l),s=c,a=u;return l}function Roe(e){for(var i,o,t=-1,n=e.length,r=e[n-1],s=r[0],a=r[1],c=0;++t<n;)i=s,o=a,i-=s=(r=e[t])[0],o-=a=r[1],c+=Math.sqrt(i*i+o*o);return c}function Sl(){return Math.random()}const Poe=function e(t){function n(r,i){return r=null==r?0:+r,i=null==i?1:+i,1===arguments.length?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(Sl),LL=function e(t){function n(r,i){var o,s;return r=null==r?0:+r,i=null==i?1:+i,function(){var a;if(null!=o)a=o,o=null;else do{o=2*t()-1,a=2*t()-1,s=o*o+a*a}while(!s||s>1);return r+i*a*Math.sqrt(-2*Math.log(s)/s)}}return n.source=e,n}(Sl),Foe=function e(t){function n(){var r=LL.source(t).apply(this,arguments);return function(){return Math.exp(r())}}return n.source=e,n}(Sl),VL=function e(t){function n(r){return function(){for(var i=0,o=0;o<r;++o)i+=t();return i}}return n.source=e,n}(Sl),Loe=function e(t){function n(r){var i=VL.source(t)(r);return function(){return i()/r}}return n.source=e,n}(Sl),Voe=function e(t){function n(r){return function(){return-Math.log(1-t())/r}}return n.source=e,n}(Sl);function ko(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function zs(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var BL=Array.prototype,cy=BL.map,Ac=BL.slice,EC={name:"implicit"};function CC(){var e=ya(),t=[],n=[],r=EC;function i(o){var s=o+"",a=e.get(s);if(!a){if(r!==EC)return r;e.set(s,a=t.push(o))}return n[(a-1)%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=ya();for(var c,u,s=-1,a=o.length;++s<a;)e.has(u=(c=o[s])+"")||e.set(u,t.push(c));return i},i.range=function(o){return arguments.length?(n=Ac.call(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return CC(t,n).unknown(r)},ko.apply(i,arguments),i}function DC(){var i,o,e=CC().unknown(void 0),t=e.domain,n=e.range,r=[0,1],s=!1,a=0,c=0,u=.5;function l(){var d=t().length,h=r[1]<r[0],g=r[h-0],m=r[1-h];i=(m-g)/Math.max(1,d-a+2*c),s&&(i=Math.floor(i)),g+=(m-g-i*(d-a))*u,o=i*(1-a),s&&(g=Math.round(g),o=Math.round(o));var y=Li(d).map(function(_){return g+i*_});return n(h?y.reverse():y)}return delete e.unknown,e.domain=function(d){return arguments.length?(t(d),l()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],l()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],s=!0,l()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,l()):s},e.padding=function(d){return arguments.length?(a=Math.min(1,c=+d),l()):a},e.paddingInner=function(d){return arguments.length?(a=Math.min(1,d),l()):a},e.paddingOuter=function(d){return arguments.length?(c=+d,l()):c},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),l()):u},e.copy=function(){return DC(t(),r).round(s).paddingInner(a).paddingOuter(c).align(u)},ko.apply(l(),arguments)}function jL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jL(t())},e}function Boe(){return jL(DC.apply(null,arguments).paddingInner(1))}function MC(e){return+e}var HL=[0,1];function Pr(e){return e}function xC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function joe(e){return function(){return e}}(isNaN(t)?NaN:.5)}function UL(e){var r,t=e[0],n=e[e.length-1];return t>n&&(r=t,t=n,n=r),function(i){return Math.max(t,Math.min(n,i))}}function Hoe(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=xC(i,r),o=n(s,o)):(r=xC(r,i),o=n(o,s)),function(a){return o(r(a))}}function Uoe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=xC(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var c=fc(e,a,1,r)-1;return o[c](i[c](a))}}function yh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uy(){var r,i,o,a,c,u,e=HL,t=HL,n=Vf,s=Pr;function l(){return a=Math.min(e.length,t.length)>2?Uoe:Hoe,c=u=null,d}function d(h){return isNaN(h=+h)?o:(c||(c=a(e.map(r),t,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=a(t,e.map(r),Zi)))(h)))},d.domain=function(h){return arguments.length?(e=cy.call(h,MC),s===Pr||(s=UL(e)),l()):e.slice()},d.range=function(h){return arguments.length?(t=Ac.call(h),l()):t.slice()},d.rangeRound=function(h){return t=Ac.call(h),n=AL,l()},d.clamp=function(h){return arguments.length?(s=h?UL(e):Pr,d):s!==Pr},d.interpolate=function(h){return arguments.length?(n=h,l()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,g){return r=h,i=g,l()}}function zL(e,t){return uy()(e,t)}function $L(e,t,n,r){var o,i=hc(e,t,n);switch((r=Zf(r??",f")).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null==r.precision&&!isNaN(o=KP(i,s))&&(r.precision=o),CE(r,s);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(o=ZP(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(o=YP(i))&&(r.precision=o-2*("%"===r.type))}return vv(r)}function Tc(e){var t=e.domain;return e.ticks=function(n){var r=t();return g1(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return $L(i[0],i[i.length-1],n??10,r)},e.nice=function(n){null==n&&(n=10);var c,r=t(),i=0,o=r.length-1,s=r[i],a=r[o];return a<s&&(c=s,s=a,a=c,c=i,i=o,o=c),(c=Tf(s,a,n))>0?c=Tf(s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c,n):c<0&&(c=Tf(s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c,n)),c>0?(r[i]=Math.floor(s/c)*c,r[o]=Math.ceil(a/c)*c,t(r)):c<0&&(r[i]=Math.ceil(s*c)/c,r[o]=Math.floor(a*c)/c,t(r)),e},e}function GL(){var e=zL(Pr,Pr);return e.copy=function(){return yh(e,GL())},ko.apply(e,arguments),Tc(e)}function WL(e){var t;function n(r){return isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=cy.call(r,MC),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return WL(e).unknown(t)},e=arguments.length?cy.call(e,MC):[0,1],Tc(n)}function qL(e,t){var s,n=0,r=(e=e.slice()).length-1,i=e[n],o=e[r];return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function YL(e){return Math.log(e)}function KL(e){return Math.exp(e)}function zoe(e){return-Math.log(-e)}function $oe(e){return-Math.exp(-e)}function Goe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ZL(e){return function(t){return-e(-t)}}function SC(e){var i,o,t=e(YL,KL),n=t.domain,r=10;function s(){return i=function qoe(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(r),o=function Woe(e){return 10===e?Goe:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(r),n()[0]<0?(i=ZL(i),o=ZL(o),e(zoe,$oe)):e(YL,KL),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=function(a){var d,c=n(),u=c[0],l=c[c.length-1];(d=l<u)&&(h=u,u=l,l=h);var m,y,_,h=i(u),g=i(l),w=null==a?10:+a,C=[];if(!(r%1)&&g-h<w){if(h=Math.round(h)-1,g=Math.round(g)+1,u>0){for(;h<g;++h)for(y=1,m=o(h);y<r;++y)if(!((_=m*y)<u)){if(_>l)break;C.push(_)}}else for(;h<g;++h)for(y=r-1,m=o(h);y>=1;--y)if(!((_=m*y)<u)){if(_>l)break;C.push(_)}}else C=g1(h,g,Math.min(g-h,w)).map(o);return d?C.reverse():C},t.tickFormat=function(a,c){if(null==c&&(c=10===r?".0e":","),"function"!=typeof c&&(c=vv(c)),a===1/0)return c;null==a&&(a=10);var u=Math.max(1,r*a/t.ticks().length);return function(l){var d=l/o(Math.round(i(l)));return d*r<r-.5&&(d*=r),d<=u?c(l):""}},t.nice=function(){return n(qL(n(),{floor:function(a){return o(Math.floor(i(a)))},ceil:function(a){return o(Math.ceil(i(a)))}}))},t}function XL(){var e=SC(uy()).domain([1,10]);return e.copy=function(){return yh(e,XL()).base(e.base())},ko.apply(e,arguments),e}function QL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function IC(e){var t=1,n=e(QL(t),JL(t));return n.constant=function(r){return arguments.length?e(QL(t=+r),JL(t)):t},Tc(n)}function e3(){var e=IC(uy());return e.copy=function(){return yh(e,e3()).constant(e.constant())},ko.apply(e,arguments)}function t3(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Yoe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Koe(e){return e<0?-e*e:e*e}function AC(e){var t=e(Pr,Pr),n=1;return t.exponent=function(i){return arguments.length?(n=+i,function r(){return 1===n?e(Pr,Pr):.5===n?e(Yoe,Koe):e(t3(n),t3(1/n))}()):n},Tc(t)}function TC(){var e=AC(uy());return e.copy=function(){return yh(e,TC()).exponent(e.exponent())},ko.apply(e,arguments),e}function Zoe(){return TC.apply(null,arguments).exponent(.5)}function n3(){var r,e=[],t=[],n=[];function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=kf(e,s/a);return o}function o(s){return isNaN(s=+s)?r:t[fc(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(var u,a=0,c=s.length;a<c;++a)null!=(u=s[a])&&!isNaN(u=+u)&&e.push(u);return e.sort(pa),i()},o.range=function(s){return arguments.length?(t=Ac.call(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return n3().domain(e).range(t).unknown(r)},ko.apply(o,arguments)}function r3(){var o,e=0,t=1,n=1,r=[.5],i=[0,1];function s(c){return c<=c?i[fc(r,c,0,n)]:o}function a(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return s}return s.domain=function(c){return arguments.length?(e=+c[0],t=+c[1],a()):[e,t]},s.range=function(c){return arguments.length?(n=(i=Ac.call(c)).length-1,a()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return r3().domain([e,t]).range(i).unknown(o)},ko.apply(Tc(s),arguments)}function i3(){var n,e=[.5],t=[0,1],r=1;function i(o){return o<=o?t[fc(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Ac.call(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Ac.call(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return i3().domain(e).range(t).unknown(n)},ko.apply(i,arguments)}var kC=new Date,NC=new Date;function Dr(e,t,n,r){function i(o){return e(o=0===arguments.length?new Date:new Date(+o)),o}return i.floor=function(o){return e(o=new Date(+o)),o},i.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},i.round=function(o){var s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=function(o,s){return t(o=new Date(+o),null==s?1:Math.floor(s)),o},i.range=function(o,s,a){var u,c=[];if(o=i.ceil(o),a=null==a?1:Math.floor(a),!(o<s&&a>0))return c;do{c.push(u=new Date(+o)),t(o,a),e(o)}while(u<o&&o<s);return c},i.filter=function(o){return Dr(function(s){if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},function(s,a){if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););})},n&&(i.count=function(o,s){return kC.setTime(+o),NC.setTime(+s),e(kC),e(NC),Math.floor(n(kC,NC))},i.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?i.filter(r?function(s){return r(s)%o==0}:function(s){return i.count(0,s)%o==0}):i:null}),i}var OC=Dr(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});OC.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Dr(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};const kc=OC;var Xoe=OC.range,o3=Dr(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});const s3=o3;var Qoe=o3.range,Nc=6e4,dy=36e5,c3=6048e5;function Oc(e){return Dr(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Nc)/c3})}var _h=Oc(0),bh=Oc(1),u3=Oc(2),l3=Oc(3),Rc=Oc(4),d3=Oc(5),f3=Oc(6),h3=_h.range,Joe=bh.range,ese=u3.range,tse=l3.range,nse=Rc.range,rse=d3.range,ise=f3.range,p3=Dr(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Nc)/864e5},function(e){return e.getDate()-1});const fy=p3;var ose=p3.range,g3=Dr(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*Nc)},function(e,t){e.setTime(+e+t*dy)},function(e,t){return(t-e)/dy},function(e){return e.getHours()});const m3=g3;var sse=g3.range,v3=Dr(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+t*Nc)},function(e,t){return(t-e)/Nc},function(e){return e.getMinutes()});const y3=v3;var ase=v3.range,_3=Dr(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()});const hy=_3;var b3=_3.range,py=Dr(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});py.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Dr(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):py:null};const gy=py;var w3=py.range;function Pc(e){return Dr(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/c3})}var wh=Pc(0),Eh=Pc(1),E3=Pc(2),C3=Pc(3),Fc=Pc(4),D3=Pc(5),M3=Pc(6),x3=wh.range,cse=Eh.range,use=E3.range,lse=C3.range,dse=Fc.range,fse=D3.range,hse=M3.range,S3=Dr(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1});const my=S3;var pse=S3.range,RC=Dr(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});RC.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Dr(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};const Lc=RC;var gse=RC.range;function PC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function FC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ch(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function I3(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,c=e.shortMonths,u=Dh(i),l=Mh(i),d=Dh(o),h=Mh(o),g=Dh(s),m=Mh(s),y=Dh(a),_=Mh(a),w=Dh(c),C=Mh(c),D={a:function it(xe){return s[xe.getDay()]},A:function Je(xe){return o[xe.getDay()]},b:function ct(xe){return c[xe.getMonth()]},B:function st(xe){return a[xe.getMonth()]},c:null,d:R3,e:R3,f:Vse,g:Yse,G:Zse,H:Pse,I:Fse,j:Lse,L:P3,m:Bse,M:jse,p:function pt(xe){return i[+(xe.getHours()>=12)]},q:function kn(xe){return 1+~~(xe.getMonth()/3)},Q:H3,s:U3,S:Hse,u:Use,U:zse,V:$se,w:Gse,W:Wse,x:null,X:null,y:qse,Y:Kse,Z:Xse,"%":j3},S={a:function bn(xe){return s[xe.getUTCDay()]},A:function tn(xe){return o[xe.getUTCDay()]},b:function Gn(xe){return c[xe.getUTCMonth()]},B:function oe(xe){return a[xe.getUTCMonth()]},c:null,d:L3,e:L3,f:tae,g:dae,G:hae,H:Qse,I:Jse,j:eae,L:V3,m:nae,M:rae,p:function tt(xe){return i[+(xe.getUTCHours()>=12)]},q:function dt(xe){return 1+~~(xe.getUTCMonth()/3)},Q:H3,s:U3,S:iae,u:oae,U:sae,V:aae,w:cae,W:uae,x:null,X:null,y:lae,Y:fae,Z:pae,"%":j3},P={a:function de(xe,He,wt){var Ee=g.exec(He.slice(wt));return Ee?(xe.w=m[Ee[0].toLowerCase()],wt+Ee[0].length):-1},A:function re(xe,He,wt){var Ee=d.exec(He.slice(wt));return Ee?(xe.w=h[Ee[0].toLowerCase()],wt+Ee[0].length):-1},b:function A(xe,He,wt){var Ee=w.exec(He.slice(wt));return Ee?(xe.m=C[Ee[0].toLowerCase()],wt+Ee[0].length):-1},B:function ee(xe,He,wt){var Ee=y.exec(He.slice(wt));return Ee?(xe.m=_[Ee[0].toLowerCase()],wt+Ee[0].length):-1},c:function Se(xe,He,wt){return fe(xe,t,He,wt)},d:N3,e:N3,f:kse,g:k3,G:T3,H:O3,I:O3,j:Sse,L:Tse,m:xse,M:Ise,p:function ne(xe,He,wt){var Ee=u.exec(He.slice(wt));return Ee?(xe.p=l[Ee[0].toLowerCase()],wt+Ee[0].length):-1},q:Mse,Q:Ose,s:Rse,S:Ase,u:bse,U:wse,V:Ese,w:_se,W:Cse,x:function Q(xe,He,wt){return fe(xe,n,He,wt)},X:function we(xe,He,wt){return fe(xe,r,He,wt)},y:k3,Y:T3,Z:Dse,"%":Nse};function G(xe,He){return function(wt){var jn,gr,En,Ee=[],jt=-1,Ht=0,hn=xe.length;for(wt instanceof Date||(wt=new Date(+wt));++jt<hn;)37===xe.charCodeAt(jt)&&(Ee.push(xe.slice(Ht,jt)),null!=(gr=A3[jn=xe.charAt(++jt)])?jn=xe.charAt(++jt):gr="e"===jn?" ":"0",(En=He[jn])&&(jn=En(wt,gr)),Ee.push(jn),Ht=jt+1);return Ee.push(xe.slice(Ht,jt)),Ee.join("")}}function $(xe,He){return function(wt){var Ht,hn,Ee=Ch(1900,void 0,1);if(fe(Ee,xe,wt+="",0)!=wt.length)return null;if("Q"in Ee)return new Date(Ee.Q);if("s"in Ee)return new Date(1e3*Ee.s+("L"in Ee?Ee.L:0));if(He&&!("Z"in Ee)&&(Ee.Z=0),"p"in Ee&&(Ee.H=Ee.H%12+12*Ee.p),void 0===Ee.m&&(Ee.m="q"in Ee?Ee.q:0),"V"in Ee){if(Ee.V<1||Ee.V>53)return null;"w"in Ee||(Ee.w=1),"Z"in Ee?(hn=(Ht=FC(Ch(Ee.y,0,1))).getUTCDay(),Ht=hn>4||0===hn?Eh.ceil(Ht):Eh(Ht),Ht=my.offset(Ht,7*(Ee.V-1)),Ee.y=Ht.getUTCFullYear(),Ee.m=Ht.getUTCMonth(),Ee.d=Ht.getUTCDate()+(Ee.w+6)%7):(hn=(Ht=PC(Ch(Ee.y,0,1))).getDay(),Ht=hn>4||0===hn?bh.ceil(Ht):bh(Ht),Ht=fy.offset(Ht,7*(Ee.V-1)),Ee.y=Ht.getFullYear(),Ee.m=Ht.getMonth(),Ee.d=Ht.getDate()+(Ee.w+6)%7)}else("W"in Ee||"U"in Ee)&&("w"in Ee||(Ee.w="u"in Ee?Ee.u%7:"W"in Ee?1:0),hn="Z"in Ee?FC(Ch(Ee.y,0,1)).getUTCDay():PC(Ch(Ee.y,0,1)).getDay(),Ee.m=0,Ee.d="W"in Ee?(Ee.w+6)%7+7*Ee.W-(hn+5)%7:Ee.w+7*Ee.U-(hn+6)%7);return"Z"in Ee?(Ee.H+=Ee.Z/100|0,Ee.M+=Ee.Z%100,FC(Ee)):PC(Ee)}}function fe(xe,He,wt,Ee){for(var jn,gr,jt=0,Ht=He.length,hn=wt.length;jt<Ht;){if(Ee>=hn)return-1;if(37===(jn=He.charCodeAt(jt++))){if(jn=He.charAt(jt++),!(gr=P[jn in A3?He.charAt(jt++):jn])||(Ee=gr(xe,wt,Ee))<0)return-1}else if(jn!=wt.charCodeAt(Ee++))return-1}return Ee}return D.x=G(n,D),D.X=G(r,D),D.c=G(t,D),S.x=G(n,S),S.X=G(r,S),S.c=G(t,S),{format:function(xe){var He=G(xe+="",D);return He.toString=function(){return xe},He},parse:function(xe){var He=$(xe+="",!1);return He.toString=function(){return xe},He},utcFormat:function(xe){var He=G(xe+="",S);return He.toString=function(){return xe},He},utcParse:function(xe){var He=$(xe+="",!0);return He.toString=function(){return xe},He}}}var Il,LC,z3,vy,VC,A3={"-":"",_:" ",0:"0"},Nr=/^\s*\d+/,mse=/^%/,vse=/[\\^$*+?|[\]().{}]/g;function gn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function yse(e){return e.replace(vse,"\\$&")}function Dh(e){return new RegExp("^(?:"+e.map(yse).join("|")+")","i")}function Mh(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function _se(e,t,n){var r=Nr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bse(e,t,n){var r=Nr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function wse(e,t,n){var r=Nr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Ese(e,t,n){var r=Nr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Cse(e,t,n){var r=Nr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function T3(e,t,n){var r=Nr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function k3(e,t,n){var r=Nr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Dse(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Mse(e,t,n){var r=Nr.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function xse(e,t,n){var r=Nr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function N3(e,t,n){var r=Nr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Sse(e,t,n){var r=Nr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function O3(e,t,n){var r=Nr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ise(e,t,n){var r=Nr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ase(e,t,n){var r=Nr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Tse(e,t,n){var r=Nr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function kse(e,t,n){var r=Nr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Nse(e,t,n){var r=mse.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ose(e,t,n){var r=Nr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Rse(e,t,n){var r=Nr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function R3(e,t){return gn(e.getDate(),t,2)}function Pse(e,t){return gn(e.getHours(),t,2)}function Fse(e,t){return gn(e.getHours()%12||12,t,2)}function Lse(e,t){return gn(1+fy.count(kc(e),e),t,3)}function P3(e,t){return gn(e.getMilliseconds(),t,3)}function Vse(e,t){return P3(e,t)+"000"}function Bse(e,t){return gn(e.getMonth()+1,t,2)}function jse(e,t){return gn(e.getMinutes(),t,2)}function Hse(e,t){return gn(e.getSeconds(),t,2)}function Use(e){var t=e.getDay();return 0===t?7:t}function zse(e,t){return gn(_h.count(kc(e)-1,e),t,2)}function F3(e){var t=e.getDay();return t>=4||0===t?Rc(e):Rc.ceil(e)}function $se(e,t){return e=F3(e),gn(Rc.count(kc(e),e)+(4===kc(e).getDay()),t,2)}function Gse(e){return e.getDay()}function Wse(e,t){return gn(bh.count(kc(e)-1,e),t,2)}function qse(e,t){return gn(e.getFullYear()%100,t,2)}function Yse(e,t){return gn((e=F3(e)).getFullYear()%100,t,2)}function Kse(e,t){return gn(e.getFullYear()%1e4,t,4)}function Zse(e,t){var n=e.getDay();return gn((e=n>=4||0===n?Rc(e):Rc.ceil(e)).getFullYear()%1e4,t,4)}function Xse(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gn(t/60|0,"0",2)+gn(t%60,"0",2)}function L3(e,t){return gn(e.getUTCDate(),t,2)}function Qse(e,t){return gn(e.getUTCHours(),t,2)}function Jse(e,t){return gn(e.getUTCHours()%12||12,t,2)}function eae(e,t){return gn(1+my.count(Lc(e),e),t,3)}function V3(e,t){return gn(e.getUTCMilliseconds(),t,3)}function tae(e,t){return V3(e,t)+"000"}function nae(e,t){return gn(e.getUTCMonth()+1,t,2)}function rae(e,t){return gn(e.getUTCMinutes(),t,2)}function iae(e,t){return gn(e.getUTCSeconds(),t,2)}function oae(e){var t=e.getUTCDay();return 0===t?7:t}function sae(e,t){return gn(wh.count(Lc(e)-1,e),t,2)}function B3(e){var t=e.getUTCDay();return t>=4||0===t?Fc(e):Fc.ceil(e)}function aae(e,t){return e=B3(e),gn(Fc.count(Lc(e),e)+(4===Lc(e).getUTCDay()),t,2)}function cae(e){return e.getUTCDay()}function uae(e,t){return gn(Eh.count(Lc(e)-1,e),t,2)}function lae(e,t){return gn(e.getUTCFullYear()%100,t,2)}function dae(e,t){return gn((e=B3(e)).getUTCFullYear()%100,t,2)}function fae(e,t){return gn(e.getUTCFullYear()%1e4,t,4)}function hae(e,t){var n=e.getUTCDay();return gn((e=n>=4||0===n?Fc(e):Fc.ceil(e)).getUTCFullYear()%1e4,t,4)}function pae(){return"+0000"}function j3(){return"%"}function H3(e){return+e}function U3(e){return Math.floor(+e/1e3)}function $3(e){return Il=I3(e),LC=Il.format,z3=Il.parse,vy=Il.utcFormat,VC=Il.utcParse,Il}$3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var xh=1e3,Sh=60*xh,Ih=60*Sh,Ah=24*Ih,gae=7*Ah,G3=30*Ah,BC=365*Ah;function mae(e){return new Date(e)}function vae(e){return e instanceof Date?+e:+new Date(+e)}function jC(e,t,n,r,i,o,s,a,c){var u=zL(Pr,Pr),l=u.invert,d=u.domain,h=c(".%L"),g=c(":%S"),m=c("%I:%M"),y=c("%I %p"),_=c("%a %d"),w=c("%b %d"),C=c("%B"),D=c("%Y"),S=[[s,1,xh],[s,5,5*xh],[s,15,15*xh],[s,30,30*xh],[o,1,Sh],[o,5,5*Sh],[o,15,15*Sh],[o,30,30*Sh],[i,1,Ih],[i,3,3*Ih],[i,6,6*Ih],[i,12,12*Ih],[r,1,Ah],[r,2,2*Ah],[n,1,gae],[t,1,G3],[t,3,3*G3],[e,1,BC]];function P($){return(s($)<$?h:o($)<$?g:i($)<$?m:r($)<$?y:t($)<$?n($)<$?_:w:e($)<$?C:D)($)}function G($,fe,ne,de){if(null==$&&($=10),"number"==typeof $){var re=Math.abs(ne-fe)/$,A=l1(function(ee){return ee[2]}).right(S,re);A===S.length?(de=hc(fe/BC,ne/BC,$),$=e):A?(de=(A=S[re/S[A-1][2]<S[A][2]/re?A-1:A])[1],$=A[0]):(de=Math.max(hc(fe,ne,$),1),$=a)}return null==de?$:$.every(de)}return u.invert=function($){return new Date(l($))},u.domain=function($){return arguments.length?d(cy.call($,vae)):d().map(mae)},u.ticks=function($,fe){var ee,ne=d(),de=ne[0],re=ne[ne.length-1],A=re<de;return A&&(ee=de,de=re,re=ee),ee=(ee=G($,de,re,fe))?ee.range(de,re+1):[],A?ee.reverse():ee},u.tickFormat=function($,fe){return null==fe?P:c(fe)},u.nice=function($,fe){var ne=d();return($=G($,ne[0],ne[ne.length-1],fe))?d(qL(ne,$)):u},u.copy=function(){return yh(u,jC(e,t,n,r,i,o,s,a,c))},u}function yae(){return ko.apply(jC(kc,s3,_h,fy,m3,y3,hy,gy,LC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var W3=Dr(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});const q3=W3;var _ae=W3.range,Y3=Dr(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*dy)},function(e,t){return(t-e)/dy},function(e){return e.getUTCHours()});const K3=Y3;var bae=Y3.range,Z3=Dr(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Nc)},function(e,t){return(t-e)/Nc},function(e){return e.getUTCMinutes()});const X3=Z3;var wae=Z3.range;function Eae(){return ko.apply(jC(Lc,q3,wh,my,K3,X3,hy,gy,vy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yy(){var n,r,i,o,c,e=0,t=1,s=Pr,a=!1;function u(l){return isNaN(l=+l)?c:s(0===i?.5:(l=(o(l)-n)*i,a?Math.max(0,Math.min(1,l)):l))}return u.domain=function(l){return arguments.length?(n=o(e=+l[0]),r=o(t=+l[1]),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(l){return arguments.length?(a=!!l,u):a},u.interpolator=function(l){return arguments.length?(s=l,u):s},u.unknown=function(l){return arguments.length?(c=l,u):c},function(l){return o=l,n=l(e),r=l(t),i=n===r?0:1/(r-n),u}}function Ma(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Q3(){var e=Tc(yy()(Pr));return e.copy=function(){return Ma(e,Q3())},zs.apply(e,arguments)}function J3(){var e=SC(yy()).domain([1,10]);return e.copy=function(){return Ma(e,J3()).base(e.base())},zs.apply(e,arguments)}function eV(){var e=IC(yy());return e.copy=function(){return Ma(e,eV()).constant(e.constant())},zs.apply(e,arguments)}function HC(){var e=AC(yy());return e.copy=function(){return Ma(e,HC()).exponent(e.exponent())},zs.apply(e,arguments)}function Cae(){return HC.apply(null,arguments).exponent(.5)}function tV(){var e=[],t=Pr;function n(r){if(!isNaN(r=+r))return t((fc(e,r)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(var s,i=0,o=r.length;i<o;++i)null!=(s=r[i])&&!isNaN(s=+s)&&e.push(s);return e.sort(pa),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return tV(t).domain(e)},zs.apply(n,arguments)}function _y(){var r,i,o,s,a,u,d,e=0,t=.5,n=1,c=Pr,l=!1;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+u(g))-i)*(g<i?s:a),c(l?Math.max(0,Math.min(1,g)):g))}return h.domain=function(g){return arguments.length?(r=u(e=+g[0]),i=u(t=+g[1]),o=u(n=+g[2]),s=r===i?0:.5/(i-r),a=i===o?0:.5/(o-i),h):[e,t,n]},h.clamp=function(g){return arguments.length?(l=!!g,h):l},h.interpolator=function(g){return arguments.length?(c=g,h):c},h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return u=g,r=g(e),i=g(t),o=g(n),s=r===i?0:.5/(i-r),a=i===o?0:.5/(o-i),h}}function nV(){var e=Tc(_y()(Pr));return e.copy=function(){return Ma(e,nV())},zs.apply(e,arguments)}function rV(){var e=SC(_y()).domain([.1,1,10]);return e.copy=function(){return Ma(e,rV()).base(e.base())},zs.apply(e,arguments)}function iV(){var e=IC(_y());return e.copy=function(){return Ma(e,iV()).constant(e.constant())},zs.apply(e,arguments)}function UC(){var e=AC(_y());return e.copy=function(){return Ma(e,UC()).exponent(e.exponent())},zs.apply(e,arguments)}function Dae(){return UC.apply(null,arguments).exponent(.5)}function Gt(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}const Mae=Gt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),xae=Gt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Sae=Gt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Iae=Gt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Aae=Gt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Tae=Gt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),kae=Gt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Nae=Gt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Oae=Gt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Rae=Gt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Tn(e){return DR(e[e.length-1])}var oV=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Gt);const Pae=Tn(oV);var sV=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Gt);const Fae=Tn(sV);var aV=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Gt);const Lae=Tn(aV);var cV=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Gt);const Vae=Tn(cV);var uV=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Gt);const Bae=Tn(uV);var lV=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Gt);const jae=Tn(lV);var dV=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Gt);const Hae=Tn(dV);var fV=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Gt);const Uae=Tn(fV);var hV=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Gt);const zae=Tn(hV);var pV=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Gt);const $ae=Tn(pV);var gV=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Gt);const Gae=Tn(gV);var mV=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Gt);const Wae=Tn(mV);var vV=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Gt);const qae=Tn(vV);var yV=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Gt);const Yae=Tn(yV);var _V=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Gt);const Kae=Tn(_V);var bV=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Gt);const Zae=Tn(bV);var wV=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Gt);const Xae=Tn(wV);var EV=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Gt);const Qae=Tn(EV);var CV=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Gt);const Jae=Tn(CV);var DV=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Gt);const ece=Tn(DV);var MV=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Gt);const tce=Tn(MV);var xV=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Gt);const nce=Tn(xV);var SV=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Gt);const rce=Tn(SV);var IV=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Gt);const ice=Tn(IV);var AV=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Gt);const oce=Tn(AV);var TV=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Gt);const sce=Tn(TV);var kV=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Gt);const ace=Tn(kV);function cce(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}const uce=ay(So(300,.5,0),So(-240,.5,1));var lce=ay(So(-100,.75,.35),So(80,1.5,.8)),dce=ay(So(260,.75,.35),So(80,1.5,.8)),by=So();function fce(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return by.h=360*e-100,by.s=1.5-1.5*t,by.l=.8-.9*t,by+""}var wy=ul(),hce=Math.PI/3,pce=2*Math.PI/3;function gce(e){var t;return e=(.5-e)*Math.PI,wy.r=255*(t=Math.sin(e))*t,wy.g=255*(t=Math.sin(e+hce))*t,wy.b=255*(t=Math.sin(e+pce))*t,wy+""}function mce(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function Ey(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const vce=Ey(Gt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var yce=Ey(Gt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),_ce=Ey(Gt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),bce=Ey(Gt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function wce(e){return Xt(Vm(e).call(document.documentElement))}var Ece=0;function NV(){return new zC}function zC(){this._="@"+(++Ece).toString(36)}function No(e){return"string"==typeof e?new ci([document.querySelectorAll(e)],[document.documentElement]):new ci([e??[]],x1)}function Cce(e,t){null==t&&(t=P1().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=Gm(e,t[n]);return i}function Kt(e){return function(){return e}}zC.prototype=NV.prototype={constructor:zC,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var OV=Math.abs,Kr=Math.atan2,Vc=Math.cos,Dce=Math.max,$C=Math.min,ms=Math.sin,Al=Math.sqrt,Zr=1e-12,xa=Math.PI,Cy=xa/2,Sa=2*xa;function RV(e){return e>=1?Cy:e<=-1?-Cy:Math.asin(e)}function xce(e){return e.innerRadius}function Sce(e){return e.outerRadius}function Ice(e){return e.startAngle}function Ace(e){return e.endAngle}function Tce(e){return e&&e.padAngle}function Dy(e,t,n,r,i,o,s){var a=e-n,c=t-r,u=(s?o:-o)/Al(a*a+c*c),l=u*c,d=-u*a,h=e+l,g=t+d,m=n+l,y=r+d,_=(h+m)/2,w=(g+y)/2,C=m-h,D=y-g,S=C*C+D*D,P=i-o,G=h*y-m*g,$=(D<0?-1:1)*Al(Dce(0,P*P*S-G*G)),fe=(G*D-C*$)/S,ne=(-G*C-D*$)/S,de=(G*D+C*$)/S,re=(-G*C+D*$)/S,A=fe-_,ee=ne-w,Se=de-_,Q=re-w;return A*A+ee*ee>Se*Se+Q*Q&&(fe=de,ne=re),{cx:fe,cy:ne,x01:-l,y01:-d,x11:fe*(i/P-1),y11:ne*(i/P-1)}}function Nce(){var e=xce,t=Sce,n=Kt(0),r=null,i=Ice,o=Ace,s=Tce,a=null;function c(){var u,l,d=+e.apply(this,arguments),h=+t.apply(this,arguments),g=i.apply(this,arguments)-Cy,m=o.apply(this,arguments)-Cy,y=OV(m-g),_=m>g;if(a||(a=u=bc()),h<d&&(l=h,h=d,d=l),h>Zr)if(y>Sa-Zr)a.moveTo(h*Vc(g),h*ms(g)),a.arc(0,0,h,g,m,!_),d>Zr&&(a.moveTo(d*Vc(m),d*ms(m)),a.arc(0,0,d,m,g,_));else{var A,ee,w=g,C=m,D=g,S=m,P=y,G=y,$=s.apply(this,arguments)/2,fe=$>Zr&&(r?+r.apply(this,arguments):Al(d*d+h*h)),ne=$C(OV(h-d)/2,+n.apply(this,arguments)),de=ne,re=ne;if(fe>Zr){var Se=RV(fe/d*ms($)),Q=RV(fe/h*ms($));(P-=2*Se)>Zr?(D+=Se*=_?1:-1,S-=Se):(P=0,D=S=(g+m)/2),(G-=2*Q)>Zr?(w+=Q*=_?1:-1,C-=Q):(G=0,w=C=(g+m)/2)}var we=h*Vc(w),it=h*ms(w),Je=d*Vc(S),ct=d*ms(S);if(ne>Zr){var tn,st=h*Vc(C),pt=h*ms(C),kn=d*Vc(D),bn=d*ms(D);if(y<xa&&(tn=function kce(e,t,n,r,i,o,s,a){var c=n-e,u=r-t,l=s-i,d=a-o,h=d*c-l*u;if(!(h*h<Zr))return[e+(h=(l*(t-o)-d*(e-i))/h)*c,t+h*u]}(we,it,kn,bn,st,pt,Je,ct))){var Gn=we-tn[0],oe=it-tn[1],tt=st-tn[0],dt=pt-tn[1],xe=1/ms(function Mce(e){return e>1?0:e<-1?xa:Math.acos(e)}((Gn*tt+oe*dt)/(Al(Gn*Gn+oe*oe)*Al(tt*tt+dt*dt)))/2),He=Al(tn[0]*tn[0]+tn[1]*tn[1]);de=$C(ne,(d-He)/(xe-1)),re=$C(ne,(h-He)/(xe+1))}}G>Zr?re>Zr?(A=Dy(kn,bn,we,it,h,re,_),ee=Dy(st,pt,Je,ct,h,re,_),a.moveTo(A.cx+A.x01,A.cy+A.y01),re<ne?a.arc(A.cx,A.cy,re,Kr(A.y01,A.x01),Kr(ee.y01,ee.x01),!_):(a.arc(A.cx,A.cy,re,Kr(A.y01,A.x01),Kr(A.y11,A.x11),!_),a.arc(0,0,h,Kr(A.cy+A.y11,A.cx+A.x11),Kr(ee.cy+ee.y11,ee.cx+ee.x11),!_),a.arc(ee.cx,ee.cy,re,Kr(ee.y11,ee.x11),Kr(ee.y01,ee.x01),!_))):(a.moveTo(we,it),a.arc(0,0,h,w,C,!_)):a.moveTo(we,it),d>Zr&&P>Zr?de>Zr?(A=Dy(Je,ct,st,pt,d,-de,_),ee=Dy(we,it,kn,bn,d,-de,_),a.lineTo(A.cx+A.x01,A.cy+A.y01),de<ne?a.arc(A.cx,A.cy,de,Kr(A.y01,A.x01),Kr(ee.y01,ee.x01),!_):(a.arc(A.cx,A.cy,de,Kr(A.y01,A.x01),Kr(A.y11,A.x11),!_),a.arc(0,0,d,Kr(A.cy+A.y11,A.cx+A.x11),Kr(ee.cy+ee.y11,ee.cx+ee.x11),_),a.arc(ee.cx,ee.cy,de,Kr(ee.y11,ee.x11),Kr(ee.y01,ee.x01),!_))):a.arc(0,0,d,S,D,_):a.lineTo(Je,ct)}else a.moveTo(0,0);if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,l=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-xa/2;return[Vc(l)*u,ms(l)*u]},c.innerRadius=function(u){return arguments.length?(e="function"==typeof u?u:Kt(+u),c):e},c.outerRadius=function(u){return arguments.length?(t="function"==typeof u?u:Kt(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n="function"==typeof u?u:Kt(+u),c):n},c.padRadius=function(u){return arguments.length?(r=null==u?null:"function"==typeof u?u:Kt(+u),c):r},c.startAngle=function(u){return arguments.length?(i="function"==typeof u?u:Kt(+u),c):i},c.endAngle=function(u){return arguments.length?(o="function"==typeof u?u:Kt(+u),c):o},c.padAngle=function(u){return arguments.length?(s="function"==typeof u?u:Kt(+u),c):s},c.context=function(u){return arguments.length?(a=u??null,c):a},c}function PV(e){this._context=e}function My(e){return new PV(e)}function GC(e){return e[0]}function WC(e){return e[1]}function qC(){var e=GC,t=WC,n=Kt(!0),r=null,i=My,o=null;function s(a){var c,l,h,u=a.length,d=!1;for(null==r&&(o=i(h=bc())),c=0;c<=u;++c)!(c<u&&n(l=a[c],c,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(l,c,a),+t(l,c,a));if(h)return o=null,h+""||null}return s.x=function(a){return arguments.length?(e="function"==typeof a?a:Kt(+a),s):e},s.y=function(a){return arguments.length?(t="function"==typeof a?a:Kt(+a),s):t},s.defined=function(a){return arguments.length?(n="function"==typeof a?a:Kt(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,null!=r&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(null==a?r=o=null:o=i(r=a),s):r},s}function FV(){var e=GC,t=null,n=Kt(0),r=WC,i=Kt(!0),o=null,s=My,a=null;function c(l){var d,h,g,y,w,m=l.length,_=!1,C=new Array(m),D=new Array(m);for(null==o&&(a=s(w=bc())),d=0;d<=m;++d){if(!(d<m&&i(y=l[d],d,l))===_)if(_=!_)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=d-1;g>=h;--g)a.point(C[g],D[g]);a.lineEnd(),a.areaEnd()}_&&(C[d]=+e(y,d,l),D[d]=+n(y,d,l),a.point(t?+t(y,d,l):C[d],r?+r(y,d,l):D[d]))}if(w)return a=null,w+""||null}function u(){return qC().defined(i).curve(s).context(o)}return c.x=function(l){return arguments.length?(e="function"==typeof l?l:Kt(+l),t=null,c):e},c.x0=function(l){return arguments.length?(e="function"==typeof l?l:Kt(+l),c):e},c.x1=function(l){return arguments.length?(t=null==l?null:"function"==typeof l?l:Kt(+l),c):t},c.y=function(l){return arguments.length?(n="function"==typeof l?l:Kt(+l),r=null,c):n},c.y0=function(l){return arguments.length?(n="function"==typeof l?l:Kt(+l),c):n},c.y1=function(l){return arguments.length?(r=null==l?null:"function"==typeof l?l:Kt(+l),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(n)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(t).y(n)},c.defined=function(l){return arguments.length?(i="function"==typeof l?l:Kt(!!l),c):i},c.curve=function(l){return arguments.length?(s=l,null!=o&&(a=s(o)),c):s},c.context=function(l){return arguments.length?(null==l?o=a=null:a=s(o=l),c):o},c}function Oce(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Rce(e){return e}function Pce(){var e=Rce,t=Oce,n=null,r=Kt(0),i=Kt(Sa),o=Kt(0);function s(a){var c,l,d,w,S,u=a.length,h=0,g=new Array(u),m=new Array(u),y=+r.apply(this,arguments),_=Math.min(Sa,Math.max(-Sa,i.apply(this,arguments)-y)),C=Math.min(Math.abs(_)/u,o.apply(this,arguments)),D=C*(_<0?-1:1);for(c=0;c<u;++c)(S=m[g[c]=c]=+e(a[c],c,a))>0&&(h+=S);for(null!=t?g.sort(function(P,G){return t(m[P],m[G])}):null!=n&&g.sort(function(P,G){return n(a[P],a[G])}),c=0,d=h?(_-u*D)/h:0;c<u;++c,y=w)m[l=g[c]]={data:a[l],index:c,value:S=m[l],startAngle:y,endAngle:w=y+(S>0?S*d:0)+D,padAngle:C};return m}return s.value=function(a){return arguments.length?(e="function"==typeof a?a:Kt(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,n=null,s):t},s.sort=function(a){return arguments.length?(n=a,t=null,s):n},s.startAngle=function(a){return arguments.length?(r="function"==typeof a?a:Kt(+a),s):r},s.endAngle=function(a){return arguments.length?(i="function"==typeof a?a:Kt(+a),s):i},s.padAngle=function(a){return arguments.length?(o="function"==typeof a?a:Kt(+a),s):o},s}PV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var LV=YC(My);function VV(e){this._curve=e}function YC(e){function t(n){return new VV(e(n))}return t._curve=e,t}function Th(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(YC(n)):t()._curve},e}function BV(){return Th(qC().curve(LV))}function jV(){var e=FV().curve(LV),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Th(n())},delete e.lineX0,e.lineEndAngle=function(){return Th(r())},delete e.lineX1,e.lineInnerRadius=function(){return Th(i())},delete e.lineY0,e.lineOuterRadius=function(){return Th(o())},delete e.lineY1,e.curve=function(s){return arguments.length?t(YC(s)):t()._curve},e}function kh(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}VV.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var KC=Array.prototype.slice;function Fce(e){return e.source}function Lce(e){return e.target}function ZC(e){var t=Fce,n=Lce,r=GC,i=WC,o=null;function s(){var a,c=KC.call(arguments),u=t.apply(this,c),l=n.apply(this,c);if(o||(o=a=bc()),e(o,+r.apply(this,(c[0]=u,c)),+i.apply(this,c),+r.apply(this,(c[0]=l,c)),+i.apply(this,c)),a)return o=null,a+""||null}return s.source=function(a){return arguments.length?(t=a,s):t},s.target=function(a){return arguments.length?(n=a,s):n},s.x=function(a){return arguments.length?(r="function"==typeof a?a:Kt(+a),s):r},s.y=function(a){return arguments.length?(i="function"==typeof a?a:Kt(+a),s):i},s.context=function(a){return arguments.length?(o=a??null,s):o},s}function Vce(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function Bce(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function jce(e,t,n,r,i){var o=kh(t,n),s=kh(t,n=(n+i)/2),a=kh(r,n),c=kh(r,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(s[0],s[1],a[0],a[1],c[0],c[1])}function Hce(){return ZC(Vce)}function Uce(){return ZC(Bce)}function zce(){var e=ZC(jce);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const XC={draw:function(e,t){var n=Math.sqrt(t/xa);e.moveTo(n,0),e.arc(0,0,n,0,Sa)}},HV={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};var UV=Math.sqrt(1/3),$ce=2*UV;const zV={draw:function(e,t){var n=Math.sqrt(t/$ce),r=n*UV;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}};var $V=Math.sin(xa/10)/Math.sin(7*xa/10),Wce=Math.sin(Sa/10)*$V,qce=-Math.cos(Sa/10)*$V;const GV={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=Wce*n,i=qce*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var s=Sa*o/5,a=Math.cos(s),c=Math.sin(s);e.lineTo(c*n,-a*n),e.lineTo(a*r-c*i,c*r+a*i)}e.closePath()}},WV={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}};var QC=Math.sqrt(3);const qV={draw:function(e,t){var n=-Math.sqrt(t/(3*QC));e.moveTo(0,2*n),e.lineTo(-QC*n,-n),e.lineTo(QC*n,-n),e.closePath()}};var Ji=-.5,eo=Math.sqrt(3)/2,JC=1/Math.sqrt(12),Yce=3*(JC/2+1);const YV={draw:function(e,t){var n=Math.sqrt(t/Yce),r=n/2,i=n*JC,o=r,s=n*JC+n,a=-o,c=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,c),e.lineTo(Ji*r-eo*i,eo*r+Ji*i),e.lineTo(Ji*o-eo*s,eo*o+Ji*s),e.lineTo(Ji*a-eo*c,eo*a+Ji*c),e.lineTo(Ji*r+eo*i,Ji*i-eo*r),e.lineTo(Ji*o+eo*s,Ji*s-eo*o),e.lineTo(Ji*a+eo*c,Ji*c-eo*a),e.closePath()}};var Kce=[XC,HV,zV,WV,GV,qV,YV];function Zce(){var e=Kt(XC),t=Kt(64),n=null;function r(){var i;if(n||(n=i=bc()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return r.type=function(i){return arguments.length?(e="function"==typeof i?i:Kt(i),r):e},r.size=function(i){return arguments.length?(t="function"==typeof i?i:Kt(+i),r):t},r.context=function(i){return arguments.length?(n=i??null,r):n},r}function Ia(){}function xy(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Sy(e){this._context=e}function Xce(e){return new Sy(e)}function KV(e){this._context=e}function Qce(e){return new KV(e)}function ZV(e){this._context=e}function Jce(e){return new ZV(e)}function XV(e,t){this._basis=new Sy(e),this._beta=t}Sy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xy(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},KV.prototype={areaStart:Ia,areaEnd:Ia,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:xy(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},ZV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xy(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},XV.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var c,r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1;++a<=n;)this._basis.point(this._beta*e[a]+(1-this._beta)*(r+(c=a/n)*o),this._beta*t[a]+(1-this._beta)*(i+c*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const eue=function e(t){function n(r){return 1===t?new Sy(r):new XV(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Iy(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function eD(e,t){this._context=e,this._k=(1-t)/6}eD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Iy(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Iy(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const tue=function e(t){function n(r){return new eD(r,t)}return n.tension=function(r){return e(+r)},n}(0);function tD(e,t){this._context=e,this._k=(1-t)/6}tD.prototype={areaStart:Ia,areaEnd:Ia,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Iy(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const nue=function e(t){function n(r){return new tD(r,t)}return n.tension=function(r){return e(+r)},n}(0);function nD(e,t){this._context=e,this._k=(1-t)/6}nD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Iy(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const rue=function e(t){function n(r){return new nD(r,t)}return n.tension=function(r){return e(+r)},n}(0);function rD(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Zr){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>Zr){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/l,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function QV(e,t){this._context=e,this._alpha=t}QV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:rD(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const iue=function e(t){function n(r){return t?new QV(r,t):new eD(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function JV(e,t){this._context=e,this._alpha=t}JV.prototype={areaStart:Ia,areaEnd:Ia,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:rD(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const oue=function e(t){function n(r){return t?new JV(r,t):new tD(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function e8(e,t){this._context=e,this._alpha=t}e8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rD(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const sue=function e(t){function n(r){return t?new e8(r,t):new nD(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function t8(e){this._context=e}function aue(e){return new t8(e)}function n8(e){return e<0?-1:1}function r8(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(n8(o)+n8(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function i8(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function iD(e,t,n){var r=e._x0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,e._y0+a*t,o-a,s-a*n,o,s)}function Ay(e){this._context=e}function o8(e){this._context=new s8(e)}function s8(e){this._context=e}function cue(e){return new Ay(e)}function uue(e){return new o8(e)}function a8(e){this._context=e}function c8(e){var t,r,n=e.length-1,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)o[t]-=r=i[t]/o[t-1],s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function lue(e){return new a8(e)}function Ty(e,t){this._context=e,this._t=t}function due(e){return new Ty(e,.5)}function fue(e){return new Ty(e,0)}function hue(e){return new Ty(e,1)}function Tl(e,t){if((s=e.length)>1)for(var r,i,s,n=1,o=e[t[0]],a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function kl(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function pue(e,t){return e[t]}function gue(){var e=Kt([]),t=kl,n=Tl,r=pue;function i(o){var a,d,s=e.apply(this,arguments),c=o.length,u=s.length,l=new Array(u);for(a=0;a<u;++a){for(var y,h=s[a],g=l[a]=new Array(c),m=0;m<c;++m)g[m]=y=[0,+r(o[m],h,m,o)],y.data=o[m];g.key=h}for(a=0,d=t(l);a<u;++a)l[d[a]].index=a;return n(l,d),l}return i.keys=function(o){return arguments.length?(e="function"==typeof o?o:Kt(KC.call(o)),i):e},i.value=function(o){return arguments.length?(r="function"==typeof o?o:Kt(+o),i):r},i.order=function(o){return arguments.length?(t=null==o?kl:"function"==typeof o?o:Kt(KC.call(o)),i):t},i.offset=function(o){return arguments.length?(n=o??Tl,i):n},i}function mue(e,t){if((r=e.length)>0){for(var n,r,s,i=0,o=e[0].length;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}Tl(e,t)}}function vue(e,t){if((c=e.length)>0)for(var n,i,o,s,a,c,r=0,u=e[t[0]].length;r<u;++r)for(s=a=0,n=0;n<c;++n)(o=(i=e[t[n]][r])[1]-i[0])>0?(i[0]=s,i[1]=s+=o):o<0?(i[1]=a,i[0]=a+=o):(i[0]=0,i[1]=o)}function yue(e,t){if((i=e.length)>0){for(var i,n=0,r=e[t[0]],o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Tl(e,t)}}function _ue(e,t){if((s=e.length)>0&&(o=(i=e[t[0]]).length)>0){for(var i,o,s,n=0,r=1;r<o;++r){for(var a=0,c=0,u=0;a<s;++a){for(var l=e[t[a]],d=l[r][1]||0,g=(d-(l[r-1][1]||0))/2,m=0;m<a;++m){var y=e[t[m]];g+=(y[r][1]||0)-(y[r-1][1]||0)}c+=d,u+=g*d}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Tl(e,t)}}function u8(e){var t=e.map(bue);return kl(e).sort(function(n,r){return t[n]-t[r]})}function bue(e){for(var i,t=-1,n=0,r=e.length,o=-1/0;++t<r;)(i=+e[t][1])>o&&(o=i,n=t);return n}function l8(e){var t=e.map(d8);return kl(e).sort(function(n,r){return t[n]-t[r]})}function d8(e){for(var i,t=0,n=-1,r=e.length;++n<r;)(i=+e[n][1])&&(t+=i);return t}function wue(e){return l8(e).reverse()}function Eue(e){var n,r,t=e.length,i=e.map(d8),o=u8(e),s=0,a=0,c=[],u=[];for(n=0;n<t;++n)r=o[n],s<a?(s+=i[r],c.push(r)):(a+=i[r],u.push(r));return u.reverse().concat(c)}function Cue(e){return kl(e).reverse()}t8.prototype={areaStart:Ia,areaEnd:Ia,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iD(this,this._t0,i8(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,iD(this,i8(this,n=r8(this,e,t)),n);break;default:iD(this,this._t0,n=r8(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(o8.prototype=Object.create(Ay.prototype)).point=function(e,t){Ay.prototype.point.call(this,t,e)},s8.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},a8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=c8(e),i=c8(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Ty.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var f8="%Y-%m-%dT%H:%M:%S.%LZ",Mue=Date.prototype.toISOString?function Due(e){return e.toISOString()}:vy(f8);const xue=Mue;var Iue=+new Date("2000-01-01T00:00:00.000Z")?function Sue(e){var t=new Date(e);return isNaN(t)?null:t}:VC(f8);const Aue=Iue;function Tue(e,t,n){var r=new $f,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?dl():+n,r.restart(function o(s){s+=i,r.restart(o,i+=t,n),e(s)},t,n),r)}function h8(e){return function(){return e}}function kue(e){return e[0]}function Nue(e){return e[1]}function oD(){this._=null}function ky(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Nh(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Oh(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function p8(e){for(;e.L;)e=e.L;return e}oD.prototype={constructor:oD,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=p8(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Nh(this,n),n=(e=n).U),n.C=!1,r.C=!0,Oh(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Oh(this,n),n=(e=n).U),n.C=!1,r.C=!0,Nh(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var n,o,s,t=e.U,r=e.L,i=e.R;if(o=r?i?p8(i):r:i,t?t.L===e?t.L=o:t.R=o:this._=o,r&&i?(s=o.C,o.C=e.C,o.L=r,r.U=o,o!==i?(t=o.U,o.U=e.U,t.L=e=o.R,o.R=i,i.U=o):(o.U=t,t=o,e=o.R)):(s=e.C,e=o),e&&(e.U=t),!s){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===t.L){if((n=t.R).C&&(n.C=!1,t.C=!0,Nh(this,t),n=t.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Oh(this,n),n=t.R),n.C=t.C,t.C=n.R.C=!1,Nh(this,t),e=this._;break}}else if((n=t.L).C&&(n.C=!1,t.C=!0,Oh(this,t),n=t.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,Nh(this,n),n=t.L),n.C=t.C,t.C=n.L.C=!1,Oh(this,t),e=this._;break}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};const g8=oD;function Rh(e,t,n,r){var i=[null,null],o=Xr.push(i)-1;return i.left=e,i.right=t,n&&Ny(i,e,t,n),r&&Ny(i,t,e,r),ji[e.index].halfedges.push(o),ji[t.index].halfedges.push(o),i}function Ph(e,t,n){var r=[t,n];return r.left=e,r}function Ny(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function Oue(e,t,n,r,i){var y,o=e[0],s=e[1],a=o[0],c=o[1],d=0,h=1,g=s[0]-a,m=s[1]-c;if(y=t-a,g||!(y>0)){if(y/=g,g<0){if(y<d)return;y<h&&(h=y)}else if(g>0){if(y>h)return;y>d&&(d=y)}if(y=r-a,g||!(y<0)){if(y/=g,g<0){if(y>h)return;y>d&&(d=y)}else if(g>0){if(y<d)return;y<h&&(h=y)}if(y=n-c,m||!(y>0)){if(y/=m,m<0){if(y<d)return;y<h&&(h=y)}else if(m>0){if(y>h)return;y>d&&(d=y)}if(y=i-c,m||!(y<0)){if(y/=m,m<0){if(y>h)return;y>d&&(d=y)}else if(m>0){if(y<d)return;y<h&&(h=y)}return!(d>0)&&!(h<1)||(d>0&&(e[0]=[a+d*g,c+d*m]),h<1&&(e[1]=[a+h*g,c+h*m])),!0}}}}}function Rue(e,t,n,r,i){var o=e[1];if(o)return!0;var y,_,s=e[0],a=e.left,c=e.right,u=a[0],l=a[1],d=c[0],h=c[1],g=(u+d)/2;if(h===l){if(g<t||g>=r)return;if(u>d){if(s){if(s[1]>=i)return}else s=[g,n];o=[g,i]}else{if(s){if(s[1]<n)return}else s=[g,i];o=[g,n]}}else if(_=(l+h)/2-(y=(u-d)/(h-l))*g,y<-1||y>1)if(u>d){if(s){if(s[1]>=i)return}else s=[(n-_)/y,n];o=[(i-_)/y,i]}else{if(s){if(s[1]<n)return}else s=[(i-_)/y,i];o=[(n-_)/y,n]}else if(l<h){if(s){if(s[0]>=r)return}else s=[t,y*t+_];o=[r,y*r+_]}else{if(s){if(s[0]<t)return}else s=[r,y*r+_];o=[t,y*t+_]}return e[0]=s,e[1]=o,!0}function Lue(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function m8(e,t){return t[+(t.left!==e.site)]}function Vue(e,t){return t[+(t.left===e.site)]}var sD,v8=[];function Hue(){ky(this),this.x=this.y=this.arc=this.site=this.cy=null}function Nl(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var s=i[0],a=i[1],c=r[0]-s,u=r[1]-a,l=o[0]-s,d=o[1]-a,h=2*(c*d-u*l);if(!(h>=-Wue)){var g=c*c+u*u,m=l*l+d*d,y=(d*g-u*m)/h,_=(c*m-l*g)/h,w=v8.pop()||new Hue;w.arc=e,w.site=i,w.x=y+s,w.y=(w.cy=_+a)+Math.sqrt(y*y+_*_),e.circle=w;for(var C=null,D=Fh._;D;)if(w.y<D.y||w.y===D.y&&w.x<=D.x){if(!D.L){C=D.P;break}D=D.L}else{if(!D.R){C=D;break}D=D.R}Fh.insert(C,w),C||(sD=w)}}}}function Ol(e){var t=e.circle;t&&(t.P||(sD=t.N),Fh.remove(t),v8.push(t),ky(t),e.circle=null)}var y8=[];function Uue(){ky(this),this.edge=this.site=this.circle=null}function _8(e){var t=y8.pop()||new Uue;return t.site=e,t}function aD(e){Ol(e),Rl.remove(e),y8.push(e),ky(e)}function zue(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,s=e.N,a=[e];aD(e);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<xn&&Math.abs(r-c.circle.cy)<xn;)o=c.P,a.unshift(c),aD(c),c=o;a.unshift(c),Ol(c);for(var u=s;u.circle&&Math.abs(n-u.circle.x)<xn&&Math.abs(r-u.circle.cy)<xn;)s=u.N,a.push(u),aD(u),u=s;a.push(u),Ol(u);var d,l=a.length;for(d=1;d<l;++d)Ny((u=a[d]).edge,(c=a[d-1]).site,u.site,i);(u=a[l-1]).edge=Rh((c=a[0]).site,u.site,null,i),Nl(c),Nl(u)}function $ue(e){for(var r,i,o,s,t=e[0],n=e[1],a=Rl._;a;)if((o=b8(a,n)-t)>xn)a=a.L;else{if(!((s=t-Gue(a,n))>xn)){o>-xn?(r=a.P,i=a):s>-xn?(r=a,i=a.N):r=i=a;break}if(!a.R){r=a;break}a=a.R}!function Fue(e){ji[e.index]={site:e,halfedges:[]}}(e);var c=_8(e);if(Rl.insert(r,c),r||i){if(r===i)return Ol(r),i=_8(r.site),Rl.insert(c,i),c.edge=i.edge=Rh(r.site,c.site),Nl(r),void Nl(i);if(!i)return void(c.edge=Rh(r.site,c.site));Ol(r),Ol(i);var u=r.site,l=u[0],d=u[1],h=e[0]-l,g=e[1]-d,m=i.site,y=m[0]-l,_=m[1]-d,w=2*(h*_-g*y),C=h*h+g*g,D=y*y+_*_,S=[(_*C-g*D)/w+l,(h*D-y*C)/w+d];Ny(i.edge,u,m,S),c.edge=Rh(u,e,null,S),i.edge=Rh(e,m,null,S),Nl(r),Nl(i)}}function b8(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var s=e.P;if(!s)return-1/0;var a=(n=s.site)[0],c=n[1],u=c-t;if(!u)return a;var l=a-r,d=1/o-1/u,h=l/u;return d?(-h+Math.sqrt(h*h-2*d*(l*l/(-2*u)-c+u/2+i-o/2)))/d+r:(r+a)/2}function Gue(e,t){var n=e.N;if(n)return b8(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var Rl,ji,Fh,Xr,xn=1e-6,Wue=1e-12;function que(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function Yue(e,t){return t[1]-e[1]||t[0]-e[0]}function cD(e,t){var r,i,o,n=e.sort(Yue).pop();for(Xr=[],ji=new Array(e.length),Rl=new g8,Fh=new g8;;)if(o=sD,n&&(!o||n[1]<o.y||n[1]===o.y&&n[0]<o.x))(n[0]!==r||n[1]!==i)&&($ue(n),r=n[0],i=n[1]),n=e.pop();else{if(!o)break;zue(o.arc)}if(function Bue(){for(var n,r,i,o,e=0,t=ji.length;e<t;++e)if((n=ji[e])&&(o=(r=n.halfedges).length)){var s=new Array(o),a=new Array(o);for(i=0;i<o;++i)s[i]=i,a[i]=Lue(n,Xr[r[i]]);for(s.sort(function(c,u){return a[u]-a[c]}),i=0;i<o;++i)a[i]=r[s[i]];for(i=0;i<o;++i)r[i]=a[i]}}(),t){var s=+t[0][0],a=+t[0][1],c=+t[1][0],u=+t[1][1];(function Pue(e,t,n,r){for(var o,i=Xr.length;i--;)Rue(o=Xr[i],e,t,n,r)&&Oue(o,e,t,n,r)&&(Math.abs(o[0][0]-o[1][0])>xn||Math.abs(o[0][1]-o[1][1])>xn)||delete Xr[i]})(s,a,c,u),function jue(e,t,n,r){var o,s,a,c,u,l,d,h,g,m,y,_,i=ji.length,w=!0;for(o=0;o<i;++o)if(s=ji[o]){for(a=s.site,c=(u=s.halfedges).length;c--;)Xr[u[c]]||u.splice(c,1);for(c=0,l=u.length;c<l;)y=(m=Vue(s,Xr[u[c]]))[0],_=m[1],h=(d=m8(s,Xr[u[++c%l]]))[0],g=d[1],(Math.abs(y-h)>xn||Math.abs(_-g)>xn)&&(u.splice(c,0,Xr.push(Ph(a,m,Math.abs(y-e)<xn&&r-_>xn?[e,Math.abs(h-e)<xn?g:r]:Math.abs(_-r)<xn&&n-y>xn?[Math.abs(g-r)<xn?h:n,r]:Math.abs(y-n)<xn&&_-t>xn?[n,Math.abs(h-n)<xn?g:t]:Math.abs(_-t)<xn&&y-e>xn?[Math.abs(g-t)<xn?h:e,t]:null))-1),++l);l&&(w=!1)}if(w){var C,D,S,P=1/0;for(o=0,w=null;o<i;++o)(s=ji[o])&&(S=(C=(a=s.site)[0]-e)*C+(D=a[1]-t)*D)<P&&(P=S,w=s);if(w){var G=[e,t],$=[e,r],fe=[n,r],ne=[n,t];w.halfedges.push(Xr.push(Ph(a=w.site,G,$))-1,Xr.push(Ph(a,$,fe))-1,Xr.push(Ph(a,fe,ne))-1,Xr.push(Ph(a,ne,G))-1)}}for(o=0;o<i;++o)(s=ji[o])&&(s.halfedges.length||delete ji[o])}(s,a,c,u)}this.edges=Xr,this.cells=ji,Rl=Fh=Xr=ji=null}function Kue(){var e=kue,t=Nue,n=null;function r(i){return new cD(i.map(function(o,s){var a=[Math.round(e(o,s,i)/xn)*xn,Math.round(t(o,s,i)/xn)*xn];return a.index=s,a.data=o,a}),n)}return r.polygons=function(i){return r(i).polygons()},r.links=function(i){return r(i).links()},r.triangles=function(i){return r(i).triangles()},r.x=function(i){return arguments.length?(e="function"==typeof i?i:h8(+i),r):e},r.y=function(i){return arguments.length?(t="function"==typeof i?i:h8(+i),r):t},r.extent=function(i){return arguments.length?(n=null==i?null:[[+i[0][0],+i[0][1]],[+i[1][0],+i[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(i){return arguments.length?(n=null==i?null:[[0,0],[+i[0],+i[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}function Oy(e){return function(){return e}}function Zue(e,t,n){this.target=e,this.type=t,this.transform=n}function $s(e,t,n){this.k=e,this.x=t,this.y=n}cD.prototype={constructor:cD,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(r){return m8(t,e[r])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(a=(o=n.halfedges).length)for(var o,a,c,i=n.site,s=-1,u=t[o[a-1]],l=u.left===i?u.right:u.left;++s<a;)c=l,l=(u=t[o[s]]).left===i?u.right:u.left,c&&l&&r<c.index&&r<l.index&&que(i,c,l)<0&&e.push([i.data,c.data,l.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var i,a,r=this,o=r._found||0,s=r.cells.length;!(a=r.cells[o]);)if(++o>=s)return null;var c=e-a.site[0],u=t-a.site[1],l=c*c+u*u;do{a=r.cells[i=o],o=null,a.halfedges.forEach(function(d){var h=r.edges[d],g=h.left;if(g!==a.site&&g||(g=h.right)){var m=e-g[0],y=t-g[1],_=m*m+y*y;_<l&&(l=_,o=g.index)}})}while(null!==o);return r._found=i,null==n||l<=n*n?a.site:null}},$s.prototype={constructor:$s,scale:function(e){return 1===e?this:new $s(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new $s(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Pl=new $s(1,0,0);function Ry(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Pl;return e.__zoom}function uD(){Ke.stopImmediatePropagation()}function Lh(){Ke.preventDefault(),Ke.stopImmediatePropagation()}function Xue(){return!Ke.ctrlKey&&!Ke.button}function Que(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function w8(){return this.__zoom||Pl}function Jue(){return-Ke.deltaY*(1===Ke.deltaMode?.05:Ke.deltaMode?1:.002)}function ele(){return navigator.maxTouchPoints||"ontouchstart"in this}function tle(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function E8(){var l,d,e=Xue,t=Que,n=tle,r=Jue,i=ele,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=NL,u=rl("start","zoom","end"),h=500,g=150,m=0;function y(A){A.property("__zoom",w8).on("wheel.zoom",G).on("mousedown.zoom",$).on("dblclick.zoom",fe).filter(i).on("touchstart.zoom",ne).on("touchmove.zoom",de).on("touchend.zoom touchcancel.zoom",re).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(A,ee){return(ee=Math.max(o[0],Math.min(o[1],ee)))===A.k?A:new $s(ee,A.x,A.y)}function w(A,ee,Se){var Q=ee[0]-Se[0]*A.k,we=ee[1]-Se[1]*A.k;return Q===A.x&&we===A.y?A:new $s(A.k,Q,we)}function C(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function D(A,ee,Se){A.on("start.zoom",function(){S(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).end()}).tween("zoom",function(){var Q=this,we=arguments,it=S(Q,we),Je=t.apply(Q,we),ct=null==Se?C(Je):"function"==typeof Se?Se.apply(Q,we):Se,st=Math.max(Je[1][0]-Je[0][0],Je[1][1]-Je[0][1]),pt=Q.__zoom,kn="function"==typeof ee?ee.apply(Q,we):ee,bn=c(pt.invert(ct).concat(st/pt.k),kn.invert(ct).concat(st/kn.k));return function(tn){if(1===tn)tn=kn;else{var Gn=bn(tn),oe=st/Gn[2];tn=new $s(oe,ct[0]-Gn[0]*oe,ct[1]-Gn[1]*oe)}it.zoom(null,tn)}})}function S(A,ee,Se){return!Se&&A.__zooming||new P(A,ee)}function P(A,ee){this.that=A,this.args=ee,this.active=0,this.extent=t.apply(A,ee),this.taps=0}function G(){if(e.apply(this,arguments)){var A=S(this,arguments),ee=this.__zoom,Se=Math.max(o[0],Math.min(o[1],ee.k*Math.pow(2,r.apply(this,arguments)))),Q=mc(this);if(A.wheel)(A.mouse[0][0]!==Q[0]||A.mouse[0][1]!==Q[1])&&(A.mouse[1]=ee.invert(A.mouse[0]=Q)),clearTimeout(A.wheel);else{if(ee.k===Se)return;A.mouse=[Q,ee.invert(Q)],yc(this),A.start()}Lh(),A.wheel=setTimeout(function we(){A.wheel=null,A.end()},g),A.zoom("mouse",n(w(_(ee,Se),A.mouse[0],A.mouse[1]),A.extent,s))}}function $(){if(!d&&e.apply(this,arguments)){var A=S(this,arguments,!0),ee=Xt(Ke.view).on("mousemove.zoom",function it(){if(Lh(),!A.moved){var ct=Ke.clientX-Q,st=Ke.clientY-we;A.moved=ct*ct+st*st>m}A.zoom("mouse",n(w(A.that.__zoom,A.mouse[0]=mc(A.that),A.mouse[1]),A.extent,s))},!0).on("mouseup.zoom",function Je(){ee.on("mousemove.zoom mouseup.zoom",null),jm(Ke.view,A.moved),Lh(),A.end()},!0),Se=mc(this),Q=Ke.clientX,we=Ke.clientY;Bm(Ke.view),uD(),A.mouse=[Se,this.__zoom.invert(Se)],yc(this),A.start()}}function fe(){if(e.apply(this,arguments)){var A=this.__zoom,ee=mc(this),Se=A.invert(ee),we=n(w(_(A,A.k*(Ke.shiftKey?.5:2)),ee,Se),t.apply(this,arguments),s);Lh(),a>0?Xt(this).transition().duration(a).call(D,we,ee):Xt(this).call(y.transform,we)}}function ne(){if(e.apply(this,arguments)){var Q,we,it,Je,A=Ke.touches,ee=A.length,Se=S(this,arguments,Ke.changedTouches.length===ee);for(uD(),we=0;we<ee;++we)Je=[Je=Bf(this,A,(it=A[we]).identifier),this.__zoom.invert(Je),it.identifier],Se.touch0?!Se.touch1&&Se.touch0[2]!==Je[2]&&(Se.touch1=Je,Se.taps=0):(Se.touch0=Je,Q=!0,Se.taps=1+!!l);l&&(l=clearTimeout(l)),Q&&(Se.taps<2&&(l=setTimeout(function(){l=null},h)),yc(this),Se.start())}}function de(){if(this.__zooming){var Q,we,it,Je,A=S(this,arguments),ee=Ke.changedTouches,Se=ee.length;for(Lh(),l&&(l=clearTimeout(l)),A.taps=0,Q=0;Q<Se;++Q)it=Bf(this,ee,(we=ee[Q]).identifier),A.touch0&&A.touch0[2]===we.identifier?A.touch0[0]=it:A.touch1&&A.touch1[2]===we.identifier&&(A.touch1[0]=it);if(we=A.that.__zoom,A.touch1){var ct=A.touch0[0],st=A.touch0[1],pt=A.touch1[0],kn=A.touch1[1],bn=(bn=pt[0]-ct[0])*bn+(bn=pt[1]-ct[1])*bn,tn=(tn=kn[0]-st[0])*tn+(tn=kn[1]-st[1])*tn;we=_(we,Math.sqrt(bn/tn)),it=[(ct[0]+pt[0])/2,(ct[1]+pt[1])/2],Je=[(st[0]+kn[0])/2,(st[1]+kn[1])/2]}else{if(!A.touch0)return;it=A.touch0[0],Je=A.touch0[1]}A.zoom("touch",n(w(we,it,Je),A.extent,s))}}function re(){if(this.__zooming){var Q,we,A=S(this,arguments),ee=Ke.changedTouches,Se=ee.length;for(uD(),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),Q=0;Q<Se;++Q)we=ee[Q],A.touch0&&A.touch0[2]===we.identifier?delete A.touch0:A.touch1&&A.touch1[2]===we.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),2===A.taps){var it=Xt(this).on("dblclick.zoom");it&&it.apply(this,arguments)}}}return y.transform=function(A,ee,Se){var Q=A.selection?A.selection():A;Q.property("__zoom",w8),A!==Q?D(A,ee,Se):Q.interrupt().each(function(){S(this,arguments).start().zoom(null,"function"==typeof ee?ee.apply(this,arguments):ee).end()})},y.scaleBy=function(A,ee,Se){y.scaleTo(A,function(){return this.__zoom.k*("function"==typeof ee?ee.apply(this,arguments):ee)},Se)},y.scaleTo=function(A,ee,Se){y.transform(A,function(){var Q=t.apply(this,arguments),we=this.__zoom,it=null==Se?C(Q):"function"==typeof Se?Se.apply(this,arguments):Se,Je=we.invert(it),ct="function"==typeof ee?ee.apply(this,arguments):ee;return n(w(_(we,ct),it,Je),Q,s)},Se)},y.translateBy=function(A,ee,Se){y.transform(A,function(){return n(this.__zoom.translate("function"==typeof ee?ee.apply(this,arguments):ee,"function"==typeof Se?Se.apply(this,arguments):Se),t.apply(this,arguments),s)})},y.translateTo=function(A,ee,Se,Q){y.transform(A,function(){var we=t.apply(this,arguments),it=this.__zoom,Je=null==Q?C(we):"function"==typeof Q?Q.apply(this,arguments):Q;return n(Pl.translate(Je[0],Je[1]).scale(it.k).translate("function"==typeof ee?-ee.apply(this,arguments):-ee,"function"==typeof Se?-Se.apply(this,arguments):-Se),we,s)},Q)},P.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,ee){return this.mouse&&"mouse"!==A&&(this.mouse[1]=ee.invert(this.mouse[0])),this.touch0&&"touch"!==A&&(this.touch0[1]=ee.invert(this.touch0[0])),this.touch1&&"touch"!==A&&(this.touch1[1]=ee.invert(this.touch1[0])),this.that.__zoom=ee,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){Rf(new Zue(y,A,this.that.__zoom),u.apply,u,[A,this.that,this.args])}},y.wheelDelta=function(A){return arguments.length?(r="function"==typeof A?A:Oy(+A),y):r},y.filter=function(A){return arguments.length?(e="function"==typeof A?A:Oy(!!A),y):e},y.touchable=function(A){return arguments.length?(i="function"==typeof A?A:Oy(!!A),y):i},y.extent=function(A){return arguments.length?(t="function"==typeof A?A:Oy([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),y):t},y.scaleExtent=function(A){return arguments.length?(o[0]=+A[0],o[1]=+A[1],y):[o[0],o[1]]},y.translateExtent=function(A){return arguments.length?(s[0][0]=+A[0][0],s[1][0]=+A[1][0],s[0][1]=+A[0][1],s[1][1]=+A[1][1],y):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},y.constrain=function(A){return arguments.length?(n=A,y):n},y.duration=function(A){return arguments.length?(a=+A,y):a},y.interpolate=function(A){return arguments.length?(c=A,y):c},y.on=function(){var A=u.on.apply(u,arguments);return A===u?y:A},y.clickDistance=function(A){return arguments.length?(m=(A=+A)*A,y):Math.sqrt(m)},y}Ry.prototype=$s.prototype;const ile=new class rle extends Do{}(class nle extends _m{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(t,n,r):t.flush(this)}});function sle({error:e,subscriber:t}){t.error(e)}class to{constructor(t,n,r){this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,n,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}}accept(t,n,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,n,r)}toObservable(){switch(this.kind){case"N":return Uw(this.value);case"E":return function ole(e,t){return new Hn(t?n=>t.schedule(sle,0,{error:e,subscriber:n}):n=>n.error(e))}(this.error);case"C":return B2()}throw new Error("unexpected notification kind value")}static createNext(t){return typeof t<"u"?new to("N",t):to.undefinedValueNotification}static createError(t){return new to("E",void 0,t)}static createComplete(){return to.completeNotification}}to.completeNotification=new to("C"),to.undefinedValueNotification=new to("N",void 0);class Py extends Bn{constructor(t,n,r=0){super(t),this.scheduler=n,this.delay=r}static dispatch(t){const{notification:n,destination:r}=t;n.observe(r),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Py.dispatch,this.delay,new ule(t,this.destination)))}_next(t){this.scheduleMessage(to.createNext(t))}_error(t){this.scheduleMessage(to.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(to.createComplete()),this.unsubscribe()}}class ule{constructor(t,n){this.notification=t,this.destination=n}}class lle extends Cn{constructor(t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new dle(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;let s;if(this.closed)throw new Lo;if(this.isStopped||this.hasError?s=Qt.EMPTY:(this.observers.push(t),s=new $c(this,t)),i&&t.add(t=new Py(t,i)),n)for(let a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(let a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||ile).now()}_trimBufferThenGetEvents(){const t=this._getNow(),n=this._bufferSize,r=this._windowTime,i=this._events,o=i.length;let s=0;for(;s<o&&!(t-i[s].time<r);)s++;return o>n&&(s=Math.max(s,o-n)),s>0&&i.splice(0,s),i}}class dle{constructor(t,n){this.time=t,this.value=n}}let fle=(()=>{class e{constructor(){}links=[];nodes=[];gBrush=null;brushMode=!1;brushing=!1;shiftKey;extent=null;zoom=!1;zoomToFit=!1;resetSearch;selectedNodesArray=new Cn;dblClickNodePayload=new Cn;dblClickLinkPayload=new Cn;selectedLinkArray=new Cn;saveGraphData=new lle;update(n,r,i,o){const s=Xt(r);return this.zoom=i,this.zoomToFit=o,this._update(le,s,n)}ticked(n,r,i){n.each(function(o,s,a){let c=o.target.x-o.source.x,u=o.target.y-o.source.y,l=Math.sqrt(c*c+u*u),d=40*c/l,h=40*u/l;Xt(a[s]).attr("x1",o.source.x+d).attr("y1",o.source.y+h).attr("x2",o.target.x-d).attr("y2",o.target.y-h)}),r.attr("transform",function(o){return`translate(${o.x}, ${o.y+50})`}),i.attr("d",function(o){return`M ${o.source.x} ${o.source.y} L ${o.target.x} ${o.target.y}`}),i.attr("transform",function(o){if(o.target.x<o.source.x){const s=this.getBBox();return`rotate(180 ${s.x+s.width/2} ${s.y+s.height/2})`}return"rotate(0)"})}initDefinitions(n){const r=n.append("defs");function i(o,s,a){r.append("marker").attr("id",o).attr("viewBox","-0 -5 10 10").attr("refX",s).attr("refY",0).attr("orient","auto").attr("markerWidth",8).attr("markerHeight",8).attr("xoverflow","visible").append("svg:path").attr("d",a).attr("fill","#b4b4b4").style("stroke","none")}return i("arrowheadTarget",0,"M 0,-5 L 10 ,0 L 0,5"),i("arrowheadSource",2,"M 10 -5 L 0 0 L 10 5"),n}forceSimulation(n,{width:r,height:i}){return n.forceSimulation().velocityDecay(.1).force("link",n.forceLink().id(function(o){return o.id}).distance(500).strength(1)).force("charge",n.forceManyBody().strength(.1)).force("center",n.forceCenter(r/2,i/2)).force("collision",n.forceCollide().radius(15))}compareAndMarkNodesNew(n,r){const i=r.reduce((o,s)=>(o[s.id]=s,o),{});return n.forEach(o=>{i[o.id]||(o.newItem=!0,o.fx=null,o.fy=null)}),n}removeNewItem(n){for(const r of n)r.hasOwnProperty("newItem")&&delete r.newItem;return n}randomiseNodePositions(n,r,i){let o=100;const s=r*i;let a=n.length*o*o;if(a>s){for(;a>s&&o>0;)o-=10,a=n.length*o*o;if(a>s)throw new Error("Not enough space to accommodate all nodes without a fixed position.")}return n.forEach(c=>{if(null===c.fx&&null===c.fy){let u=o,l=!1;for(;!l&&u>0;)c.fx=crypto.getRandomValues(new Uint32Array(1))[0]%r,c.fy=crypto.getRandomValues(new Uint32Array(1))[0]%i,l=!n.some(d=>{if(null===d.fx||null===d.fy||d===c)return!1;const h=d.fx-c.fx,g=d.fy-c.fy;return Math.sqrt(h*h+g*g)<u}),l||u--;if(!l)throw new Error("Not enough space to accommodate all nodes without a fixed position.")}}),n}_update(n,r,i){const{nodes:o,links:s}=i;this.nodes=o||[],this.links=s||[];let a=document.getElementById("reset_graph"),c=document.getElementById("save_graph");a&&(a.setAttribute("disabled","true"),c.setAttribute("disabled","true"));const u=n.select("svg").node().parentNode.clientWidth,l=n.select("svg").node().parentNode.clientHeight;if("nodes"in localStorage){const oe=JSON.parse(localStorage.getItem("nodes"));this.nodes=this.compareAndMarkNodesNew(o,oe),localStorage.setItem("nodes",JSON.stringify([])),localStorage.removeItem("nodes"),localStorage.setItem("nodes",JSON.stringify(i.nodes))}else localStorage.setItem("nodes",JSON.stringify(i.nodes));this.nodes=this.randomiseNodePositions(this.nodes,u,l);const d=this.links.map(({linkIndex:oe,lineStyle:tt,targetArrow:dt,sourceArrow:xe,relationships:He})=>He.map(wt=>({linkIndex:oe,parentLineStyle:tt,parentSourceArrow:xe,parentTargetArrow:dt,...wt})));d.map(oe=>{oe.map((tt,dt)=>{tt.dy=20+15*dt})}),this.links=d.reduce((oe,tt)=>oe.concat(tt),[]),Xt("svg").append("g");const h=n.select("svg g");let g=Ry(Xt("svg").node());const m=()=>{const dt=(g.k-.5)/(w.scaleExtent()[1]-.5)*200,xe=document.getElementById("zoom_level"),He=`Zoom: ${dt.toFixed(0)}%`,wt=document.getElementById("zoom_in"),Ee=document.getElementById("zoom_out"),jt=document.getElementById("zoom_reset");jt&&jt.setAttribute("disabled","true"),xe&&xe.innerHTML!==He&&(xe.innerHTML=He,xe.style.opacity="1",setTimeout(()=>{xe&&(xe.style.opacity="0")},2e3)),wt&&(200===dt?wt.setAttribute("disabled","true"):wt.removeAttribute("disabled")),Ee&&(0===dt?Ee.setAttribute("disabled","true"):Ee.removeAttribute("disabled")),jt&&(100===dt?jt.setAttribute("disabled","true"):jt.removeAttribute("disabled"))};let y;const w=E8().scaleExtent([.5,1.5]).on("start",function(){Xt(this).style("cursor",this.zoom?null:"grabbing")}).on("zoom",this.zoom?()=>{const oe=Ke.transform;h.attr("transform",`translate(${oe.x}, ${oe.y}) scale(${oe.k})`),g=oe,y=!0,m()}:null).on("end",function(){Xt(this).style("cursor","grab")});r.call(w).style("cursor","grab").on(this.zoom?null:"wheel.zoom",null).on("dblclick.zoom",null),w.filter(()=>!Ke.shiftKey),Xt("#zoom_in").on("click",function(){w.scaleBy(r.transition().duration(750),1.2),m()}),Xt("#zoom_out").on("click",function(){w.scaleBy(r.transition().duration(750),.8),m()}),Xt("#zoom_reset").on("click",function(){w.scaleTo(r.transition().duration(750),1),m()});const C=()=>{const oe=h.node().getBBox(),He=Math.min((u-60)/oe.width,(l-60)/oe.height,1),wt=-oe.x*He+(u-oe.width*He)/2,Ee=-oe.y*He+(l-oe.height*He)/2,Ht=h.selectAll(".node-wrapper").nodes().reduce((hn,jn)=>{const gr=jn.getBBox();return hn.x=Math.min(hn.x,gr.x),hn.y=Math.min(hn.y,gr.y),hn.width=Math.max(hn.width,gr.x+gr.width),hn.height=Math.max(hn.height,gr.y+gr.height),hn},{x:1/0,y:1/0,width:-1/0,height:-1/0});Ht.x*He>=0&&Ht.y*He>=0&&Ht.width*He<=u&&Ht.height*He<=l||(h.transition().duration(750).attr("transform","translate(0, 0) scale(1)"),h.transition().duration(750).attr("transform",`translate(${wt}, ${Ee}) scale(${He})`),y&&(g.x=wt,g.y=Ee,g.k=He),m())};Xt("#zoom_to_fit").on("click",C),r.on("wheel",()=>{const oe=g.k,tt=w.scaleExtent()[1],dt=w.scaleExtent()[0];(oe===tt||oe===dt)&&Ke.preventDefault()});const D=document.getElementById("select_all");Xt("#select_all").on("click",()=>{const oe=st.size();oe-No(".node-wrapper:not(.selected)").size()!==oe?(D.innerHTML='<i class="bi bi-grid"></i>',D.style.opacity="0.65",n.selectAll(".node-wrapper").classed("selected",function(He){return He.previouslySelected=He.selected,He.selected=!0}),No(".nodeText").style("fill",He=>He.selected?"blue":"#999").style("font-weight",He=>He.selected?700:400)):(D.innerHTML='<i class="bi bi-grid-fill"></i>',D.style.opacity="1",n.selectAll(".node-wrapper").classed("selected",!1),n.selectAll(".node-wrapper").classed("selected",function(He){return He.selected=He.previouslySelected=!1}),n.selectAll(".nodeText").style("font-weight",400).style("fill","#212529")),n.selectAll(".edgelabel").style("font-weight",400).style("fill","#212529")}),Xt("#toggle_selection").on("click",()=>{const oe=st.size(),tt=No(".node-wrapper.selected"),dt=No(".node-wrapper:not(.selected)"),xe=tt.size(),He=dt.size();if(xe>0){if(tt.classed("selected",function(jt){return jt.previouslySelected=jt.selected,jt.selected=!1}),dt.classed("selected",function(jt){return jt.previouslySelected=jt.selected,jt.selected=!0}),r.selectAll(".selected").size()<=2){const Ht=n.selectAll(".selected").data().filter(hn=>hn);pt.selectedNodesArray.next(Ht)}n.selectAll(".nodeText").style("fill",jt=>jt.selected?"blue":"#212529").style("font-weight",jt=>jt.selected?700:400)}else He>0&&(n.selectAll(".node-wrapper").classed("selected",function(Ee){return Ee.previouslySelected=Ee.selected,Ee.selected=!0}),n.selectAll(".nodeText").style("font-weight",700).style("fill","blue"));(xe>0?oe-xe:oe)===oe?(D.innerHTML='<i class="bi bi-grid"></i>',D.style.opacity="0.65"):(D.innerHTML='<i class="bi bi-grid-fill"></i>',D.style.opacity="1"),n.selectAll(".edgelabel").style("font-weight",400).style("fill","#212529")});const G=document.getElementById("searchButton");if(G){const oe=document.getElementById("searchInput"),tt=document.getElementById("clearButton"),dt=En=>{"Enter"===En.key&&(En.preventDefault(),Ee())};let xe=[],He=-1;const wt=()=>{No("circle.highlight-background").remove();const En=xe[He],Gs=No(".node-wrapper").filter(function(){return Xt(this).attr("id")===En.id}),Ws=Gs.node().getBBox(),vs=Ws.x+Ws.width/2,fD=Ws.y+Ws.height/2,hD=Math.max(Ws.width+30,Ws.height)/2;Gs.insert("circle",":first-child").attr("class","highlight-background").attr("fill","yellow").attr("opacity","0.3").attr("cx",vs).attr("cy",fD).transition().duration(1e3).attr("r",hD).transition().duration(1e3).attr("r",hD/4).attr("opacity","0.5").transition().duration(1e3).attr("r",hD).attr("opacity","0.3");const ede=Ry(r.node()),{k:pD}=ede,{fx:tde,fy:nde}=En,rde=Pl.translate(-tde*pD+u/2,-nde*pD+l/2).scale(pD);h.transition().duration(750).call(w.transform,rde);const ide=document.getElementById("prevButton"),ode=document.getElementById("nextButton");ide.disabled=0===He,ode.disabled=He===xe.length-1},Ee=()=>{No("circle.highlight-background").remove();const En=oe.value.toLowerCase().trim();En.length>=3?(xe=this.nodes.filter(Gs=>Gs.label.map(vs=>vs.toLowerCase()).some(vs=>vs.includes(En))||Gs.label.some(vs=>Object.values(vs).some(fD=>String(fD).toLowerCase().includes(En)))),xe.length>0?(He=0,wt()):(He=-1,jt())):(xe=[],He=-1,jt()),gr()},jt=()=>{const En=Pl.translate(0,0).scale(1);h.transition().duration(750).call(w.transform,En),m();const Gs=document.getElementById("prevButton"),Ws=document.getElementById("nextButton");Gs.disabled=!0,Ws.disabled=!0;const vs=document.getElementById("noMatchesText");""!==oe.value&&(vs.classList.add("show"),setTimeout(()=>{vs.classList.remove("show")},3e3))},Ht=()=>{He<xe.length-1&&(He++,wt())},hn=()=>{He>0&&(He--,wt())},jn=()=>{oe.value="",oe.focus(),gr(),xe=[],He=-1,No("circle.highlight-background").remove(),document.getElementById("nextButton").disabled=!0,document.getElementById("prevButton").disabled=!0},gr=()=>{tt.disabled=0===oe.value.trim().length};this.resetSearch&&(jn(),this.resetSearch=!1),oe.addEventListener("input",gr),G.addEventListener("click",Ee),tt.addEventListener("click",jn),document.getElementById("searchInput").addEventListener("keydown",dt),document.getElementById("nextButton").addEventListener("click",Ht),document.getElementById("prevButton").addEventListener("click",hn)}this.initDefinitions(r);const $=this.forceSimulation(n,{width:+r.attr("width"),height:+r.attr("height")});let fe=r.append("g"),ne=KR().on("start",()=>{this.brushing=!0,st.each(oe=>{oe.previouslySelected=this.shiftKey&&oe.selected}),n.selectAll(".edgelabel").style("font-weight",400).style("fill","#212529")}).on("brush",()=>{this.extent=Ke.selection,Ke.sourceEvent&&this.extent&&this.brushMode&&g&&(st.classed("selected",oe=>oe.selected=oe.previouslySelected^(Ke.selection[0][0]<=oe.x*g.k+g.x&&oe.x*g.k+g.x<Ke.selection[1][0]&&Ke.selection[0][1]<=oe.y*g.k+g.y&&oe.y*g.k+g.y<Ke.selection[1][1])).select(".nodeText").classed("selected",oe=>oe.selected).style("fill",oe=>oe.selected?"blue":"#999").style("font-weight",oe=>oe.selected?700:400),this.extent=Ke.selection)}).on("end",()=>{if(!Ke.sourceEvent||!this.extent||!this.gBrush)return;this.gBrush.call(ne.move,null),this.brushMode||(this.gBrush.remove(),this.gBrush=null),this.brushing=!1,st.select(".nodeText").filter(function(){return!Xt(this.parentNode).classed("selected")}).style("fill","#212529").style("font-weight",400);const oe=st.size();if(oe-No(".node-wrapper:not(.selected)").size()===oe?(D.innerHTML='<i class="bi bi-grid"></i>',D.style.opacity="0.65"):(D.innerHTML='<i class="bi bi-grid-fill"></i>',D.style.opacity="1"),st.selectAll(".selected").size()<=2){const Ee=st.selectAll(".selected").data().filter(jt=>jt);return pt.selectedNodesArray.next(Ee),Ee}pt.selectedNodesArray.next([])});Xt("body").on("keydown",()=>{ne.filter(()=>Ke.shiftKey),ne.keyModifiers(!1),16===Ke.keyCode&&(this.shiftKey=!0,this.gBrush||(this.brushMode=!0,this.gBrush=fe.append("g").attr("class","brush"),this.gBrush.call(ne)))}).on("keyup",()=>{this.shiftKey=!1,this.brushMode=!1,this.gBrush&&!this.brushing&&(this.gBrush.remove(),this.gBrush=null)});const A=this.links.filter(({source:oe,target:tt},dt,xe)=>dt===xe.findIndex(He=>He.source===oe&&He.target===tt)),ee=h.selectAll().data(A,function(oe){return oe.id});h.selectAll("line").data(ee).exit().remove();const Se=ee.join("line").style("stroke",function(oe){return"Confirmed"===oe.parentLineStyle?"#777":"#b4b4b4"}).style("stroke-opacity",".6").style("stroke-dasharray",function(oe){return"Unconfirmed"===oe.parentLineStyle?"8,5":null}).style("stroke-width","2px").attr("class","link").attr("id",function(oe){return`${oe.source?oe.source:""}_${oe.target?oe.target:""}_line`}).attr("marker-end",function(oe){return!0===oe.parentTargetArrow?"url(#arrowheadTarget)":null}).attr("marker-start",function(oe){return!0===oe.parentSourceArrow?"url(#arrowheadSource)":null});ee.append("title").text(function(oe){return oe.label});const Q=h.selectAll().data(this.links,function(oe){return oe.id});h.selectAll("path").data(Q).exit().remove();const we=Q.join("svg:path").attr("class","edgepath").attr("fill-opacity",0).attr("stroke-opacity",0).attr("id",function(oe,tt){return"edgepath"+tt}),it=h.selectAll().data(this.links,function(oe){return oe.id});h.selectAll("text").data(it).exit().remove();const Je=it.enter().append("text").attr("class","edgelabel").attr("id",function(oe){return`${oe.source?oe.source:""}_${oe.target?oe.target:""}_text`}).style("text-anchor","middle").attr("font-size",14).attr("dy",function(oe){return oe.dy});r.selectAll(".edgelabel").on("dblclick",function(){const oe=Xt(this).data();pt.dblClickLinkPayload.next(oe)}),Je.append("textPath").attr("xlink:href",function(oe,tt){return"#edgepath"+tt}).style("cursor","pointer").attr("dominant-baseline","bottom").attr("startOffset","50%").text(function(oe){return oe.label}),Je.selectAll("textPath").filter(function(oe){return oe.linkStrength}).append("tspan").style("fill","#856404").style("font-weight","700").text(" (Strong Link)"),r.selectAll(".edgelabel").on("click",function(oe){n.event.stopPropagation(),st.each(function(tt){tt.selected=!1,tt.previouslySelected=!1}),ct.classed("selected",!1),D.innerHTML='<i class="bi bi-grid-fill"></i>',D.style.opacity="1",n.selectAll(".nodeText").style("fill","#212529").style("font-weight",400),n.selectAll(".edgelabel").style("font-weight",400).style("fill","#212529"),n.select(this).style("fill","blue").style("font-weight",700),pt.selectedNodesArray.next([])}),r.selectAll(".edgelabel").on("contextmenu",function(oe){pt.selectedNodesArray.next([]),n.selectAll(".nodeText").style("fill","#212529").style("font-weight",400),n.selectAll(".edgelabel").style("font-weight",400).style("fill","#212529"),n.select(this).style("fill","blue").style("font-weight",700);const tt=Xt(this).data();pt.selectedLinkArray.next(tt)});const ct=h.selectAll().data(this.nodes,function(oe){return oe.id});h.selectAll("g").data(ct).exit().remove();const st=ct.join("g").call(n.drag().on("start",function(tt){a&&(document.getElementById("reset_graph").removeAttribute("disabled"),document.getElementById("save_graph").removeAttribute("disabled")),n.event.active||$.alphaTarget(.9).restart(),!tt.selected&&!this.shiftKey&&(st.classed("selected",function(dt){return dt.selected=dt.previouslySelected=!1}),n.selectAll(".edgelabel").style("fill","#212529").style("font-weight",400),n.selectAll(".nodeText").style("font-weight",400).style("fill","#212529")),n.select(this).classed("selected",function(dt){return tt.previouslySelected=tt.selected,tt.selected=!0}),st.filter(function(dt){return dt.selected}).each(function(dt){dt.fx=dt.x,dt.fy=dt.y})}).on("drag",function(tt){st.filter(function(dt){return dt.selected}).each(function(dt){dt.fx+=n.event.dx,dt.fy+=n.event.dy})}).on("end",function(tt){n.event.active||$.alphaTarget(.3).restart(),tt.fx=tt.x,tt.fy=tt.y,pt.saveGraphData.next(i)})).attr("class","node-wrapper").attr("id",function(oe){return oe.id}),pt=this;r.selectAll(".node-wrapper").on("dblclick",function(){const oe=Xt(this).data();pt.dblClickNodePayload.next(oe)}),r.selectAll(".node-wrapper").on("click",function(oe){if(n.event.stopPropagation(),oe.selected=!0,D.innerHTML='<i class="bi bi-grid-fill"></i>',D.style.opacity="1",n.event.ctrlKey){const tt=Xt(this),dt=tt.classed("selected");tt.classed("selected",!dt),oe.selected=!dt,oe.previouslySelected=!dt;const xe=st.size();if(xe-No(".node-wrapper:not(.selected)").size()===xe&&(D.innerHTML='<i class="bi bi-grid"></i>',D.style.opacity="0.65"),n.selectAll(".edgelabel").style("fill","#212529").style("font-weight",400),n.selectAll(".nodeText").style("font-weight",400).style("fill","#212529"),r.selectAll(".selected").selectAll(".nodeText").style("fill","blue").style("font-weight",700),r.selectAll(".selected").size()<=2){n.selectAll(".selected").attr("selected",!0).each(function(jn){jn&&(jn.selected=!0)});const hn=n.selectAll(".selected").data().filter(jn=>jn);return pt.selectedNodesArray.next(hn),hn}return null}return r.selectAll(".node-wrapper").classed("selected",!1),Xt(this).classed("selected",!0),st.each(function(tt){tt.selected=!1,tt.previouslySelected=!1}),n.selectAll(".selected").selectAll(".nodeText").style("fill","#212529"),n.selectAll(".edgelabel").style("fill","#212529"),n.selectAll(".nodeText").style("fill","#212529").style("font-weight",400),n.select(this).select(".nodeText").style("fill","blue").style("font-weight",700),pt.selectedNodesArray.next([]),null}),r.selectAll(".node-wrapper").on("contextmenu",function(oe){2!==r.selectAll(".selected").selectAll(".nodeText").size()&&(r.selectAll(".selected").classed("selected",!1),pt.selectedNodesArray.next([]),n.selectAll(".edgelabel").style("fill","#212529").style("font-weight",400),n.selectAll(".nodeText").style("fill","#212529").style("font-weight",400),n.select(this).select(".nodeText").style("fill","blue").style("font-weight",700))}),n.select("svg").on("click",()=>{st.each(function(oe){oe.selected=!1,oe.previouslySelected=!1}),ct.classed("selected",!1),n.selectAll(".selected").selectAll(".nodeText").style("fill","#212529").style("font-weight",400),n.selectAll(".selected").classed("selected",!1),n.selectAll(".edgelabel").style("fill","#212529").style("font-weight",400),pt.selectedNodesArray.next([]),D.innerHTML='<i class="bi bi-grid-fill"></i>',D.style.opacity="1"}),st.append("image").attr("xlink:href",function(oe){return oe.icon}).attr("x",-15).attr("y",-60).attr("class",function(oe){return`${oe.id?oe.id:""}_image`}).attr("id",function(oe){return`${oe.id?oe.id:""}`}).attr("width",32).attr("height",32).attr("class","image").style("cursor","pointer"),st.append("text").attr("id","nodeText").attr("class","nodeText").style("text-anchor","middle").style("cursor","pointer").attr("dy",-3).attr("y",-25).attr("testhook",function(oe){return`${oe.id?oe.id:""}_text`}).selectAll("tspan.text").data(oe=>oe.label).enter().append("tspan").attr("class","nodeTextTspan").text(oe=>oe).style("font-size","14px").attr("x",-10).attr("dx",10).attr("dy",15),st.filter(function(oe){return!!oe.linkStrength||null}).append("image").attr("id",function(oe){return`${oe.id?oe.id:""}_unauthImage`}).attr("width",100).attr("height",17).attr("x",-50).attr("y",function(oe){return Xt(this.parentNode).select("text").node().getBBox().height+-25}).attr("xlink:href",function(oe){return"./assets/unauthPill.png"}),st.filter(function(oe){return!!oe.newItem||null}).select("text").transition().duration(1e3).attr("fill","blue").attr("font-weight",700).attr("fill-opacity",1).transition().duration(1e3).attr("fill","blue").attr("font-weight",700).attr("fill-opacity",.1).transition().duration(1e3).attr("fill","blue").attr("font-weight",700).attr("fill-opacity",1).transition().duration(1e3).attr("fill","blue").attr("font-weight",700).attr("fill-opacity",.1).transition().duration(1e3).attr("fill","blue").attr("font-weight",700).attr("fill-opacity",1).transition().duration(1e3).attr("fill","#212529").attr("font-weight",400).attr("fill-opacity",1).on("end",function(){return Xt(this).call(n.transition)}),st.filter(function(oe){return!!oe.newItem||null}).select("image").transition().duration(1e3).attr("width",45).attr("height",45).transition().duration(1e3).attr("width",32).attr("height",32).transition().duration(1e3).attr("width",45).attr("height",45).transition().duration(1e3).attr("width",32).attr("height",32).transition().duration(1e3).attr("width",45).attr("height",45).transition().duration(1e3).attr("width",32).attr("height",32).on("end",function(){return Xt(this).call(G1)}),this.nodes=this.removeNewItem(this.nodes),st.append("title").text(function(oe){return oe.label});let tn=0,Gn=!1;$.nodes(this.nodes).on("tick",()=>{this.zoomToFit&&tn>=30&&!Gn?($.stop(),C(),Gn=!0):(this.ticked(Se,st,we),tn++)}),$.force("link").links(this.links),pt.saveGraphData.next(i)}resetGraph(n,r,i,o){this.resetSearch=!0,this.nodes=[],this.links=[],this.update(n,r,i,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var lD=B(1060),C8=function(e){return e.LEFT_TO_RIGHT="LR",e.RIGHT_TO_LEFT="RL",e.TOP_TO_BOTTOM="TB",e.BOTTOM_TO_TOP="BT",e}(C8||{}),D8=function(e){return e.CENTER="C",e.UP_LEFT="UL",e.UP_RIGHT="UR",e.DOWN_LEFT="DL",e.DOWN_RIGHT="DR",e}(D8||{});let hle=(()=>{class e{defaultSettings={orientation:C8.LEFT_TO_RIGHT,marginX:70,marginY:70,edgePadding:200,rankPadding:300,nodePadding:100,curveDistance:20,multigraph:!0,compound:!0,align:D8.UP_RIGHT,acyclicer:void 0,ranker:"network-simplex"};dagreGraph;dagreNodes;dagreEdges;renderLayout(n){this.createDagreGraph(n),lD.layout(this.dagreGraph);for(const r in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[r],o=n.nodes.find(s=>s.id===i.id);null===o.fx&&null===o.fy&&n.links.some(a=>a.source===i.id||a.target===i.id)&&(o.fx=i.x,o.fy=i.y),o.dimension={width:i.width,height:i.height}}return n}initRenderLayout(n){this.createDagreGraph(n),lD.layout(this.dagreGraph);let r=1/0;for(const i in this.dagreGraph._nodes){const o=this.dagreGraph._nodes[i],s=n.nodes.find(c=>c.id===o.id);n.links.some(c=>c.source===o.id||c.target===o.id)?(s.fx=o.x,s.fy=o.y,r=Math.min(r,o.y-this.defaultSettings.marginY)):(s.fx=null,s.fy=null),s.dimension={width:o.width,height:o.height}}if(r!==1/0)for(const i of n.nodes)null!==i.fy&&(i.fy-=r);return n}createDagreGraph(n){const r=Object.assign({},this.defaultSettings);this.dagreGraph=new lD.graphlib.Graph({compound:r.compound,multigraph:r.multigraph}),this.dagreGraph.setGraph({rankdir:r.orientation,marginx:r.marginX,marginy:r.marginY,edgesep:r.edgePadding,ranksep:r.rankPadding,nodesep:r.nodePadding,align:r.align,acyclicer:r.acyclicer,ranker:r.ranker,multigraph:r.multigraph,compound:r.compound}),this.dagreNodes=n.nodes.map(i=>{const o=Object.assign({},i);return o.width=20,o.height=20,o.x=i.fx,o.y=i.fy,o}),this.dagreEdges=n.links.map(i=>Object.assign({},i));for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)r.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.linkId):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}static \u0275fac=function(r){return new(r||e)};static \u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ple=["editNodeContextMenu"],gle=["findCreateNodesContextMenu"],mle=["createEditLinkContextMenu"],vle=["editLinkLabelContextMenu"];function yle(e,t){1&e&&_t(0," Edit Node... ")}function _le(e,t){1&e&&_t(0," Search Nodes... ")}function ble(e,t){1&e&&_t(0," Create Node... ")}function wle(e,t){1&e&&_t(0," Create Link... ")}function Ele(e,t){1&e&&_t(0," Edit Links... ")}function Cle(e,t){1&e&&_t(0," Edit Link label... ")}let M8=(()=>{class e{editNodeContextMenu;findCreateNodesContextMenu;createEditLinkContextMenu;editLinkLabelContextMenu;editNodeContextMenuEvent=new Pt;findCreateNodesContextMenuEvent=new Pt;createLinkContextMenuEvent=new Pt;editLinkLabelContextMenuEvent=new Pt;editLinksContextMenuEvent=new Pt;currentMatchingLink=null;editNode(){this.editNodeContextMenuEvent.emit(!0)}findNodes(){this.findCreateNodesContextMenuEvent.emit("findNodes")}createNode(){this.findCreateNodesContextMenuEvent.emit("createNode")}createLink(){this.createLinkContextMenuEvent.emit(!0)}editLinkLabel(){this.editLinkLabelContextMenuEvent.emit(!0)}editLinks(){this.currentMatchingLink?this.editLinksContextMenuEvent.emit({open:!0,data:this.currentMatchingLink}):console.warn("No matching link to edit.")}linksExist=n=>{const r=this.checkLinkBetweenSelectedNodes(n);return r?(this.currentMatchingLink=r,!0):(this.currentMatchingLink=null,!1)};linksDoNotExist=n=>!this.checkLinkBetweenSelectedNodes(n);checkLinkBetweenSelectedNodes(n){if(!n||!n.selectedNodes)return console.warn("Payload or selectedNodes is undefined."),null;const r=n.selectedNodes,o=r[0].id,s=r[1].id;return n.graphData.links.find(c=>c.source===o&&c.target===s||c.source===s&&c.target===o)||null}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ze({type:e,selectors:[["app-context-menus"]],viewQuery:function(r,i){if(1&r&&(ii(ple,5),ii(gle,5),ii(mle,5),ii(vle,5)),2&r){let o;Wr(o=qr())&&(i.editNodeContextMenu=o.first),Wr(o=qr())&&(i.findCreateNodesContextMenu=o.first),Wr(o=qr())&&(i.createEditLinkContextMenu=o.first),Wr(o=qr())&&(i.editLinkLabelContextMenu=o.first)}},outputs:{editNodeContextMenuEvent:"editNodeContextMenuEvent",findCreateNodesContextMenuEvent:"findCreateNodesContextMenuEvent",createLinkContextMenuEvent:"createLinkContextMenuEvent",editLinkLabelContextMenuEvent:"editLinkLabelContextMenuEvent",editLinksContextMenuEvent:"editLinksContextMenuEvent"},decls:14,vars:2,consts:[["editNodeContextMenu",""],["findCreateNodesContextMenu",""],["createEditLinkContextMenu",""],["editLinkLabelContextMenu",""],["contextMenuItem","",3,"execute"],["contextMenuItem","",3,"execute","visible"]],template:function(r,i){if(1&r){const o=Ci();Te(0,"context-menu",null,0),qn(2,yle,1,0,"ng-template",4),Dt("execute",function(){return It(o),At(i.editNode())}),$e(),Te(3,"context-menu",null,1),qn(5,_le,1,0,"ng-template",4),Dt("execute",function(){return It(o),At(i.findNodes())}),qn(6,ble,1,0,"ng-template",4),Dt("execute",function(){return It(o),At(i.createNode())}),$e(),Te(7,"context-menu",null,2),qn(9,wle,1,0,"ng-template",5),Dt("execute",function(){return It(o),At(i.createLink())}),qn(10,Ele,1,0,"ng-template",5),Dt("execute",function(){return It(o),At(i.editLinks())}),$e(),Te(11,"context-menu",null,3),qn(13,Cle,1,0,"ng-template",4),Dt("execute",function(){return It(o),At(i.editLinkLabel())}),$e()}2&r&&(Bt(9),Rt("visible",i.linksDoNotExist),Bt(),Rt("visible",i.linksExist))},dependencies:[QZ,UO],encapsulation:2})}return e})();class Dle{fb;createLinkForm;createNodeForm;constructor(t){this.fb=t,this.createLinkForm=this.fb.group({lineStyle:["Unconfirmed",Fs.required],sourceArrow:[!1],targetArrow:[!1],label:this.fb.array([],Fs.required)}),this.createNodeForm=this.fb.group({id:"",label:this.fb.array([],Fs.required),icon:["",Fs.required],fx:[null],fy:[null],linkStrength:[!1]})}get labelArray(){return this.createLinkForm.get("label")}get nodeLabelArray(){return this.createNodeForm.get("label")}addLabel(){const t=this.fb.group({label:["",Fs.required],linkStrength:[!1]});this.labelArray.push(t)}addNodeLabel(){const t=this.fb.group({label:["",Fs.required]});this.nodeLabelArray.push(t)}removeLabel(t){this.labelArray.length>0&&this.labelArray.removeAt(t)}removeNodeLabel(t){this.nodeLabelArray.length>0&&this.nodeLabelArray.removeAt(t)}resetForm(){this.createLinkForm.reset({lineStyle:"Unconfirmed",sourceArrow:!1,targetArrow:!1,label:this.fb.array([])}),this.labelArray.clear()}resetNodeForm(){this.createNodeForm.reset({label:this.fb.array([]),icon:"",linkStrength:!1}),this.nodeLabelArray.clear()}populateEditLinkForm(t){this.createLinkForm.patchValue({lineStyle:t.lineStyle,sourceArrow:t.sourceArrow,targetArrow:t.targetArrow}),t.relationships&&Array.isArray(t.relationships)&&t.relationships.forEach(n=>{const r=this.fb.group({linkIndex:[n.linkIndex,Fs.required],label:[n.label,Fs.required],linkStrength:[n.linkStrength]});this.labelArray.push(r)})}populateEditNodeForm(t){this.createNodeForm.patchValue({id:t.id,icon:t.icon,fx:t.fx,fy:t.fy,linkStrength:t.linkStrength}),this.createNodeForm.setControl("label",this.fb.array(t.label.map(n=>this.fb.group({label:[n,Fs.required]}))))}}const Mle=["editNodeModal"],xle=["createNodeModal"],Sle=["createLinkModal"],Ile=["editLinksModal"];function Ale(e,t){if(1&e){const n=Ci();Te(0,"div",24)(1,"div",25),un(2,"input",26),Te(3,"button",27),Dt("click",function(){const i=It(n).index;return At(Ft(2).removeNodeLabel(i))}),_t(4,"Remove"),$e()()()}if(2&e){const n=t.index;Rt("formGroupName",n),Bt(2),Rt("id","node-label-"+n)}}function Tle(e,t){if(1&e){const n=Ci();Te(0,"div",4)(1,"h4",5),_t(2,"Edit Node"),$e(),Te(3,"button",6),Dt("click",function(){return It(n),At(Ft().closeModal("modalRef"))}),Te(4,"span",7),_t(5,"\xd7"),$e()()(),Te(6,"div",8)(7,"form",9)(8,"div",10)(9,"label",11),_t(10,"Icon URL"),$e(),un(11,"input",12),$e(),Te(12,"div",10)(13,"label",13),_t(14,"Labels"),$e(),Te(15,"div",14),qn(16,Ale,5,2,"div",15),$e(),Te(17,"button",16),Dt("click",function(){return It(n),At(Ft().addNodeLabel())}),_t(18,"Add Label"),$e()(),Te(19,"div",17),un(20,"input",18),Te(21,"label",19),_t(22,"Strong Link?"),$e()()()(),Te(23,"div",20)(24,"button",21),Dt("click",function(){return It(n),At(Ft().closeModal("modalRef"))}),_t(25,"Cancel"),$e(),Te(26,"button",22),Dt("click",function(){return It(n),At(Ft().createNode())}),_t(27,"Save Changes"),$e(),Te(28,"button",23),Dt("click",function(){return It(n),At(Ft().deleteNode())}),_t(29,"Delete Node"),$e()()}if(2&e){const n=Ft();Bt(7),Rt("formGroup",n.createNodeForm),Bt(9),Rt("ngForOf",n.nodeLabelArray.controls),Bt(10),Rt("disabled",!n.createNodeForm.valid)}}function kle(e,t){if(1&e){const n=Ci();Te(0,"div",24)(1,"div",25),un(2,"input",26),Te(3,"button",27),Dt("click",function(){const i=It(n).index;return At(Ft(2).removeNodeLabel(i))}),_t(4,"Remove"),$e()()()}if(2&e){const n=t.index;Rt("formGroupName",n),Bt(2),Rt("id","node-label-"+n)}}function Nle(e,t){if(1&e){const n=Ci();Te(0,"div",4)(1,"h4",5),_t(2,"Create Node"),$e(),Te(3,"button",6),Dt("click",function(){return It(n),At(Ft().closeModal("modalRef"))}),Te(4,"span",7),_t(5,"\xd7"),$e()()(),Te(6,"div",8)(7,"form",9)(8,"div",10)(9,"label",11),_t(10,"Icon URL"),$e(),un(11,"input",12),$e(),Te(12,"div",10)(13,"label",13),_t(14,"Labels"),$e(),Te(15,"div",14),qn(16,kle,5,2,"div",15),$e(),Te(17,"button",16),Dt("click",function(){return It(n),At(Ft().addNodeLabel())}),_t(18,"Add Label"),$e()(),Te(19,"div",17),un(20,"input",18),Te(21,"label",19),_t(22,"Strong Link?"),$e()()()(),Te(23,"div",20)(24,"button",21),Dt("click",function(){return It(n),At(Ft().closeModal("modalRef"))}),_t(25,"Cancel"),$e(),Te(26,"button",22),Dt("click",function(){return It(n),At(Ft().createNode())}),_t(27,"Create Node"),$e()()}if(2&e){const n=Ft();Bt(7),Rt("formGroup",n.createNodeForm),Bt(9),Rt("ngForOf",n.nodeLabelArray.controls),Bt(10),Rt("disabled",!n.createNodeForm.valid)}}function Ole(e,t){if(1&e){const n=Ci();Te(0,"div",24)(1,"div",25),un(2,"input",36),Te(3,"button",27),Dt("click",function(){const i=It(n).index;return At(Ft(2).removeLabel(i))}),_t(4,"Remove"),$e()(),Te(5,"div",17),un(6,"input",37),Te(7,"label",38),_t(8,"Strong link?"),$e()()()}if(2&e){const n=t.index;Rt("formGroupName",n),Bt(2),Rt("id","label-"+n),Bt(4),Rt("id","linkStrength-"+n),Bt(),Rt("for","linkStrength-"+n)}}function Rle(e,t){if(1&e){const n=Ci();Te(0,"div",4)(1,"h4",5),_t(2,"Edit Links"),$e(),Te(3,"button",6),Dt("click",function(){return It(n),At(Ft().closeModal("modalRef"))}),Te(4,"span",7),_t(5,"\xd7"),$e()()(),Te(6,"div",8)(7,"form",9)(8,"div",10)(9,"label",28),_t(10,"Line Style"),$e(),Te(11,"select",29)(12,"option",30),_t(13,"Confirmed"),$e(),Te(14,"option",31),_t(15,"Unconfirmed"),$e()()(),Te(16,"div",17),un(17,"input",32),Te(18,"label",33),_t(19,"Source Arrow"),$e()(),Te(20,"div",17),un(21,"input",34),Te(22,"label",35),_t(23,"Target Arrow"),$e()(),Te(24,"div",10)(25,"label",13),_t(26,"Labels"),$e(),Te(27,"div",14),qn(28,Ole,9,4,"div",15),$e(),Te(29,"button",16),Dt("click",function(){return It(n),At(Ft().addLabel())}),_t(30,"Add Label"),$e()()()(),Te(31,"div",20)(32,"button",21),Dt("click",function(){return It(n),At(Ft().closeModal("modalRef"))}),_t(33,"Cancel"),$e(),Te(34,"button",22),Dt("click",function(){return It(n),At(Ft().createLink())}),_t(35,"Save Changes"),$e(),Te(36,"button",23),Dt("click",function(){return It(n),At(Ft().deleteLink())}),_t(37,"Delete Link"),$e()()}if(2&e){const n=Ft();Bt(7),Rt("formGroup",n.createLinkForm),Bt(21),Rt("ngForOf",n.labelArray.controls),Bt(6),Rt("disabled",!n.createLinkForm.valid)}}function Ple(e,t){if(1&e){const n=Ci();Te(0,"div",24)(1,"div",25),un(2,"input",36),Te(3,"button",27),Dt("click",function(){const i=It(n).index;return At(Ft(2).removeLabel(i))}),_t(4,"Remove"),$e()(),Te(5,"div",17),un(6,"input",37),Te(7,"label",38),_t(8,"Strong Link?"),$e()()()}if(2&e){const n=t.index;Rt("formGroupName",n),Bt(2),Rt("id","label-"+n),Bt(4),Rt("id","linkStrength-"+n),Bt(),Rt("for","linkStrength-"+n)}}function Fle(e,t){if(1&e){const n=Ci();Te(0,"div",4)(1,"h4",5),_t(2,"Create Link"),$e(),Te(3,"button",6),Dt("click",function(){return It(n),At(Ft().closeModal("modalRef"))}),Te(4,"span",7),_t(5,"\xd7"),$e()()(),Te(6,"div",8)(7,"form",9)(8,"div",10)(9,"label",28),_t(10,"Line Style"),$e(),Te(11,"select",29)(12,"option",30),_t(13,"Confirmed"),$e(),Te(14,"option",31),_t(15,"Unconfirmed"),$e()()(),Te(16,"div",17),un(17,"input",32),Te(18,"label",33),_t(19,"Source Arrow"),$e()(),Te(20,"div",17),un(21,"input",34),Te(22,"label",35),_t(23,"Target Arrow"),$e()(),Te(24,"div",10)(25,"label",13),_t(26,"Labels"),$e(),Te(27,"div",14),qn(28,Ple,9,4,"div",15),$e(),Te(29,"button",16),Dt("click",function(){return It(n),At(Ft().addLabel())}),_t(30,"Add Label"),$e()()()(),Te(31,"div",20)(32,"button",21),Dt("click",function(){return It(n),At(Ft().closeModal("modalRef"))}),_t(33,"Cancel"),$e(),Te(34,"button",22),Dt("click",function(){return It(n),At(Ft().createLink())}),_t(35,"Create Link"),$e()()}if(2&e){const n=Ft();Bt(7),Rt("formGroup",n.createLinkForm),Bt(21),Rt("ngForOf",n.labelArray.controls),Bt(6),Rt("disabled",!n.createLinkForm.valid)}}let x8=(()=>{class e extends Dle{modalService;editNodeData;editLinksData;closeModalEvent=new Pt;createLinkEvent=new Pt;createNodeEvent=new Pt;deleteLinkEvent=new Pt;deleteNodeEvent=new Pt;editNodeModal;createNodeModal;createLinkModal;editLinksModal;modalRef;defaultModalConfig={class:"modal-xl"};constructor(n,r){super(r),this.modalService=n}ngOnChanges(n){n.editLinksData&&this.editLinksData&&(this.resetForm(),this.populateEditLinkForm(this.editLinksData)),n.editNodeData&&this.editNodeData&&(this.resetNodeForm(),this.populateEditNodeForm(this.editNodeData))}openModal(n){if(!n)return console.error("Template is required to open a modal."),null;n===this.editLinksModal&&this.editLinksData?(this.resetForm(),this.populateEditLinkForm(this.editLinksData)):n===this.createLinkModal&&this.resetForm(),this.modalRef=this.modalService.show(n,this.defaultModalConfig)}closeModal(n){this[n]&&this[n].hide()}createLink(){this.createLinkForm.valid&&(this.createLinkEvent.emit(this.createLinkForm.value),this.resetForm(),this.closeModal("modalRef"))}createNode(){if(this.createNodeForm.valid){const n=this.createNodeForm.value,r={id:n.id,label:n.label.map(i=>i.label),icon:n.icon,fx:n.fx,fy:n.fy,linkStrength:n.linkStrength};this.createNodeEvent.emit(r),this.resetNodeForm(),this.closeModal("modalRef")}}deleteNode(){this.deleteNodeEvent.emit(!0),this.resetNodeForm(),this.closeModal("modalRef")}deleteLink(){this.deleteLinkEvent.emit(this.editLinksData.linkId),this.resetForm(),this.closeModal("modalRef")}static \u0275fac=function(r){return new(r||e)(Ie(e1),Ie(Uq))};static \u0275cmp=ze({type:e,selectors:[["app-modals"]],viewQuery:function(r,i){if(1&r&&(ii(Mle,5),ii(xle,5),ii(Sle,5),ii(Ile,5)),2&r){let o;Wr(o=qr())&&(i.editNodeModal=o.first),Wr(o=qr())&&(i.createNodeModal=o.first),Wr(o=qr())&&(i.createLinkModal=o.first),Wr(o=qr())&&(i.editLinksModal=o.first)}},inputs:{editNodeData:"editNodeData",editLinksData:"editLinksData"},outputs:{closeModalEvent:"closeModalEvent",createLinkEvent:"createLinkEvent",createNodeEvent:"createNodeEvent",deleteLinkEvent:"deleteLinkEvent",deleteNodeEvent:"deleteNodeEvent"},features:[_n,go],decls:8,vars:0,consts:[["editNodeModal",""],["createNodeModal",""],["editLinksModal",""],["createLinkModal",""],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","icon"],["type","text","id","icon","formControlName","icon","placeholder","Icon URL",1,"form-control"],["for","label"],["formArrayName","label"],["class","d-flex flex-column align-items-start",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","mt-2",3,"click"],[1,"form-group","form-check"],["type","checkbox","id","nodeLinkStrength","formControlName","linkStrength",1,"form-check-input"],["for","nodeLinkStrength"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["type","button",1,"btn","btn-danger",3,"click"],[1,"d-flex","flex-column","align-items-start",3,"formGroupName"],[1,"d-flex","align-items-center","w-100"],["formControlName","label","placeholder","Label",1,"form-control","mb-2",3,"id"],["type","button",1,"btn","btn-danger","ml-2",3,"click"],["for","lineStyle"],["id","lineStyle","formControlName","lineStyle",1,"form-control"],["value","Confirmed"],["value","Unconfirmed"],["type","checkbox","id","sourceArrow","formControlName","sourceArrow",1,"form-check-input"],["for","sourceArrow"],["type","checkbox","id","targetArrow","formControlName","targetArrow",1,"form-check-input"],["for","targetArrow"],["formControlName","label","placeholder","Label",1,"form-control",3,"id"],["type","checkbox","formControlName","linkStrength",1,"form-check-input",3,"id"],[3,"for"]],template:function(r,i){1&r&&qn(0,Tle,30,3,"ng-template",null,0,cf)(2,Nle,28,3,"ng-template",null,1,cf)(4,Rle,38,3,"ng-template",null,2,cf)(6,Fle,36,3,"ng-template",null,3,cf)},dependencies:[Wk,p2,w2,C2,em,ww,gm,QN,JN,fm,Pw,hm,pm],encapsulation:2})}return e})();var dD=B(5505);const S8=Symbol.for("Dexie"),Fy=globalThis[S8]||(globalThis[S8]=dD);if(dD.semVer!==Fy.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${dD.semVer} and ${Fy.semVer}`);const Lle=Fy;let Vle=(()=>{class e extends Lle{graphData;constructor(){super("GraphDatabase"),this.version(1).stores({graphData:"dataId"}),this.graphData=this.table("graphData")}saveGraphData(n){var r=this;return V(function*(){yield r.graphData.put(n)})()}getGraphData(n){var r=this;return V(function*(){return yield r.graphData.get(n)})()}deleteGraphData(n){var r=this;return V(function*(){yield r.graphData.delete(n)})()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=nt({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ble=["svgId"],jle=(e,t)=>({searchButtonActive:e,searchButtonInactive:t}),Hle=e=>({"fade-out":e});function Ule(e,t){1&e&&(Te(0,"button",40),un(1,"i",41),$e())}function zle(e,t){1&e&&(Te(0,"button",42),un(1,"i",43),$e())}function $le(e,t){1&e&&(Te(0,"button",44),un(1,"i",12),$e())}function Gle(e,t){1&e&&(Te(0,"button",45),un(1,"i",46),$e())}function Wle(e,t){1&e&&(Te(0,"button",47),un(1,"i",48),$e())}function qle(e,t){1&e&&(Te(0,"button",49),un(1,"i",50),$e())}function Yle(e,t){if(1&e){const n=Ci();Te(0,"div")(1,"div",10)(2,"button",11),Dt("click",function(){return It(n),At(Ft().newData())}),un(3,"i",12),$e(),Te(4,"div",13)(5,"button",14),un(6,"i",15),$e(),Te(7,"button",16),Dt("click",function(){return It(n),At(Ft().applyLayout())}),un(8,"i",17),$e(),Te(9,"button",18),Dt("click",function(){return It(n),At(Ft().onConfirmSave())}),un(10,"i",19),$e(),Te(11,"button",20),Dt("click",function(){return It(n),At(Ft().resetGraph())}),un(12,"i",21),$e(),qn(13,Ule,2,0,"button",22)(14,zle,2,0,"button",23)(15,$le,2,0,"button",24)(16,Gle,2,0,"button",25)(17,Wle,2,0,"button",26)(18,qle,2,0,"button",27),Te(19,"button",28),Dt("click",function(){return It(n),At(Ft().toggleSearch())}),un(20,"i",29),$e()()(),Te(21,"div",30)(22,"div",31)(23,"button",32),un(24,"i",33),$e(),Te(25,"button",34),un(26,"i",35),$e()(),un(27,"input",36),Te(28,"div",37)(29,"button",38),un(30,"i",29),$e()(),Te(31,"div",37)(32,"button",39),_t(33," clear "),$e()()()()}if(2&e){const n=Ft();Bt(13),Rt("ngIf",n.zoom),Bt(),Rt("ngIf",n.zoom),Bt(),Rt("ngIf",n.zoom),Bt(),Rt("ngIf",n.zoom),Bt(),Rt("ngIf",n.zoom),Bt(),Rt("ngIf",n.zoom),Bt(),Rt("ngClass",fT(8,jle,n.showSearch,!n.showSearch)),Bt(2),Rt("hidden",!n.showSearch)}}function Kle(e,t){1&e&&(Te(0,"div",51),un(1,"span",52),$e())}function Zle(e,t){if(1&e&&(Te(0,"div",53)(1,"div",54),_t(2," Saved "),un(3,"i",55),$e()()),2&e){const n=Ft();Bt(),Rt("ngClass",Eg(1,Hle,!n.showConfirmation))}}let Xle=(()=>{class e{visualiserGraphService;contextMenuService;dagreNodesOnlyLayout;dexieService;graphElement;contextMenu;saveGraphDataEvent=new Pt;selectedNodesArray;selectedNodeId;selectedLinkArray;saveGraphData;width;showSearch=!1;savedGraphData;showConfirmation=!1;buttonBarRightPosition;editLinksData=null;editNodeData=null;readOnly=!1;zoom=!0;controls=!0;zoomToFit=!1;modalsComponent;constructor(n,r,i,o){this.visualiserGraphService=n,this.contextMenuService=r,this.dagreNodesOnlyLayout=i,this.dexieService=o}set data(n){var r=this;n&&n.dataId?(this.savedGraphData=n,setTimeout(V(function*(){r.dagreNodesOnlyLayout.renderLayout(n),yield r.dexieService.saveGraphData(n),r.visualiserGraphService.update(n,r.graphElement.nativeElement,r.zoom,r.zoomToFit)}),500)):console.error("Invalid data input")}ngOnInit(){this.buttonBarRightPosition="0",this.updateWidth(),this.visualiserGraphService.selectedNodesArray.subscribe(n=>{this.selectedNodesArray=n}),this.visualiserGraphService.dblClickNodePayload.subscribe(n=>{this.selectedNodeId=n[0].id,this.modalsComponent?this.modalsComponent.openModal(this.modalsComponent.editNodeModal):console.error("Modal component is not available.")}),this.visualiserGraphService.dblClickLinkPayload.subscribe(n=>{this.selectedLinkArray=n,this.onEditLinkLabel()}),this.visualiserGraphService.selectedLinkArray.subscribe(n=>{this.selectedLinkArray=n})}toggleSearch(){this.showSearch=!this.showSearch,this.showSearch&&setTimeout(()=>{const n=document.querySelector("#searchInput");n?(n.focus(),n.setSelectionRange(0,0)):console.error("Search input not found.")},0)}onResize(n){this.updateWidth()}updateWidth(){this.width=document.getElementById("pageId").offsetWidth}visualiserContextMenus(n){var r=this;return V(function*(){if(r.readOnly)return;if(!r.savedGraphData)return void console.error("savedGraphData is not set");let i,o;const s=n.target,a=s.localName,c=s.parentNode.id,u=s.parentNode.__data__;r.selectedNodeId=s.id||u&&u.id,2===r.selectedNodesArray?.length?(i=r.contextMenu.createEditLinkContextMenu,o={graphData:r.savedGraphData,selectedNodes:r.selectedNodesArray}):"image"===a||"nodeText"===c?(i=r.contextMenu.editNodeContextMenu,o=r.selectedNodeId):"textPath"===a?(i=r.contextMenu.editLinkLabelContextMenu,o=r.selectedLinkArray):"svg"===a&&(i=r.contextMenu.findCreateNodesContextMenu,o="item"),r.contextMenuService.show.next({contextMenu:i,event:n,item:o}),n.stopPropagation(),n.preventDefault();const l=yield r.dexieService.getGraphData(r.savedGraphData.dataId);2===r.selectedNodesArray?.length&&(o.graphData=l)})()}findCreateNodesEvent(n){"findNodes"===n?this.toggleSearch():"createNode"===n&&this.opencreateNodeModal()}opencreateNodeModal(){this.modalsComponent.openModal(this.modalsComponent.createNodeModal)}onConfirmSave(){var n=this;return V(function*(){var r;n.savedGraphData?bootbox.confirm({title:"Save Graph",centerVertical:!0,message:"Are you sure you want to save the graph?",buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},callback:(r=V(function*(i){i&&(n.visualiserGraphService.saveGraphData.subscribe(o=>{n.saveGraphData=o}),n.saveGraphDataEvent.emit(n.saveGraphData),n.disableButtons(!0),n.data=n.saveGraphData,n.showConfirmationMessage())}),function(o){return r.apply(this,arguments)})}):console.error("savedGraphData is not set")})()}onCreateNode(n){var r=this;return V(function*(){if(!r.savedGraphData)return void console.error("savedGraphData is not set");const i=yield r.dexieService.getGraphData(r.savedGraphData.dataId),o=i.nodes.findIndex(s=>s.id===n.id);if(-1===o){let s;do{s=crypto.getRandomValues(new Uint32Array(1))[0]}while(i.nodes.some(a=>a.id===s.toString()));n.id=s.toString()}var s;bootbox.confirm({title:"Creating node",centerVertical:!0,message:"Creating a node will save graph data, are you sure?",buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},callback:(s=V(function*(a){a&&(-1!==o?i.nodes[o]=n:i.nodes.push(n),r.data=i,r.saveGraphDataEvent.emit(i))}),function(c){return s.apply(this,arguments)})})})()}onCreateLink(n){var r=this;return V(function*(){var d;if(r.savedGraphData)if(2===r.selectedNodesArray.length){const i=r.selectedNodesArray[0],o=r.selectedNodesArray[1],s=yield r.dexieService.getGraphData(r.savedGraphData.dataId),a=s.links.reduce((d,h)=>d.concat(h.relationships.map(g=>g.linkIndex)),[]);let c=Math.max(...a,0)+1;const u=n.label.map(d=>({linkIndex:void 0!==d.linkIndex?d.linkIndex:c++,label:d.label,lineStyle:n.lineStyle,source:i.id,sourceArrow:n.sourceArrow,target:o.id,targetArrow:n.targetArrow,linkStrength:d.linkStrength})),l={source:i.id,target:o.id,label:n.label.map(d=>d.label),lineStyle:n.lineStyle,sourceArrow:n.sourceArrow,targetArrow:n.targetArrow,linkId:`${i.id}_${o.id}`,relationships:u};bootbox.confirm({title:"Creating link",centerVertical:!0,message:"Creating a link will save graph data, are you sure?",buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},callback:(d=V(function*(h){if(h){const g=s.links.findIndex(m=>m.linkId===`${i.id}_${o.id}`||m.linkId===`${o.id}_${i.id}`);-1!==g?s.links[g]=l:s.links.push(l),r.data=s,r.saveGraphDataEvent.emit(s)}}),function(g){return d.apply(this,arguments)})})}else console.error("Please select exactly two nodes to create a link.");else console.error("savedGraphData is not set")})()}onDeleteNode(){var n=this;return V(function*(){var r;n.savedGraphData?bootbox.confirm({title:"Deleting node",centerVertical:!0,message:"Deleting a node will save graph data, are you sure? This will also delete all links associated with this node.",buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},callback:(r=V(function*(i){if(i){const o=yield n.dexieService.getGraphData(n.savedGraphData.dataId);o.nodes=o.nodes.filter(s=>s.id!==n.selectedNodeId),o.links=o.links.filter(s=>s.source!==n.selectedNodeId&&s.target!==n.selectedNodeId),n.data=o,n.saveGraphDataEvent.emit(o)}}),function(o){return r.apply(this,arguments)})}):console.error("savedGraphData is not set")})()}onDeleteLink(n){var r=this;return V(function*(){var i;r.savedGraphData?bootbox.confirm({title:"Deleting link",centerVertical:!0,message:"Deleting a link will save graph data, are you sure?",buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},callback:(i=V(function*(o){if(o){const s=yield r.dexieService.getGraphData(r.savedGraphData.dataId),a=s.links.findIndex(c=>c.linkId===n);-1!==a&&(s.links.splice(a,1),r.data=s,r.saveGraphDataEvent.emit(s))}}),function(s){return i.apply(this,arguments)})}):console.error("savedGraphData is not set")})()}onEditLinkLabel(){var n=this;return V(function*(){var r;n.savedGraphData?bootbox.prompt({title:"Editing a link label will save graph data, are you sure?",centerVertical:!0,value:n.selectedLinkArray[0].label,callback:(r=V(function*(i){if(i){n.selectedLinkArray[0].label=i;const o=yield n.dexieService.getGraphData(n.savedGraphData.dataId),s=o.links.find(a=>a.source===n.selectedLinkArray[0].source.id&&a.target===n.selectedLinkArray[0].target.id||a.source===n.selectedLinkArray[0].target.id&&a.target===n.selectedLinkArray[0].source.id);if(s){const a=s.relationships.find(c=>c.linkIndex===n.selectedLinkArray[0].linkIndex);a&&(a.label=i),n.data=o,n.saveGraphDataEvent.emit(o)}else console.error("Link not found.")}}),function(o){return r.apply(this,arguments)})}):console.error("savedGraphData is not set")})()}handleEditLinksEvent(n){n.open&&(this.modalsComponent.openModal(this.modalsComponent.editLinksModal),this.editLinksData=n.data)}handleEditNodesEvent(n){var r=this;return V(function*(){if(n){r.modalsComponent.openModal(r.modalsComponent.editNodeModal);const i=yield r.dexieService.getGraphData(r.savedGraphData.dataId);r.editNodeData=i.nodes.find(o=>o.id===r.selectedNodeId)}})()}resetGraph(){var n=this;return V(function*(){if(!n.savedGraphData)return void console.error("savedGraphData is not set");const r=yield n.dexieService.getGraphData(n.savedGraphData.dataId);n.disableButtons(!0),n.visualiserGraphService.resetGraph(r,n.graphElement.nativeElement,n.zoom,n.zoomToFit)})()}applyLayout(){var n=this;return V(function*(){if(!n.savedGraphData)return void console.error("savedGraphData is not set");const r=yield n.dexieService.getGraphData(n.savedGraphData.dataId),i=n.dagreNodesOnlyLayout.initRenderLayout(r);n.visualiserGraphService.resetGraph(i,n.graphElement.nativeElement,n.zoom,n.zoomToFit),n.enableButtons()})()}disableButtons(n){document.querySelectorAll("#save_graph, #reset_graph").forEach(r=>{r.setAttribute("disabled",String(n))})}showConfirmationMessage(){this.showConfirmation=!0,setTimeout(()=>{this.showConfirmation=!1},3e3)}enableButtons(){const n=document.getElementById("save_graph"),r=document.getElementById("reset_graph");n.removeAttribute("disabled"),r.removeAttribute("disabled")}ngAfterViewInit(){this.registerDragElement()}registerDragElement(){const n=document.getElementById("draggable");let r=0,i=0,o=0,s=0;const a=l=>{l.preventDefault(),o=l.clientX,s=l.clientY,document.onmouseup=u,document.onmousemove=c},c=l=>{this.buttonBarRightPosition=null,r=o-l.clientX,i=s-l.clientY,o=l.clientX,s=l.clientY;const h=window.innerHeight-n.offsetHeight;let g=n.offsetLeft-r,m=n.offsetTop-i;g=Math.max(0,Math.min(g,this.width-n.offsetWidth)),m=Math.max(0,Math.min(m,h)),n.style.left=`${g}px`,n.style.top=`${m}px`},u=()=>{document.onmouseup=null,document.onmousemove=null};document.getElementById(n.id+"Handle")?document.getElementById(n.id+"Handle").onmousedown=a:n.onmousedown=a}openModal(n){const r=this.modalsComponent[n];r?this.modalsComponent.openModal(r):console.error(`Modal template ${n} is not available.`)}newData(){this.data=tX}static \u0275fac=function(r){return new(r||e)(Ie(fle),Ie(u1),Ie(hle),Ie(Vle))};static \u0275cmp=ze({type:e,selectors:[["visualiser-graph"]],viewQuery:function(r,i){if(1&r&&(ii(Ble,5),ii(M8,5),ii(x8,5)),2&r){let o;Wr(o=qr())&&(i.graphElement=o.first),Wr(o=qr())&&(i.contextMenu=o.first),Wr(o=qr())&&(i.modalsComponent=o.first)}},inputs:{readOnly:"readOnly",zoom:"zoom",controls:"controls",zoomToFit:"zoomToFit",data:"data"},outputs:{saveGraphDataEvent:"saveGraphDataEvent"},decls:11,vars:9,consts:[["svgId",""],["id","pageId",1,"page",3,"resize"],["id","draggable",1,"buttonBar"],[4,"ngIf"],["id","noMatchesText",1,"noMatchesText","float-right",3,"hidden"],["class","zoomIndicator",4,"ngIf"],["class","confirmation-message-container",4,"ngIf"],[3,"editNodeContextMenuEvent","findCreateNodesContextMenuEvent","createLinkContextMenuEvent","editLinkLabelContextMenuEvent","editLinksContextMenuEvent"],[3,"createLinkEvent","createNodeEvent","deleteLinkEvent","deleteNodeEvent","editNodeData","editLinksData"],["height","780",3,"contextmenu"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-secondary","mr-3",3,"click"],[1,"bi","bi-arrow-counterclockwise"],["role","group","aria-label","Controls",1,"btn-group"],["type","button","id","draggableHandle","data-toggle","tooltip","data-placement","top","title","Move toolbar",1,"btn","btn-light"],[1,"bi","bi-grip-vertical"],["type","button","id","dagre_layout","data-toggle","tooltip","data-placement","top","title","Dagre layout",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-diagram-3"],["type","button","id","save_graph","data-toggle","tooltip","data-placement","top","title","Save data",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-save"],["type","button","id","reset_graph","data-toggle","tooltip","data-placement","top","title","Reset data",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-skip-backward"],["type","button","class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","Zoom in","id","zoom_in",4,"ngIf"],["type","button","class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","Zoom out","id","zoom_out",4,"ngIf"],["type","button","class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","Zoom reset","id","zoom_reset","disabled","true",4,"ngIf"],["type","button","class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","Zoom to fit","id","zoom_to_fit",4,"ngIf"],["type","button","class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","Select all","id","select_all",4,"ngIf"],["type","button","class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","Invert selection","id","toggle_selection",4,"ngIf"],["type","button","data-toggle","tooltip","data-placement","top","title","Toggle search","id","toggle_search",1,"btn","btn-secondary",3,"click","ngClass"],[1,"bi","bi-search"],[1,"search","float-right","input-group","mt-3","pr-0",3,"hidden"],[1,"input-group-prepend"],["type","button","id","prevButton","data-toggle","tooltip","data-placement","top","title","Previous","disabled","",1,"btn","btn-secondary"],[1,"bi","bi-arrow-left-square"],["type","button","id","nextButton","data-toggle","tooltip","data-placement","top","title","Next","disabled","",1,"btn","btn-secondary"],[1,"bi","bi-arrow-right-square"],["type","text","id","searchInput","placeholder","Search","aria-label","Search","aria-describedby","search",1,"form-control"],[1,"input-group-append"],["type","button","id","searchButton","data-toggle","tooltip","data-placement","top","title","Search",1,"btn","btn-outline-secondary"],["type","button","id","clearButton","data-toggle","tooltip","data-placement","top","title","Clear","disabled","",1,"btn","btn-outline-secondary"],["type","button","data-toggle","tooltip","data-placement","top","title","Zoom in","id","zoom_in",1,"btn","btn-secondary"],[1,"bi","bi-zoom-in"],["type","button","data-toggle","tooltip","data-placement","top","title","Zoom out","id","zoom_out",1,"btn","btn-secondary"],[1,"bi","bi-zoom-out"],["type","button","data-toggle","tooltip","data-placement","top","title","Zoom reset","id","zoom_reset","disabled","true",1,"btn","btn-secondary"],["type","button","data-toggle","tooltip","data-placement","top","title","Zoom to fit","id","zoom_to_fit",1,"btn","btn-secondary"],[1,"bi","bi-arrows-fullscreen"],["type","button","data-toggle","tooltip","data-placement","top","title","Select all","id","select_all",1,"btn","btn-secondary"],[1,"bi","bi-grid-fill"],["type","button","data-toggle","tooltip","data-placement","top","title","Invert selection","id","toggle_selection",1,"btn","btn-secondary"],[1,"bi","bi-ui-checks-grid"],[1,"zoomIndicator"],["id","zoom_level"],[1,"confirmation-message-container"],["role","alert",1,"alert","alert-success","confirmation-message",3,"ngClass"],[1,"bi","bi-check-circle"]],template:function(r,i){if(1&r){const o=Ci();Te(0,"div",1),Dt("resize",function(a){return It(o),At(i.onResize(a))},0,vo),Te(1,"div",2),qn(2,Yle,34,11,"div",3),Te(3,"div",4),_t(4,"No matches found"),$e()(),qn(5,Kle,2,0,"div",5)(6,Zle,4,3,"div",6),Te(7,"app-context-menus",7),Dt("editNodeContextMenuEvent",function(a){return It(o),At(i.handleEditNodesEvent(a))})("findCreateNodesContextMenuEvent",function(a){return It(o),At(i.findCreateNodesEvent(a))})("createLinkContextMenuEvent",function(){return It(o),At(i.openModal("createLinkModal"))})("editLinkLabelContextMenuEvent",function(){return It(o),At(i.onEditLinkLabel())})("editLinksContextMenuEvent",function(a){return It(o),At(i.handleEditLinksEvent(a))}),$e(),Te(8,"app-modals",8),Dt("createLinkEvent",function(a){return It(o),At(i.onCreateLink(a))})("createNodeEvent",function(a){return It(o),At(i.onCreateNode(a))})("deleteLinkEvent",function(a){return It(o),At(i.onDeleteLink(a))})("deleteNodeEvent",function(){return It(o),At(i.onDeleteNode())}),$e(),function QD(){Nt.lFrame.currentNamespace="svg"}(),Te(9,"svg",9,0),Dt("contextmenu",function(a){return It(o),At(i.visualiserContextMenus(a))}),$e()()}2&r&&(Bt(),ab("right",i.buttonBarRightPosition),Bt(),Rt("ngIf",i.controls),Bt(),Rt("hidden",!i.showSearch),Bt(2),Rt("ngIf",i.zoom),Bt(),Rt("ngIf",i.showConfirmation),Bt(2),Rt("editNodeData",i.editNodeData)("editLinksData",i.editLinksData),Bt(),qi("width",i.width))},dependencies:[rw,iw,M8,x8],styles:["#zoom_level[_ngcontent-%COMP%]{position:relative;background-color:#000c;color:#fff;padding:5px;border-radius:5px;opacity:0;transition:opacity 1s ease-in-out}.buttonBar[_ngcontent-%COMP%]{position:absolute;padding:10px}.zoomIndicator[_ngcontent-%COMP%]{position:absolute;left:0;padding:10px}.noMatchesText[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s;color:red}.noMatchesText.show[_ngcontent-%COMP%]{opacity:1}@keyframes _ngcontent-%COMP%_floatInFromTop{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}.input-group[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_floatInFromTop;animation-duration:.3s;animation-fill-mode:forwards;position:relative;width:407px}.searchButtonActive[_ngcontent-%COMP%]{outline:none;box-shadow:inset 0 0 5px #323232}.searchButtonActive[_ngcontent-%COMP%]:focus, .searchButtonActive[_ngcontent-%COMP%]:active{outline:none;box-shadow:inset 0 0 5px #323232}.searchButtonInactive[_ngcontent-%COMP%]{opacity:1;outline:none;box-shadow:none;background-color:#6c757d!important;border-color:#6c757d!important}.confirmation-message-container[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.confirmation-message[_ngcontent-%COMP%]{position:relative;top:60px;opacity:0;animation:_ngcontent-%COMP%_fade-in .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.fade-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-out .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fade-out{0%{opacity:1}to{opacity:0}}#draggableHandle[_ngcontent-%COMP%]{cursor:move}"]})}return e})(),Qle=(()=>{class e{title="ngx-relationship-visualiser";mockedData=eX;saveGraphData(n){console.log("saved Data",n)}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ze({type:e,selectors:[["app-root"]],decls:1,vars:5,consts:[[3,"saveGraphDataEvent","data","readOnly","zoom","controls","zoomToFit"]],template:function(r,i){1&r&&(Te(0,"visualiser-graph",0),Dt("saveGraphDataEvent",function(s){return i.saveGraphData(s)}),$e()),2&r&&Rt("data",i.mockedData)("readOnly",!1)("zoom",!0)("controls",!0)("zoomToFit",!1)},dependencies:[Xle],encapsulation:2})}return e})(),Jle=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=mt({type:e,bootstrap:[Qle]});static \u0275inj=Sr({imports:[FW,zq,QY.forRoot(),JZ.forRoot({useBootstrap4:!0})]})}return e})();RW().bootstrapModule(Jle).catch(e=>console.error(e))},5505:function(Oe){Oe.exports=function(){"use strict";var ut=function(f,p){return(ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(v[E]=b[E])})(f,p)},B=function(){return(B=Object.assign||function(f){for(var p,v=1,b=arguments.length;v<b;v++)for(var E in p=arguments[v])Object.prototype.hasOwnProperty.call(p,E)&&(f[E]=p[E]);return f}).apply(this,arguments)};function le(f,p,v){if(v||2===arguments.length)for(var b,E=0,x=p.length;E<x;E++)!b&&E in p||((b=b||Array.prototype.slice.call(p,0,E))[E]=p[E]);return f.concat(b||Array.prototype.slice.call(p))}var J=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,V=Object.keys,W=Array.isArray;function R(f,p){return"object"!=typeof p||V(p).forEach(function(v){f[v]=p[v]}),f}typeof Promise>"u"||J.Promise||(J.Promise=Promise);var L=Object.getPrototypeOf,I={}.hasOwnProperty;function N(f,p){return I.call(f,p)}function M(f,p){"function"==typeof p&&(p=p(L(f))),(typeof Reflect>"u"?V:Reflect.ownKeys)(p).forEach(function(v){j(f,v,p[v])})}var k=Object.defineProperty;function j(f,p,v,b){k(f,p,R(v&&N(v,"get")&&"function"==typeof v.get?{get:v.get,set:v.set,configurable:!0}:{value:v,configurable:!0,writable:!0},b))}function H(f){return{from:function(p){return f.prototype=Object.create(p.prototype),j(f.prototype,"constructor",f),{extend:M.bind(null,f.prototype)}}}}var pe=Object.getOwnPropertyDescriptor,ve=[].slice;function Ne(f,p,v){return ve.call(f,p,v)}function lt(f,p){return p(f)}function Me(f){if(!f)throw new Error("Assertion Failed")}function Be(f){J.setImmediate?setImmediate(f):setTimeout(f,0)}function he(f,p){if("string"==typeof p&&N(f,p))return f[p];if(!p)return f;if("string"!=typeof p){for(var v=[],b=0,E=p.length;b<E;++b){var x=he(f,p[b]);v.push(x)}return v}var T=p.indexOf(".");if(-1!==T){var O=f[p.substr(0,T)];return null==O?void 0:he(O,p.substr(T+1))}}function be(f,p,v){if(f&&void 0!==p&&(!("isFrozen"in Object)||!Object.isFrozen(f)))if("string"!=typeof p&&"length"in p){Me("string"!=typeof v&&"length"in v);for(var b=0,E=p.length;b<E;++b)be(f,p[b],v[b])}else{var x,T,O=p.indexOf(".");-1!==O?(x=p.substr(0,O),""===(T=p.substr(O+1))?void 0===v?W(f)&&!isNaN(parseInt(x))?f.splice(x,1):delete f[x]:f[x]=v:be(O=(O=f[x])&&N(f,x)?O:f[x]={},T,v)):void 0===v?W(f)&&!isNaN(parseInt(p))?f.splice(p,1):delete f[p]:f[p]=v}}function Pe(f){var p,v={};for(p in f)N(f,p)&&(v[p]=f[p]);return v}var Ze=[].concat;function Xe(f){return Ze.apply([],f)}var Vo="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Xe([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(p){return p+f+"Array"})}))).filter(function(f){return J[f]}),gt=new Set(Vo.map(function(f){return J[f]})),se=null;function ge(f){return se=new WeakMap,f=function p(v){if(!v||"object"!=typeof v)return v;var b=se.get(v);if(b)return b;if(W(v)){se.set(v,b=[]);for(var E=0,x=v.length;E<x;++E)b.push(p(v[E]))}else if(gt.has(v.constructor))b=v;else{var T,O=L(v);for(T in b=O===Object.prototype?{}:Object.create(O),se.set(v,b),v)N(v,T)&&(b[T]=p(v[T]))}return b}(f),se=null,f}var De={}.toString;function Ae(f){return De.call(f).slice(8,-1)}var Le=typeof Symbol<"u"?Symbol.iterator:"@@iterator",St="symbol"==typeof Le?function(f){var p;return null!=f&&(p=f[Le])&&p.apply(f)}:function(){return null};function Tt(f,p){return 0<=(p=f.indexOf(p))&&f.splice(p,1),0<=p}var on={};function Xn(f){var p,v,b,E;if(1===arguments.length){if(W(f))return f.slice();if(this===on&&"string"==typeof f)return[f];if(E=St(f)){for(v=[];!(b=E.next()).done;)v.push(b.value);return v}if(null==f)return[f];if("number"!=typeof(p=f.length))return[f];for(v=new Array(p);p--;)v[p]=f[p];return v}for(p=arguments.length,v=new Array(p);p--;)v[p]=arguments[p];return v}var Si=typeof Symbol<"u"?function(f){return"AsyncFunction"===f[Symbol.toStringTag]}:function(){return!1},mr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Oo=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),Bc={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function no(f,p){this.name=f,this.message=p}function jc(f,p){return f+". Errors: "+Object.keys(p).map(function(v){return p[v].toString()}).filter(function(v,b,E){return E.indexOf(v)===b}).join("\n")}function Hi(f,p,v,b){this.failures=p,this.failedKeys=b,this.successCount=v,this.message=jc(f,p)}function ro(f,p){this.name="BulkError",this.failures=Object.keys(p).map(function(v){return p[v]}),this.failuresByPos=p,this.message=jc(f,this.failures)}H(no).from(Error).extend({toString:function(){return this.name+": "+this.message}}),H(Hi).from(no),H(ro).from(no);var ye=mr.reduce(function(f,p){return f[p]=p+"Error",f},{}),ke=no,ae=mr.reduce(function(f,p){var v=p+"Error";function b(E,x){this.name=v,E?"string"==typeof E?(this.message="".concat(E).concat(x?"\n "+x:""),this.inner=x||null):"object"==typeof E&&(this.message="".concat(E.name," ").concat(E.message),this.inner=E):(this.message=Bc[p]||v,this.inner=null)}return H(b).from(ke),f[p]=b,f},{});ae.Syntax=SyntaxError,ae.Type=TypeError,ae.Range=RangeError;var at=Oo.reduce(function(f,p){return f[p+"Error"]=ae[p],f},{}),Ut=mr.reduce(function(f,p){return-1===["Syntax","Type","Range"].indexOf(p)&&(f[p+"Error"]=ae[p]),f},{});function vt(){}function mn(f){return f}function Mr(f,p){return null==f||f===mn?p:function(v){return p(f(v))}}function Ui(f,p){return function(){f.apply(this,arguments),p.apply(this,arguments)}}function Qr(f,p){return f===vt?p:function(){var v=f.apply(this,arguments);void 0!==v&&(arguments[0]=v);var b=this.onsuccess,E=this.onerror;this.onsuccess=null,this.onerror=null;var x=p.apply(this,arguments);return b&&(this.onsuccess=this.onsuccess?Ui(b,this.onsuccess):b),E&&(this.onerror=this.onerror?Ui(E,this.onerror):E),void 0!==x?x:v}}function Qn(f,p){return f===vt?p:function(){f.apply(this,arguments);var v=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,p.apply(this,arguments),v&&(this.onsuccess=this.onsuccess?Ui(v,this.onsuccess):v),b&&(this.onerror=this.onerror?Ui(b,this.onerror):b)}}function io(f,p){return f===vt?p:function(v){var b=f.apply(this,arguments);R(v,b);var E=this.onsuccess,x=this.onerror;return this.onsuccess=null,this.onerror=null,v=p.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?Ui(E,this.onsuccess):E),x&&(this.onerror=this.onerror?Ui(x,this.onerror):x),void 0===b?void 0===v?void 0:v:R(b,v)}}function Fr(f,p){return f===vt?p:function(){return!1!==p.apply(this,arguments)&&f.apply(this,arguments)}}function Ii(f,p){return f===vt?p:function(){var v=f.apply(this,arguments);if(v&&"function"==typeof v.then){for(var b=this,E=arguments.length,x=new Array(E);E--;)x[E]=arguments[E];return v.then(function(){return p.apply(b,x)})}return p.apply(this,arguments)}}Ut.ModifyError=Hi,Ut.DexieError=no,Ut.BulkError=ro;var Jr=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function qs(f){Jr=f}var Oo,ys={},Ly=100,Qt=(mr=(mr=(Vo=typeof Promise>"u"?[]:function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,L(f),f];var p=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[p,L(p),f]}())[1])&&mr.then,(Oo=Vo[0])&&Oo.constructor),Hc=!!(Vo=Vo[2]),Ro=function(f,p){zc.push([f,p]),Bn&&(queueMicrotask(Vy),Bn=!1)},Vh=!0,Bn=!0,Po=[],Uc=[],Fl=mn,vi={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:vt,pgp:!1,env:{},finalize:vt},ft=vi,zc=[],Fo=0,Hn=[];function Qe(f){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var p=this._PSD=ft;if("function"!=typeof f){if(f!==ys)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&$c(this,this._value))}this._state=null,this._value=null,++p.ref,function v(b,E){try{E(function(x){if(null===b._state){if(x===b)throw new TypeError("A promise cannot be resolved with itself.");var T=b._lib&&Ai();x&&"function"==typeof x.then?v(b,function(O,U){x instanceof Qe?x._then(O,U):x.then(O,U)}):(b._state=!0,b._value=x,jh(b)),T&&Ys()}},$c.bind(null,b))}catch(x){$c(b,x)}}(this,f)}var Bh={get:function(){var f=ft,p=Bl;function v(b,E){var x=this,T=!f.global&&(f!==ft||p!==Bl),O=T&&!ei(),U=new Qe(function(q,Z){Cn(x,new Lo(By(b,f,T,O),By(E,f,T,O),q,Z,f))});return this._consoleTask&&(U._consoleTask=this._consoleTask),U}return v.prototype=ys,v},set:function(f){j(this,"then",f&&f.prototype===ys?Bh:{get:function(){return f},set:Bh.set})}};function Lo(f,p,v,b,E){this.onFulfilled="function"==typeof f?f:null,this.onRejected="function"==typeof p?p:null,this.resolve=v,this.reject=b,this.psd=E}function $c(f,p){var v,b;Uc.push(p),null===f._state&&(v=f._lib&&Ai(),p=Fl(p),f._state=!1,f._value=p,b=f,Po.some(function(E){return E._value===b._value})||Po.push(b),jh(f),v&&Ys())}function jh(f){var p=f._listeners;f._listeners=[];for(var v=0,b=p.length;v<b;++v)Cn(f,p[v]);var E=f._PSD;--E.ref||E.finalize(),0===Fo&&(++Fo,Ro(function(){0==--Fo&&Ll()},[]))}function Cn(f,p){if(null!==f._state){var v=f._state?p.onFulfilled:p.onRejected;if(null===v)return(f._state?p.resolve:p.reject)(f._value);++p.psd.ref,++Fo,Ro(Hh,[v,f,p])}else f._listeners.push(p)}function Hh(f,p,v){try{var b,E=p._value;!p._state&&Uc.length&&(Uc=[]),b=Jr&&p._consoleTask?p._consoleTask.run(function(){return f(E)}):f(E),p._state||-1!==Uc.indexOf(E)||function(x){for(var T=Po.length;T;)if(Po[--T]._value===x._value)return Po.splice(T,1)}(p),v.resolve(b)}catch(x){v.reject(x)}finally{0==--Fo&&Ll(),--v.psd.ref||v.psd.finalize()}}function Vy(){yi(vi,function(){Ai()&&Ys()})}function Ai(){var f=Vh;return Bn=Vh=!1,f}function Ys(){var f,p,v;do{for(;0<zc.length;)for(f=zc,zc=[],v=f.length,p=0;p<v;++p){var b=f[p];b[0].apply(null,b[1])}}while(0<zc.length);Bn=Vh=!0}function Ll(){var f=Po;Po=[],f.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)});for(var p=Hn.slice(0),v=p.length;v;)p[--v]()}function Vl(f){return new Qe(ys,!1,f)}function Sn(f,p){var v=ft;return function(){var b=Ai(),E=ft;try{return ao(v,!0),f.apply(this,arguments)}catch(x){p&&p(x)}finally{ao(E,!1),b&&Ys()}}}M(Qe.prototype,{then:Bh,_then:function(f,p){Cn(this,new Lo(null,null,f,p,ft))},catch:function(f){if(1===arguments.length)return this.then(null,f);var p=f,v=arguments[1];return this.then(null,"function"==typeof p?function(b){return(b instanceof p?v:Vl)(b)}:function(b){return(b&&b.name===p?v:Vl)(b)})},finally:function(f){return this.then(function(p){return Qe.resolve(f()).then(function(){return p})},function(p){return Qe.resolve(f()).then(function(){return Vl(p)})})},timeout:function(f,p){var v=this;return f<1/0?new Qe(function(b,E){var x=setTimeout(function(){return E(new ae.Timeout(p))},f);v.then(b,E).finally(clearTimeout.bind(null,x))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&j(Qe.prototype,Symbol.toStringTag,"Dexie.Promise"),vi.env=Gc(),M(Qe,{all:function(){var f=Xn.apply(null,arguments).map(so);return new Qe(function(p,v){0===f.length&&p([]);var b=f.length;f.forEach(function(E,x){return Qe.resolve(E).then(function(T){f[x]=T,--b||p(f)},v)})})},resolve:function(f){return f instanceof Qe?f:f&&"function"==typeof f.then?new Qe(function(p,v){f.then(p,v)}):new Qe(ys,!0,f)},reject:Vl,race:function(){var f=Xn.apply(null,arguments).map(so);return new Qe(function(p,v){f.map(function(b){return Qe.resolve(b).then(p,v)})})},PSD:{get:function(){return ft},set:function(f){return ft=f}},totalEchoes:{get:function(){return Bl}},newPSD:oo,usePSD:yi,scheduler:{get:function(){return Ro},set:function(f){Ro=f}},rejectionMapper:{get:function(){return Fl},set:function(f){Fl=f}},follow:function(f,p){return new Qe(function(v,b){return oo(function(E,x){var T=ft;T.unhandleds=[],T.onunhandled=x,T.finalize=Ui(function(){var O,U=this;O=function(){0===U.unhandleds.length?E():x(U.unhandleds[0])},Hn.push(function q(){O(),Hn.splice(Hn.indexOf(q),1)}),++Fo,Ro(function(){0==--Fo&&Ll()},[])},T.finalize),f()},p,v,b)})}}),Qt&&(Qt.allSettled&&j(Qe,"allSettled",function(){var f=Xn.apply(null,arguments).map(so);return new Qe(function(p){0===f.length&&p([]);var v=f.length,b=new Array(v);f.forEach(function(E,x){return Qe.resolve(E).then(function(T){return b[x]={status:"fulfilled",value:T}},function(T){return b[x]={status:"rejected",reason:T}}).then(function(){return--v||p(b)})})})}),Qt.any&&typeof AggregateError<"u"&&j(Qe,"any",function(){var f=Xn.apply(null,arguments).map(so);return new Qe(function(p,v){0===f.length&&v(new AggregateError([]));var b=f.length,E=new Array(b);f.forEach(function(x,T){return Qe.resolve(x).then(function(O){return p(O)},function(O){E[T]=O,--b||v(new AggregateError(E))})})})}),Qt.withResolvers&&(Qe.withResolvers=Qt.withResolvers));var Ce={awaits:0,echoes:0,id:0},Ks=0,_s=[],Aa=0,Bl=0,gD=0;function oo(f,p,v,b){var E=ft,x=Object.create(E);return x.parent=E,x.ref=0,x.global=!1,x.id=++gD,x.env=Hc?{Promise:Qe,PromiseProp:{value:Qe,configurable:!0,writable:!0},all:Qe.all,race:Qe.race,allSettled:Qe.allSettled,any:Qe.any,resolve:Qe.resolve,reject:Qe.reject}:{},p&&R(x,p),++E.ref,x.finalize=function(){--this.parent.ref||this.parent.finalize()},b=yi(x,f,v,b),0===x.ref&&x.finalize(),b}function Lr(){return Ce.id||(Ce.id=++Ks),++Ce.awaits,Ce.echoes+=Ly,Ce.id}function ei(){return!!Ce.awaits&&(0==--Ce.awaits&&(Ce.id=0),Ce.echoes=Ce.awaits*Ly,!0)}function so(f){return Ce.echoes&&f&&f.constructor===Qt?(Lr(),f.then(function(p){return ei(),p},function(p){return ei(),Jn(p)})):f}function Zs(){var f=_s[_s.length-1];_s.pop(),ao(f,!1)}function ao(f,p){var v,b=ft;(p?!Ce.echoes||Aa++&&f===ft:!Aa||--Aa&&f===ft)||queueMicrotask(p?function(E){++Bl,Ce.echoes&&0!=--Ce.echoes||(Ce.echoes=Ce.awaits=Ce.id=0),_s.push(ft),ao(E,!0)}.bind(null,f):Zs),f!==ft&&(ft=f,b===vi&&(vi.env=Gc()),Hc&&(v=vi.env.Promise,p=f.env,(b.global||f.global)&&(Object.defineProperty(J,"Promise",p.PromiseProp),v.all=p.all,v.race=p.race,v.resolve=p.resolve,v.reject=p.reject,p.allSettled&&(v.allSettled=p.allSettled),p.any&&(v.any=p.any))))}function Gc(){var f=J.Promise;return Hc?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(J,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function yi(f,p,v,b,E){var x=ft;try{return ao(f,!0),p(v,b,E)}finally{ao(x,!1)}}function By(f,p,v,b){return"function"!=typeof f?f:function(){var E=ft;v&&Lr(),ao(p,!0);try{return f.apply(this,arguments)}finally{ao(E,!1),b&&queueMicrotask(ei)}}}function sn(f){Promise===Qt&&0===Ce.echoes?0===Aa?f():enqueueNativeMicroTask(f):setTimeout(f,0)}-1===(""+mr).indexOf("[native code]")&&(Lr=ei=vt);var Jn=Qe.reject,Wt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Uh="String expected.",Nn=[],Qs="__dbnames",zh="readonly",jl="readwrite";function an(f,p){return f?p?function(){return f.apply(this,arguments)&&p.apply(this,arguments)}:f:p}var xt={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function bs(f){return"string"!=typeof f||/\./.test(f)?function(p){return p}:function(p){return void 0===p[f]&&f in p&&delete(p=ge(p))[f],p}}function Vr(){throw ae.Type()}function Jt(f,p){try{var v=$h(f),b=$h(p);if(v!==b)return"Array"===v?1:"Array"===b?-1:"binary"===v?1:"binary"===b?-1:"string"===v?1:"string"===b?-1:"Date"===v?1:"Date"!==b?NaN:-1;switch(v){case"number":case"Date":case"string":return p<f?1:f<p?-1:0;case"binary":return function(E,x){for(var T=E.length,O=x.length,U=T<O?T:O,q=0;q<U;++q)if(E[q]!==x[q])return E[q]<x[q]?-1:1;return T===O?0:T<O?-1:1}(jy(f),jy(p));case"Array":return function(E,x){for(var T=E.length,O=x.length,U=T<O?T:O,q=0;q<U;++q){var Z=Jt(E[q],x[q]);if(0!==Z)return Z}return T===O?0:T<O?-1:1}(f,p)}}catch{}return NaN}function $h(f){var p=typeof f;return"object"!=p?p:ArrayBuffer.isView(f)||"ArrayBuffer"===(f=Ae(f))?"binary":f}function jy(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}var co=(On.prototype._trans=function(f,p,v){var b=this._tx||ft.trans,E=this.name,x=Jr&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===f?"read":"write"," ").concat(this.name));function T(q,Z,F){if(!F.schema[E])throw new ae.NotFound("Table "+E+" not part of transaction");return p(F.idbtrans,F)}var O=Ai();try{var U=b&&b.db._novip===this.db._novip?b===ft.trans?b._promise(f,T,v):oo(function(){return b._promise(f,T,v)},{trans:b,transless:ft.transless||ft}):function q(Z,F,te,z){if(Z.idbdb&&(Z._state.openComplete||ft.letThrough||Z._vip)){var Y=Z._createTransaction(F,te,Z._dbSchema);try{Y.create(),Z._state.PR1398_maxLoop=3}catch(X){return X.name===ye.InvalidState&&Z.isOpen()&&0<--Z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Z.close({disableAutoOpen:!1}),Z.open().then(function(){return q(Z,F,te,z)})):Jn(X)}return Y._promise(F,function(X,K){return oo(function(){return ft.trans=Y,z(X,K,Y)})}).then(function(X){if("readwrite"===F)try{Y.idbtrans.commit()}catch{}return"readonly"===F?X:Y._completion.then(function(){return X})})}if(Z._state.openComplete)return Jn(new ae.DatabaseClosed(Z._state.dbOpenError));if(!Z._state.isBeingOpened){if(!Z._state.autoOpen)return Jn(new ae.DatabaseClosed);Z.open().catch(vt)}return Z._state.dbReadyPromise.then(function(){return q(Z,F,te,z)})}(this.db,f,[this.name],T);return x&&(U._consoleTask=x,U=U.catch(function(q){return console.trace(q),Jn(q)})),U}finally{O&&Ys()}},On.prototype.get=function(f,p){var v=this;return f&&f.constructor===Object?this.where(f).first(p):null==f?Jn(new ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return v.core.get({trans:b,key:f}).then(function(E){return v.hook.reading.fire(E)})}).then(p)},On.prototype.where=function(f){if("string"==typeof f)return new this.db.WhereClause(this,f);if(W(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var p=V(f);if(1===p.length)return this.where(p[0]).equals(f[p[0]]);var v=this.schema.indexes.concat(this.schema.primKey).filter(function(O){if(O.compound&&p.every(function(q){return 0<=O.keyPath.indexOf(q)})){for(var U=0;U<p.length;++U)if(-1===p.indexOf(O.keyPath[U]))return!1;return!0}return!1}).sort(function(O,U){return O.keyPath.length-U.keyPath.length})[0];if(v&&"\uffff"!==this.db._maxKey){var x=v.keyPath.slice(0,p.length);return this.where(x).equals(x.map(function(U){return f[U]}))}!v&&Jr&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(p.join("+"),"]"));var b=this.schema.idxByName;function E(O,U){return 0===Jt(O,U)}x=(T=p.reduce(function(F,U){var q=F[0],Z=F[1],te=(F=b[U],f[U]);return[q||F,q||!F?an(Z,F&&F.multi?function(z){return z=he(z,U),W(z)&&z.some(function(Y){return E(te,Y)})}:function(z){return E(te,he(z,U))}):Z]},[null,null]))[0];var T=T[1];return x?this.where(x.name).equals(f[x.keyPath]).filter(T):v?this.filter(T):this.where(p).equals("")},On.prototype.filter=function(f){return this.toCollection().and(f)},On.prototype.count=function(f){return this.toCollection().count(f)},On.prototype.offset=function(f){return this.toCollection().offset(f)},On.prototype.limit=function(f){return this.toCollection().limit(f)},On.prototype.each=function(f){return this.toCollection().each(f)},On.prototype.toArray=function(f){return this.toCollection().toArray(f)},On.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},On.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,W(f)?"[".concat(f.join("+"),"]"):f))},On.prototype.reverse=function(){return this.toCollection().reverse()},On.prototype.mapToClass=function(f){var p,v=this.db,b=this.name;function E(){return null!==p&&p.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof Vr&&(function(U,q){if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function Z(){this.constructor=U}ut(U,q),U.prototype=null===q?Object.create(q):(Z.prototype=q.prototype,new Z)}(E,p=f),Object.defineProperty(E.prototype,"db",{get:function(){return v},enumerable:!1,configurable:!0}),E.prototype.table=function(){return b},f=E);for(var x=new Set,T=f.prototype;T;T=L(T))Object.getOwnPropertyNames(T).forEach(function(U){return x.add(U)});function O(U){if(!U)return U;var q,Z=Object.create(f.prototype);for(q in U)if(!x.has(q))try{Z[q]=U[q]}catch{}return Z}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=O,this.hook("reading",O),f},On.prototype.defineClass=function(){return this.mapToClass(function(f){R(this,f)})},On.prototype.add=function(f,p){var v=this,b=this.schema.primKey,x=b.keyPath,T=f;return x&&b.auto&&(T=bs(x)(f)),this._trans("readwrite",function(O){return v.core.mutate({trans:O,type:"add",keys:null!=p?[p]:null,values:[T]})}).then(function(O){return O.numFailures?Qe.reject(O.failures[0]):O.lastResult}).then(function(O){if(x)try{be(f,x,O)}catch{}return O})},On.prototype.update=function(f,p){return"object"!=typeof f||W(f)?this.where(":id").equals(f).modify(p):void 0===(f=he(f,this.schema.primKey.keyPath))?Jn(new ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(p)},On.prototype.put=function(f,p){var v=this,b=this.schema.primKey,x=b.keyPath,T=f;return x&&b.auto&&(T=bs(x)(f)),this._trans("readwrite",function(O){return v.core.mutate({trans:O,type:"put",values:[T],keys:null!=p?[p]:null})}).then(function(O){return O.numFailures?Qe.reject(O.failures[0]):O.lastResult}).then(function(O){if(x)try{be(f,x,O)}catch{}return O})},On.prototype.delete=function(f){var p=this;return this._trans("readwrite",function(v){return p.core.mutate({trans:v,type:"delete",keys:[f]})}).then(function(v){return v.numFailures?Qe.reject(v.failures[0]):void 0})},On.prototype.clear=function(){var f=this;return this._trans("readwrite",function(p){return f.core.mutate({trans:p,type:"deleteRange",range:xt})}).then(function(p){return p.numFailures?Qe.reject(p.failures[0]):void 0})},On.prototype.bulkGet=function(f){var p=this;return this._trans("readonly",function(v){return p.core.getMany({keys:f,trans:v}).then(function(b){return b.map(function(E){return p.hook.reading.fire(E)})})})},On.prototype.bulkAdd=function(f,p,v){var b=this,E=Array.isArray(p)?p:void 0,x=(v=v||(E?void 0:p))?v.allKeys:void 0;return this._trans("readwrite",function(T){var O=(q=b.schema.primKey).auto;if((q=q.keyPath)&&E)throw new ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(E&&E.length!==f.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var U=f.length,q=q&&O?f.map(bs(q)):f;return b.core.mutate({trans:T,type:"add",keys:E,values:q,wantResults:x}).then(function(Y){var F=Y.numFailures,te=Y.results,z=Y.lastResult;if(Y=Y.failures,0===F)return x?te:z;throw new ro("".concat(b.name,".bulkAdd(): ").concat(F," of ").concat(U," operations failed"),Y)})})},On.prototype.bulkPut=function(f,p,v){var b=this,E=Array.isArray(p)?p:void 0,x=(v=v||(E?void 0:p))?v.allKeys:void 0;return this._trans("readwrite",function(T){var O=(q=b.schema.primKey).auto;if((q=q.keyPath)&&E)throw new ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(E&&E.length!==f.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var U=f.length,q=q&&O?f.map(bs(q)):f;return b.core.mutate({trans:T,type:"put",keys:E,values:q,wantResults:x}).then(function(Y){var F=Y.numFailures,te=Y.results,z=Y.lastResult;if(Y=Y.failures,0===F)return x?te:z;throw new ro("".concat(b.name,".bulkPut(): ").concat(F," of ").concat(U," operations failed"),Y)})})},On.prototype.bulkUpdate=function(f){var p=this,v=this.core,b=f.map(function(T){return T.key}),E=f.map(function(T){return T.changes}),x=[];return this._trans("readwrite",function(T){return v.getMany({trans:T,keys:b,cache:"clone"}).then(function(O){var U=[],q=[];f.forEach(function(F,te){var z=F.key,Y=F.changes,X=O[te];if(X){for(var K=0,ie=Object.keys(Y);K<ie.length;K++){var ce=ie[K],ue=Y[ce];if(ce===p.schema.primKey.keyPath){if(0!==Jt(ue,z))throw new ae.Constraint("Cannot update primary key in bulkUpdate()")}else be(X,ce,ue)}x.push(te),U.push(z),q.push(X)}});var Z=U.length;return v.mutate({trans:T,type:"put",keys:U,values:q,updates:{keys:b,changeSpecs:E}}).then(function(F){var te=F.numFailures,z=F.failures;if(0===te)return Z;for(var Y=0,X=Object.keys(z);Y<X.length;Y++){var K,ie=X[Y],ce=x[Number(ie)];null!=ce&&(K=z[ie],delete z[ie],z[ce]=K)}throw new ro("".concat(p.name,".bulkUpdate(): ").concat(te," of ").concat(Z," operations failed"),z)})})})},On.prototype.bulkDelete=function(f){var p=this,v=f.length;return this._trans("readwrite",function(b){return p.core.mutate({trans:b,type:"delete",keys:f})}).then(function(T){var E=T.numFailures,x=T.lastResult;if(T=T.failures,0===E)return x;throw new ro("".concat(p.name,".bulkDelete(): ").concat(E," of ").concat(v," operations failed"),T)})},On);function On(){}function Wc(f){function p(T,O){if(O){for(var U=arguments.length,q=new Array(U-1);--U;)q[U-1]=arguments[U];return v[T].subscribe.apply(null,q),f}if("string"==typeof T)return v[T]}var v={};p.addEventType=x;for(var b=1,E=arguments.length;b<E;++b)x(arguments[b]);return p;function x(T,O,U){if("object"!=typeof T){var q;O=O||Fr;var Z={subscribers:[],fire:U=U||vt,subscribe:function(F){-1===Z.subscribers.indexOf(F)&&(Z.subscribers.push(F),Z.fire=O(Z.fire,F))},unsubscribe:function(F){Z.subscribers=Z.subscribers.filter(function(te){return te!==F}),Z.fire=Z.subscribers.reduce(O,U)}};return v[T]=p[T]=Z}V(q=T).forEach(function(F){var te=q[F];if(W(te))x(F,q[F][0],q[F][1]);else{if("asap"!==te)throw new ae.InvalidArgument("Invalid event config");var z=x(F,mn,function(){for(var Y=arguments.length,X=new Array(Y);Y--;)X[Y]=arguments[Y];z.subscribers.forEach(function(K){Be(function(){K.apply(null,X)})})})}})}}function qc(f,p){return H(p).from({prototype:f}),p}function Ta(f,p){return!(f.filter||f.algorithm||f.or)&&(p?f.justLimit:!f.replayFilter)}function Hl(f,p){f.filter=an(f.filter,p)}function Gh(f,p,v){var b=f.replayFilter;f.replayFilter=b?function(){return an(b(),p())}:p,f.justLimit=v&&!b}function Yc(f,p){if(f.isPrimKey)return p.primaryKey;var v=p.getIndexByKeyPath(f.index);if(!v)throw new ae.Schema("KeyPath "+f.index+" on object store "+p.name+" is not indexed");return v}function Hy(f,p,v){var b=Yc(f,p.schema);return p.openCursor({trans:v,values:!f.keysOnly,reverse:"prev"===f.dir,unique:!!f.unique,query:{index:b,range:f.range}})}function xr(f,p,v,b){var E=f.replayFilter?an(f.filter,f.replayFilter()):f.filter;if(f.or){var x={},T=function(O,U,q){var Z,F;E&&!E(U,q,function(te){return U.stop(te)},function(te){return U.fail(te)})||("[object ArrayBuffer]"==(F=""+(Z=U.primaryKey))&&(F=""+new Uint8Array(Z)),N(x,F)||(x[F]=!0,p(O,U,q)))};return Promise.all([f.or._iterate(T,v),Ct(Hy(f,b,v),f.algorithm,T,!f.keysOnly&&f.valueMapper)])}return Ct(Hy(f,b,v),an(f.algorithm,E),p,!f.keysOnly&&f.valueMapper)}function Ct(f,p,v,b){var E=Sn(b?function(x,T,O){return v(b(x),T,O)}:v);return f.then(function(x){if(x)return x.start(function(){var T=function(){return x.continue()};p&&!p(x,function(O){return T=O},function(O){x.stop(O),T=vt},function(O){x.fail(O),T=vt})||E(x.value,x,function(O){return T=O}),T()})})}Vo=Symbol();var Kc=(Uy.prototype.execute=function(f){if(void 0!==this.add){var p=this.add;if(W(p))return le(le([],W(f)?f:[],!0),p,!0).sort();if("number"==typeof p)return(Number(f)||0)+p;if("bigint"==typeof p)try{return BigInt(f)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(void 0!==this.remove){var v=this.remove;if(W(v))return W(f)?f.filter(function(b){return!v.includes(b)}).sort():[];if("number"==typeof v)return Number(f)-v;if("bigint"==typeof v)try{return BigInt(f)-v}catch{return BigInt(0)-v}throw new TypeError("Invalid subtrahend ".concat(v))}return(p=null===(p=this.replacePrefix)||void 0===p?void 0:p[0])&&"string"==typeof f&&f.startsWith(p)?this.replacePrefix[1]+f.substring(p.length):f},Uy);function Uy(f){Object.assign(this,f)}var mD=(ln.prototype._read=function(f,p){var v=this._ctx;return v.error?v.table._trans(null,Jn.bind(null,v.error)):v.table._trans("readonly",f).then(p)},ln.prototype._write=function(f){var p=this._ctx;return p.error?p.table._trans(null,Jn.bind(null,p.error)):p.table._trans("readwrite",f,"locked")},ln.prototype._addAlgorithm=function(f){var p=this._ctx;p.algorithm=an(p.algorithm,f)},ln.prototype._iterate=function(f,p){return xr(this._ctx,f,p,this._ctx.table.core)},ln.prototype.clone=function(f){var p=Object.create(this.constructor.prototype),v=Object.create(this._ctx);return f&&R(v,f),p._ctx=v,p},ln.prototype.raw=function(){return this._ctx.valueMapper=null,this},ln.prototype.each=function(f){var p=this._ctx;return this._read(function(v){return xr(p,f,v,p.table.core)})},ln.prototype.count=function(f){var p=this;return this._read(function(v){var b=p._ctx,E=b.table.core;if(Ta(b,!0))return E.count({trans:v,query:{index:Yc(b,E.schema),range:b.range}}).then(function(T){return Math.min(T,b.limit)});var x=0;return xr(b,function(){return++x,!1},v,E).then(function(){return x})}).then(f)},ln.prototype.sortBy=function(f,p){var v=f.split(".").reverse(),b=v[0],E=v.length-1;function x(U,q){return q?x(U[v[q]],q-1):U[b]}var T="next"===this._ctx.dir?1:-1;function O(U,q){return Jt(x(U,E),x(q,E))*T}return this.toArray(function(U){return U.sort(O)}).then(p)},ln.prototype.toArray=function(f){var p=this;return this._read(function(v){var b=p._ctx;if("next"===b.dir&&Ta(b,!0)&&0<b.limit){var E=b.valueMapper,x=Yc(b,b.table.core.schema);return b.table.core.query({trans:v,limit:b.limit,values:!0,query:{index:x,range:b.range}}).then(function(O){return O=O.result,E?O.map(E):O})}var T=[];return xr(b,function(O){return T.push(O)},v,b.table.core).then(function(){return T})},f)},ln.prototype.offset=function(f){var p=this._ctx;return f<=0||(p.offset+=f,Ta(p)?Gh(p,function(){var v=f;return function(b,E){return 0===v||(1===v?--v:E(function(){b.advance(v),v=0}),!1)}}):Gh(p,function(){var v=f;return function(){return--v<0}})),this},ln.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),Gh(this._ctx,function(){var p=f;return function(v,b,E){return--p<=0&&b(E),0<=p}},!0),this},ln.prototype.until=function(f,p){return Hl(this._ctx,function(v,b,E){return!f(v.value)||(b(E),p)}),this},ln.prototype.first=function(f){return this.limit(1).toArray(function(p){return p[0]}).then(f)},ln.prototype.last=function(f){return this.reverse().first(f)},ln.prototype.filter=function(f){var p;return Hl(this._ctx,function(v){return f(v.value)}),(p=this._ctx).isMatch=an(p.isMatch,f),this},ln.prototype.and=function(f){return this.filter(f)},ln.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},ln.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ln.prototype.desc=function(){return this.reverse()},ln.prototype.eachKey=function(f){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(v,b){f(b.key,b)})},ln.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},ln.prototype.eachPrimaryKey=function(f){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(v,b){f(b.primaryKey,b)})},ln.prototype.keys=function(f){var p=this._ctx;p.keysOnly=!p.isMatch;var v=[];return this.each(function(b,E){v.push(E.key)}).then(function(){return v}).then(f)},ln.prototype.primaryKeys=function(f){var p=this._ctx;if("next"===p.dir&&Ta(p,!0)&&0<p.limit)return this._read(function(b){var E=Yc(p,p.table.core.schema);return p.table.core.query({trans:b,values:!1,limit:p.limit,query:{index:E,range:p.range}})}).then(function(b){return b.result}).then(f);p.keysOnly=!p.isMatch;var v=[];return this.each(function(b,E){v.push(E.primaryKey)}).then(function(){return v}).then(f)},ln.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},ln.prototype.firstKey=function(f){return this.limit(1).keys(function(p){return p[0]}).then(f)},ln.prototype.lastKey=function(f){return this.reverse().firstKey(f)},ln.prototype.distinct=function(){var f;if(!(f=(f=this._ctx).index&&f.table.schema.idxByName[f.index])||!f.multi)return this;var p={};return Hl(this._ctx,function(E){var b=E.primaryKey.toString();return E=N(p,b),p[b]=!0,!E}),this},ln.prototype.modify=function(f){var p=this,v=this._ctx;return this._write(function(b){var E,x,T;T="function"==typeof f?f:(E=V(f),x=E.length,function(K){for(var ie=!1,ce=0;ce<x;++ce){var ue=E[ce],_e=f[ue],Fe=he(K,ue);_e instanceof Kc?(be(K,ue,_e.execute(Fe)),ie=!0):Fe!==_e&&(be(K,ue,_e),ie=!0)}return ie});var F,O=v.table.core,U=(F=O.schema.primaryKey).outbound,q=F.extractKey,Z=200;function te(K,ue){var ce=ue.failures;Y+=K-(ue=ue.numFailures);for(var _e=0,Fe=V(ce);_e<Fe.length;_e++)z.push(ce[Fe[_e]])}(F=p.db._options.modifyChunkSize)&&(Z="object"==typeof F?F[O.name]||F["*"]||200:F);var z=[],Y=0,X=[];return p.clone().primaryKeys().then(function(K){var ce=Ta(v)&&v.limit===1/0&&("function"!=typeof f||f===nt)&&{index:v.index,range:v.range};return function ie(ue){var _e=Math.min(Z,K.length-ue);return O.getMany({trans:b,keys:K.slice(ue,ue+_e),cache:"immutable"}).then(function(Fe){for(var qe=[],Ve=[],Ue=U?[]:null,ze=[],We=0;We<_e;++We){var rt=Fe[We],mt={value:ge(rt),primKey:K[ue+We]};!1!==T.call(mt,mt.value,mt)&&(null==mt.value?ze.push(K[ue+We]):U||0===Jt(q(rt),q(mt.value))?(Ve.push(mt.value),U&&Ue.push(K[ue+We])):(ze.push(K[ue+We]),qe.push(mt.value)))}return Promise.resolve(0<qe.length&&O.mutate({trans:b,type:"add",values:qe}).then(function($t){for(var Ge in $t.failures)ze.splice(parseInt(Ge),1);te(qe.length,$t)})).then(function(){return(0<Ve.length||ce&&"object"==typeof f)&&O.mutate({trans:b,type:"put",keys:Ue,values:Ve,criteria:ce,changeSpec:"function"!=typeof f&&f,isAdditionalChunk:0<ue}).then(function($t){return te(Ve.length,$t)})}).then(function(){return(0<ze.length||ce&&f===nt)&&O.mutate({trans:b,type:"delete",keys:ze,criteria:ce,isAdditionalChunk:0<ue}).then(function($t){return te(ze.length,$t)})}).then(function(){return K.length>ue+_e&&ie(ue+Z)})})}(0).then(function(){if(0<z.length)throw new Hi("Error modifying one or more objects",z,Y,X);return K.length})})})},ln.prototype.delete=function(){var f=this._ctx,p=f.range;return Ta(f)&&(f.isPrimKey||3===p.type)?this._write(function(v){var E=p;return f.table.core.count({trans:v,query:{index:f.table.core.schema.primaryKey,range:E}}).then(function(x){return f.table.core.mutate({trans:v,type:"deleteRange",range:E}).then(function(T){var O=T.failures;if(T=T.numFailures)throw new Hi("Could not delete some values",Object.keys(O).map(function(U){return O[U]}),x-T);return x-T})})}):this.modify(nt)},ln);function ln(){}var nt=function(f,p){return p.value=null};function vD(f,p){return f<p?-1:f===p?0:1}function Sr(f,p){return p<f?-1:f===p?0:1}function Ir(f,p,v){return(f=f instanceof Ra?new f.Collection(f):f)._ctx.error=new(v||TypeError)(p),f}function ka(f){return new f.Collection(f,function(){return Oa("")}).limit(0)}function Na(f,p,v,b){var E,x,T,O,U,q,Z,F=v.length;if(!v.every(function(Y){return"string"==typeof Y}))return Ir(f,Uh);function te(Y){E="next"===Y?function(K){return K.toUpperCase()}:function(K){return K.toLowerCase()},x="next"===Y?function(K){return K.toLowerCase()}:function(K){return K.toUpperCase()},T="next"===Y?vD:Sr;var X=v.map(function(K){return{lower:x(K),upper:E(K)}}).sort(function(K,ie){return T(K.lower,ie.lower)});O=X.map(function(K){return K.upper}),U=X.map(function(K){return K.lower}),Z="next"===(q=Y)?"":b}te("next"),(f=new f.Collection(f,function(){return Bo(O[0],U[F-1]+b)}))._ondirectionchange=function(Y){te(Y)};var z=0;return f._addAlgorithm(function(Y,X,K){var ie=Y.key;if("string"!=typeof ie)return!1;var ce=x(ie);if(p(ce,U,z))return!0;for(var ue=null,_e=z;_e<F;++_e){var Fe=function(qe,Ve,Ue,ze,We,rt){for(var mt=Math.min(qe.length,ze.length),$t=-1,Ge=0;Ge<mt;++Ge){var Dn=Ve[Ge];if(Dn!==ze[Ge])return We(qe[Ge],Ue[Ge])<0?qe.substr(0,Ge)+Ue[Ge]+Ue.substr(Ge+1):We(qe[Ge],ze[Ge])<0?qe.substr(0,Ge)+ze[Ge]+Ue.substr(Ge+1):0<=$t?qe.substr(0,$t)+Ve[$t]+Ue.substr($t+1):null;We(qe[Ge],Dn)<0&&($t=Ge)}return mt<ze.length&&"next"===rt?qe+Ue.substr(qe.length):mt<qe.length&&"prev"===rt?qe.substr(0,Ue.length):$t<0?null:qe.substr(0,$t)+ze[$t]+Ue.substr($t+1)}(ie,ce,O[_e],U[_e],T,q);null===Fe&&null===ue?z=_e+1:(null===ue||0<T(ue,Fe))&&(ue=Fe)}return X(null!==ue?function(){Y.continue(ue+Z)}:K),!1}),f}function Bo(f,p,v,b){return{type:2,lower:f,upper:p,lowerOpen:v,upperOpen:b}}function Oa(f){return{type:1,lower:f,upper:f}}var Ra=(Object.defineProperty(er.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),er.prototype.between=function(f,p,v,b){v=!1!==v,b=!0===b;try{return 0<this._cmp(f,p)||0===this._cmp(f,p)&&(v||b)&&(!v||!b)?ka(this):new this.Collection(this,function(){return Bo(f,p,!v,!b)})}catch{return Ir(this,Wt)}},er.prototype.equals=function(f){return null==f?Ir(this,Wt):new this.Collection(this,function(){return Oa(f)})},er.prototype.above=function(f){return null==f?Ir(this,Wt):new this.Collection(this,function(){return Bo(f,void 0,!0)})},er.prototype.aboveOrEqual=function(f){return null==f?Ir(this,Wt):new this.Collection(this,function(){return Bo(f,void 0,!1)})},er.prototype.below=function(f){return null==f?Ir(this,Wt):new this.Collection(this,function(){return Bo(void 0,f,!1,!0)})},er.prototype.belowOrEqual=function(f){return null==f?Ir(this,Wt):new this.Collection(this,function(){return Bo(void 0,f)})},er.prototype.startsWith=function(f){return"string"!=typeof f?Ir(this,Uh):this.between(f,f+"\uffff",!0,!0)},er.prototype.startsWithIgnoreCase=function(f){return""===f?this.startsWith(f):Na(this,function(p,v){return 0===p.indexOf(v[0])},[f],"\uffff")},er.prototype.equalsIgnoreCase=function(f){return Na(this,function(p,v){return p===v[0]},[f],"")},er.prototype.anyOfIgnoreCase=function(){var f=Xn.apply(on,arguments);return 0===f.length?ka(this):Na(this,function(p,v){return-1!==v.indexOf(p)},f,"")},er.prototype.startsWithAnyOfIgnoreCase=function(){var f=Xn.apply(on,arguments);return 0===f.length?ka(this):Na(this,function(p,v){return v.some(function(b){return 0===p.indexOf(b)})},f,"\uffff")},er.prototype.anyOf=function(){var f=this,p=Xn.apply(on,arguments),v=this._cmp;try{p.sort(v)}catch{return Ir(this,Wt)}if(0===p.length)return ka(this);var b=new this.Collection(this,function(){return Bo(p[0],p[p.length-1])});b._ondirectionchange=function(x){p.sort(v="next"===x?f._ascending:f._descending)};var E=0;return b._addAlgorithm(function(x,T,O){for(var U=x.key;0<v(U,p[E]);)if(++E===p.length)return T(O),!1;return 0===v(U,p[E])||(T(function(){x.continue(p[E])}),!1)}),b},er.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},er.prototype.noneOf=function(){var f=Xn.apply(on,arguments);if(0===f.length)return new this.Collection(this);try{f.sort(this._ascending)}catch{return Ir(this,Wt)}var p=f.reduce(function(v,b){return v?v.concat([[v[v.length-1][1],b]]):[[-1/0,b]]},null);return p.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(p,{includeLowers:!1,includeUppers:!1})},er.prototype.inAnyRange=function(ie,p){var v=this,b=this._cmp,E=this._ascending,x=this._descending,T=this._min,O=this._max;if(0===ie.length)return ka(this);if(!ie.every(function(ce){return void 0!==ce[0]&&void 0!==ce[1]&&E(ce[0],ce[1])<=0}))return Ir(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ae.InvalidArgument);var Z,U=!p||!1!==p.includeLowers,q=p&&!0===p.includeUppers,F=E;function te(ce,ue){return F(ce[0],ue[0])}try{(Z=ie.reduce(function(ce,ue){for(var _e=0,Fe=ce.length;_e<Fe;++_e){var qe=ce[_e];if(b(ue[0],qe[1])<0&&0<b(ue[1],qe[0])){qe[0]=T(qe[0],ue[0]),qe[1]=O(qe[1],ue[1]);break}}return _e===Fe&&ce.push(ue),ce},[])).sort(te)}catch{return Ir(this,Wt)}var z=0,Y=q?function(ce){return 0<E(ce,Z[z][1])}:function(ce){return 0<=E(ce,Z[z][1])},X=U?function(ce){return 0<x(ce,Z[z][0])}:function(ce){return 0<=x(ce,Z[z][0])},K=Y;return(ie=new this.Collection(this,function(){return Bo(Z[0][0],Z[Z.length-1][1],!U,!q)}))._ondirectionchange=function(ce){F="next"===ce?(K=Y,E):(K=X,x),Z.sort(te)},ie._addAlgorithm(function(ce,ue,_e){for(var Fe,qe=ce.key;K(qe);)if(++z===Z.length)return ue(_e),!1;return!Y(Fe=qe)&&!X(Fe)||(0===v._cmp(qe,Z[z][1])||0===v._cmp(qe,Z[z][0])||ue(function(){ce.continue(F===E?Z[z][0]:Z[z][1])}),!1)}),ie},er.prototype.startsWithAnyOf=function(){var f=Xn.apply(on,arguments);return f.every(function(p){return"string"==typeof p})?0===f.length?ka(this):this.inAnyRange(f.map(function(p){return[p,p+"\uffff"]})):Ir(this,"startsWithAnyOf() only works with strings")},er);function er(){}function Ti(f){return Sn(function(p){return Pa(p),f(p.target.error),!1})}function Pa(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var et="storagemutated",Fa="x-storagemutated-1",zi=Wc(null,et),Wh=(_i.prototype._lock=function(){return Me(!ft.global),++this._reculock,1!==this._reculock||ft.global||(ft.lockOwnerFor=this),this},_i.prototype._unlock=function(){if(Me(!ft.global),0==--this._reculock)for(ft.global||(ft.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{yi(f[1],f[0])}catch{}}return this},_i.prototype._locked=function(){return this._reculock&&ft.lockOwnerFor!==this},_i.prototype.create=function(f){var p=this;if(!this.mode)return this;var v=this.db.idbdb,b=this.db._state.dbOpenError;if(Me(!this.idbtrans),!f&&!v)switch(b&&b.name){case"DatabaseClosedError":throw new ae.DatabaseClosed(b);case"MissingAPIError":throw new ae.MissingAPI(b.message,b);default:throw new ae.OpenFailed(b)}if(!this.active)throw new ae.TransactionInactive;return Me(null===this._completion._state),(f=this.idbtrans=f||(this.db.core||v).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Sn(function(E){Pa(E),p._reject(f.error)}),f.onabort=Sn(function(E){Pa(E),p.active&&p._reject(new ae.Abort(f.error)),p.active=!1,p.on("abort").fire(E)}),f.oncomplete=Sn(function(){p.active=!1,p._resolve(),"mutatedParts"in f&&zi.storagemutated.fire(f.mutatedParts)}),this},_i.prototype._promise=function(f,p,v){var b=this;if("readwrite"===f&&"readwrite"!==this.mode)return Jn(new ae.ReadOnly("Transaction is readonly"));if(!this.active)return Jn(new ae.TransactionInactive);if(this._locked())return new Qe(function(x,T){b._blockedFuncs.push([function(){b._promise(f,p,v).then(x,T)},ft])});if(v)return oo(function(){var x=new Qe(function(T,O){b._lock();var U=p(T,O,b);U&&U.then&&U.then(T,O)});return x.finally(function(){return b._unlock()}),x._lib=!0,x});var E=new Qe(function(x,T){var O=p(x,T,b);O&&O.then&&O.then(x,T)});return E._lib=!0,E},_i.prototype._root=function(){return this.parent?this.parent._root():this},_i.prototype.waitFor=function(f){var p,v=this._root(),b=Qe.resolve(f);v._waitingFor?v._waitingFor=v._waitingFor.then(function(){return b}):(v._waitingFor=b,v._waitingQueue=[],p=v.idbtrans.objectStore(v.storeNames[0]),function x(){for(++v._spinCount;v._waitingQueue.length;)v._waitingQueue.shift()();v._waitingFor&&(p.get(-1/0).onsuccess=x)}());var E=v._waitingFor;return new Qe(function(x,T){b.then(function(O){return v._waitingQueue.push(Sn(x.bind(null,O)))},function(O){return v._waitingQueue.push(Sn(T.bind(null,O)))}).finally(function(){v._waitingFor===E&&(v._waitingFor=null)})})},_i.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ae.Abort))},_i.prototype.table=function(f){var p=this._memoizedTables||(this._memoizedTables={});if(N(p,f))return p[f];var v=this.schema[f];if(!v)throw new ae.NotFound("Table "+f+" not part of transaction");return(v=new this.db.Table(f,v,this)).core=this.db.core.table(f),p[f]=v},_i);function _i(){}function Ul(f,p,v,b,E,x,T){return{name:f,keyPath:p,unique:v,multi:b,auto:E,compound:x,src:(v&&!T?"&":"")+(b?"*":"")+(E?"++":"")+Zc(p)}}function Zc(f){return"string"==typeof f?f:f?"["+[].join.call(f,"+")+"]":""}function qh(f,p,v){return{name:f,primKey:p,indexes:v,mappedClass:null,idxByName:(b=function(E){return[E.name,E]},v.reduce(function(E,x,T){return(T=b(x))&&(E[T[0]]=T[1]),E},{}))};var b}var Xc=function(f){try{return f.only([[]]),Xc=function(){return[[]]},[[]]}catch{return Xc=function(){return"\uffff"},"\uffff"}};function Yh(f){return null==f?function(){}:"string"==typeof f?1===(p=f).split(".").length?function(v){return v[p]}:function(v){return he(v,p)}:function(v){return he(v,f)};var p}function zy(f){return[].slice.call(f)}var zl=0;function uo(f){return null==f?":id":"string"==typeof f?f:"[".concat(f.join("+"),"]")}function $l(f,p,U){function b(K){if(3===K.type)return null;if(4===K.type)throw new Error("Cannot convert never type to IDBKeyRange");var z=K.lower,Y=K.upper,X=K.lowerOpen;return K=K.upperOpen,void 0===z?void 0===Y?null:p.upperBound(Y,!!K):void 0===Y?p.lowerBound(z,!!X):p.bound(z,Y,!!X,!!K)}var x,T,O,q=(T=U,O=zy((x=f).objectStoreNames),Z={schema:{name:x.name,tables:O.map(function(te){return T.objectStore(te)}).map(function(te){var z=te.keyPath,K=te.autoIncrement,Y=W(z),X={};return K={name:te.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==z,compound:Y,keyPath:z,autoIncrement:K,unique:!0,extractKey:Yh(z)},indexes:zy(te.indexNames).map(function(ie){return te.index(ie)}).map(function(_e){var ue=_e.unique,Fe=_e.multiEntry;return Fe={name:_e.name,compound:W(_e=_e.keyPath),keyPath:_e,unique:ue,multiEntry:Fe,extractKey:Yh(_e)},X[uo(_e)]=Fe}),getIndexByKeyPath:function(ie){return X[uo(ie)]}},X[":id"]=K.primaryKey,null!=z&&(X[uo(z)]=K.primaryKey),K})},hasGetAll:0<O.length&&"getAll"in T.objectStore(O[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,Z=(U=Z.schema).tables.map(function E(te){var z,Y=te.name;return{name:Y,schema:te,mutate:function(X){var K=X.trans,ie=X.type,ce=X.keys,ue=X.values,_e=X.range;return new Promise(function(Fe,qe){Fe=Sn(Fe);var Ve=K.objectStore(Y),Ue=null==Ve.keyPath,ze="put"===ie||"add"===ie;if(!ze&&"delete"!==ie&&"deleteRange"!==ie)throw new Error("Invalid operation type: "+ie);var We,rt=(ce||ue||{length:1}).length;if(ce&&ue&&ce.length!==ue.length)throw new Error("Given keys array must have same length as given values array.");if(0===rt)return Fe({numFailures:0,failures:{},results:[],lastResult:void 0});function mt(pn){++Dn,Pa(pn)}var $t=[],Ge=[],Dn=0;if("deleteRange"===ie){if(4===_e.type)return Fe({numFailures:Dn,failures:Ge,results:[],lastResult:void 0});$t.push(We=3===_e.type?Ve.clear():Ve.delete(b(_e)))}else{var Ye=(Ue=ze?Ue?[ue,ce]:[ue,null]:[ce,null])[0],en=Ue[1];if(ze)for(var cn=0;cn<rt;++cn)$t.push(We=en&&void 0!==en[cn]?Ve[ie](Ye[cn],en[cn]):Ve[ie](Ye[cn])),We.onerror=mt;else for(cn=0;cn<rt;++cn)$t.push(We=Ve[ie](Ye[cn])),We.onerror=mt}function Gi(pn){pn=pn.target.result,$t.forEach(function(Go,iu){return null!=Go.error&&(Ge[iu]=Go.error)}),Fe({numFailures:Dn,failures:Ge,results:"delete"===ie?ce:$t.map(function(Go){return Go.result}),lastResult:pn})}We.onerror=function(pn){mt(pn),Gi(pn)},We.onsuccess=Gi})},getMany:function(X){var K=X.trans,ie=X.keys;return new Promise(function(ce,ue){ce=Sn(ce);for(var _e,Fe=K.objectStore(Y),qe=ie.length,Ve=new Array(qe),Ue=0,ze=0,We=function($t){Ve[($t=$t.target)._pos]=$t.result,++ze===Ue&&ce(Ve)},rt=Ti(ue),mt=0;mt<qe;++mt)null!=ie[mt]&&((_e=Fe.get(ie[mt]))._pos=mt,_e.onsuccess=We,_e.onerror=rt,++Ue);0===Ue&&ce(Ve)})},get:function(X){var K=X.trans,ie=X.key;return new Promise(function(ce,ue){ce=Sn(ce);var _e=K.objectStore(Y).get(ie);_e.onsuccess=function(Fe){return ce(Fe.target.result)},_e.onerror=Ti(ue)})},query:(z=q,function(X){return new Promise(function(K,ie){K=Sn(K);var ce,ue,_e,Fe=X.values,qe=X.limit,Ve=qe===1/0?void 0:qe,ze=(We=X.query).index,We=We.range,Ue=(Ue=X.trans).objectStore(Y);if(ze=ze.isPrimaryKey?Ue:Ue.index(ze.name),We=b(We),0===qe)return K({result:[]});z?((Ve=Fe?ze.getAll(We,Ve):ze.getAllKeys(We,Ve)).onsuccess=function(rt){return K({result:rt.target.result})},Ve.onerror=Ti(ie)):(ce=0,ue=!Fe&&"openKeyCursor"in ze?ze.openKeyCursor(We):ze.openCursor(We),_e=[],ue.onsuccess=function(rt){var mt=ue.result;return mt?(_e.push(Fe?mt.value:mt.primaryKey),++ce===qe?K({result:_e}):void mt.continue()):K({result:_e})},ue.onerror=Ti(ie))})}),openCursor:function(X){var K=X.trans,ie=X.values,ce=X.query,ue=X.reverse,_e=X.unique;return new Promise(function(Fe,qe){Fe=Sn(Fe);var ze=ce.index,Ve=ce.range,Ue=K.objectStore(Y),We=(Ue=ze.isPrimaryKey?Ue:Ue.index(ze.name),ze=ue?_e?"prevunique":"prev":_e?"nextunique":"next",!ie&&"openKeyCursor"in Ue?Ue.openKeyCursor(b(Ve),ze):Ue.openCursor(b(Ve),ze));We.onerror=Ti(qe),We.onsuccess=Sn(function(rt){var mt,$t,Ge,Dn,Ye=We.result;Ye?(Ye.___id=++zl,Ye.done=!1,mt=Ye.continue.bind(Ye),$t=($t=Ye.continuePrimaryKey)&&$t.bind(Ye),Ge=Ye.advance.bind(Ye),Dn=function(){throw new Error("Cursor not stopped")},Ye.trans=K,Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=function(){throw new Error("Cursor not started")},Ye.fail=Sn(qe),Ye.next=function(){var en=this,cn=1;return this.start(function(){return cn--?en.continue():en.stop()}).then(function(){return en})},Ye.start=function(en){function cn(){if(We.result)try{en()}catch(pn){Ye.fail(pn)}else Ye.done=!0,Ye.start=function(){throw new Error("Cursor behind last entry")},Ye.stop()}var Gi=new Promise(function(pn,Go){pn=Sn(pn),We.onerror=Ti(Go),Ye.fail=Go,Ye.stop=function(iu){Ye.stop=Ye.continue=Ye.continuePrimaryKey=Ye.advance=Dn,pn(iu)}});return We.onsuccess=Sn(function(pn){We.onsuccess=cn,cn()}),Ye.continue=mt,Ye.continuePrimaryKey=$t,Ye.advance=Ge,cn(),Gi},Fe(Ye)):Fe(null)},qe)})},count:function(X){var K=X.query,ie=X.trans,ce=K.index,ue=K.range;return new Promise(function(_e,Fe){var qe=ie.objectStore(Y),Ve=ce.isPrimaryKey?qe:qe.index(ce.name);(Ve=(qe=b(ue))?Ve.count(qe):Ve.count()).onsuccess=Sn(function(Ue){return _e(Ue.target.result)}),Ve.onerror=Ti(Fe)})}}}),F={};return Z.forEach(function(te){return F[te.name]=te}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function(te){if(!F[te])throw new Error("Table '".concat(te,"' not found"));return F[te]},MIN_KEY:-1/0,MAX_KEY:Xc(p),schema:U}}function La(f,b){b=function Gl(f,p,v,b){return{dbcore:(b=$l(p,v.IDBKeyRange,b),f.dbcore.reduce(function(x,T){return T=T.create,B(B({},x),T(x))},b))}}(f._middlewares,b.db,f._deps,b),f.core=b.dbcore,f.tables.forEach(function(E){var x=E.name;f.core.schema.tables.some(function(T){return T.name===x})&&(E.core=f.core.table(x),f[x]instanceof f.Table&&(f[x].core=E.core))})}function bi(f,p,v,b){v.forEach(function(E){var x=b[E];p.forEach(function(T){var O=function U(q,Z){return pe(q,Z)||(q=L(q))&&U(q,Z)}(T,E);(!O||"value"in O&&void 0===O.value)&&(T===f.Transaction.prototype||T instanceof f.Transaction?j(T,E,{get:function(){return this.table(E)},set:function(U){k(this,E,{value:U,writable:!0,configurable:!0,enumerable:!0})}}):T[E]=new f.Table(E,x))})})}function ws(f,p){p.forEach(function(v){for(var b in v)v[b]instanceof f.Table&&delete v[b]})}function Kh(f,p){return f._cfg.version-p._cfg.version}function Zh(f,p){var v,b={del:[],add:[],change:[]};for(v in f)p[v]||b.del.push(v);for(v in p){var E=f[v],x=p[v];if(E){var T={name:v,def:x,recreate:!1,del:[],add:[],change:[]};if(""+(E.primKey.keyPath||"")!=""+(x.primKey.keyPath||"")||E.primKey.auto!==x.primKey.auto)T.recreate=!0,b.change.push(T);else{var O=E.idxByName,U=x.idxByName,q=void 0;for(q in O)U[q]||T.del.push(q);for(q in U){var Z=O[q],F=U[q];Z?Z.src!==F.src&&T.change.push(F):T.add.push(F)}(0<T.del.length||0<T.add.length||0<T.change.length)&&b.change.push(T)}}else b.add.push([v,x])}return b}function Wl(f,p,v,b){var E=f.db.createObjectStore(p,v.keyPath?{keyPath:v.keyPath,autoIncrement:v.auto}:{autoIncrement:v.auto});return b.forEach(function(x){return ql(E,x)}),E}function Xh(f,p){V(f).forEach(function(v){p.db.objectStoreNames.contains(v)||(Jr&&console.debug("Dexie: Creating missing table",v),Wl(p,v,f[v].primKey,f[v].indexes))})}function ql(f,p){f.createIndex(p.name,p.keyPath,{unique:p.unique,multiEntry:p.multi})}function Qc(f,p,v){var b={};return Ne(p.objectStoreNames,0).forEach(function(E){for(var x=v.objectStore(E),T=Ul(Zc(q=x.keyPath),q||"",!0,!1,!!x.autoIncrement,q&&"string"!=typeof q,!0),O=[],U=0;U<x.indexNames.length;++U){var q=(Z=x.index(x.indexNames[U])).keyPath,Z=Ul(Z.name,q,!!Z.unique,!!Z.multiEntry,!1,q&&"string"!=typeof q,!1);O.push(Z)}b[E]=qh(E,T,O)}),b}function Js(f,p,v){for(var b=v.db.objectStoreNames,E=0;E<b.length;++E){var x=b[E],T=v.objectStore(x);f._hasGetAll="getAll"in T;for(var O=0;O<T.indexNames.length;++O){var U=T.indexNames[O],q=T.index(U).keyPath,Z="string"==typeof q?q:"["+Ne(q).join("+")+"]";!p[x]||(q=p[x].idxByName[Z])&&(q.name=U,delete p[x].idxByName[Z],p[x].idxByName[U]=q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&J.WorkerGlobalScope&&J instanceof J.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function Yt(f){return f.split(",").map(function(p,v){var b=(p=p.trim()).replace(/([&*]|\+\+)/g,""),E=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return Ul(b,E||null,/\&/.test(p),/\*/.test(p),/\+\+/.test(p),W(E),0===v)})}var Yl=(Va.prototype._parseStoresSpec=function(f,p){V(f).forEach(function(v){if(null!==f[v]){var b=Yt(f[v]),E=b.shift();if(E.unique=!0,E.multi)throw new ae.Schema("Primary key cannot be multi-valued");b.forEach(function(x){if(x.auto)throw new ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!x.keyPath)throw new ae.Schema("Index must have a name and cannot be an empty string")}),p[v]=qh(v,E,b)}})},Va.prototype.stores=function(v){var p=this.db;this._cfg.storesSource=this._cfg.storesSource?R(this._cfg.storesSource,v):v;var b={},E={};return(v=p._versions).forEach(function(x){R(b,x._cfg.storesSource),E=x._cfg.dbschema={},x._parseStoresSpec(b,E)}),p._dbSchema=E,ws(p,[p._allTables,p,p.Transaction.prototype]),bi(p,[p._allTables,p,p.Transaction.prototype,this._cfg.tables],V(E),E),p._storeNames=V(E),this},Va.prototype.upgrade=function(f){return this._cfg.contentUpgrade=Ii(this._cfg.contentUpgrade||vt,f),this},Va);function Va(){}function Ar(f,p){var v=f._dbNamesDB;return v||(v=f._dbNamesDB=new zo(Qs,{addons:[],indexedDB:f,IDBKeyRange:p})).version(1).stores({dbnames:"name"}),v.table("dbnames")}function Jc(f){return f&&"function"==typeof f.databases}function Qh(f){return oo(function(){return ft.letThrough=!0,f()})}function Jh(f){return!("from"in f)}var tr=function(f,p){if(!this){var v=new tr;return f&&"d"in f&&R(v,f),v}R(this,arguments.length?{d:1,from:f,to:1<arguments.length?p:f}:{d:0})};function Es(f,p,v){var b=Jt(p,v);if(!isNaN(b)){if(0<b)throw RangeError();if(Jh(f))return R(f,{from:p,to:v,d:1});var E=f.l;if(b=f.r,Jt(v,f.from)<0)return E?Es(E,p,v):f.l={from:p,to:v,d:1,l:null,r:null},tp(f);if(0<Jt(p,f.to))return b?Es(b,p,v):f.r={from:p,to:v,d:1,l:null,r:null},tp(f);Jt(p,f.from)<0&&(f.from=p,f.l=null,f.d=b?b.d+1:1),0<Jt(v,f.to)&&(f.to=v,f.r=null,f.d=f.l?f.l.d+1:1),v=!f.r,E&&!f.l&&jo(f,E),b&&v&&jo(f,b)}}function jo(f,p){Jh(p)||function v(b,U){var x=U.from,T=U.to,O=U.l;U=U.r,Es(b,x,T),O&&v(b,O),U&&v(b,U)}(f,p)}function ep(f,p){var v=eu(p),b=v.next();if(b.done)return!1;for(var E=b.value,x=eu(f),T=x.next(E.from),O=T.value;!b.done&&!T.done;){if(Jt(O.from,E.to)<=0&&0<=Jt(O.to,E.from))return!0;Jt(E.from,O.from)<0?E=(b=v.next(O.from)).value:O=(T=x.next(E.from)).value}return!1}function eu(f){var p=Jh(f)?null:{s:0,n:f};return{next:function(v){for(var b=0<arguments.length;p;)switch(p.s){case 0:if(p.s=1,b)for(;p.n.l&&Jt(v,p.n.from)<0;)p={up:p,n:p.n.l,s:1};else for(;p.n.l;)p={up:p,n:p.n.l,s:1};case 1:if(p.s=2,!b||Jt(v,p.n.to)<=0)return{value:p.n,done:!1};case 2:if(p.n.r){p.s=3,p={up:p,n:p.n.r,s:0};continue}case 3:p=p.up}return{done:!0}}}}function tp(f){var p,v,b=((null===(p=f.r)||void 0===p?void 0:p.d)||0)-((null===(v=f.l)||void 0===v?void 0:v.d)||0),E=1<b?"r":b<-1?"l":"";E&&(p="r"==E?"l":"r",v=B({},f),f.from=(b=f[E]).from,f.to=b.to,f[E]=b[E],v[E]=b[p],(f[p]=v).d=Kl(v)),f.d=Kl(f)}function Kl(v){var p=v.r;return v=v.l,(p?v?Math.max(p.d,v.d):p.d:v?v.d:0)+1}function lo(f,p){return V(p).forEach(function(v){f[v]?jo(f[v],p[v]):f[v]=function b(E){var x,T,O={};for(x in E)N(E,x)&&(O[x]=!(T=E[x])||"object"!=typeof T||gt.has(T.constructor)?T:b(T));return O}(p[v])}),f}function Zl(f,p){return f.all||p.all||Object.keys(f).some(function(v){return p[v]&&ep(p[v],f[v])})}M(tr.prototype,((mr={add:function(f){return jo(this,f),this},addKey:function(f){return Es(this,f,f),this},addKeys:function(f){var p=this;return f.forEach(function(v){return Es(p,v,v)}),this},hasKey:function(f){var p=eu(this).next(f).value;return p&&Jt(p.from,f)<=0&&0<=Jt(p.to,f)}})[Le]=function(){return eu(this)},mr));var Br={},Xl={},Re=!1;function Ba(f){lo(Xl,f),Re||(Re=!0,setTimeout(function(){Re=!1,Et(Xl,!(Xl={}))},0))}function Et(f,p){void 0===p&&(p=!1);var v=new Set;if(f.all)for(var b=0,E=Object.values(Br);b<E.length;b++)ja(T=E[b],f,v,p);else for(var x in f){var T,O=/^idb\:\/\/(.*)\/(.*)\//.exec(x);O&&(x=O[1],O=O[2],(T=Br["idb://".concat(x,"/").concat(O)])&&ja(T,f,v,p))}v.forEach(function(U){return U()})}function ja(f,p,v,b){for(var E=[],x=0,T=Object.entries(f.queries.query);x<T.length;x++){for(var O=T[x],U=O[0],q=[],Z=0,F=O[1];Z<F.length;Z++){var te=F[Z];Zl(p,te.obsSet)?te.subscribers.forEach(function(K){return v.add(K)}):b&&q.push(te)}b&&E.push([U,q])}if(b)for(var z=0,Y=E;z<Y.length;z++){var X=Y[z];f.queries.query[U=X[0]]=q=X[1]}}function Ql(f){var p=f._state,v=f._deps.indexedDB;if(p.isBeingOpened||f.idbdb)return p.dbReadyPromise.then(function(){return p.dbOpenError?Jn(p.dbOpenError):f});p.isBeingOpened=!0,p.dbOpenError=null,p.openComplete=!1;var b=p.openCanceller,E=Math.round(10*f.verno),x=!1;function T(){if(p.openCanceller!==b)throw new ae.DatabaseClosed("db.open() was cancelled")}var U,q=p.dbReadyResolve,Z=null,F=!1;return Qe.race([b,(typeof navigator>"u"?Qe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(te){function z(){return indexedDB.databases().finally(te)}U=setInterval(z,100),z()}).finally(function(){return clearInterval(U)}):Promise.resolve()).then(function O(){return new Qe(function(te,z){if(T(),!v)throw new ae.MissingAPI;var Y=f.name,X=p.autoSchema||!E?v.open(Y):v.open(Y,E);if(!X)throw new ae.MissingAPI;X.onerror=Ti(z),X.onblocked=Sn(f._fireOnBlocked),X.onupgradeneeded=Sn(function(K){var ie;Z=X.transaction,p.autoSchema&&!f._options.allowEmptyDB?(X.onerror=Pa,Z.abort(),X.result.close(),(ie=v.deleteDatabase(Y)).onsuccess=ie.onerror=Sn(function(){z(new ae.NoSuchDatabase("Database ".concat(Y," doesnt exist")))})):(Z.onerror=Ti(z),K=K.oldVersion>Math.pow(2,62)?0:K.oldVersion,F=K<1,f.idbdb=X.result,x&&function dn(f,p){Xh(f._dbSchema,p),p.db.version%10!=0||p.objectStoreNames.contains("$meta")||p.db.createObjectStore("$meta").add(Math.ceil(p.db.version/10-1),"version");var v=Qc(0,f.idbdb,p);Js(f,f._dbSchema,p);for(var b=0,E=Zh(v,f._dbSchema).change;b<E.length;b++){var x=function(T){if(T.change.length||T.recreate)return console.warn("Unable to patch indexes of table ".concat(T.name," because it has changes on the type of index or primary key.")),{value:void 0};var O=p.objectStore(T.name);T.add.forEach(function(U){Jr&&console.debug("Dexie upgrade patch: Creating missing index ".concat(T.name,".").concat(U.src)),ql(O,U)})}(E[b]);if("object"==typeof x)return x.value}}(f,Z),function Ot(f,p,v,b){var E=f._dbSchema;v.objectStoreNames.contains("$meta")&&!E.$meta&&(E.$meta=qh("$meta",Yt("")[0],[]),f._storeNames.push("$meta"));var x=f._createTransaction("readwrite",f._storeNames,E);x.create(v),x._completion.catch(b);var T=x._reject.bind(x),O=ft.transless||ft;oo(function(){return ft.trans=x,ft.transless=O,0!==p?(La(f,v),q=p,((U=x).storeNames.includes("$meta")?U.table("$meta").get("version").then(function(Z){return Z??q}):Qe.resolve(q)).then(function(Z){return te=Z,z=x,X=[],Z=(F=f)._versions,K=F._dbSchema=Qc(0,F.idbdb,Y=v),0!==(Z=Z.filter(function(ie){return ie._cfg.version>=te})).length?(Z.forEach(function(ie){X.push(function(){var ce=K,ue=ie._cfg.dbschema;Js(F,ce,Y),Js(F,ue,Y),K=F._dbSchema=ue;var _e=Zh(ce,ue);_e.add.forEach(function(ze){Wl(Y,ze[0],ze[1].primKey,ze[1].indexes)}),_e.change.forEach(function(ze){if(ze.recreate)throw new ae.Upgrade("Not yet support for changing primary key");var We=Y.objectStore(ze.name);ze.add.forEach(function(rt){return ql(We,rt)}),ze.change.forEach(function(rt){We.deleteIndex(rt.name),ql(We,rt)}),ze.del.forEach(function(rt){return We.deleteIndex(rt)})});var Fe=ie._cfg.contentUpgrade;if(Fe&&ie._cfg.version>te){La(F,Y),z._memoizedTables={};var qe=Pe(ue);_e.del.forEach(function(ze){qe[ze]=ce[ze]}),ws(F,[F.Transaction.prototype]),bi(F,[F.Transaction.prototype],V(qe),qe),z.schema=qe;var Ve,Ue=Si(Fe);return Ue&&Lr(),_e=Qe.follow(function(){var ze;(Ve=Fe(z))&&Ue&&(ze=ei.bind(null,null),Ve.then(ze,ze))}),Ve&&"function"==typeof Ve.then?Qe.resolve(Ve):_e.then(function(){return Ve})}}),X.push(function(ce){var ue,_e;ue=ie._cfg.dbschema,[].slice.call((_e=ce).db.objectStoreNames).forEach(function(qe){return null==ue[qe]&&_e.db.deleteObjectStore(qe)}),ws(F,[F.Transaction.prototype]),bi(F,[F.Transaction.prototype],F._storeNames,F._dbSchema),z.schema=F._dbSchema}),X.push(function(ce){F.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(F.idbdb.version/10)===ie._cfg.version?(F.idbdb.deleteObjectStore("$meta"),delete F._dbSchema.$meta,F._storeNames=F._storeNames.filter(function(ue){return"$meta"!==ue})):ce.objectStore("$meta").put(ie._cfg.version,"version"))})}),function ie(){return X.length?Qe.resolve(X.shift()(z.idbtrans)).then(ie):Qe.resolve()}().then(function(){Xh(K,Y)})):Qe.resolve();var F,te,z,Y,X,K}).catch(T)):(V(E).forEach(function(Z){Wl(v,Z,E[Z].primKey,E[Z].indexes)}),La(f,v),void Qe.follow(function(){return f.on.populate.fire(x)}).catch(T));var U,q})}(f,K/10,Z,z))},z),X.onsuccess=Sn(function(){Z=null;var K,ie,ce,ue,_e,Fe=f.idbdb=X.result,qe=Ne(Fe.objectStoreNames);if(0<qe.length)try{var Ve=Fe.transaction(1===(ue=qe).length?ue[0]:ue,"readonly");if(p.autoSchema)ce=Ve,(K=f).verno=(ie=Fe).version/10,ce=K._dbSchema=Qc(0,ie,ce),K._storeNames=Ne(ie.objectStoreNames,0),bi(K,[K._allTables],V(ce),ce);else if(Js(f,f._dbSchema,Ve),((_e=Zh(Qc(0,(_e=f).idbdb,Ve),_e._dbSchema)).add.length||_e.change.some(function(Ue){return Ue.add.length||Ue.change.length}))&&!x)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Fe.close(),E=Fe.version+1,x=!0,te(O());La(f,Ve)}catch{}Nn.push(f),Fe.onversionchange=Sn(function(Ue){p.vcFired=!0,f.on("versionchange").fire(Ue)}),Fe.onclose=Sn(function(Ue){f.on("close").fire(Ue)}),F&&(Ve=Y,Fe=(_e=f._deps).indexedDB,_e=_e.IDBKeyRange,Jc(Fe)||Ve===Qs||Ar(Fe,_e).put({name:Ve}).catch(vt)),te()},z)}).catch(function(te){switch(te?.name){case"UnknownError":if(0<p.PR1398_maxLoop)return p.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),O();break;case"VersionError":if(0<E)return E=0,O()}return Qe.reject(te)})})]).then(function(){return T(),p.onReadyBeingFired=[],Qe.resolve(Qh(function(){return f.on.ready.fire(f.vip)})).then(function te(){if(0<p.onReadyBeingFired.length){var z=p.onReadyBeingFired.reduce(Ii,vt);return p.onReadyBeingFired=[],Qe.resolve(Qh(function(){return z(f.vip)})).then(te)}})}).finally(function(){p.openCanceller===b&&(p.onReadyBeingFired=null,p.isBeingOpened=!1)}).catch(function(te){p.dbOpenError=te;try{Z&&Z.abort()}catch{}return b===p.openCanceller&&f._close(),Jn(te)}).finally(function(){p.openComplete=!0,q()}).then(function(){var te;return F&&(te={},f.tables.forEach(function(z){z.schema.indexes.forEach(function(Y){Y.name&&(te["idb://".concat(f.name,"/").concat(z.name,"/").concat(Y.name)]=new tr(-1/0,[[[]]]))}),te["idb://".concat(f.name,"/").concat(z.name,"/")]=te["idb://".concat(f.name,"/").concat(z.name,"/:dels")]=new tr(-1/0,[[[]]])}),zi(et).fire(te),Et(te,!0)),f})}function Cs(f){function p(x){return f.next(x)}var v=E(p),b=E(function(x){return f.throw(x)});function E(x){return function(U){var O=x(U);return U=O.value,O.done?U:U&&"function"==typeof U.then?U.then(v,b):W(U)?Promise.all(U).then(v,b):v(U)}}return E(p)()}function tu(f,p,v){for(var b=W(f)?f.slice():[f],E=0;E<v;++E)b.push(p);return b}var $y={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return B(B({},f),{table:function(p){var v=f.table(p),b=v.schema,E={},x=[];function T(F,te,z){var Y=uo(F),X=E[Y]=E[Y]||[],K=null==F?0:"string"==typeof F?1:F.length,ie=0<te;return ie=B(B({},z),{name:ie?"".concat(Y,"(virtual-from:").concat(z.name,")"):z.name,lowLevelIndex:z,isVirtual:ie,keyTail:te,keyLength:K,extractKey:Yh(F),unique:!ie&&z.unique}),X.push(ie),ie.isPrimaryKey||x.push(ie),1<K&&T(2===K?F[0]:F.slice(0,K-1),te+1,z),X.sort(function(ce,ue){return ce.keyTail-ue.keyTail}),ie}p=T(b.primaryKey.keyPath,0,b.primaryKey),E[":id"]=[p];for(var O=0,U=b.indexes;O<U.length;O++){var q=U[O];T(q.keyPath,0,q)}function Z(F){var te,z=F.query.index;return z.isVirtual?B(B({},F),{query:{index:z.lowLevelIndex,range:(te=F.query.range,z=z.keyTail,{type:1===te.type?2:te.type,lower:tu(te.lower,te.lowerOpen?f.MAX_KEY:f.MIN_KEY,z),lowerOpen:!0,upper:tu(te.upper,te.upperOpen?f.MIN_KEY:f.MAX_KEY,z),upperOpen:!0})}}):F}return B(B({},v),{schema:B(B({},b),{primaryKey:p,indexes:x,getIndexByKeyPath:function(F){return(F=E[uo(F)])&&F[0]}}),count:function(F){return v.count(Z(F))},query:function(F){return v.query(Z(F))},openCursor:function(F){var te=F.query.index,z=te.keyTail,X=te.keyLength;return te.isVirtual?v.openCursor(Z(F)).then(function(ie){return ie&&function K(ie){return Object.create(ie,{continue:{value:function(ce){null!=ce?ie.continue(tu(ce,F.reverse?f.MAX_KEY:f.MIN_KEY,z)):F.unique?ie.continue(ie.key.slice(0,X).concat(F.reverse?f.MIN_KEY:f.MAX_KEY,z)):ie.continue()}},continuePrimaryKey:{value:function(ce,ue){ie.continuePrimaryKey(tu(ce,f.MAX_KEY,z),ue)}},primaryKey:{get:function(){return ie.primaryKey}},key:{get:function(){var ce=ie.key;return 1===X?ce[0]:ce.slice(0,X)}},value:{get:function(){return ie.value}}})}(ie)}):v.openCursor(F)}})}})}};function Jl(f,p,v,b){return v=v||{},b=b||"",V(f).forEach(function(E){var x,T,O;N(p,E)?(T=p[E],"object"==typeof(x=f[E])&&"object"==typeof T&&x&&T?(O=Ae(x))!==Ae(T)?v[b+E]=p[E]:"Object"===O?Jl(x,T,v,b+E+"."):x!==T&&(v[b+E]=p[E]):x!==T&&(v[b+E]=p[E])):v[b+E]=void 0}),V(p).forEach(function(E){N(f,E)||(v[b+E]=p[E])}),v}function ed(f,p){return"delete"===p.type?p.keys:p.keys||p.values.map(f.extractKey)}var td={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return B(B({},f),{table:function(p){var v=f.table(p),b=v.schema.primaryKey;return B(B({},v),{mutate:function(E){var x=ft.trans,T=x.table(p).hook,O=T.deleting,U=T.creating,q=T.updating;switch(E.type){case"add":if(U.fire===vt)break;return x._promise("readwrite",function(){return Z(E)},!0);case"put":if(U.fire===vt&&q.fire===vt)break;return x._promise("readwrite",function(){return Z(E)},!0);case"delete":if(O.fire===vt)break;return x._promise("readwrite",function(){return Z(E)},!0);case"deleteRange":if(O.fire===vt)break;return x._promise("readwrite",function(){return function F(te,z,Y){return v.query({trans:te,values:!1,query:{index:b,range:z},limit:Y}).then(function(X){var K=X.result;return Z({type:"delete",keys:K,trans:te}).then(function(ie){return 0<ie.numFailures?Promise.reject(ie.failures[0]):K.length<Y?{failures:[],numFailures:0,lastResult:void 0}:F(te,B(B({},z),{lower:K[K.length-1],lowerOpen:!0}),Y)})})}(E.trans,E.range,1e4)},!0)}return v.mutate(E);function Z(F){var te,z,Y,X=ft.trans,K=F.keys||ed(b,F);if(!K)throw new Error("Keys missing");return"delete"!==(F="add"===F.type||"put"===F.type?B(B({},F),{keys:K}):B({},F)).type&&(F.values=le([],F.values,!0)),F.keys&&(F.keys=le([],F.keys,!0)),te=v,Y=K,("add"===(z=F).type?Promise.resolve([]):te.getMany({trans:z.trans,keys:Y,cache:"immutable"})).then(function(ie){var ce=K.map(function(ue,_e){var Fe,qe,Ve,Ue=ie[_e],ze={onerror:null,onsuccess:null};return"delete"===F.type?O.fire.call(ze,ue,Ue,X):"add"===F.type||void 0===Ue?(Fe=U.fire.call(ze,ue,F.values[_e],X),null==ue&&null!=Fe&&(F.keys[_e]=ue=Fe,b.outbound||be(F.values[_e],b.keyPath,ue))):(Fe=Jl(Ue,F.values[_e]),(qe=q.fire.call(ze,Fe,ue,Ue,X))&&(Ve=F.values[_e],Object.keys(qe).forEach(function(We){N(Ve,We)?Ve[We]=qe[We]:be(Ve,We,qe[We])}))),ze});return v.mutate(F).then(function(ue){for(var _e=ue.failures,Fe=ue.results,qe=ue.numFailures,Ve=(ue=ue.lastResult,0);Ve<K.length;++Ve){var Ue=(Fe||K)[Ve],ze=ce[Ve];null==Ue?ze.onerror&&ze.onerror(_e[Ve]):ze.onsuccess&&ze.onsuccess("put"===F.type&&ie[Ve]?F.values[Ve]:Ue)}return{failures:_e,results:Fe,numFailures:qe,lastResult:ue}}).catch(function(ue){return ce.forEach(function(_e){return _e.onerror&&_e.onerror(ue)}),Promise.reject(ue)})})}}})}})}};function np(f,p,v){try{if(!p||p.keys.length<f.length)return null;for(var b=[],E=0,x=0;E<p.keys.length&&x<f.length;++E)0===Jt(p.keys[E],f[x])&&(b.push(v?ge(p.values[E]):p.values[E]),++x);return b.length===f.length?b:null}catch{return null}}var nd={stack:"dbcore",level:-1,create:function(f){return{table:function(p){var v=f.table(p);return B(B({},v),{getMany:function(b){if(!b.cache)return v.getMany(b);var E=np(b.keys,b.trans._cache,"clone"===b.cache);return E?Qe.resolve(E):v.getMany(b).then(function(x){return b.trans._cache={keys:b.keys,values:"clone"===b.cache?ge(x):x},x})},mutate:function(b){return"add"!==b.type&&(b.trans._cache=null),v.mutate(b)}})}}}};function rp(f,p){return"readonly"===f.trans.mode&&!!f.subscr&&!f.trans.explicit&&"disabled"!==f.trans.db._options.cache&&!p.schema.primaryKey.outbound}function Ho(f,p){switch(f){case"query":return p.values&&!p.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Gy={stack:"dbcore",level:0,name:"Observability",create:function(f){var p=f.schema.name,v=new tr(f.MIN_KEY,f.MAX_KEY);return B(B({},f),{transaction:function(b,E,x){if(ft.subscr&&"readonly"!==E)throw new ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ft.querier));return f.transaction(b,E,x)},table:function(b){var E=f.table(b),x=E.schema,T=x.primaryKey,F=x.indexes,O=T.extractKey,U=T.outbound,q=T.autoIncrement&&F.filter(function(z){return z.compound&&z.keyPath.includes(T.keyPath)}),Z=B(B({},E),{mutate:function(z){function Y(We){return We="idb://".concat(p,"/").concat(b,"/").concat(We),ue[We]||(ue[We]=new tr)}var X,K,ie,ce=z.trans,ue=z.mutatedParts||(z.mutatedParts={}),_e=Y(""),Fe=Y(":dels"),qe=z.type,Ve=(ze="deleteRange"===z.type?[z.range]:"delete"===z.type?[z.keys]:z.values.length<50?[ed(T,z).filter(function(We){return We}),z.values]:[])[0],Ue=ze[1],ze=z.trans._cache;return W(Ve)?(_e.addKeys(Ve),(ze="delete"===qe||Ve.length===Ue.length?np(Ve,ze):null)||Fe.addKeys(Ve),(ze||Ue)&&(X=Y,K=ze,ie=Ue,x.indexes.forEach(function(We){var rt=X(We.name||"");function mt(Ge){return null!=Ge?We.extractKey(Ge):null}function $t(Ge){return We.multiEntry&&W(Ge)?Ge.forEach(function(Dn){return rt.addKey(Dn)}):rt.addKey(Ge)}(K||ie).forEach(function(Ge,en){var Ye=K&&mt(K[en]);0!==Jt(Ye,en=ie&&mt(ie[en]))&&(null!=Ye&&$t(Ye),null!=en&&$t(en))})}))):Ve?(Ue={from:null!==(Ue=Ve.lower)&&void 0!==Ue?Ue:f.MIN_KEY,to:null!==(Ue=Ve.upper)&&void 0!==Ue?Ue:f.MAX_KEY},Fe.add(Ue),_e.add(Ue)):(_e.add(v),Fe.add(v),x.indexes.forEach(function(We){return Y(We.name).add(v)})),E.mutate(z).then(function(We){return!Ve||"add"!==z.type&&"put"!==z.type||(_e.addKeys(We.results),q&&q.forEach(function(rt){for(var mt=z.values.map(function(Ye){return rt.extractKey(Ye)}),$t=rt.keyPath.findIndex(function(Ye){return Ye===T.keyPath}),Ge=0,Dn=We.results.length;Ge<Dn;++Ge)mt[Ge][$t]=We.results[Ge];Y(rt.name).addKeys(mt)})),ce.mutatedParts=lo(ce.mutatedParts||{},ue),We})}}),te={get:function(z){return[T,new tr(z.key)]},getMany:function(z){return[T,(new tr).addKeys(z.keys)]},count:F=function(Y){var X;return[Y=(X=Y.query).index,new tr(null!==(Y=(X=X.range).lower)&&void 0!==Y?Y:f.MIN_KEY,null!==(X=X.upper)&&void 0!==X?X:f.MAX_KEY)]},query:F,openCursor:F};return V(te).forEach(function(z){Z[z]=function(Y){var K=!!(X=ft.subscr),ie=rp(ft,E)&&Ho(z,Y)?Y.obsSet={}:X;if(K){var ce=function(Ue){return Ue="idb://".concat(p,"/").concat(b,"/").concat(Ue),ie[Ue]||(ie[Ue]=new tr)},ue=ce(""),_e=ce(":dels"),X=(K=(X=te[z](Y))[0],X[1]);if(("query"===z&&K.isPrimaryKey&&!Y.values?_e:ce(K.name||"")).add(X),!K.isPrimaryKey){if("count"!==z){var Fe="query"===z&&U&&Y.values&&E.query(B(B({},Y),{values:!1}));return E[z].apply(this,arguments).then(function(Ue){if("query"===z){if(U&&Y.values)return Fe.then(function(mt){return ue.addKeys(mt=mt.result),Ue});var ze=Y.values?Ue.result.map(O):Ue.result;(Y.values?ue:_e).addKeys(ze)}else if("openCursor"===z){var We=Ue,rt=Y.values;return We&&Object.create(We,{key:{get:function(){return _e.addKey(We.primaryKey),We.key}},primaryKey:{get:function(){var mt=We.primaryKey;return _e.addKey(mt),mt}},value:{get:function(){return rt&&ue.addKey(We.primaryKey),We.value}}})}return Ue})}_e.add(v)}}return E[z].apply(this,arguments)}}),Z}})}};function Or(f,p,v){return 0===v.numFailures?p:"deleteRange"===p.type||v.numFailures===(p.keys?p.keys.length:"values"in p&&p.values?p.values.length:1)?null:(p=B({},p),W(p.keys)&&(p.keys=p.keys.filter(function(E,x){return!(x in v.failures)})),"values"in p&&W(p.values)&&(p.values=p.values.filter(function(E,x){return!(x in v.failures)})),p)}function Uo(f,p){return v=f,(void 0===(b=p).lower||(b.lowerOpen?0<Jt(v,b.lower):0<=Jt(v,b.lower)))&&(void 0===p.upper||(p.upperOpen?Jt(f,p.upper)<0:Jt(f,p.upper)<=0));var v,b}function rd(f,p,te,b,E,x){if(!te||0===te.length)return f;var T=p.query.index,O=T.multiEntry,U=p.query.range,q=b.schema.primaryKey.extractKey,Z=T.extractKey,F=(T.lowLevelIndex||T).extractKey;return(te=te.reduce(function(z,Y){var X=z,K=[];if("add"===Y.type||"put"===Y.type)for(var ie=new tr,ce=Y.values.length-1;0<=ce;--ce){var ue,_e=Y.values[ce],Fe=q(_e);ie.hasKey(Fe)||(ue=Z(_e),(O&&W(ue)?ue.some(function(We){return Uo(We,U)}):Uo(ue,U))&&(ie.addKey(Fe),K.push(_e)))}switch(Y.type){case"add":var qe=(new tr).addKeys(p.values?z.map(function(rt){return q(rt)}):z);X=z.concat(p.values?K.filter(function(rt){return rt=q(rt),!qe.hasKey(rt)&&(qe.addKey(rt),!0)}):K.map(function(rt){return q(rt)}).filter(function(rt){return!qe.hasKey(rt)&&(qe.addKey(rt),!0)}));break;case"put":var Ve=(new tr).addKeys(Y.values.map(function(rt){return q(rt)}));X=z.filter(function(rt){return!Ve.hasKey(p.values?q(rt):rt)}).concat(p.values?K:K.map(function(rt){return q(rt)}));break;case"delete":var Ue=(new tr).addKeys(Y.keys);X=z.filter(function(rt){return!Ue.hasKey(p.values?q(rt):rt)});break;case"deleteRange":var ze=Y.range;X=z.filter(function(rt){return!Uo(q(rt),ze)})}return X},f))===f?f:(te.sort(function(z,Y){return Jt(F(z),F(Y))||Jt(q(z),q(Y))}),p.limit&&p.limit<1/0&&(te.length>p.limit?te.length=p.limit:f.length===p.limit&&te.length<p.limit&&(E.dirty=!0)),x?Object.freeze(te):te)}function Ha(f,p){return 0===Jt(f.lower,p.lower)&&0===Jt(f.upper,p.upper)&&!!f.lowerOpen==!!p.lowerOpen&&!!f.upperOpen==!!p.upperOpen}var yD={stack:"dbcore",level:0,name:"Cache",create:function(f){var p=f.schema.name;return B(B({},f),{transaction:function(v,b,E){var x,T,O=f.transaction(v,b,E);return"readwrite"===b&&(T=(x=new AbortController).signal,O.addEventListener("abort",(E=function(U){return function(){if(x.abort(),"readwrite"===b){for(var q=new Set,Z=0,F=v;Z<F.length;Z++){var te=F[Z],z=Br["idb://".concat(p,"/").concat(te)];if(z){var Y=f.table(te),X=z.optimisticOps.filter(function(rt){return rt.trans===O});if(O._explicit&&U&&O.mutatedParts)for(var K=0,ie=Object.values(z.queries.query);K<ie.length;K++)for(var ce=0,ue=(qe=ie[K]).slice();ce<ue.length;ce++)Zl((Ve=ue[ce]).obsSet,O.mutatedParts)&&(Tt(qe,Ve),Ve.subscribers.forEach(function(rt){return q.add(rt)}));else if(0<X.length){z.optimisticOps=z.optimisticOps.filter(function(rt){return rt.trans!==O});for(var _e=0,Fe=Object.values(z.queries.query);_e<Fe.length;_e++)for(var qe,Ve,Ue,ze=0,We=(qe=Fe[_e]).slice();ze<We.length;ze++)null!=(Ve=We[ze]).res&&O.mutatedParts&&(U&&!Ve.dirty?(Ue=Object.isFrozen(Ve.res),Ue=rd(Ve.res,Ve.req,X,Y,Ve,Ue),Ve.dirty?(Tt(qe,Ve),Ve.subscribers.forEach(function(rt){return q.add(rt)})):Ue!==Ve.res&&(Ve.res=Ue,Ve.promise=Qe.resolve({result:Ue}))):(Ve.dirty&&Tt(qe,Ve),Ve.subscribers.forEach(function(rt){return q.add(rt)})))}}}q.forEach(function(rt){return rt()})}}})(!1),{signal:T}),O.addEventListener("error",E(!1),{signal:T}),O.addEventListener("complete",E(!0),{signal:T})),O},table:function(v){var b=f.table(v),E=b.schema.primaryKey;return B(B({},b),{mutate:function(x){var T=ft.trans;if(E.outbound||"disabled"===T.db._options.cache||T.explicit||"readwrite"!==T.idbtrans.mode)return b.mutate(x);var O=Br["idb://".concat(p,"/").concat(v)];return O?(T=b.mutate(x),"add"!==x.type&&"put"!==x.type||!(50<=x.values.length||ed(E,x).some(function(U){return null==U}))?(O.optimisticOps.push(x),x.mutatedParts&&Ba(x.mutatedParts),T.then(function(U){0<U.numFailures&&(Tt(O.optimisticOps,x),(U=Or(0,x,U))&&O.optimisticOps.push(U),x.mutatedParts&&Ba(x.mutatedParts))}),T.catch(function(){Tt(O.optimisticOps,x),x.mutatedParts&&Ba(x.mutatedParts)})):T.then(function(U){var q=Or(0,B(B({},x),{values:x.values.map(function(Z,F){var te;return U.failures[F]||be(Z=null!==(te=E.keyPath)&&void 0!==te&&te.includes(".")?ge(Z):B({},Z),E.keyPath,U.results[F]),Z})}),U);O.optimisticOps.push(q),queueMicrotask(function(){return x.mutatedParts&&Ba(x.mutatedParts)})}),T):b.mutate(x)},query:function(x){if(!rp(ft,b)||!Ho("query",x))return b.query(x);var T="immutable"===(null===(q=ft.trans)||void 0===q?void 0:q.db._options.cache),O=(F=ft).requery,U=F.signal,q=function(Y,X,K,ie){var ce=Br["idb://".concat(Y,"/").concat(X)];if(!ce)return[];if(!(X=ce.queries[K]))return[null,!1,ce,null];var ue=X[(ie.query?ie.query.index.name:null)||""];if(!ue)return[null,!1,ce,null];switch(K){case"query":var _e=ue.find(function(Fe){return Fe.req.limit===ie.limit&&Fe.req.values===ie.values&&Ha(Fe.req.query.range,ie.query.range)});return _e?[_e,!0,ce,ue]:[ue.find(function(Fe){return("limit"in Fe.req?Fe.req.limit:1/0)>=ie.limit&&(!ie.values||Fe.req.values)&&function nu(f,p){return function(v,b,E,x){if(void 0===v)return void 0!==b?-1:0;if(void 0===b)return 1;if(0===(b=Jt(v,b))){if(E&&x)return 0;if(E)return 1;if(x)return-1}return b}(f.lower,p.lower,f.lowerOpen,p.lowerOpen)<=0&&0<=function(v,b,E,x){if(void 0===v)return void 0!==b?1:0;if(void 0===b)return-1;if(0===(b=Jt(v,b))){if(E&&x)return 0;if(E)return-1;if(x)return 1}return b}(f.upper,p.upper,f.upperOpen,p.upperOpen)}(Fe.req.query.range,ie.query.range)}),!1,ce,ue];case"count":return[_e=ue.find(function(Fe){return Ha(Fe.req.query.range,ie.query.range)}),!!_e,ce,ue]}}(p,v,"query",x),Z=q[0],F=q[1],te=q[2],z=q[3];return Z&&F?Z.obsSet=x.obsSet:(F=b.query(x).then(function(Y){var X=Y.result;if(Z&&(Z.res=X),T){for(var K=0,ie=X.length;K<ie;++K)Object.freeze(X[K]);Object.freeze(X)}else Y.result=ge(X);return Y}).catch(function(Y){return z&&Z&&Tt(z,Z),Promise.reject(Y)}),Z={obsSet:x.obsSet,promise:F,subscribers:new Set,type:"query",req:x,dirty:!1},z?z.push(Z):(z=[Z],(te=te||(Br["idb://".concat(p,"/").concat(v)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[x.query.index.name||""]=z)),function id(f,p,v,b){f.subscribers.add(v),b.addEventListener("abort",function(){var E,x;f.subscribers.delete(v),0===f.subscribers.size&&(E=f,x=p,setTimeout(function(){0===E.subscribers.size&&Tt(x,E)},3e3))})}(Z,z,O,U),Z.promise.then(function(Y){return{result:rd(Y.result,x,te?.optimisticOps,b,Z,T)}})}})}})}};function Ua(f,p){return new Proxy(f,{get:function(v,b,E){return"db"===b?p:Reflect.get(v,b,E)}})}var zo=(nn.prototype.version=function(f){if(isNaN(f)||f<.1)throw new ae.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var p=this._versions,v=p.filter(function(b){return b._cfg.version===f})[0];return v||(v=new this.Version(f),p.push(v),p.sort(Kh),v.stores({}),this._state.autoSchema=!1,v)},nn.prototype._whenReady=function(f){var p=this;return this.idbdb&&(this._state.openComplete||ft.letThrough||this._vip)?f():new Qe(function(v,b){if(p._state.openComplete)return b(new ae.DatabaseClosed(p._state.dbOpenError));if(!p._state.isBeingOpened){if(!p._state.autoOpen)return void b(new ae.DatabaseClosed);p.open().catch(vt)}p._state.dbReadyPromise.then(v,b)}).then(f)},nn.prototype.use=function(f){var p=f.stack,v=f.create,b=f.level,E=f.name;return E&&this.unuse({stack:p,name:E}),(f=this._middlewares[p]||(this._middlewares[p]=[])).push({stack:p,create:v,level:b??10,name:E}),f.sort(function(x,T){return x.level-T.level}),this},nn.prototype.unuse=function(f){var p=f.stack,v=f.name,b=f.create;return p&&this._middlewares[p]&&(this._middlewares[p]=this._middlewares[p].filter(function(E){return b?E.create!==b:!!v&&E.name!==v})),this},nn.prototype.open=function(){var f=this;return yi(vi,function(){return Ql(f)})},nn.prototype._close=function(){var f=this._state,p=Nn.indexOf(this);if(0<=p&&Nn.splice(p,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new Qe(function(v){f.dbReadyResolve=v}),f.openCanceller=new Qe(function(v,b){f.cancelOpen=b}))},nn.prototype.close=function(v){var p=(void 0===v?{disableAutoOpen:!0}:v).disableAutoOpen;v=this._state,p?(v.isBeingOpened&&v.cancelOpen(new ae.DatabaseClosed),this._close(),v.autoOpen=!1,v.dbOpenError=new ae.DatabaseClosed):(this._close(),v.autoOpen=this._options.autoOpen||v.isBeingOpened,v.openComplete=!1,v.dbOpenError=null)},nn.prototype.delete=function(f){var p=this;void 0===f&&(f={disableAutoOpen:!0});var v=0<arguments.length&&"object"!=typeof arguments[0],b=this._state;return new Qe(function(E,x){function T(){p.close(f);var O=p._deps.indexedDB.deleteDatabase(p.name);O.onsuccess=Sn(function(){var U,q,Z;q=p.name,Z=(U=p._deps).indexedDB,U=U.IDBKeyRange,Jc(Z)||q===Qs||Ar(Z,U).delete(q).catch(vt),E()}),O.onerror=Ti(x),O.onblocked=p._fireOnBlocked}if(v)throw new ae.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(T):T()})},nn.prototype.backendDB=function(){return this.idbdb},nn.prototype.isOpen=function(){return null!==this.idbdb},nn.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&"DatabaseClosed"===f.name},nn.prototype.hasFailed=function(){return null!==this._state.dbOpenError},nn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(nn.prototype,"tables",{get:function(){var f=this;return V(this._allTables).map(function(p){return f._allTables[p]})},enumerable:!1,configurable:!0}),nn.prototype.transaction=function(){var f=function(p,v,b){var E=arguments.length;if(E<2)throw new ae.InvalidArgument("Too few arguments");for(var x=new Array(E-1);--E;)x[E-1]=arguments[E];return b=x.pop(),[p,Xe(x),b]}.apply(this,arguments);return this._transaction.apply(this,f)},nn.prototype._transaction=function(f,p,v){var b=this,E=ft.trans;E&&E.db===this&&-1===f.indexOf("!")||(E=null);var x,T,O=-1!==f.indexOf("?");f=f.replace("!","").replace("?","");try{if(T=p.map(function(q){if("string"!=typeof(q=q instanceof b.Table?q.name:q))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return q}),"r"==f||f===zh)x=zh;else{if("rw"!=f&&f!=jl)throw new ae.InvalidArgument("Invalid transaction mode: "+f);x=jl}if(E){if(E.mode===zh&&x===jl){if(!O)throw new ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");E=null}E&&T.forEach(function(q){if(E&&-1===E.storeNames.indexOf(q)){if(!O)throw new ae.SubTransaction("Table "+q+" not included in parent transaction.");E=null}}),O&&E&&!E.active&&(E=null)}}catch(q){return E?E._promise(null,function(Z,F){F(q)}):Jn(q)}var U=function q(Z,F,te,z,Y){return Qe.resolve().then(function(){var X=ft.transless||ft,K=Z._createTransaction(F,te,Z._dbSchema,z);if(K.explicit=!0,X={trans:K,transless:X},z)K.idbtrans=z.idbtrans;else try{K.create(),K.idbtrans._explicit=!0,Z._state.PR1398_maxLoop=3}catch(ue){return ue.name===ye.InvalidState&&Z.isOpen()&&0<--Z._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Z.close({disableAutoOpen:!1}),Z.open().then(function(){return q(Z,F,te,null,Y)})):Jn(ue)}var ie,ce=Si(Y);return ce&&Lr(),X=Qe.follow(function(){var ue;(ie=Y.call(K,K))&&(ce?(ue=ei.bind(null,null),ie.then(ue,ue)):"function"==typeof ie.next&&"function"==typeof ie.throw&&(ie=Cs(ie)))},X),(ie&&"function"==typeof ie.then?Qe.resolve(ie).then(function(ue){return K.active?ue:Jn(new ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):X.then(function(){return ie})).then(function(ue){return z&&K._resolve(),K._completion.then(function(){return ue})}).catch(function(ue){return K._reject(ue),Jn(ue)})})}.bind(null,this,x,T,E,v);return E?E._promise(x,U,"lock"):ft.trans?yi(ft.transless,function(){return b._whenReady(U)}):this._whenReady(U)},nn.prototype.table=function(f){if(!N(this._allTables,f))throw new ae.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},nn);function nn(f,p){var v=this;this._middlewares={},this.verno=0;var b=nn.dependencies;this._options=p=B({addons:nn.addons,autoOpen:!0,indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange,cache:"cloned"},p),this._deps={indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},b=p.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var E,x,T,O,U,q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:vt,dbReadyPromise:null,cancelOpen:vt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:p.autoOpen};q.dbReadyPromise=new Qe(function(F){q.dbReadyResolve=F}),q.openCanceller=new Qe(function(F,te){q.cancelOpen=te}),this._state=q,this.name=f,this.on=Wc(this,"populate","blocked","versionchange","close",{ready:[Ii,vt]}),this.on.ready.subscribe=lt(this.on.ready.subscribe,function(F){return function(te,z){nn.vip(function(){var Y,X=v._state;X.openComplete?(X.dbOpenError||Qe.resolve().then(te),z&&F(te)):X.onReadyBeingFired?(X.onReadyBeingFired.push(te),z&&F(te)):(F(te),Y=v,z||F(function K(){Y.on.ready.unsubscribe(te),Y.on.ready.unsubscribe(K)}))})}}),this.Collection=(E=this,qc(mD.prototype,function(ie,K){this.db=E;var z=xt,Y=null;if(K)try{z=K()}catch(ce){Y=ce}var X=ie._ctx;this._ctx={table:K=X.table,index:X.index,isPrimKey:!X.index||K.schema.primKey.keyPath&&X.index===K.schema.primKey.name,range:z,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Y,or:X.or,valueMapper:(ie=K.hook.reading.fire)!==mn?ie:null}})),this.Table=(x=this,qc(co.prototype,function(F,te,z){this.db=x,this._tx=z,this.name=F,this.schema=te,this.hook=x._allTables[F]?x._allTables[F].hook:Wc(null,{creating:[Qr,vt],reading:[Mr,mn],updating:[io,vt],deleting:[Qn,vt]})})),this.Transaction=(T=this,qc(Wh.prototype,function(F,te,z,Y,X){var K=this;this.db=T,this.mode=F,this.storeNames=te,this.schema=z,this.chromeTransactionDurability=Y,this.idbtrans=null,this.on=Wc(this,"complete","error","abort"),this.parent=X||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Qe(function(ie,ce){K._resolve=ie,K._reject=ce}),this._completion.then(function(){K.active=!1,K.on.complete.fire()},function(ie){var ce=K.active;return K.active=!1,K.on.error.fire(ie),K.parent?K.parent._reject(ie):ce&&K.idbtrans&&K.idbtrans.abort(),Jn(ie)})})),this.Version=(O=this,qc(Yl.prototype,function(F){this.db=O,this._cfg={version:F,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(U=this,qc(Ra.prototype,function(F,te,z){if(this.db=U,this._ctx={table:F,index:":id"===te?null:te,or:z},this._cmp=this._ascending=Jt,this._descending=function(Y,X){return Jt(X,Y)},this._max=function(Y,X){return 0<Jt(Y,X)?Y:X},this._min=function(Y,X){return Jt(Y,X)<0?Y:X},this._IDBKeyRange=U._deps.IDBKeyRange,!this._IDBKeyRange)throw new ae.MissingAPI})),this.on("versionchange",function(F){0<F.newVersion?console.warn("Another connection wants to upgrade database '".concat(v.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(v.name,"'. Closing db now to resume the delete request.")),v.close({disableAutoOpen:!1})}),this.on("blocked",function(F){!F.newVersion||F.newVersion<F.oldVersion?console.warn("Dexie.delete('".concat(v.name,"') was blocked")):console.warn("Upgrade '".concat(v.name,"' blocked by other connection holding version ").concat(F.oldVersion/10))}),this._maxKey=Xc(p.IDBKeyRange),this._createTransaction=function(F,te,z,Y){return new v.Transaction(F,te,z,v._options.chromeTransactionDurability,Y)},this._fireOnBlocked=function(F){v.on("blocked").fire(F),Nn.filter(function(te){return te.name===v.name&&te!==v&&!te._state.vcFired}).map(function(te){return te.on("versionchange").fire(F)})},this.use(nd),this.use(yD),this.use(Gy),this.use($y),this.use(td);var Z=new Proxy(this,{get:function(F,te,z){if("_vip"===te)return!0;if("table"===te)return function(X){return Ua(v.table(X),Z)};var Y=Reflect.get(F,te,z);return Y instanceof co?Ua(Y,Z):"tables"===te?Y.map(function(X){return Ua(X,Z)}):"_createTransaction"===te?function(){return Ua(Y.apply(this,arguments),Z)}:Y}});this.vip=Z,b.forEach(function(F){return F(v)})}mr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var ea,_D=(ru.prototype.subscribe=function(f,p,v){return this._subscribe(f&&"function"!=typeof f?f:{next:f,error:p,complete:v})},ru.prototype[mr]=function(){return this},ru);function ru(f){this._subscribe=f}try{ea={indexedDB:J.indexedDB||J.mozIndexedDB||J.webkitIndexedDB||J.msIndexedDB,IDBKeyRange:J.IDBKeyRange||J.webkitIDBKeyRange}}catch{ea={indexedDB:null,IDBKeyRange:null}}function ki(f){var p,v=!1,b=new _D(function(E){var T,x=Si(f),O=!1,U={},q={},Z={get closed(){return O},unsubscribe:function(){O||(O=!0,T&&T.abort(),F&&zi.storagemutated.unsubscribe(z))}};E.start&&E.start(Z);var F=!1,te=function(){return sn(Y)},z=function(X){lo(U,X),Zl(q,U)&&te()},Y=function(){var X,K,ie;!O&&ea.indexedDB&&(U={},X={},T&&T.abort(),T=new AbortController,ie=function(ce){var ue=Ai();try{x&&Lr();var _e=oo(f,ce);return _e=x?_e.finally(ei):_e}finally{ue&&Ys()}}(K={subscr:X,signal:T.signal,requery:te,querier:f,trans:null}),Promise.resolve(ie).then(function(ce){v=!0,p=ce,O||K.signal.aborted||(U={},function(ue){for(var _e in ue)if(N(ue,_e))return;return 1}(q=X)||F||(zi(et,z),F=!0),sn(function(){return!O&&E.next&&E.next(ce)}))},function(ce){v=!1,["DatabaseClosedError","AbortError"].includes(ce?.name)||O||sn(function(){O||E.error&&E.error(ce)})}))};return setTimeout(te,0),Z});return b.hasValue=function(){return v},b.getValue=function(){return p},b}var zt=zo;function $o(f){var p=$i;try{$i=!0,zi.storagemutated.fire(f),Et(f,!0)}finally{$i=p}}M(zt,B(B({},Ut),{delete:function(f){return new zt(f,{addons:[]}).delete()},exists:function(f){return new zt(f,{addons:[]}).open().then(function(p){return p.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return v=(p=zt.dependencies).indexedDB,p=p.IDBKeyRange,(Jc(v)?Promise.resolve(v.databases()).then(function(b){return b.map(function(E){return E.name}).filter(function(E){return E!==Qs})}):Ar(v,p).toCollection().primaryKeys()).then(f)}catch{return Jn(new ae.MissingAPI)}var p,v},defineClass:function(){return function(f){R(this,f)}},ignoreTransaction:function(f){return ft.trans?yi(ft.transless,f):f()},vip:Qh,async:function(f){return function(){try{var p=Cs(f.apply(this,arguments));return p&&"function"==typeof p.then?p:Qe.resolve(p)}catch(v){return Jn(v)}}},spawn:function(f,p,v){try{var b=Cs(f.apply(v,p||[]));return b&&"function"==typeof b.then?b:Qe.resolve(b)}catch(E){return Jn(E)}},currentTransaction:{get:function(){return ft.trans||null}},waitFor:function(f,p){return p=Qe.resolve("function"==typeof f?zt.ignoreTransaction(f):f).timeout(p||6e4),ft.trans?ft.trans.waitFor(p):p},Promise:Qe,debug:{get:function(){return Jr},set:function(f){qs(f)}},derive:H,extend:R,props:M,override:lt,Events:Wc,on:zi,liveQuery:ki,extendObservabilitySet:lo,getByKeyPath:he,setByKeyPath:be,delByKeyPath:function(f,p){"string"==typeof p?be(f,p,void 0):"length"in p&&[].map.call(p,function(v){be(f,v,void 0)})},shallowClone:Pe,deepClone:ge,getObjectDiff:Jl,cmp:Jt,asap:Be,minKey:-1/0,addons:[],connections:Nn,errnames:ye,dependencies:ea,cache:Br,semVer:"4.0.10",version:"4.0.10".split(".").map(function(f){return parseInt(f)}).reduce(function(f,p,v){return f+p/Math.pow(10,2*v)})})),zt.maxKey=Xc(zt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(zi(et,function(f){$i||(f=new CustomEvent(Fa,{detail:f}),$i=!0,dispatchEvent(f),$i=!1)}),addEventListener(Fa,function(f){f=f.detail,$i||$o(f)}));var Ds,$i=!1,za=function(){};return typeof BroadcastChannel<"u"&&((za=function(){(Ds=new BroadcastChannel(Fa)).onmessage=function(f){return f.data&&$o(f.data)}})(),"function"==typeof Ds.unref&&Ds.unref(),zi(et,function(f){$i||Ds.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!zo.disableBfCache&&f.persisted){Jr&&console.debug("Dexie: handling persisted pagehide"),Ds?.close();for(var p=0,v=Nn;p<v.length;p++)v[p].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!zo.disableBfCache&&f.persisted&&(Jr&&console.debug("Dexie: handling persisted pageshow"),za(),$o({all:new tr(-1/0,[[]])}))})),Qe.rejectionMapper=function(f,p){return!f||f instanceof no||f instanceof TypeError||f instanceof SyntaxError||!f.name||!at[f.name]?f:(p=new at[f.name](p||f.message,f),"stack"in f&&j(p,"stack",{get:function(){return this.inner.stack}}),p)},qs(Jr),B(zo,Object.freeze({__proto__:null,Dexie:zo,liveQuery:ki,Entity:Vr,cmp:Jt,PropModSymbol:Vo,PropModification:Kc,replacePrefix:function(f,p){return new Kc({replacePrefix:[f,p]})},add:function(f){return new Kc({add:f})},remove:function(f){return new Kc({remove:f})},default:zo,RangeSet:tr,mergeRanges:jo,rangesOverlap:ep}),{default:zo}),zo}()}},Oe=>{Oe(Oe.s=749)}]);