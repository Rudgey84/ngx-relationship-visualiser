{"version":3,"file":"ngx-relationship-visualiser-premium.mjs","sources":["../../projects/ngx-relationship-visualiser-premium-lib/lib/visualiser/context-menus/context-menus.component.ts","../../projects/ngx-relationship-visualiser-premium-lib/lib/visualiser/context-menus/context-menus.component.html","../../projects/ngx-relationship-visualiser-premium-lib/lib/models/font-awesome-icons.ts","../../projects/ngx-relationship-visualiser-premium-lib/lib/visualiser/modals/abstract-modal-form-handler.ts","../../projects/ngx-relationship-visualiser-premium-lib/lib/visualiser/modals/modals.component.ts","../../projects/ngx-relationship-visualiser-premium-lib/lib/visualiser/modals/modals.component.html","../../projects/ngx-relationship-visualiser-premium-lib/lib/db/graphDatabase.ts","../../projects/ngx-relationship-visualiser-premium-lib/lib/visualiser/services/visualiser-graph.service.ts","../../projects/ngx-relationship-visualiser-premium-lib/lib/visualiser/services/dagre-layout.service.ts","../../projects/ngx-relationship-visualiser-premium-lib/lib/visualiser/visualiser-graph/visualiser-graph.component.ts","../../projects/ngx-relationship-visualiser-premium-lib/lib/visualiser/visualiser-graph/visualiser-graph.component.html","../../projects/ngx-relationship-visualiser-premium-lib/lib/ngx-relationship-visualiser-premium.module.ts","../../ngx-relationship-visualiser-premium.ts"],"sourcesContent":["import { Component, ViewChild, Output, EventEmitter } from '@angular/core';\nimport { ContextMenuComponent } from '@kreash/ngx-contextmenu';\n\n@Component({\n  selector: 'app-context-menus',\n  templateUrl: './context-menus.component.html'\n})\nexport class ContextMenusComponent {\n  @ViewChild('editNodeContextMenu') editNodeContextMenu: ContextMenuComponent;\n  @ViewChild('findCreateNodesContextMenu') findCreateNodesContextMenu: ContextMenuComponent;\n  @ViewChild('createEditLinkContextMenu') createEditLinkContextMenu: ContextMenuComponent;\n  @ViewChild('editLinkLabelContextMenu') editLinkLabelContextMenu: ContextMenuComponent;\n\n  @Output() editNodeContextMenuEvent = new EventEmitter<any>();\n  @Output() findCreateNodesContextMenuEvent = new EventEmitter<any>();\n  @Output() createLinkContextMenuEvent = new EventEmitter<any>();\n  @Output() editLinkLabelContextMenuEvent = new EventEmitter<any>();\n  @Output() editLinksContextMenuEvent = new EventEmitter<any>();\n\n  public currentMatchingLink: any = null;\n\n  editNode() {\n    this.editNodeContextMenuEvent.emit(true);\n  }\n\n  findNodes() {\n    this.findCreateNodesContextMenuEvent.emit('findNodes');\n  }\n\n  createNode() {\n    this.findCreateNodesContextMenuEvent.emit('createNode');\n  }\n\n  createLink() {\n    this.createLinkContextMenuEvent.emit(true);\n  }\n\n  editLinkLabel() {\n    this.editLinkLabelContextMenuEvent.emit(true);\n  }\n\n  editLinks() {\n    const payload = {\n      open: true,\n      data: this.currentMatchingLink\n    };\n    if (this.currentMatchingLink) {\n      this.editLinksContextMenuEvent.emit(payload);\n    } else {\n      console.warn(\"No matching link to edit.\");\n    }\n  }\n\n  public linksExist = (item: any): boolean => {\n    const matchingLink = this.checkLinkBetweenSelectedNodes(item);\n\n    if (matchingLink) {\n      this.currentMatchingLink = matchingLink;\n      return true;\n    } else {\n      this.currentMatchingLink = null;\n      return false;\n    }\n  };\n\n  public linksDoNotExist = (item: any): boolean => {\n    const matchingLink = this.checkLinkBetweenSelectedNodes(item);\n\n    if (!matchingLink) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n\n  private checkLinkBetweenSelectedNodes(payload) {\n    if (!payload || !payload.selectedNodes) {\n      console.warn(\"Payload or selectedNodes is undefined.\");\n      return null;\n    }\n\n    const selectedNodes = payload.selectedNodes;\n    const links = payload.graphData.links;\n\n    const sourceId = selectedNodes[0].id;\n    const targetId = selectedNodes[1].id;\n\n    // Check for a link in both directions (source -> target or target -> source)\n    const matchingLink = links.find(\n      (link) =>\n        (link.source === sourceId && link.target === targetId) ||\n        (link.source === targetId && link.target === sourceId)\n    );\n\n    if (matchingLink) {\n      return matchingLink;\n    } else {\n      return null;\n    }\n  }\n\n}\n","<context-menu #editNodeContextMenu>\n  <ng-template contextMenuItem let-item (execute)=\"editNode()\">\n    Edit Node...\n  </ng-template>\n</context-menu>\n\n<context-menu #findCreateNodesContextMenu>\n  <ng-template contextMenuItem let-item (execute)=\"findNodes()\">\n    Search Nodes...\n  </ng-template>\n  <ng-template contextMenuItem let-item (execute)=\"createNode()\">\n    Create Node...\n  </ng-template>\n</context-menu>\n\n<context-menu #createEditLinkContextMenu>\n  <ng-template [visible]=\"linksDoNotExist\" contextMenuItem let-item (execute)=\"createLink()\">\n    Create Link...\n  </ng-template>\n  <ng-template [visible]=\"linksExist\" (execute)=\"editLinks()\" contextMenuItem let-item>\n    Edit Links...\n  </ng-template>\n</context-menu>\n\n<context-menu #editLinkLabelContextMenu>\n  <ng-template contextMenuItem let-item (execute)=\"editLinkLabel()\">\n    Edit Link label...\n  </ng-template>\n</context-menu>","export default [\n  { id: 1, name: 'Address book', icon: '\\uf2b9' },\n  { id: 2, name: 'Address card', icon: '\\uf2bb' },\n  { id: 3, name: 'Anchor', icon: '\\uf13d' },\n  { id: 4, name: 'Apple Whole', icon: '\\uf5d1' },\n  { id: 5, name: 'Atom', icon: '\\uf5d2' },\n  { id: 6, name: 'Award', icon: '\\uf559' },\n  { id: 7, name: 'Baby', icon: '\\uf77c' },\n  { id: 8, name: 'Bacon', icon: '\\uf7e5' },\n  { id: 9, name: 'Balance Scale', icon: '\\uf24e' },\n  { id: 10, name: 'Bank', icon: '\\uf19c' },\n  { id: 11, name: 'Battery Full', icon: '\\uf240' },\n  { id: 12, name: 'Beer', icon: '\\uf0fc' },\n  { id: 13, name: 'Bell', icon: '\\uf0f3' },\n  { id: 14, name: 'Bell slash', icon: '\\uf1f6' },\n  { id: 15, name: 'Bicycle', icon: '\\uf206' },\n  { id: 16, name: 'Binoculars', icon: '\\uf1e5' },\n  { id: 17, name: 'Birthday Cake', icon: '\\uf1fd' },\n  { id: 18, name: 'Blender', icon: '\\uf517' },\n  { id: 19, name: 'Bolt', icon: '\\uf0e7' },\n  { id: 20, name: 'Bomb', icon: '\\uf1e2' },\n  { id: 21, name: 'Bone', icon: '\\uf5d7' },\n  { id: 22, name: 'Book', icon: '\\uf02d' },\n  { id: 23, name: 'Bookmark', icon: '\\uf02e' },\n  { id: 24, name: 'Bowling Ball', icon: '\\uf436' },\n  { id: 25, name: 'Box', icon: '\\uf466' },\n  { id: 26, name: 'Brain', icon: '\\uf5dc' },\n  { id: 27, name: 'Bread Slice', icon: '\\uf7ec' },\n  { id: 28, name: 'Briefcase', icon: '\\uf0b1' },\n  { id: 29, name: 'Bug', icon: '\\uf188' },\n  { id: 30, name: 'Building', icon: '\\uf1ad' },\n  { id: 31, name: 'Bus', icon: '\\uf207' },\n  { id: 32, name: 'Calculator', icon: '\\uf1ec' },\n  { id: 33, name: 'Calendar', icon: '\\uf133' },\n  { id: 34, name: 'Calendar check', icon: '\\uf274' },\n  { id: 35, name: 'Calendar days', icon: '\\uf073' },\n  { id: 36, name: 'Calendar minus', icon: '\\uf272' },\n  { id: 37, name: 'Calendar plus', icon: '\\uf271' },\n  { id: 38, name: 'Calendar xmark', icon: '\\uf273' },\n  { id: 39, name: 'Camera', icon: '\\uf030' },\n  { id: 40, name: 'Candy Cane', icon: '\\uf786' },\n  { id: 41, name: 'Car', icon: '\\uf1b9' },\n  { id: 42, name: 'Cat', icon: '\\uf6be' },\n  { id: 43, name: 'Chair', icon: '\\uf6c0' },\n  { id: 44, name: 'Charging Station', icon: '\\uf5e7' },\n  { id: 45, name: 'Chart bar', icon: '\\uf080' },\n  { id: 46, name: 'Chess', icon: '\\uf439' },\n  { id: 47, name: 'Chess bishop', icon: '\\uf43a' },\n  { id: 48, name: 'Chess king', icon: '\\uf43f' },\n  { id: 49, name: 'Chess knight', icon: '\\uf441' },\n  { id: 50, name: 'Chess pawn', icon: '\\uf443' },\n  { id: 51, name: 'Chess queen', icon: '\\uf445' },\n  { id: 52, name: 'Chess rook', icon: '\\uf447' },\n  { id: 53, name: 'Church', icon: '\\uf51d' },\n  { id: 54, name: 'Circle', icon: '\\uf111' },\n  { id: 55, name: 'Circle check', icon: '\\uf058' },\n  { id: 56, name: 'Circle dot', icon: '\\uf192' },\n  { id: 57, name: 'Circle down', icon: '\\uf358' },\n  { id: 58, name: 'Circle left', icon: '\\uf359' },\n  { id: 59, name: 'Circle pause', icon: '\\uf28b' },\n  { id: 60, name: 'Circle play', icon: '\\uf144' },\n  { id: 61, name: 'Circle question', icon: '\\uf059' },\n  { id: 62, name: 'Circle right', icon: '\\uf35a' },\n  { id: 63, name: 'Circle stop', icon: '\\uf28d' },\n  { id: 64, name: 'Circle up', icon: '\\uf35b' },\n  { id: 65, name: 'Circle user', icon: '\\uf2bd' },\n  { id: 66, name: 'Circle xmark', icon: '\\uf057' },\n  { id: 67, name: 'Clipboard', icon: '\\uf328' },\n  { id: 68, name: 'Clock', icon: '\\uf017' },\n  { id: 69, name: 'Clone', icon: '\\uf24d' },\n  { id: 70, name: 'Closed captioning', icon: '\\uf20a' },\n  { id: 71, name: 'Cloud', icon: '\\uf0c2' },\n  { id: 72, name: 'Cloud download', icon: '\\uf0ed' },\n  { id: 73, name: 'Cloud upload', icon: '\\uf0ee' },\n  { id: 74, name: 'Comment', icon: '\\uf075' },\n  { id: 75, name: 'Comment dots', icon: '\\uf4ad' },\n  { id: 76, name: 'Comments', icon: '\\uf086' },\n  { id: 77, name: 'Compass', icon: '\\uf14e' },\n  { id: 78, name: 'Copyright', icon: '\\uf1f9' },\n  { id: 79, name: 'Copy', icon: '\\uf0c5' },\n  { id: 80, name: 'Credit card', icon: '\\uf09d' },\n  { id: 81, name: 'Envelope', icon: '\\uf0e0' },\n  { id: 82, name: 'Envelope open', icon: '\\uf2b6' },\n  { id: 83, name: 'Eye', icon: '\\uf06e' },\n  { id: 84, name: 'Eye slash', icon: '\\uf070' },\n  { id: 85, name: 'Face angry', icon: '\\uf556' },\n  { id: 86, name: 'Face dizzy', icon: '\\uf567' },\n  { id: 87, name: 'Face flushed', icon: '\\uf579' },\n  { id: 88, name: 'Face frown', icon: '\\uf119' },\n  { id: 89, name: 'Face frown open', icon: '\\uf57a' },\n  { id: 90, name: 'Face grimace', icon: '\\uf57f' },\n  { id: 91, name: 'Face grin', icon: '\\uf580' },\n  { id: 92, name: 'Face grin beam', icon: '\\uf582' },\n  { id: 93, name: 'Face grin beam sweat', icon: '\\uf583' },\n  { id: 94, name: 'Face grin hearts', icon: '\\uf584' },\n  { id: 95, name: 'Face grin squint', icon: '\\uf585' },\n  { id: 96, name: 'Face grin squint tears', icon: '\\uf586' },\n  { id: 97, name: 'Face grin stars', icon: '\\uf587' },\n  { id: 98, name: 'Face grin tongue', icon: '\\uf589' },\n  { id: 99, name: 'Face grin tongue squint', icon: '\\uf58a' },\n  { id: 100, name: 'Face grin tongue wink', icon: '\\uf58b' },\n  { id: 101, name: 'Face grin wide', icon: '\\uf581' },\n  { id: 102, name: 'Face grin wink', icon: '\\uf58c' },\n  { id: 103, name: 'Face kiss', icon: '\\uf596' },\n  { id: 104, name: 'Face kiss beam', icon: '\\uf597' },\n  { id: 105, name: 'Face kiss wink heart', icon: '\\uf598' },\n  { id: 106, name: 'Face laugh', icon: '\\uf599' },\n  { id: 107, name: 'Face laugh beam', icon: '\\uf59a' },\n  { id: 108, name: 'Face laugh squint', icon: '\\uf59b' },\n  { id: 109, name: 'Face laugh wink', icon: '\\uf59c' },\n  { id: 110, name: 'Face meh', icon: '\\uf11a' },\n  { id: 111, name: 'Face meh blank', icon: '\\uf5a4' },\n  { id: 112, name: 'Face rolling eyes', icon: '\\uf5a5' },\n  { id: 113, name: 'Face sad cry', icon: '\\uf5b3' },\n  { id: 114, name: 'Face sad tear', icon: '\\uf5b4' },\n  { id: 115, name: 'Face smile', icon: '\\uf118' },\n  { id: 116, name: 'Face smile beam', icon: '\\uf5b8' },\n  { id: 117, name: 'Face smile wink', icon: '\\uf4da' },\n  { id: 118, name: 'Face surprise', icon: '\\uf5c2' },\n  { id: 119, name: 'Face tired', icon: '\\uf5c8' },\n  { id: 120, name: 'File', icon: '\\uf15b' },\n  { id: 121, name: 'File audio', icon: '\\uf1c7' },\n  { id: 122, name: 'File code', icon: '\\uf1c9' },\n  { id: 123, name: 'File excel', icon: '\\uf1c3' },\n  { id: 124, name: 'File image', icon: '\\uf1c5' },\n  { id: 125, name: 'File lines', icon: '\\uf15c' },\n  { id: 126, name: 'File pdf', icon: '\\uf1c1' },\n  { id: 127, name: 'File powerpoint', icon: '\\uf1c4' },\n  { id: 128, name: 'File video', icon: '\\uf1c8' },\n  { id: 129, name: 'File word', icon: '\\uf1c2' },\n  { id: 130, name: 'File zipper', icon: '\\uf1c6' },\n  { id: 131, name: 'Flag', icon: '\\uf024' },\n  { id: 132, name: 'Flask', icon: '\\uf0c3' },\n  { id: 133, name: 'Floppy disk', icon: '\\uf0c7' },\n  { id: 134, name: 'Folder', icon: '\\uf07b' },\n  { id: 135, name: 'Folder closed', icon: '\\uf07b' },\n  { id: 136, name: 'Folder open', icon: '\\uf07c' },\n  { id: 137, name: 'Font awesome', icon: '\\uf2b4' },\n  { id: 138, name: 'Futbol', icon: '\\uf1e3' },\n  { id: 139, name: 'Gem', icon: '\\uf3a5' },\n  { id: 140, name: 'Hand', icon: '\\uf256' },\n  { id: 141, name: 'Hand back fist', icon: '\\uf255' },\n  { id: 142, name: 'Hand lizard', icon: '\\uf258' },\n  { id: 143, name: 'Hand peace', icon: '\\uf25b' },\n  { id: 144, name: 'Hand point down', icon: '\\uf0a7' },\n  { id: 145, name: 'Hand point left', icon: '\\uf0a5' },\n  { id: 146, name: 'Hand point right', icon: '\\uf0a4' },\n  { id: 147, name: 'Hand point up', icon: '\\uf0a6' },\n  { id: 148, name: 'Hand pointer', icon: '\\uf25a' },\n  { id: 149, name: 'Hand rock', icon: '\\uf255' },\n  { id: 150, name: 'Hand scissors', icon: '\\uf257' },\n  { id: 151, name: 'Handshake', icon: '\\uf2b5' },\n  { id: 152, name: 'Hard drive', icon: '\\uf0a0' },\n  { id: 153, name: 'Heart', icon: '\\uf004' },\n  { id: 154, name: 'Hospital', icon: '\\uf0f8' },\n  { id: 155, name: 'Hourglass', icon: '\\uf254' },\n  { id: 156, name: 'Hourglass half', icon: '\\uf252' },\n  { id: 157, name: 'Id badge', icon: '\\uf2c1' },\n  { id: 158, name: 'Id card', icon: '\\uf2c2' },\n  { id: 159, name: 'Image', icon: '\\uf03e' },\n  { id: 160, name: 'Images', icon: '\\uf302' },\n  { id: 161, name: 'Keyboard', icon: '\\uf11c' },\n  { id: 162, name: 'Lemon', icon: '\\uf094' },\n  { id: 163, name: 'Life ring', icon: '\\uf1cd' },\n  { id: 164, name: 'Lightbulb', icon: '\\uf0eb' },\n  { id: 165, name: 'Map', icon: '\\uf279' },\n  { id: 166, name: 'Message', icon: '\\uf27a' },\n  { id: 167, name: 'Money bill 1', icon: '\\uf3d1' },\n  { id: 168, name: 'Moon', icon: '\\uf186' },\n  { id: 169, name: 'Music', icon: '\\uf001' },\n  { id: 170, name: 'Newspaper', icon: '\\uf1ea' },\n  { id: 171, name: 'Note sticky', icon: '\\uf249' },\n  { id: 172, name: 'Object group', icon: '\\uf247' },\n  { id: 173, name: 'Object ungroup', icon: '\\uf248' },\n  { id: 174, name: 'Paper plane', icon: '\\uf1d8' },\n  { id: 175, name: 'Paste', icon: '\\uf0ea' },\n  { id: 176, name: 'Pen to square', icon: '\\uf044' },\n  { id: 177, name: 'Phone', icon: '\\uf095' },\n  { id: 178, name: 'Phone flip', icon: '\\uf879' },\n  { id: 179, name: 'Phone slash', icon: '\\uf3dd' },\n  { id: 180, name: 'Procedures', icon: '\\uf487' },\n  { id: 181, name: 'Rectangle list', icon: '\\uf022' },\n  { id: 182, name: 'Rectangle xmark', icon: '\\uf410' },\n  { id: 183, name: 'Registered', icon: '\\uf25d' },\n  { id: 184, name: 'Share from square', icon: '\\uf14d' },\n  { id: 185, name: 'Snowflake', icon: '\\uf2dc' },\n  { id: 186, name: 'Square', icon: '\\uf0c8' },\n  { id: 187, name: 'Square caret down', icon: '\\uf150' },\n  { id: 188, name: 'Square caret left', icon: '\\uf191' },\n  { id: 189, name: 'Square caret right', icon: '\\uf152' },\n  { id: 190, name: 'Square caret up', icon: '\\uf151' },\n  { id: 191, name: 'Square check', icon: '\\uf14a' },\n  { id: 192, name: 'Square full', icon: '\\uf45c' },\n  { id: 193, name: 'Square minus', icon: '\\uf146' },\n  { id: 194, name: 'Square plus', icon: '\\uf0fe' },\n  { id: 195, name: 'Star', icon: '\\uf005' },\n  { id: 196, name: 'Star half', icon: '\\uf089' },\n  { id: 197, name: 'Star half stroke', icon: '\\uf5c0' },\n  { id: 198, name: 'Sun', icon: '\\uf185' },\n  { id: 199, name: 'Thumbs down', icon: '\\uf165' },\n  { id: 200, name: 'Thumbs up', icon: '\\uf164' },\n  { id: 201, name: 'Trash can', icon: '\\uf2ed' },\n  { id: 202, name: 'User', icon: '\\uf007' },\n  { id: 203, name: 'Window maximize', icon: '\\uf2d0' },\n  { id: 204, name: 'Window minimize', icon: '\\uf2d1' },\n  { id: 205, name: 'Window restore', icon: '\\uf2d2' },\n  { id: 206, name: 'Yin Yang', icon: '\\uf6ad' },\n];\n","import { FormBuilder, FormGroup, FormArray, Validators, AbstractControl } from '@angular/forms';\nimport { Link, Relationship, Node } from '../../models/data.interface';\nimport fontAwesomeIcons from '../../models/font-awesome-icons';\n\nexport abstract class AbstractModalFormHandler {\n  createLinkForm: FormGroup;\n  createNodeForm: FormGroup;\n  public fontAwesomeIcons = fontAwesomeIcons;\n\n  constructor(protected fb: FormBuilder) {\n    this.createLinkForm = this.fb.group({\n      lineStyle: ['Dotted', Validators.required],\n      sourceArrow: [false],\n      targetArrow: [false],\n      label: this.fb.array([], Validators.required),\n    });\n\n    this.createNodeForm = this.fb.group({\n      id: '',\n      label: this.fb.array([], [Validators.required, this.minLengthArray(1)]),\n      imageUrl: [''],\n      icon: [''],\n      fx: [null],\n      fy: [null],\n      additionalIcon: [''],\n      iconType: ['select'],\n    }, { validators: this.iconOrImageValidator });\n  }\n\n  get labelArray(): FormArray {\n    return this.createLinkForm.get('label') as FormArray;\n  }\n\n  get nodeLabelArray(): FormArray {\n    return this.createNodeForm.get('label') as FormArray;\n  }\n\n  public addLabel() {\n    const labelGroup = this.fb.group({\n      label: ['', Validators.required],\n      linkIcon: [false],\n    });\n    this.labelArray.push(labelGroup);\n  }\n\n  public addNodeLabel() {\n    const labelGroup = this.fb.group({\n      label: ['', Validators.required],\n    });\n    this.nodeLabelArray.push(labelGroup);\n  }\n\n  public removeLabel(index: number) {\n    if (this.labelArray.length > 1) {\n      this.labelArray.removeAt(index);\n    }\n  }\n\n  public removeNodeLabel(index: number) {\n    if (this.nodeLabelArray.length > 1) {\n      this.nodeLabelArray.removeAt(index);\n    }\n  }\n\n  protected resetLinksForm() {\n    this.createLinkForm.reset({\n      lineStyle: 'Dotted',\n      sourceArrow: false,\n      targetArrow: false,\n      label: this.fb.array([]),\n    });\n    this.labelArray.clear();\n  }\n\n  protected resetNodeForm() {\n    this.createNodeForm.reset({\n      label: this.fb.array([]),\n      imageUrl: '',\n      icon: '',\n      additionalIcon: '',\n      iconType: 'select',\n    });\n    this.nodeLabelArray.clear();\n  }\n\n  protected populateEditLinkForm(data: Link) {\n    this.createLinkForm.patchValue({\n      lineStyle: data.lineStyle,\n      sourceArrow: data.sourceArrow,\n      targetArrow: data.targetArrow\n    });\n\n    if (data.relationships && Array.isArray(data.relationships)) {\n      data.relationships.forEach((relationship: Relationship) => {\n        const labelGroup = this.fb.group({\n          labelIndex: [relationship.labelIndex, Validators.required],\n          label: [relationship.label, Validators.required],\n          linkIcon: [relationship.linkIcon]\n        });\n        this.labelArray.push(labelGroup);\n      });\n    }\n  }\n\n  protected populateEditNodeForm(data: Node) {\n    this.createNodeForm.patchValue({\n      id: data.id,\n      imageUrl: data.imageUrl,\n      icon: data.icon,\n      fx: data.fx,\n      fy: data.fy,\n      additionalIcon: data.additionalIcon,\n      iconType: data.imageUrl ? 'url' : 'select'\n    });\n\n    this.createNodeForm.setControl('label', this.fb.array(\n      data.label.map(label => this.fb.group({ label: [label, Validators.required] }))\n    ));\n  }\n\n  private iconOrImageValidator(control: AbstractControl): { [key: string]: boolean } | null {\n    const imageUrl = control.get('imageUrl').value;\n    const icon = control.get('icon').value;\n    if ((imageUrl && icon) || (!imageUrl && !icon)) {\n      return { 'iconOrImage': true };\n    }\n    return null;\n  }\n\n  private minLengthArray(min: number) {\n    return (control: AbstractControl): { [key: string]: boolean } | null => {\n      if (control instanceof FormArray) {\n        return control.length >= min ? null : { minLengthArray: true };\n      }\n      return null;\n    };\n  }\n}\n","import { Component, Input, Output, EventEmitter, TemplateRef, ViewChild, OnChanges, SimpleChanges } from '@angular/core';\nimport { BsModalRef, BsModalService } from 'ngx-bootstrap/modal';\nimport { FormBuilder } from '@angular/forms';\nimport { AbstractModalFormHandler } from './abstract-modal-form-handler';\nimport { Link, Node } from '../../models/data.interface';\nimport fontAwesomeIcons from '../../models/font-awesome-icons';\n\n@Component({\n  selector: 'app-modals',\n  templateUrl: './modals.component.html',\n})\nexport class ModalsComponent extends AbstractModalFormHandler implements OnChanges {\n  @Input() editNodeData: any;\n  @Input() editLinksData: any;\n  @Output() closeModalEvent = new EventEmitter<string>();\n  @Output() createLinkEvent = new EventEmitter<Link>();\n  @Output() createNodeEvent = new EventEmitter<Node>();\n  @Output() deleteLinkEvent = new EventEmitter<any>();\n  @Output() deleteNodeEvent = new EventEmitter<any>();\n  @ViewChild('editNodeModal') editNodeModal: TemplateRef<any>;\n  @ViewChild('createNodeModal') createNodeModal: TemplateRef<any>;\n  @ViewChild('createLinkModal') createLinkModal: TemplateRef<any>;\n  @ViewChild('editLinksModal') editLinksModal: TemplateRef<any>;\n\n  public modalRef?: BsModalRef;\n  readonly defaultModalConfig = { class: 'modal-xl' };\n  public fontAwesomeIcons = fontAwesomeIcons;\n\n    // virtual scroll\n    loading = false;\n    iconsBuffer = [];\n    numberOfItemsFromEndBeforeFetchingMore = 10;\n    bufferSize = 50;\n\n  constructor(private modalService: BsModalService, fb: FormBuilder) {\n    super(fb);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes.editLinksData && this.editLinksData) {\n      this.resetLinksForm();\n      this.populateEditLinkForm(this.editLinksData);\n    }\n    if (changes.editNodeData && this.editNodeData) {\n      this.resetNodeForm();\n      this.populateEditNodeForm(this.editNodeData);\n    }\n  }\n\n  public openModal(template: TemplateRef<any>) {\n    if (!template) {\n      console.error('Template is required to open a modal.');\n      return null;\n    }\n\n    if (template === this.editLinksModal && this.editLinksData) {\n      this.populateEditLinkForm(this.editLinksData);\n    } \n\n    this.resetLinksForm();\n    this.resetNodeForm();\n\n    this.modalRef = this.modalService.show(template, this.defaultModalConfig);\n  }\n\n  public closeModal(modalRef: string): void {\n    if (this[modalRef]) {\n      this[modalRef].hide();\n    }\n  }\n\n  public createLink(): void {\n    if (this.createLinkForm.valid) {\n      const createLinkData: Link = this.createLinkForm.value as Link;\n      this.createLinkEvent.emit(createLinkData);\n      this.resetLinksForm();\n      this.closeModal('modalRef');\n    }\n  }\n\n  public createNode(): void {\n    if (this.createNodeForm.valid) {\n      const createNodeData: Node = this.createNodeForm.value as Node;\n      const payload: Node = {\n        id: createNodeData.id,\n        label: (createNodeData.label as unknown as { label: string }[]).map((item: { label: string }) => item.label),\n        imageUrl: createNodeData.imageUrl,\n        icon: createNodeData.icon,\n        fx: createNodeData.fx,\n        fy: createNodeData.fy,\n        additionalIcon: createNodeData.additionalIcon,\n      };\n      this.createNodeEvent.emit(payload);\n      this.resetNodeForm();\n      this.closeModal('modalRef');\n    }\n  }\n\n  public deleteNode(): void {\n    this.deleteNodeEvent.emit(true);\n    this.resetNodeForm();\n    this.closeModal('modalRef');\n  }\n\n  public deleteLink(): void {\n    const linkId = this.editLinksData.linkId;\n    this.deleteLinkEvent.emit(linkId);\n    this.resetLinksForm();\n    this.closeModal('modalRef');\n  }\n\n  public clearImageUrl(): void {\n    this.createNodeForm.get('imageUrl').setValue('');\n  }\n\n\n  trackByFn(item: any) {\n    return item.id;\n  }\n\n  onScrollToEnd() {\n    this.fetchMore();\n  }\n\n  onScroll({ end }) {\n    if (this.loading || this.fontAwesomeIcons.length <= this.iconsBuffer.length) {\n      return;\n    }\n\n    if (\n      end + this.numberOfItemsFromEndBeforeFetchingMore >=\n      this.iconsBuffer.length\n    ) {\n      this.fetchMore();\n    }\n  }\n\n  private fetchMore() {\n    const len = this.iconsBuffer.length;\n    const more = this.fontAwesomeIcons.slice(len, this.bufferSize + len);\n    this.loading = true;\n    this.loading = false;\n    this.iconsBuffer = this.iconsBuffer.concat(more);\n  }\n}\n","<!--EDIT NODE MODAL-->\n<ng-template #editNodeModal>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title pull-left\">Edit Node</h4>\n    <button type=\"button\" class=\"btn-close close pull-right\" aria-label=\"Close\" (click)=\"closeModal('modalRef')\">\n      <span aria-hidden=\"true\" class=\"visually-hidden\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <form [formGroup]=\"createNodeForm\">\n      <div class=\"form-group\">\n        <label for=\"iconType\">Icon Type</label>\n        <div>\n          <input type=\"radio\" id=\"imageUrl\" formControlName=\"iconType\" value=\"url\"> Image URL\n          <input class=\"ml-5\" type=\"radio\" id=\"iconTypeSelect\" formControlName=\"iconType\" value=\"select\"> Choose Icon\n        </div>\n      </div>\n      <div class=\"form-group\" *ngIf=\"createNodeForm.get('iconType').value === 'url'\">\n        <label for=\"imageUrl\">Image URL</label>\n        <div class=\"input-group\">\n          <input type=\"text\" id=\"imageUrl\" formControlName=\"imageUrl\" class=\"form-control\" placeholder=\"Image URL\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"clearImageUrl()\">Clear</button>\n        </div>\n      </div>\n      <div class=\"form-group\" *ngIf=\"createNodeForm.get('iconType').value === 'select'\">\n        <label for=\"nodeIcon\">Choose Icon</label>\n        <ng-select\n        formControlName=\"icon\"\n        [items]=\"iconsBuffer\"\n        [virtualScroll]=\"true\"\n        [loading]=\"loading\"\n        bindLabel=\"name\"\n        bindValue=\"icon\"\n        [editableSearchTerm]=\"true\"\n        placeholder=\"Select icon\"\n        appendTo=\"body\"\n        [trackByFn]=\"trackByFn\"\n        (scroll)=\"onScroll($event)\"\n        (scrollToEnd)=\"onScrollToEnd()\"\n      >\n        <ng-template ng-header-tmp>\n          <small class=\"form-text text-muted\"\n            >Loaded {{ iconsBuffer.length }} of {{ fontAwesomeIcons.length }}</small\n          >\n        </ng-template>\n        <ng-template ng-option-tmp let-item=\"item\">\n          <i class=\"fa fa-light\">{{item.icon}}</i>\n          <span class=\"ml-3\">{{ item.name }}</span>\n        </ng-template>\n      </ng-select>\n      </div>\n      <div *ngIf=\"createNodeForm.errors?.iconOrImage\" class=\"text-danger\">\n        Please provide either an Image URL or choose an Icon, but not both.\n      </div>\n      <div class=\"form-group\">\n        <label for=\"label\">Labels</label>\n        <div formArrayName=\"label\">\n          <div *ngFor=\"let label of nodeLabelArray.controls; let i = index\" [formGroupName]=\"i\"\n            class=\"d-flex flex-column align-items-start\">\n            <div class=\"d-flex align-items-center w-100\">\n              <input formControlName=\"label\" class=\"form-control mb-2\" placeholder=\"Label\" [id]=\"'node-label-' + i\">\n              <button type=\"button\" class=\"btn btn-danger ml-2\" (click)=\"removeNodeLabel(i)\" [disabled]=\"nodeLabelArray.length <= 1\">Remove</button>\n            </div>\n          </div>\n        </div>\n        <button type=\"button\" class=\"btn btn-secondary mt-2\" (click)=\"addNodeLabel()\">Add Label</button>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"nodeAdditionalIcon\">Additional icon</label>\n        <ng-select\n        formControlName=\"additionalIcon\"\n        [items]=\"iconsBuffer\"\n        [virtualScroll]=\"true\"\n        [loading]=\"loading\"\n        bindLabel=\"name\"\n        bindValue=\"icon\"\n        [editableSearchTerm]=\"true\"\n        placeholder=\"Select icon\"\n        appendTo=\"body\"\n        [trackByFn]=\"trackByFn\"\n        (scroll)=\"onScroll($event)\"\n        (scrollToEnd)=\"onScrollToEnd()\"\n      >\n        <ng-template ng-header-tmp>\n          <small class=\"form-text text-muted\"\n            >Loaded {{ iconsBuffer.length }} of {{ fontAwesomeIcons.length }}</small\n          >\n        </ng-template>\n        <ng-template ng-option-tmp let-item=\"item\">\n          <i class=\"fa fa-light\">{{item.icon}}</i>\n          <span class=\"ml-3\">{{ item.name }}</span>\n        </ng-template>\n      </ng-select>\n      </div>\n    </form>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"closeModal('modalRef')\">Cancel</button>\n    <button type=\"button\" class=\"btn btn-primary\" (click)=\"createNode()\" [disabled]=\"!createNodeForm.valid\">Save Changes</button>\n    <button type=\"button\" class=\"btn btn-danger\" (click)=\"deleteNode()\">Delete Node</button>\n  </div>\n</ng-template>\n<!-- ./MODAL-->\n\n<!--CREATE NODE MODAL-->\n<ng-template #createNodeModal>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title pull-left\">Create Node</h4>\n    <button type=\"button\" class=\"btn-close close pull-right\" aria-label=\"Close\" (click)=\"closeModal('modalRef')\">\n      <span aria-hidden=\"true\" class=\"visually-hidden\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <form [formGroup]=\"createNodeForm\">\n      <div class=\"form-group\">\n        <label for=\"iconType\">Icon Type</label>\n        <div>\n          <input type=\"radio\" id=\"imageUrl\" formControlName=\"iconType\" value=\"url\"> Image URL\n          <input class=\"ml-5\" type=\"radio\" id=\"iconTypeSelect\" formControlName=\"iconType\" value=\"select\"> Choose Icon\n        </div>\n      </div>\n      <div class=\"form-group\" *ngIf=\"createNodeForm.get('iconType').value === 'url'\">\n        <label for=\"imageUrl\">Image URL</label>\n        <div class=\"input-group\">\n          <input type=\"text\" id=\"imageUrl\" formControlName=\"imageUrl\" class=\"form-control\" placeholder=\"Image URL\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" (click)=\"clearImageUrl()\">Clear</button>\n        </div>\n      </div>\n      <div class=\"form-group\" *ngIf=\"createNodeForm.get('iconType').value === 'select'\">\n        <label for=\"nodeIcon\">Choose Icon</label>\n        <ng-select\n        formControlName=\"icon\"\n        [items]=\"iconsBuffer\"\n        [virtualScroll]=\"true\"\n        [loading]=\"loading\"\n        bindLabel=\"name\"\n        bindValue=\"icon\"\n        [editableSearchTerm]=\"true\"\n        placeholder=\"Select icon\"\n        appendTo=\"body\"\n        [trackByFn]=\"trackByFn\"\n        (scroll)=\"onScroll($event)\"\n        (scrollToEnd)=\"onScrollToEnd()\"\n      >\n        <ng-template ng-header-tmp>\n          <small class=\"form-text text-muted\"\n            >Loaded {{ iconsBuffer.length }} of {{ fontAwesomeIcons.length }}</small\n          >\n        </ng-template>\n        <ng-template ng-option-tmp let-item=\"item\">\n          <i class=\"fa fa-light\">{{item.icon}}</i>\n          <span class=\"ml-3\">{{ item.name }}</span>\n        </ng-template>\n      </ng-select>\n      </div>\n      <div *ngIf=\"createNodeForm.errors?.iconOrImage\" class=\"text-danger\">\n        Please provide either an Image URL or choose an Icon, but not both.\n      </div>\n      <div class=\"form-group\">\n        <label for=\"label\">Labels</label>\n        <div formArrayName=\"label\">\n          <div *ngFor=\"let label of nodeLabelArray.controls; let i = index\" [formGroupName]=\"i\"\n            class=\"d-flex flex-column align-items-start\">\n            <div class=\"d-flex align-items-center w-100\">\n              <input formControlName=\"label\" class=\"form-control mb-2\" placeholder=\"Label\" [id]=\"'node-label-' + i\">\n              <button type=\"button\" class=\"btn btn-danger ml-2\" (click)=\"removeNodeLabel(i)\" [disabled]=\"nodeLabelArray.length <= 1\">Remove</button>\n            </div>\n          </div>\n        </div>\n        <button type=\"button\" class=\"btn btn-secondary mt-2\" (click)=\"addNodeLabel()\">Add Label</button>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"nodeAdditionalIcon\">Additional icon</label>\n        <ng-select\n        formControlName=\"additionalIcon\"\n        [items]=\"iconsBuffer\"\n        [virtualScroll]=\"true\"\n        [loading]=\"loading\"\n        bindLabel=\"name\"\n        bindValue=\"icon\"\n        [editableSearchTerm]=\"true\"\n        placeholder=\"Select icon\"\n        appendTo=\"body\"\n        [trackByFn]=\"trackByFn\"\n        (scroll)=\"onScroll($event)\"\n        (scrollToEnd)=\"onScrollToEnd()\"\n      >\n        <ng-template ng-header-tmp>\n          <small class=\"form-text text-muted\"\n            >Loaded {{ iconsBuffer.length }} of {{ fontAwesomeIcons.length }}</small\n          >\n        </ng-template>\n        <ng-template ng-option-tmp let-item=\"item\">\n          <i class=\"fa fa-light\">{{item.icon}}</i>\n          <span class=\"ml-3\">{{ item.name }}</span>\n        </ng-template>\n      </ng-select>\n      </div>\n    </form>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"closeModal('modalRef')\">Cancel</button>\n    <button type=\"button\" class=\"btn btn-primary\" (click)=\"createNode()\" [disabled]=\"!createNodeForm.valid\">Create Node</button>\n  </div>\n</ng-template>\n<!-- ./MODAL-->\n\n<!--EDIT LINKS MODAL-->\n<ng-template #editLinksModal>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title pull-left\">Edit Links</h4>\n    <button type=\"button\" class=\"btn-close close pull-right\" aria-label=\"Close\" (click)=\"closeModal('modalRef')\">\n      <span aria-hidden=\"true\" class=\"visually-hidden\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <form [formGroup]=\"createLinkForm\">\n      <div class=\"form-group\">\n        <label for=\"lineStyle\">Line Style</label>\n        <select id=\"lineStyle\" formControlName=\"lineStyle\" class=\"form-control\">\n          <option value=\"Solid\">Solid</option>\n          <option value=\"Dotted\">Dotted</option>\n        </select>\n      </div>\n      <div class=\"form-group form-check\">\n        <input type=\"checkbox\" id=\"sourceArrow\" formControlName=\"sourceArrow\" class=\"form-check-input\">\n        <label for=\"sourceArrow\">Source Arrow</label>\n      </div>\n      <div class=\"form-group form-check\">\n        <input type=\"checkbox\" id=\"targetArrow\" formControlName=\"targetArrow\" class=\"form-check-input\">\n        <label for=\"targetArrow\">Target Arrow</label>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"label\">Labels</label>\n        <div formArrayName=\"label\">\n          <div *ngFor=\"let label of labelArray.controls; let i = index\" [formGroupName]=\"i\"\n            class=\"d-flex flex-column align-items-start\">\n            <div class=\"d-flex align-items-center w-100\">\n              <input formControlName=\"label\" class=\"form-control\" placeholder=\"Label\" [id]=\"'label-' + i\">\n              <button type=\"button\" class=\"btn btn-danger ml-2\" (click)=\"removeLabel(i)\" [disabled]=\"labelArray.length <= 1\">Remove</button>\n            </div>\n            <div class=\"form-group form-check\">\n              <input type=\"checkbox\" formControlName=\"linkIcon\" class=\"form-check-input\" [id]=\"'linkIcon-' + i\">\n              <label [for]=\"'linkIcon-' + i\">Link Icon?</label>\n            </div>\n          </div>\n        </div>\n        <button type=\"button\" class=\"btn btn-secondary mt-2\" (click)=\"addLabel()\">Add Label</button>\n      </div>\n    </form>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"closeModal('modalRef')\">Cancel</button>\n    <button type=\"button\" class=\"btn btn-primary\" (click)=\"createLink()\" [disabled]=\"!createLinkForm.valid\">Save Changes</button>\n    <button type=\"button\" class=\"btn btn-danger\" (click)=\"deleteLink()\">Delete Link</button>\n  </div>\n</ng-template>\n<!-- ./MODAL-->\n\n\n<!--CREATE LINK MODAL-->\n<ng-template #createLinkModal>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title pull-left\">Create Link</h4>\n    <button type=\"button\" class=\"btn-close close pull-right\" aria-label=\"Close\" (click)=\"closeModal('modalRef')\">\n      <span aria-hidden=\"true\" class=\"visually-hidden\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <form [formGroup]=\"createLinkForm\">\n      <div class=\"form-group\">\n        <label for=\"lineStyle\">Line Style</label>\n        <select id=\"lineStyle\" formControlName=\"lineStyle\" class=\"form-control\">\n          <option value=\"Solid\">Solid</option>\n          <option value=\"Dotted\">Dotted</option>\n        </select>\n      </div>\n      <div class=\"form-group form-check\">\n        <input type=\"checkbox\" id=\"sourceArrow\" formControlName=\"sourceArrow\" class=\"form-check-input\">\n        <label for=\"sourceArrow\">Source Arrow</label>\n      </div>\n      <div class=\"form-group form-check\">\n        <input type=\"checkbox\" id=\"targetArrow\" formControlName=\"targetArrow\" class=\"form-check-input\">\n        <label for=\"targetArrow\">Target Arrow</label>\n      </div>\n\n      <div class=\"form-group\">\n        <label for=\"label\">Labels</label>\n        <div formArrayName=\"label\">\n          <div *ngFor=\"let label of labelArray.controls; let i = index\" [formGroupName]=\"i\"\n            class=\"d-flex flex-column align-items-start\">\n            <div class=\"d-flex align-items-center w-100\">\n              <input formControlName=\"label\" class=\"form-control\" placeholder=\"Label\" [id]=\"'label-' + i\">\n              <button type=\"button\" class=\"btn btn-danger ml-2\" (click)=\"removeLabel(i)\" [disabled]=\"labelArray.length <= 1\">Remove</button>\n            </div>\n            <div class=\"form-group form-check\">\n              <input type=\"checkbox\" formControlName=\"linkIcon\" class=\"form-check-input\" [id]=\"'linkIcon-' + i\">\n              <label [for]=\"'linkIcon-' + i\">Link Icon?</label>\n            </div>\n          </div>\n        </div>\n        <button type=\"button\" class=\"btn btn-secondary mt-2\" (click)=\"addLabel()\">Add Label</button>\n      </div>\n    </form>\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"closeModal('modalRef')\">Cancel</button>\n    <button type=\"button\" class=\"btn btn-primary\" (click)=\"createLink()\" [disabled]=\"!createLinkForm.valid\">Create Link</button>\n  </div>\n</ng-template>\n<!-- ./MODAL-->","import { Injectable } from '@angular/core';\nimport Dexie from 'dexie';\nimport { Data } from '../models/data.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DexieService extends Dexie {\n  public graphData: Dexie.Table<Data, string>;\n\n  constructor() {\n    super('GraphDatabase');\n    this.version(1).stores({\n      graphData: 'dataId'\n    });\n    this.graphData = this.table('graphData');\n  }\n\n  async saveGraphData(data: Data): Promise<void> {\n    await this.graphData.put(data);\n  }\n\n  async getGraphData(dataId: string): Promise<Data> {\n    return await this.graphData.get(dataId);\n  }\n\n  async deleteGraphData(dataId: string): Promise<void> {\n    await this.graphData.delete(dataId);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport * as d3 from 'd3';\nimport { Subject, ReplaySubject } from 'rxjs';\nimport { DexieService } from '../../db/graphDatabase';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class VisualiserGraphService {\n  constructor(private dexieService: DexieService) { }\n  public links = [];\n  public nodes = [];\n  public gBrush = null;\n  public brushMode = false;\n  public brushing = false;\n  public shiftKey;\n  public extent = null;\n  public zoom = false;\n  public zoomToFit = false;\n  public resetSearch;\n  /** RxJS subject to listen for updates of the selection */\n  public selectedNodesArray = new Subject<any[]>();\n  public dblClickNodePayload = new Subject();\n  public dblClickLinkPayload = new Subject();\n  public selectedLinkArray = new Subject();\n  public saveGraphData = new ReplaySubject();\n\n  public update(data, element, zoom, zoomToFit) {\n    const svg = d3.select(element);\n    this.zoom = zoom;\n    this.zoomToFit = zoomToFit;\n    return this._update(d3, svg, data);\n  }\n\n  private ticked(link, node, edgepaths) {\n    link.each(function (d, i, n) {\n      // Total difference in x and y from source to target\n      let diffX = d.target.x - d.source.x;\n      let diffY = d.target.y - d.source.y;\n\n      // Length of path from center of source node to center of target node\n      let pathLength = Math.sqrt(diffX * diffX + diffY * diffY);\n\n      // x and y distances from center to outside edge of target node\n      let offsetX = (diffX * 40) / pathLength;\n      let offsetY = (diffY * 40) / pathLength;\n\n      d3.select(n[i])\n        .attr('x1', d.source.x + offsetX)\n        .attr('y1', d.source.y + offsetY)\n        .attr('x2', d.target.x - offsetX)\n        .attr('y2', d.target.y - offsetY);\n    });\n\n    node.attr('transform', function (d) {\n      return `translate(${d.x}, ${d.y + 50})`;\n    });\n\n    // Sets a boundry for the nodes\n    // node.attr('cx', function (d) {\n    //   return (d.x = Math.max(40, Math.min(900 - 15, d.x)));\n    // });\n    // node.attr('cy', function (d) {\n    //   return (d.y = Math.max(50, Math.min(600 - 40, d.y)));\n    // });\n\n    edgepaths.attr('d', function (d) {\n      return `M ${d.source.x} ${d.source.y} L ${d.target.x} ${d.target.y}`;\n    });\n\n    edgepaths.attr('transform', function (d) {\n      if (d.target.x < d.source.x) {\n        const bbox = this.getBBox();\n        const rx = bbox.x + bbox.width / 2;\n        const ry = bbox.y + bbox.height / 2;\n        return `rotate(180 ${rx} ${ry})`;\n      } else {\n        return 'rotate(0)';\n      }\n    });\n  }\n\n  private initDefinitions(svg) {\n    const defs = svg.append('defs');\n\n    function createMarker(id, refX, path) {\n      defs\n        .append('marker')\n        .attr('id', id)\n        .attr('viewBox', '-0 -5 10 10')\n        .attr('refX', refX)\n        .attr('refY', 0)\n        .attr('orient', 'auto')\n        .attr('markerWidth', 8)\n        .attr('markerHeight', 8)\n        .attr('xoverflow', 'visible')\n        .append('svg:path')\n        .attr('d', path)\n        .attr('fill', '#b4b4b4')\n        .style('stroke', 'none');\n    }\n\n    createMarker('arrowheadTarget', 0, 'M 0,-5 L 10 ,0 L 0,5');\n    createMarker('arrowheadSource', 2, 'M 10 -5 L 0 0 L 10 5');\n\n    return svg;\n  }\n\n  private forceSimulation(_d3, { width, height }) {\n    return _d3\n      .forceSimulation()\n      .velocityDecay(0.1)\n      .force(\n        'link',\n        _d3\n          .forceLink()\n          .id(function (d) {\n            return d.id;\n          })\n          .distance(500)\n          .strength(1)\n      )\n      .force('charge', _d3.forceManyBody().strength(0.1))\n      .force('center', _d3.forceCenter(width / 2, height / 2))\n      .force('collision', _d3.forceCollide().radius(15));\n  }\n\n  private compareAndMarkNodesNew(nodes, old_nodes) {\n    // Create a map of ids to node objects for the old_nodes array\n    const oldMap = old_nodes.reduce((map, node) => {\n      map[node.id] = node;\n      return map;\n    }, {});\n\n    // Check each node in the nodes array to see if it's new or not\n    nodes.forEach((node) => {\n      if (!oldMap[node.id]) {\n        // Node is new, mark it with the newItem property\n        node.newItem = true;\n        // Remove the dagre coordinates from new nodes so we can set a random one in view\n        node.fx = null;\n        node.fy = null;\n      }\n    });\n\n    return nodes;\n  }\n\n  private removeNewItem(nodes) {\n    for (const node of nodes) {\n      if (node.hasOwnProperty('newItem')) {\n        delete node.newItem;\n      }\n    }\n    return nodes;\n  }\n\n  private randomiseNodePositions(nodeData, width, height) {\n    let minDistance = 100;\n    const availableSpace = width * height;\n    let adjustedRequiredSpace = nodeData.length * minDistance * minDistance;\n\n    if (adjustedRequiredSpace > availableSpace) {\n      while (adjustedRequiredSpace > availableSpace && minDistance > 0) {\n        minDistance -= 10;\n        adjustedRequiredSpace = nodeData.length * minDistance * minDistance;\n      }\n\n      if (adjustedRequiredSpace > availableSpace) {\n        throw new Error(\n          'Not enough space to accommodate all nodes without a fixed position.'\n        );\n      }\n    }\n\n    nodeData.forEach((node) => {\n      if (node.fx === null && node.fy === null) {\n        let currentMinDistance = minDistance;\n        let canPlaceNode = false;\n\n        while (!canPlaceNode && currentMinDistance > 0) {\n          node.fx = crypto.getRandomValues(new Uint32Array(1))[0] % width;\n          node.fy = crypto.getRandomValues(new Uint32Array(1))[0] % height;\n\n          canPlaceNode = !nodeData.some((otherNode) => {\n            if (\n              otherNode.fx === null ||\n              otherNode.fy === null ||\n              otherNode === node\n            ) {\n              return false;\n            }\n\n            const dx = otherNode.fx - node.fx;\n            const dy = otherNode.fy - node.fy;\n            return Math.sqrt(dx * dx + dy * dy) < currentMinDistance;\n          });\n\n          if (!canPlaceNode) {\n            currentMinDistance--;\n          }\n        }\n\n        if (!canPlaceNode) {\n          throw new Error(\n            'Not enough space to accommodate all nodes without a fixed position.'\n          );\n        }\n      }\n    });\n\n    return nodeData;\n  }\n\n  public async _update(_d3, svg, data) {\n    const { nodes, links } = data;\n    this.nodes = nodes || [];\n    this.links = links || [];\n\n    // Disable the reset btn\n    let resetBtn = document.getElementById('reset_graph');\n    let saveBtn = document.getElementById('save_graph');\n    if (resetBtn) {\n      resetBtn.setAttribute('disabled', 'true');\n      saveBtn.setAttribute('disabled', 'true');\n    }\n    // Width/Height of canvas\n    const parentWidth = _d3.select('svg').node().parentNode.clientWidth;\n    const parentHeight = _d3.select('svg').node().parentNode.clientHeight;\n\n    // Check to see if nodes are in Dexie\n    const oldData = await this.dexieService.getGraphData('nodes');\n    const oldNodes = oldData ? oldData.nodes : [];\n    if (Array.isArray(oldNodes)) {\n      // Compare and set property for new nodes\n      this.nodes = this.compareAndMarkNodesNew(nodes, oldNodes);\n      // Remove old nodes from Dexie\n      await this.dexieService.deleteGraphData('nodes');\n      // Add new nodes to Dexie\n      await this.dexieService.saveGraphData({ dataId: 'nodes', nodes: data.nodes, links: data.links });\n    } else {\n      // Add first set of nodes to Dexie\n      await this.dexieService.saveGraphData({ dataId: 'nodes', nodes: data.nodes, links: data.links });\n    }\n\n    // If nodes don't have a fx/fy coordinate we generate a random one - dagre nodes without links and new nodes added to canvas have null coordinates by design\n    this.nodes = this.randomiseNodePositions(\n      this.nodes,\n      parentWidth,\n      parentHeight\n    );\n\n    // Getting parents lineStyle and adding it to child objects\n    const relationshipsArray = this.links.map(\n      ({ lineStyle, targetArrow, sourceArrow, relationships }) =>\n        relationships.map((r) => ({\n          parentLineStyle: lineStyle,\n          parentSourceArrow: sourceArrow,\n          parentTargetArrow: targetArrow,\n          ...r,\n        }))\n    );\n\n    // Adding dy value based on link number and position in parent\n    relationshipsArray.map((linkRelationship) => {\n      linkRelationship.map((linkObject, i) => {\n        // dy increments of 15px\n        linkObject['dy'] = 20 + i * 15;\n      });\n    });\n\n    // IE11 does not like .flat\n    this.links = relationshipsArray.reduce((acc, val) => acc.concat(val), []);\n\n    d3.select('svg').append('g');\n\n    // Zoom Start\n    const zoomContainer = _d3.select('svg g');\n    let currentZoom = d3.zoomTransform(d3.select('svg').node());\n    const updateZoomLevel = () => {\n      const currentScale = currentZoom.k;\n      const maxScale = zoom.scaleExtent()[1];\n      const zoomPercentage = ((currentScale - 0.5) / (maxScale - 0.5)) * 200;\n      const zoomLevelDisplay = document.getElementById('zoom_level');\n      const zoomLevelText = `Zoom: ${zoomPercentage.toFixed(0)}%`;\n      const zoomInBtn = document.getElementById('zoom_in');\n      const zoomOutBtn = document.getElementById('zoom_out');\n      const zoomResetBtn = document.getElementById('zoom_reset');\n\n      // It might not exist depending on the this.zoom boolean\n      if (zoomResetBtn) {\n        zoomResetBtn.setAttribute('disabled', 'true');\n      }\n      // Check if the zoom level has changed before updating the display / allows for panning without showing the zoom percentage\n      if (zoomLevelDisplay && zoomLevelDisplay.innerHTML !== zoomLevelText) {\n        zoomLevelDisplay.innerHTML = zoomLevelText;\n        zoomLevelDisplay.style.opacity = '1';\n        setTimeout(() => {\n          if (zoomLevelDisplay) {\n            zoomLevelDisplay.style.opacity = '0';\n          }\n        }, 2000);\n      }\n      // Disable the zoomInBtn if the zoom level is at 200%\n      if (zoomInBtn) {\n        if (zoomPercentage === 200) {\n          zoomInBtn.setAttribute('disabled', 'true');\n        } else {\n          zoomInBtn.removeAttribute('disabled');\n        }\n      }\n      // Disable the zoomOutBtn if the zoom level is at 0%\n      if (zoomOutBtn) {\n        if (zoomPercentage === 0) {\n          zoomOutBtn.setAttribute('disabled', 'true');\n        } else {\n          zoomOutBtn.removeAttribute('disabled');\n        }\n      }\n      // Disable the zoomResetBtn if the zoom level is at 100%\n      if (zoomResetBtn) {\n        if (zoomPercentage === 100) {\n          zoomResetBtn.setAttribute('disabled', 'true');\n        } else {\n          zoomResetBtn.removeAttribute('disabled');\n        }\n      }\n    };\n    let zoomedInit;\n    const zoomed = () => {\n      const transform = d3.event.transform;\n      zoomContainer.attr(\n        'transform',\n        `translate(${transform.x}, ${transform.y}) scale(${transform.k})`\n      );\n      currentZoom = transform;\n      zoomedInit = true;\n      updateZoomLevel();\n    };\n\n    const zoom = d3\n      .zoom()\n      .scaleExtent([0.5, 1.5])\n      .on('start', function () {\n        d3.select(this).style('cursor', this.zoom ? null : 'grabbing');\n      })\n      .on('zoom', this.zoom ? zoomed : null)\n      .on('end', function () {\n        d3.select(this).style('cursor', 'grab');\n      });\n    svg\n      .call(zoom)\n      .style('cursor', 'grab')\n      .on(this.zoom ? null : 'wheel.zoom', null)\n      .on('dblclick.zoom', null);\n    zoom.filter(() => !d3.event.shiftKey);\n\n    // Zoom button controls\n    d3.select('#zoom_in').on('click', function () {\n      zoom.scaleBy(svg.transition().duration(750), 1.2);\n      updateZoomLevel();\n    });\n    d3.select('#zoom_out').on('click', function () {\n      zoom.scaleBy(svg.transition().duration(750), 0.8);\n      updateZoomLevel();\n    });\n    d3.select('#zoom_reset').on('click', function () {\n      zoom.scaleTo(svg.transition().duration(750), 1);\n      updateZoomLevel();\n    });\n    // Zoom to fit function and Button\n    const handleZoomToFit = () => {\n      const nodeBBox = zoomContainer.node().getBBox();\n\n      // Calculate scale and translate values to fit all nodes\n      const padding = 30;\n      const scaleX = (parentWidth - padding * 2) / nodeBBox.width;\n      const scaleY = (parentHeight - padding * 2) / nodeBBox.height;\n      const scale = Math.min(scaleX, scaleY, 1.0); // Restrict scale to a maximum of 1.0\n\n      const translateX =\n        -nodeBBox.x * scale + (parentWidth - nodeBBox.width * scale) / 2;\n      const translateY =\n        -nodeBBox.y * scale + (parentHeight - nodeBBox.height * scale) / 2;\n\n      // Get the bounding box of all nodes\n      const allNodes = zoomContainer.selectAll('.node-wrapper');\n      const allNodesBBox = allNodes.nodes().reduce(\n        (acc, node) => {\n          const nodeBBox = node.getBBox();\n          acc.x = Math.min(acc.x, nodeBBox.x);\n          acc.y = Math.min(acc.y, nodeBBox.y);\n          acc.width = Math.max(acc.width, nodeBBox.x + nodeBBox.width);\n          acc.height = Math.max(acc.height, nodeBBox.y + nodeBBox.height);\n          return acc;\n        },\n        { x: Infinity, y: Infinity, width: -Infinity, height: -Infinity }\n      );\n\n      // Check if all nodes are within the viewable container\n      if (\n        allNodesBBox.x * scale >= 0 &&\n        allNodesBBox.y * scale >= 0 &&\n        allNodesBBox.width * scale <= parentWidth &&\n        allNodesBBox.height * scale <= parentHeight\n      ) {\n        // All nodes are within the viewable container, no need to apply zoom transform\n        return;\n      }\n\n      // Manually reset the zoom transform\n      zoomContainer\n        .transition()\n        .duration(750)\n        .attr('transform', 'translate(0, 0) scale(1)');\n\n      // Apply zoom transform to zoomContainer\n      zoomContainer\n        .transition()\n        .duration(750)\n        .attr(\n          'transform',\n          `translate(${translateX}, ${translateY}) scale(${scale})`\n        );\n\n      // Update the currentZoom variable with the new transform\n      // zoomedInit - created because if zoomToFit is called before anything else it screws up the base transform - e.g. showCurrentMatch\n      if (zoomedInit) {\n        currentZoom.x = translateX;\n        currentZoom.y = translateY;\n        currentZoom.k = scale;\n      }\n      updateZoomLevel();\n    };\n\n    d3.select('#zoom_to_fit').on('click', handleZoomToFit);\n\n    // Check if zoom level is at 0% or 100% before allowing mousewheel zoom - this stabilises the canvas when the limit is reached\n    svg.on('wheel', () => {\n      const currentScale = currentZoom.k;\n      const maxScale = zoom.scaleExtent()[1];\n      const minScale = zoom.scaleExtent()[0];\n      if (currentScale === maxScale || currentScale === minScale) {\n        d3.event.preventDefault();\n      }\n    });\n\n    // Zoom End\n    // Selection buttons\n    const selectAllNodes = document.getElementById('select_all');\n    const handleSelectAllNodes = () => {\n      const totalSize = nodeEnter.size();\n      const nonSelectedNodes = d3.selectAll('.node-wrapper:not(.selected)');\n      const count = nonSelectedNodes.size();\n      const notSelectedSize = totalSize - count;\n\n      if (notSelectedSize !== totalSize) {\n        selectAllNodes.innerHTML = '<i class=\"bi bi-grid\"></i>';\n        selectAllNodes.style.opacity = '0.65';\n        _d3.selectAll('.node-wrapper').classed('selected', function (p) {\n          p.previouslySelected = p.selected;\n          return (p.selected = true);\n        });\n        d3.selectAll('.nodeText')\n          .style('fill', (d) => (d.selected ? 'blue' : '#999'))\n          .style('font-weight', (d) => (d.selected ? 700 : 400));\n      } else {\n        selectAllNodes.innerHTML = '<i class=\"bi bi-grid-fill\"></i>';\n        selectAllNodes.style.opacity = '1';\n        _d3.selectAll('.node-wrapper').classed('selected', false);\n        _d3.selectAll('.node-wrapper').classed('selected', function (p) {\n          return (p.selected = p.previouslySelected = false);\n        });\n        _d3\n          .selectAll('.nodeText')\n          .style('font-weight', 400)\n          .style('fill', '#212529');\n      }\n      // reset link style\n      _d3\n        .selectAll('.edgelabel')\n        .style('font-weight', 400)\n        .style('fill', '#212529');\n    };\n    d3.select('#select_all').on('click', handleSelectAllNodes);\n\n    const handleToggleSelection = () => {\n      const totalSize = nodeEnter.size();\n      const selectedNodes = d3.selectAll('.node-wrapper.selected');\n      const nonSelectedNodes = d3.selectAll('.node-wrapper:not(.selected)');\n      const selectedCount = selectedNodes.size();\n      const nonSelectedCount = nonSelectedNodes.size();\n\n      if (selectedCount > 0) {\n        // Deselect selected nodes and select non-selected nodes\n        selectedNodes.classed('selected', function (p) {\n          p.previouslySelected = p.selected;\n          return (p.selected = false);\n        });\n\n        nonSelectedNodes.classed('selected', function (p) {\n          p.previouslySelected = p.selected;\n          return (p.selected = true);\n        });\n\n        // If there are only two nodes selected we need to update the subject selectedNodesArray so we can create a new link with the correct nodes attached.\n        const selectedSize = svg.selectAll('.selected').size();\n        if (selectedSize <= 2) {\n          // get data from node\n          const localselectedNodesArray = _d3.selectAll('.selected').data();\n          const filterId = localselectedNodesArray.filter((x) => x);\n          self.selectedNodesArray.next(filterId);\n        }\n\n        // Update styles of node elements\n        _d3\n          .selectAll('.nodeText')\n          .style('fill', (d) => (d.selected ? 'blue' : '#212529'))\n          .style('font-weight', (d) => (d.selected ? 700 : 400));\n      } else if (nonSelectedCount > 0) {\n        // Select all nodes if none are selected\n        _d3.selectAll('.node-wrapper').classed('selected', function (p) {\n          p.previouslySelected = p.selected;\n          return (p.selected = true);\n        });\n\n        // Update styles of node elements\n        _d3\n          .selectAll('.nodeText')\n          .style('font-weight', 700)\n          .style('fill', 'blue');\n      }\n\n      // Update the state of another button based on the current selection\n      const updatedSelectedCount =\n        selectedCount > 0 ? totalSize - selectedCount : totalSize;\n      if (updatedSelectedCount === totalSize) {\n        // Update the state of another button if all nodes are selected\n        selectAllNodes.innerHTML = '<i class=\"bi bi-grid\"></i>';\n        selectAllNodes.style.opacity = '0.65';\n      } else {\n        // Update the state of another button if not all nodes are selected\n        selectAllNodes.innerHTML = '<i class=\"bi bi-grid-fill\"></i>';\n        selectAllNodes.style.opacity = '1';\n      }\n      // reset link style\n      _d3\n        .selectAll('.edgelabel')\n        .style('font-weight', 400)\n        .style('fill', '#212529');\n    };\n\n    d3.select('#toggle_selection').on('click', handleToggleSelection);\n\n    // search\n    const searchBtn = document.getElementById('searchButton');\n    // Check to see if exists - control bool\n    if (searchBtn) {\n      const searchInput = document.getElementById(\n        'searchInput'\n      ) as HTMLInputElement;\n      const clearButton = document.getElementById(\n        'clearButton'\n      ) as HTMLButtonElement;\n      const handleSearch = (event: KeyboardEvent) => {\n        if (event.key === 'Enter') {\n          event.preventDefault();\n          performSearch();\n        }\n      };\n\n      let matchingNodes = [];\n      let currentMatchIndex = -1;\n\n      const showCurrentMatch = () => {\n        // Remove any previously added background circle\n        d3.selectAll('circle.highlight-background').remove();\n\n        const matchingNode = matchingNodes[currentMatchIndex];\n        // Highlight the matching node\n        const nodeWrapper = d3.selectAll('.node-wrapper').filter(function () {\n          return d3.select(this).attr('id') === matchingNode.id;\n        });\n\n        // Add a new background circle to the entire <g> node\n        const bbox = nodeWrapper.node().getBBox();\n        const centerX = bbox.x + bbox.width / 2;\n        const centerY = bbox.y + bbox.height / 2;\n        const radius = Math.max(bbox.width + 30, bbox.height) / 2;\n\n        const backgroundCircle = nodeWrapper\n          .insert('circle', ':first-child')\n          .attr('class', 'highlight-background')\n          .attr('fill', 'yellow')\n          .attr('opacity', '0.3')\n          .attr('cx', centerX)\n          .attr('cy', centerY);\n\n        // Animate the background circle\n        backgroundCircle\n          .transition()\n          .duration(1000)\n          .attr('r', radius)\n          .transition()\n          .duration(1000)\n          .attr('r', radius / 4)\n          .attr('opacity', '0.5')\n          .transition()\n          .duration(1000)\n          .attr('r', radius)\n          .attr('opacity', '0.3');\n\n        // Zoom to the matching node\n        const zoomTransform = d3.zoomTransform(svg.node());\n        const { x, y, k } = zoomTransform;\n        const { fx, fy } = matchingNode;\n        const newZoomTransform = d3.zoomIdentity\n          .translate(-fx * k + parentWidth / 2, -fy * k + parentHeight / 2)\n          .scale(k);\n        zoomContainer\n          .transition()\n          .duration(750)\n          .call(zoom.transform, newZoomTransform);\n\n        // Disable/Enable navigation buttons\n        const prevButton = document.getElementById(\n          'prevButton'\n        ) as HTMLButtonElement;\n        const nextButton = document.getElementById(\n          'nextButton'\n        ) as HTMLButtonElement;\n        prevButton.disabled = currentMatchIndex === 0;\n        nextButton.disabled = currentMatchIndex === matchingNodes.length - 1;\n      };\n\n      const performSearch = () => {\n        // Remove any previously added background circle\n        d3.selectAll('circle.highlight-background').remove();\n\n        const searchTerm = searchInput.value.toLowerCase().trim();\n\n        if (searchTerm.length >= 3) {\n          // Perform the search\n          matchingNodes = this.nodes.filter((node) => {\n            const label = node.label.map((item) => item.toLowerCase());\n\n            return (\n              label.some((labelItem) => labelItem.includes(searchTerm)) ||\n              node.label.some((obj) =>\n                Object.values(obj).some((value) =>\n                  String(value).toLowerCase().includes(searchTerm)\n                )\n              )\n            );\n          });\n\n          if (matchingNodes.length > 0) {\n            currentMatchIndex = 0;\n            showCurrentMatch();\n          } else {\n            currentMatchIndex = -1;\n            showNoMatches();\n          }\n        } else {\n          // Clear search\n          matchingNodes = [];\n          currentMatchIndex = -1;\n          showNoMatches();\n        }\n\n        updateClearButton();\n      };\n\n      const showNoMatches = () => {\n        // Reset zoom level\n        const newZoomTransform = d3.zoomIdentity.translate(0, 0).scale(1);\n        zoomContainer\n          .transition()\n          .duration(750)\n          .call(zoom.transform, newZoomTransform);\n        updateZoomLevel();\n        // Disable navigation buttons\n        const prevButton = document.getElementById(\n          'prevButton'\n        ) as HTMLButtonElement;\n        const nextButton = document.getElementById(\n          'nextButton'\n        ) as HTMLButtonElement;\n        prevButton.disabled = true;\n        nextButton.disabled = true;\n\n        // Show \"no matches found\" text with fade-in transition\n        const noMatchesText = document.getElementById('noMatchesText');\n        if (searchInput.value !== '') {\n          noMatchesText.classList.add('show');\n          // Fade away after a few seconds\n          setTimeout(() => {\n            // Hide \"no matches found\" text with fade-out transition\n            noMatchesText.classList.remove('show');\n          }, 3000);\n        }\n      };\n\n      const navigateNext = () => {\n        if (currentMatchIndex < matchingNodes.length - 1) {\n          currentMatchIndex++;\n          showCurrentMatch();\n        }\n      };\n\n      const navigatePrevious = () => {\n        if (currentMatchIndex > 0) {\n          currentMatchIndex--;\n          showCurrentMatch();\n        }\n      };\n\n      const clearSearchInput = () => {\n        searchInput.value = '';\n        searchInput.focus();\n        updateClearButton();\n        matchingNodes = [];\n        currentMatchIndex = -1;\n        // Remove any previously added background circle\n        d3.selectAll('circle.highlight-background').remove();\n\n        // Disable the nextButton & prevButton\n        const nextButton = document.getElementById(\n          'nextButton'\n        ) as HTMLButtonElement;\n        nextButton.disabled = true;\n        const prevButton = document.getElementById(\n          'prevButton'\n        ) as HTMLButtonElement;\n        prevButton.disabled = true;\n      };\n\n      const updateClearButton = () => {\n        clearButton.disabled = searchInput.value.trim().length === 0;\n      };\n\n      // We reset the search when we reset the data\n      if (this.resetSearch) {\n        clearSearchInput();\n        this.resetSearch = false;\n      }\n\n      searchInput.addEventListener('input', updateClearButton);\n      searchBtn.addEventListener('click', performSearch);\n      clearButton.addEventListener('click', clearSearchInput);\n      document\n        .getElementById('searchInput')\n        .addEventListener('keydown', handleSearch);\n      document\n        .getElementById('nextButton')\n        .addEventListener('click', navigateNext);\n      document\n        .getElementById('prevButton')\n        .addEventListener('click', navigatePrevious);\n    }\n    // For arrows\n    this.initDefinitions(svg);\n\n    const simulation = this.forceSimulation(_d3, {\n      width: +svg.attr('width'),\n      height: +svg.attr('height'),\n    });\n\n    // Brush Start\n    let gBrushHolder = svg.append('g');\n\n    let brush = d3\n      .brush()\n      .on('start', () => {\n        this.brushing = true;\n\n        nodeEnter.each((d) => {\n          d.previouslySelected = this.shiftKey && d.selected;\n        });\n\n        _d3\n          .selectAll('.edgelabel')\n          .style('font-weight', 400)\n          .style('fill', '#212529');\n      })\n      .on('brush', () => {\n        this.extent = d3.event.selection;\n        if (!d3.event.sourceEvent || !this.extent || !this.brushMode) return;\n        if (!currentZoom) return;\n\n        nodeEnter\n          .classed('selected', (d) => {\n            return (d.selected =\n              d.previouslySelected ^\n              (<any>(\n                (d3.event.selection[0][0] <=\n                  d.x * currentZoom.k + currentZoom.x &&\n                  d.x * currentZoom.k + currentZoom.x <\n                  d3.event.selection[1][0] &&\n                  d3.event.selection[0][1] <=\n                  d.y * currentZoom.k + currentZoom.y &&\n                  d.y * currentZoom.k + currentZoom.y <\n                  d3.event.selection[1][1])\n              )));\n          })\n          .select('.nodeText')\n          .classed('selected', (d) => d.selected)\n          .style('fill', (d) => (d.selected ? 'blue' : '#999'))\n          .style('font-weight', (d) => (d.selected ? 700 : 400));\n\n        this.extent = d3.event.selection;\n      })\n      .on('end', () => {\n        if (!d3.event.sourceEvent || !this.extent || !this.gBrush) return;\n\n        this.gBrush.call(brush.move, null);\n        if (!this.brushMode) {\n          // the shift key has been release before we ended our brushing\n          this.gBrush.remove();\n          this.gBrush = null;\n        }\n        this.brushing = false;\n\n        nodeEnter\n          .select('.nodeText')\n          .filter(function () {\n            return !d3.select(this.parentNode).classed('selected');\n          })\n          .style('fill', '#212529')\n          .style('font-weight', 400);\n\n        const totalSize = nodeEnter.size();\n        const nonSelectedNodes = d3.selectAll('.node-wrapper:not(.selected)');\n        const count = nonSelectedNodes.size();\n        const notSelectedSize = totalSize - count;\n\n        if (notSelectedSize === totalSize) {\n          selectAllNodes.innerHTML = '<i class=\"bi bi-grid\"></i>';\n          selectAllNodes.style.opacity = '0.65';\n        } else {\n          selectAllNodes.innerHTML = '<i class=\"bi bi-grid-fill\"></i>';\n          selectAllNodes.style.opacity = '1';\n        }\n\n        // counts number of selected classes to not exceed 2\n        const selectedSize = nodeEnter.selectAll('.selected').size();\n        if (selectedSize <= 2) {\n          // get data from node\n          const localselectedNodesArray = nodeEnter\n            .selectAll('.selected')\n            .data();\n          const filterId = localselectedNodesArray.filter((x) => x);\n          self.selectedNodesArray.next(filterId);\n          return filterId;\n        } else {\n          self.selectedNodesArray.next([]);\n        }\n      });\n\n    let keyup = () => {\n      this.shiftKey = false;\n      this.brushMode = false;\n      if (this.gBrush && !this.brushing) {\n        // only remove the brush if we're not actively brushing\n        // otherwise it'll be removed when the brushing ends\n        this.gBrush.remove();\n        this.gBrush = null;\n      }\n    };\n\n    let keydown = () => {\n      // Allows us to turn off default listeners for keyModifiers(shift)\n      brush.filter(() => d3.event.shiftKey);\n      brush.keyModifiers(false);\n      // holding shift key\n      if (d3.event.keyCode === 16) {\n        this.shiftKey = true;\n\n        if (!this.gBrush) {\n          this.brushMode = true;\n          this.gBrush = gBrushHolder.append('g').attr('class', 'brush');\n          this.gBrush.call(brush);\n        }\n      }\n    };\n\n    d3.select('body').on('keydown', keydown).on('keyup', keyup);\n    // Brush End\n\n    const filteredLine = this.links.filter(\n      ({ source, target }, index, linksArray) => {\n        // Filter out any objects that have matching source and target property values\n        // To display only one line (parentLineStyle) - removes html bloat and a darkened line\n        return (\n          index ===\n          linksArray.findIndex(\n            (obj) => obj.source === source && obj.target === target\n          )\n        );\n      }\n    );\n\n    const link = zoomContainer.selectAll().data(filteredLine, function (d) {\n      return d.id;\n    });\n\n    zoomContainer.selectAll('line').data(link).exit().remove();\n\n    const linkEnter = link\n      .join('line')\n      .style('stroke', function (d) {\n        if (d.parentLineStyle === 'Solid') {\n          return '#777';\n        } else {\n          return '#b4b4b4';\n        }\n      })\n      .style('stroke-opacity', '.6')\n      .style('stroke-dasharray', function (d) {\n        if (d.parentLineStyle === 'Dotted') {\n          return '8,5';\n        }\n        return null;\n      })\n      .style('stroke-width', '2px')\n      .attr('class', 'link')\n      .attr('id', function (d) {\n        const suffix = '_line';\n        const source = d.source ? d.source : '';\n        const target = d.target ? d.target : '';\n        return `${source}_${target}${suffix}`;\n      })\n      .attr('marker-end', function (d) {\n        if (d.parentTargetArrow === true) {\n          return 'url(#arrowheadTarget)';\n        }\n        return null;\n      })\n      .attr('marker-start', function (d) {\n        if (d.parentSourceArrow === true) {\n          return 'url(#arrowheadSource)';\n        }\n        return null;\n      });\n\n    link.append('title').text(function (d) {\n      return d.label;\n    });\n\n    const edgepaths = zoomContainer.selectAll().data(this.links, function (d) {\n      return d.id;\n    });\n\n    zoomContainer.selectAll('path').data(edgepaths).exit().remove();\n\n    const edgepathsEnter = edgepaths\n      .join('svg:path')\n      .attr('class', 'edgepath')\n      .attr('fill-opacity', 0)\n      .attr('stroke-opacity', 0)\n      .attr('id', function (d, i) {\n        return 'edgepath' + i;\n      });\n\n    const edgelabels = zoomContainer.selectAll().data(this.links, function (d) {\n      return d.id;\n    });\n\n    zoomContainer.selectAll('text').data(edgelabels).exit().remove();\n\n    const edgelabelsEnter = edgelabels\n      .enter()\n      .append('text')\n      .attr('class', 'edgelabel')\n      .attr('id', function (d) {\n        const suffix = '_text';\n        const source = d.source ? d.source : '';\n        const target = d.target ? d.target : '';\n        return `${source}_${target}${suffix}`;\n      })\n      .style('text-anchor', 'middle')\n      .attr('font-size', 14)\n      .attr('dy', function (d) {\n        return d.dy;\n      });\n\n    svg.selectAll('.edgelabel').on('dblclick', function () {\n      const dblClick = d3.select(this).data();\n      self.dblClickLinkPayload.next(dblClick);\n    });\n\n    edgelabelsEnter\n      .append('textPath')\n      .attr('xlink:href', function (d, i) {\n        return '#edgepath' + i;\n      })\n      .style('cursor', 'pointer')\n      .attr('dominant-baseline', 'bottom')\n      .attr('startOffset', '50%')\n      .text(function (d) {\n        return d.label;\n      });\n\n    edgelabelsEnter\n      .selectAll('textPath')\n      .filter(function (d) {\n        return d.linkIcon;\n      })\n      .append('tspan')\n      .style('fill', '#856404')\n      .style('font-weight', '700')\n      .attr('class', 'fa')\n      .text(' \\uf0c1');\n    // on normal label link click - highlight labels\n    svg.selectAll('.edgelabel').on('click', function (d) {\n      _d3.event.stopPropagation();\n      nodeEnter.each(function (d) {\n        d.selected = false;\n        d.previouslySelected = false;\n      });\n      node.classed('selected', false);\n      selectAllNodes.innerHTML = '<i class=\"bi bi-grid-fill\"></i>';\n      selectAllNodes.style.opacity = '1';\n      _d3\n        .selectAll('.nodeText')\n        .style('fill', '#212529')\n        .style('font-weight', 400);\n      _d3\n        .selectAll('.edgelabel')\n        .style('font-weight', 400)\n        .style('fill', '#212529');\n      _d3.select(this).style('fill', 'blue').style('font-weight', 700);\n      self.selectedNodesArray.next([]);\n    });\n\n    // on right label link click - hightlight labels and package data for context menu\n    svg.selectAll('.edgelabel').on('contextmenu', function (d) {\n      self.selectedNodesArray.next([]);\n      _d3\n        .selectAll('.nodeText')\n        .style('fill', '#212529')\n        .style('font-weight', 400);\n      _d3\n        .selectAll('.edgelabel')\n        .style('font-weight', 400)\n        .style('fill', '#212529');\n      _d3.select(this).style('fill', 'blue').style('font-weight', 700);\n      const localSelectedLinkArray = d3.select(this).data();\n      self.selectedLinkArray.next(localSelectedLinkArray);\n    });\n\n    const node = zoomContainer.selectAll().data(this.nodes, function (d) {\n      return d.id;\n    });\n\n    zoomContainer.selectAll('g').data(node).exit().remove();\n\n    const nodeEnter = node\n      .join('g')\n      .call(\n        _d3\n          .drag()\n          .on('start', function dragstarted(d) {\n            // Enable the save & reset btn\n            if (resetBtn) {\n              document\n                .getElementById('reset_graph')\n                .removeAttribute('disabled');\n              document.getElementById('save_graph').removeAttribute('disabled');\n            }\n            if (!_d3.event.active) simulation.alphaTarget(0.9).restart();\n\n            if (!d.selected && !this.shiftKey) {\n              // if this node isn't selected, then we have to unselect every other node\n              nodeEnter.classed('selected', function (p) {\n                return (p.selected = p.previouslySelected = false);\n              });\n              // remove the selected styling on other nodes and labels when we drag a non-selected node\n              _d3\n                .selectAll('.edgelabel')\n                .style('fill', '#212529')\n                .style('font-weight', 400);\n              _d3\n                .selectAll('.nodeText')\n                .style('font-weight', 400)\n                .style('fill', '#212529');\n            }\n\n            _d3.select(this).classed('selected', function (p) {\n              d.previouslySelected = d.selected;\n              return (d.selected = true);\n            });\n\n            nodeEnter\n              .filter(function (d) {\n                return d.selected;\n              })\n              .each(function (d) {\n                d.fx = d.x;\n                d.fy = d.y;\n              });\n          })\n          .on('drag', function dragged(d) {\n            nodeEnter\n              .filter(function (d) {\n                return d.selected;\n              })\n              .each(function (d) {\n                d.fx += _d3.event.dx;\n                d.fy += _d3.event.dy;\n              });\n          })\n          .on('end', function dragended(d) {\n            if (!_d3.event.active) {\n              simulation.alphaTarget(0.3).restart();\n            }\n            d.fx = d.x;\n            d.fy = d.y;\n            // Subscribes to updated graph positions for save\n            self.saveGraphData.next(data);\n          })\n      )\n      .attr('class', 'node-wrapper')\n      .attr('id', function (d) {\n        return d.id;\n      });\n\n    // no collision - already using this in statement\n    const self = this;\n\n    svg.selectAll('.node-wrapper').on('dblclick', function () {\n      const dblClick = d3.select(this).data();\n      self.dblClickNodePayload.next(dblClick);\n    });\n\n    // node click and ctrl + click\n    svg.selectAll('.node-wrapper').on('click', function (d) {\n      // so we don't activate the canvas .click event\n      _d3.event.stopPropagation();\n\n      // setting the select attribute to the object on single select so we can drag them\n      d.selected = true;\n\n      selectAllNodes.innerHTML = '<i class=\"bi bi-grid-fill\"></i>';\n      selectAllNodes.style.opacity = '1';\n      // If ctrl key is held on click\n      if (_d3.event.ctrlKey) {\n        // toggle the class on and off when ctrl click is active\n        const clickedNode = d3.select(this);\n        const isSelected = clickedNode.classed('selected');\n        clickedNode.classed('selected', !isSelected);\n        d.selected = !isSelected;\n        d.previouslySelected = !isSelected;\n\n        const totalSize = nodeEnter.size();\n        const nonSelectedNodes = d3.selectAll('.node-wrapper:not(.selected)');\n        const count = nonSelectedNodes.size();\n        const notSelectedSize = totalSize - count;\n\n        if (notSelectedSize === totalSize) {\n          selectAllNodes.innerHTML = '<i class=\"bi bi-grid\"></i>';\n          selectAllNodes.style.opacity = '0.65';\n        }\n        // remove the single click styling on other nodes and labels\n        _d3\n          .selectAll('.edgelabel')\n          .style('fill', '#212529')\n          .style('font-weight', 400);\n        _d3\n          .selectAll('.nodeText')\n          .style('font-weight', 400)\n          .style('fill', '#212529');\n        svg\n          .selectAll('.selected')\n          .selectAll('.nodeText')\n          .style('fill', 'blue')\n          .style('font-weight', 700);\n        // counts number of selected classes to not exceed 2\n        const selectedSize = svg.selectAll('.selected').size();\n\n        if (selectedSize <= 2) {\n          // As we allow for single click without a ctrl+click to select two nodes, we have to apply d.selected to it\n          _d3\n            .selectAll('.selected')\n            .attr('selected', true)\n            .each(function (d) {\n              if (d) {\n                d.selected = true;\n              }\n            });\n          // get data from node\n          const localselectedNodesArray = _d3.selectAll('.selected').data();\n          const filterId = localselectedNodesArray.filter((x) => x);\n          self.selectedNodesArray.next(filterId);\n          return filterId;\n        }\n        return null;\n      } else {\n        svg.selectAll('.node-wrapper').classed('selected', false);\n        d3.select(this).classed('selected', true);\n        nodeEnter.each(function (d) {\n          d.selected = false;\n          d.previouslySelected = false;\n        });\n      }\n\n      // remove style from selected node before the class is removed\n      _d3\n        .selectAll('.selected')\n        .selectAll('.nodeText')\n        .style('fill', '#212529');\n      // Remove styles from all other nodes and labels on single left click\n      _d3.selectAll('.edgelabel').style('fill', '#212529');\n      _d3\n        .selectAll('.nodeText')\n        .style('fill', '#212529')\n        .style('font-weight', 400);\n      // Add style on single left click\n      _d3\n        .select(this)\n        .select('.nodeText')\n        .style('fill', 'blue')\n        .style('font-weight', 700);\n      self.selectedNodesArray.next([]);\n\n      return null;\n    });\n\n    // Right click on a node highlights for context menu\n    svg.selectAll('.node-wrapper').on('contextmenu', function (d) {\n      // counts number of selected classes to not exceed 2\n      const selectedSize = svg\n        .selectAll('.selected')\n        .selectAll('.nodeText')\n        .size();\n\n      if (selectedSize !== 2) {\n        // We don't want to remove style if they are obtaining the context menu for just two nodes (create link option)\n        svg.selectAll('.selected').classed('selected', false);\n        self.selectedNodesArray.next([]);\n        _d3\n          .selectAll('.edgelabel')\n          .style('fill', '#212529')\n          .style('font-weight', 400);\n        _d3\n          .selectAll('.nodeText')\n          .style('fill', '#212529')\n          .style('font-weight', 400);\n        // Add style on single right click\n        _d3\n          .select(this)\n          .select('.nodeText')\n          .style('fill', 'blue')\n          .style('font-weight', 700);\n      }\n    });\n\n    //click on canvas to remove selected nodes\n    _d3.select('svg').on('click', () => {\n      nodeEnter.each(function (d) {\n        d.selected = false;\n        d.previouslySelected = false;\n      });\n      node.classed('selected', false);\n      _d3\n        .selectAll('.selected')\n        .selectAll('.nodeText')\n        .style('fill', '#212529')\n        .style('font-weight', 400);\n      _d3.selectAll('.selected').classed('selected', false);\n      _d3\n        .selectAll('.edgelabel')\n        .style('fill', '#212529')\n        .style('font-weight', 400);\n      self.selectedNodesArray.next([]);\n      selectAllNodes.innerHTML = '<i class=\"bi bi-grid-fill\"></i>';\n      selectAllNodes.style.opacity = '1';\n    });\n\n    nodeEnter\n    .filter(function (d) {\n      if (!d.imageUrl || d.imageUrl === '') {\n        return null;\n      }\n      return true;\n    })\n      .append('image')\n      .attr('xlink:href', function (d) {\n        return d.imageUrl;\n      })\n      .attr('x', -15)\n      .attr('y', -60)\n      .attr('class', function (d) {\n        const suffix = 'image';\n        const id = d.id ? d.id : '';\n        return `${id}_${suffix}`;\n      })\n      .attr('id', function (d) {\n        const id = d.id ? d.id : '';\n        return `${id}`;\n      })\n      .attr('width', 32)\n      .attr('height', 32)\n      .attr('class', 'image')\n      .style('cursor', 'pointer');\n\n      nodeEnter\n      .filter(function (d) {\n        if (!d.icon || d.icon === '') {\n          return null;\n        }\n        return true;\n      })\n      .append('text')\n      .text(function (d) {\n        return d.icon;\n      })\n      .attr('x', -18)\n      .attr('y', -30)\n      .attr('class', function (d) {\n        const suffix = 'icon';\n        const id = d.id ? d.id : '';\n        return `${id}_${suffix} fa`;\n      })\n      .attr('id', function (d) {\n        const id = d.id ? d.id : '';\n        return `${id}`;\n      })\n      .style('font-size', '35px')\n      .style('cursor', 'pointer');\n    \n\n    const nodeText = nodeEnter\n      .append('text')\n      .attr('id', 'nodeText')\n      .attr('class', 'nodeText')\n      .style('text-anchor', 'middle')\n      .style('cursor', 'pointer')\n      .attr('dy', -3)\n      .attr('y', -25)\n      .attr('testhook', function (d) {\n        const suffix = 'text';\n        const id = d.id ? d.id : '';\n        return `${id}_${suffix}`;\n      });\n\n    nodeText\n      .selectAll('tspan.text')\n      .data((d) => d.label)\n      .enter()\n      .append('tspan')\n      .attr('class', 'nodeTextTspan')\n      .text((d) => d)\n      .style('font-size', '14px')\n      .attr('x', -10)\n      .attr('dx', 10)\n      .attr('dy', 15);\n\n    nodeEnter\n      .filter(function (d) {\n        if (!d.additionalIcon) {\n          return null;\n        }\n        return true;\n      })\n      .append('text')\n      .attr('id', function (d) {\n        const suffix = 'additionalIcon';\n        const id = d.id ? d.id : '';\n        return `${id}_${suffix}`;\n      })\n      .attr('width', 100)\n      .attr('height', 25)\n      .attr('x', 30)\n      .attr('y', -50)\n      .attr('class', 'fa')\n      .style('fill', '#856404')\n      .text(function (d) {\n        return d.additionalIcon;\n      });\n\n    // transition effects for new pulsating nodes\n    nodeEnter\n      .filter(function (d) {\n        if (!d.newItem) {\n          return null;\n        }\n        return true;\n      })\n      .select('text')\n      .transition()\n      .duration(1000)\n      .attr('fill', 'blue')\n      .attr('font-weight', 700)\n      .attr('fill-opacity', 1)\n      .transition()\n      .duration(1000)\n      .attr('fill', 'blue')\n      .attr('font-weight', 700)\n      .attr('fill-opacity', 0.1)\n      .transition()\n      .duration(1000)\n      .attr('fill', 'blue')\n      .attr('font-weight', 700)\n      .attr('fill-opacity', 1)\n      .transition()\n      .duration(1000)\n      .attr('fill', 'blue')\n      .attr('font-weight', 700)\n      .attr('fill-opacity', 0.1)\n      .transition()\n      .duration(1000)\n      .attr('fill', 'blue')\n      .attr('font-weight', 700)\n      .attr('fill-opacity', 1)\n      .transition()\n      .duration(1000)\n      .attr('fill', '#212529')\n      .attr('font-weight', 400)\n      .attr('fill-opacity', 1)\n      .on('end', function () {\n        return d3.select(this).call(_d3.transition);\n      });\n\n    nodeEnter\n      .filter(function (d) {\n        if (!d.newItem) {\n          return null;\n        }\n        return true;\n      })\n      .select('image')\n      .transition()\n      .duration(1000)\n      .attr('width', 45)\n      .attr('height', 45)\n      .transition()\n      .duration(1000)\n      .attr('width', 32)\n      .attr('height', 32)\n      .transition()\n      .duration(1000)\n      .attr('width', 45)\n      .attr('height', 45)\n      .transition()\n      .duration(1000)\n      .attr('width', 32)\n      .attr('height', 32)\n      .transition()\n      .duration(1000)\n      .attr('width', 45)\n      .attr('height', 45)\n      .transition()\n      .duration(1000)\n      .attr('width', 32)\n      .attr('height', 32)\n      .on('end', function () {\n        return d3.select(this).call(d3.transition);\n      });\n\n    // Remove the newClass so they don't animate next time\n    this.nodes = this.removeNewItem(this.nodes);\n\n    nodeEnter.append('title').text(function (d) {\n      return d.label;\n    });\n\n    const maxTicks = 30;\n    let tickCount = 0;\n    let zoomToFitCalled = false;\n\n    simulation.nodes(this.nodes).on('tick', () => {\n      if (this.zoomToFit && tickCount >= maxTicks && !zoomToFitCalled) {\n        simulation.stop();\n        handleZoomToFit();\n        zoomToFitCalled = true;\n      } else {\n        this.ticked(linkEnter, nodeEnter, edgepathsEnter);\n        tickCount++;\n      }\n    });\n\n    simulation.force('link').links(this.links);\n    self.saveGraphData.next(data);\n  }\n\n  public resetGraph(initialData, element, zoom, zoomToFit) {\n    // To reset the search when we reset the data\n    this.resetSearch = true;\n    // Reset the data to its initial state\n    this.nodes = [];\n    this.links = [];\n    // Call the update method again to re-simulate the graph with the new data\n    this.update(initialData, element, zoom, zoomToFit);\n  }\n}\n","import * as dagre from '@dagrejs/dagre';\r\nimport { Injectable } from '@angular/core';\r\n\r\nexport enum Orientation {\r\n  LEFT_TO_RIGHT = 'LR',\r\n  RIGHT_TO_LEFT = 'RL',\r\n  TOP_TO_BOTTOM = 'TB',\r\n  BOTTOM_TO_TOP = 'BT',\r\n}\r\n\r\nexport enum Alignment {\r\n  CENTER = 'C',\r\n  UP_LEFT = 'UL',\r\n  UP_RIGHT = 'UR',\r\n  DOWN_LEFT = 'DL',\r\n  DOWN_RIGHT = 'DR',\r\n}\r\n\r\nexport interface DagreSettings {\r\n  orientation?: Orientation;\r\n  marginX?: number;\r\n  marginY?: number;\r\n  edgePadding?: number;\r\n  rankPadding?: number;\r\n  nodePadding?: number;\r\n  align?: Alignment;\r\n  acyclicer?: 'greedy';\r\n  ranker?: 'network-simplex' | 'tight-tree' | 'longest-path';\r\n  multigraph?: boolean;\r\n  compound?: boolean;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class DagreNodesOnlyLayout {\r\n  defaultSettings = {\r\n    orientation: Orientation.LEFT_TO_RIGHT,\r\n    marginX: 70,\r\n    marginY: 70,\r\n    edgePadding: 200,\r\n    rankPadding: 300,\r\n    nodePadding: 100,\r\n    curveDistance: 20,\r\n    multigraph: true,\r\n    compound: true,\r\n    align: Alignment.UP_RIGHT,\r\n    acyclicer: undefined,\r\n    ranker: 'network-simplex',\r\n  };\r\n\r\n  dagreGraph: any;\r\n  dagreNodes: any;\r\n  dagreEdges: any;\r\n\r\n  public renderLayout(graph) {\r\n    this.createDagreGraph(graph);\r\n    dagre.layout(this.dagreGraph);\r\n\r\n    for (const dagreNodeId in this.dagreGraph._nodes) {\r\n      const dagreNode = this.dagreGraph._nodes[dagreNodeId];\r\n      const node = graph.nodes.find((n) => n.id === dagreNode.id);\r\n\r\n      if (node.fx === null && node.fy === null) {\r\n        // Check if the node has any associated edges\r\n        const hasAssociatedEdges = graph.links.some(\r\n          (link) => link.source === dagreNode.id || link.target === dagreNode.id\r\n        );\r\n        if (hasAssociatedEdges) {\r\n          node.fx = dagreNode.x;\r\n          node.fy = dagreNode.y;\r\n        }\r\n      }\r\n\r\n      node.dimension = {\r\n        width: dagreNode.width,\r\n        height: dagreNode.height,\r\n      };\r\n    }\r\n\r\n    return graph;\r\n  }\r\n\r\n  public initRenderLayout(graph) {\r\n    this.createDagreGraph(graph);\r\n    dagre.layout(this.dagreGraph);\r\n    let minFy = Infinity;\r\n    for (const dagreNodeId in this.dagreGraph._nodes) {\r\n      const dagreNode = this.dagreGraph._nodes[dagreNodeId];\r\n      const node = graph.nodes.find((n) => n.id === dagreNode.id);\r\n\r\n      // Check if the node has any associated edges\r\n      const hasAssociatedEdges = graph.links.some(\r\n        (link) => link.source === dagreNode.id || link.target === dagreNode.id\r\n      );\r\n\r\n      if (hasAssociatedEdges) {\r\n        node.fx = dagreNode.x;\r\n        node.fy = dagreNode.y;\r\n        minFy = Math.min(minFy, dagreNode.y - this.defaultSettings.marginY);\r\n      } else {\r\n        // Give them a null value to later random position them only when the layout button is pressed so they come into view\r\n        node.fx = null;\r\n        node.fy = null;\r\n      }\r\n\r\n      node.dimension = {\r\n        width: dagreNode.width,\r\n        height: dagreNode.height,\r\n      };\r\n    }\r\n\r\n    // Adjust the fy values to start from 0 if there are associated edges\r\n    if (minFy !== Infinity) {\r\n      for (const node of graph.nodes) {\r\n        if (node.fy !== null) {\r\n          node.fy -= minFy;\r\n        }\r\n      }\r\n    }\r\n\r\n    return graph;\r\n  }\r\n\r\n  public createDagreGraph(graph): any {\r\n    const settings = Object.assign({}, this.defaultSettings);\r\n    this.dagreGraph = new dagre.graphlib.Graph({\r\n      compound: settings.compound,\r\n      multigraph: settings.multigraph,\r\n    });\r\n    this.dagreGraph.setGraph({\r\n      rankdir: settings.orientation,\r\n      marginx: settings.marginX,\r\n      marginy: settings.marginY,\r\n      edgesep: settings.edgePadding,\r\n      ranksep: settings.rankPadding,\r\n      nodesep: settings.nodePadding,\r\n      align: settings.align,\r\n      acyclicer: settings.acyclicer,\r\n      ranker: settings.ranker,\r\n      multigraph: settings.multigraph,\r\n      compound: settings.compound,\r\n    });\r\n\r\n    this.dagreNodes = graph.nodes.map((n) => {\r\n      const node: any = Object.assign({}, n);\r\n      node.width = 20;\r\n      node.height = 20;\r\n      node.x = n.fx;\r\n      node.y = n.fy;\r\n      return node;\r\n    });\r\n\r\n    this.dagreEdges = graph.links.map((l) => {\r\n      const newLink: any = Object.assign({}, l);\r\n      return newLink;\r\n    });\r\n\r\n    for (const node of this.dagreNodes) {\r\n      if (!node.width) {\r\n        node.width = 20;\r\n      }\r\n      if (!node.height) {\r\n        node.height = 30;\r\n      }\r\n\r\n      // update dagre\r\n      this.dagreGraph.setNode(node.id, node);\r\n    }\r\n\r\n    // update dagre\r\n    for (const edge of this.dagreEdges) {\r\n      if (settings.multigraph) {\r\n        this.dagreGraph.setEdge(edge.source, edge.target, edge, edge.linkId);\r\n      } else {\r\n        this.dagreGraph.setEdge(edge.source, edge.target);\r\n      }\r\n    }\r\n\r\n    return this.dagreGraph;\r\n  }\r\n}\r\n","import {\n  Component,\n  ViewChild,\n  ElementRef,\n  Input,\n  Output,\n  EventEmitter,\n  OnInit,\n  AfterViewInit,\n  TemplateRef\n} from '@angular/core';\nimport { VisualiserGraphService } from '../services/visualiser-graph.service';\nimport { DagreNodesOnlyLayout } from '../services/dagre-layout.service';\nimport { ContextMenuService } from '@kreash/ngx-contextmenu';\nimport { ContextMenusComponent } from '../context-menus/context-menus.component';\nimport { Data, Link, Relationship } from '../../models/data.interface';\nimport { ModalsComponent } from '../modals/modals.component';\nimport { DexieService } from '../../db/graphDatabase';\ndeclare var bootbox: any;\n\n@Component({\n  selector: 'visualiser-graph',\n  templateUrl: \"./visualiser-graph.component.html\",\n  styleUrls: [\"./visualiser-graph.component.scss\"],\n})\nexport class VisualiserGraphComponent implements OnInit, AfterViewInit {\n  @ViewChild('svgId') graphElement: ElementRef;\n  @ViewChild(ContextMenusComponent) public contextMenu: ContextMenusComponent;\n  @Output() saveGraphDataEvent = new EventEmitter<any>();\n  public selectedNodesArray;\n  public selectedNodeId;\n  public selectedLinkArray;\n  public saveGraphData;\n  public width;\n  public showSearch: boolean = false;\n  public savedGraphData: Data;\n  public showConfirmation: boolean = false;\n  public buttonBarRightPosition: string;\n  public editLinksData: any = null;\n  public editNodeData: any = null;\n  @Input() readOnly: boolean = false;\n  @Input() zoom: boolean = true;\n  @Input() controls: boolean = true;\n  @Input() zoomToFit: boolean = false;\n  @ViewChild(ModalsComponent) public modalsComponent: ModalsComponent;\n  constructor(\n    readonly visualiserGraphService: VisualiserGraphService,\n    readonly contextMenuService: ContextMenuService,\n    readonly dagreNodesOnlyLayout: DagreNodesOnlyLayout,\n    private dexieService: DexieService\n  ) { }\n\n  @Input()\n  set data(data: Data) {\n    if (!data || !data.dataId) {\n      console.error('Invalid data input');\n      return;\n    }\n\n    this.savedGraphData = data;\n\n    // Timeout: The input arrives before the svg is rendered, therefore the nativeElement does not exist\n    setTimeout(async () => {\n      this.dagreNodesOnlyLayout.renderLayout(data);\n      // Take a copy of input for reset\n      await this.dexieService.saveGraphData(data);\n\n      this.visualiserGraphService.update(\n        data,\n        this.graphElement.nativeElement,\n        this.zoom,\n        this.zoomToFit\n      );\n    }, 500);\n  }\n\n  public ngOnInit() {\n    this.buttonBarRightPosition = '0';\n    this.updateWidth();\n\n    // Initialize with default empty data if no data is provided\n    if (!this.savedGraphData) {\n      console.warn('No data provided, using empty data set');\n      this.data = {\n        dataId: '1',\n        nodes: [],\n        links: [],\n      };\n    }\n\n    // Subscribe to the link selections in d3\n    this.visualiserGraphService.selectedNodesArray.subscribe(\n      (selectedNodesArray) => {\n        this.selectedNodesArray = selectedNodesArray;\n      }\n    );\n\n    // Subscribe to the double-click node payload\n    this.visualiserGraphService.dblClickNodePayload.subscribe(\n      (dblClickNodePayload) => {\n        this.selectedNodeId = dblClickNodePayload[0].id;\n        this.handleEditNodesEvent(true);\n      }\n    );\n\n    // Subscribe to the double-click Link payload\n    this.visualiserGraphService.dblClickLinkPayload.subscribe(\n      (dblClickLinkPayload) => {\n        this.selectedLinkArray = dblClickLinkPayload;\n        this.onEditLinkLabel();\n      }\n    );\n\n    this.visualiserGraphService.selectedLinkArray.subscribe(\n      (selectedLinkArray) => {\n        this.selectedLinkArray = selectedLinkArray;\n      }\n    );\n  }\n\n  public toggleSearch() {\n    this.showSearch = !this.showSearch;\n\n    if (this.showSearch) {\n      setTimeout(() => {\n        const field = document.querySelector('#searchInput') as HTMLInputElement;\n        if (field) {\n          field.focus();\n          field.setSelectionRange(0, 0);\n        } else {\n          console.error('Search input not found.');\n        }\n      }, 0);\n    }\n  }\n\n  public onResize(event): void {\n    this.updateWidth();\n  }\n\n  public updateWidth(): void {\n    this.width = document.getElementById('pageId').offsetWidth;\n  }\n\n  public async visualiserContextMenus(event): Promise<void> {\n    if (this.readOnly) {\n      return;\n    }\n\n    if (!this.savedGraphData) {\n      console.error('savedGraphData is not set');\n      return;\n    }\n\n    let contextMenu;\n    let item;\n    const targetEl = event.target;\n    const localName = targetEl.localName;\n    const parentNodeId = targetEl.parentNode.id;\n    const data = targetEl.parentNode.__data__;\n    this.selectedNodeId = targetEl.id || (data && data.id);\n\n    if (this.selectedNodesArray?.length === 2) {\n      contextMenu = this.contextMenu.createEditLinkContextMenu;\n      item = {\n        graphData: this.savedGraphData,\n        selectedNodes: this.selectedNodesArray\n      };\n    } else {\n      if (localName === 'text' || localName === 'image' || parentNodeId === 'nodeText') {\n        contextMenu = this.contextMenu.editNodeContextMenu;\n        item = this.selectedNodeId;\n      } else if (localName === 'textPath') {\n        contextMenu = this.contextMenu.editLinkLabelContextMenu;\n        item = this.selectedLinkArray;\n      } else if (localName === 'svg') {\n        contextMenu = this.contextMenu.findCreateNodesContextMenu;\n        item = 'item';\n      }\n    }\n\n    this.contextMenuService.show.next({\n      contextMenu,\n      event,\n      item,\n    });\n\n    event.stopPropagation();\n    event.preventDefault();\n\n    // Update context menu items based on data from Dexie\n    const updatedData = await this.dexieService.getGraphData(this.savedGraphData.dataId);\n    if (this.selectedNodesArray?.length === 2) {\n      item.graphData = updatedData;\n    }\n  }\n\n  public findCreateNodesEvent(action: string): void {\n    if (action === 'findNodes') {\n      this.toggleSearch();\n    } else if (action === 'createNode') {\n      this.opencreateNodeModal();\n    }\n  }\n\n  private opencreateNodeModal(): void {\n    this.modalsComponent.openModal(this.modalsComponent.createNodeModal);\n  }\n\n  public async onConfirmSave(): Promise<void> {\n    if (!this.savedGraphData) {\n      console.error('savedGraphData is not set');\n      return;\n    }\n\n    bootbox.confirm({\n      title: \"Save Graph\",\n      centerVertical: true,\n      message: \"Are you sure you want to save the graph?\",\n      buttons: {\n        confirm: {\n          label: 'Yes',\n          className: 'btn-success'\n        },\n        cancel: {\n          label: 'No',\n          className: 'btn-danger'\n        }\n      },\n      callback: async (result) => {\n        if (result) {\n          this.visualiserGraphService.saveGraphData.subscribe((saveGraphData) => {\n            this.saveGraphData = saveGraphData;\n          });\n\n          this.saveGraphDataEvent.emit(this.saveGraphData);\n\n          this.disableButtons(true);\n          this.data = this.saveGraphData;\n          this.showConfirmationMessage();\n        }\n      }\n    });\n  }\n\n  public async onCreateNode(nodeData): Promise<void> {\n    if (!this.savedGraphData) {\n      console.error('savedGraphData is not set');\n      return;\n    }\n\n    const data = await this.dexieService.getGraphData(this.savedGraphData.dataId);\n\n    // Check if the node already exists\n    const existingNodeIndex = data.nodes.findIndex(node => node.id === nodeData.id);\n\n    if (existingNodeIndex === -1) {\n      // Generate a unique numeric ID for the new node\n      let newId;\n      do {\n        newId = crypto.getRandomValues(new Uint32Array(1))[0];\n      } while (data.nodes.some(node => node.id === newId.toString()));\n\n      nodeData.id = newId.toString();\n    }\n\n    bootbox.confirm({\n      title: \"Creating node\",\n      centerVertical: true,\n      message: \"Creating a node will save graph data, are you sure?\",\n      buttons: {\n        confirm: {\n          label: 'Yes',\n          className: 'btn-success'\n        },\n        cancel: {\n          label: 'No',\n          className: 'btn-danger'\n        }\n      },\n      callback: async (result) => {\n        if (result) {\n          if (existingNodeIndex !== -1) {\n            // Update the existing node\n            data.nodes[existingNodeIndex] = nodeData;\n          } else {\n            // Add the new node\n            data.nodes.push(nodeData);\n          }\n\n          this.data = data;\n          this.saveGraphDataEvent.emit(data);\n        }\n      }\n    });\n  }\n\n  public async onCreateLink(linkData): Promise<void> {\n    if (!this.savedGraphData) {\n      console.error('savedGraphData is not set');\n      return;\n    }\n\n    // Ensure that exactly two nodes are selected\n    if (this.selectedNodesArray.length === 2) {\n      const sourceNode = this.selectedNodesArray[0];\n      const targetNode = this.selectedNodesArray[1];\n\n      // Retrieve the saved graph data from Dexie\n      const data = await this.dexieService.getGraphData(this.savedGraphData.dataId);\n\n      // Find the next available labelIndex\n      const allIndexes = data.links.reduce((acc, link) => {\n        return acc.concat(link.relationships.map(rel => rel.labelIndex));\n      }, []);\n      let nextIndex = Math.max(...allIndexes, 0) + 1;\n\n      // Map over the labels and linkIcon values, assuming each label has a corresponding linkIcon\n      const relationships: Relationship[] = linkData.label.map((item) => ({\n        labelIndex: item.labelIndex !== undefined ? item.labelIndex : nextIndex++,\n        label: item.label,\n        source: sourceNode.id,\n        target: targetNode.id,\n        linkIcon: item.linkIcon\n      }));\n\n      const newLink: Link = {\n        source: sourceNode.id,\n        target: targetNode.id,\n        lineStyle: linkData.lineStyle,\n        sourceArrow: linkData.sourceArrow,\n        targetArrow: linkData.targetArrow,\n        linkId: `${sourceNode.id}_${targetNode.id}`,\n        relationships,\n      };\n\n      bootbox.confirm({\n        title: \"Creating link\",\n        centerVertical: true,\n        message: \"Creating a link will save graph data, are you sure?\",\n        buttons: {\n          confirm: {\n            label: 'Yes',\n            className: 'btn-success'\n          },\n          cancel: {\n            label: 'No',\n            className: 'btn-danger'\n          }\n        },\n        callback: async (result) => {\n          if (result) {\n            const existingLinkIndex = data.links.findIndex(link =>\n              link.linkId === `${sourceNode.id}_${targetNode.id}` || link.linkId === `${targetNode.id}_${sourceNode.id}`\n            );\n            if (existingLinkIndex !== -1) {\n              data.links[existingLinkIndex] = newLink;\n            } else {\n              data.links.push(newLink);\n            }\n\n            this.data = data;\n            this.saveGraphDataEvent.emit(data);\n          }\n        }\n      });\n    } else {\n      console.error('Please select exactly two nodes to create a link.');\n    }\n  }\n\n  public async onDeleteNode() {\n    if (!this.savedGraphData) {\n      console.error('savedGraphData is not set');\n      return;\n    }\n\n    bootbox.confirm({\n      title: \"Deleting node\",\n      centerVertical: true,\n      message: \"Deleting a node will save graph data, are you sure? This will also delete all links associated with this node.\",\n      buttons: {\n        confirm: {\n          label: 'Yes',\n          className: 'btn-success'\n        },\n        cancel: {\n          label: 'No',\n          className: 'btn-danger'\n        }\n      },\n      callback: async (result) => {\n        if (result) {\n          const data = await this.dexieService.getGraphData(this.savedGraphData.dataId);\n\n          // Remove the node with the matching id\n          data.nodes = data.nodes.filter(node => node.id !== this.selectedNodeId);\n\n          // Remove links with matching source or target\n          data.links = data.links.filter(link => link.source !== this.selectedNodeId && link.target !== this.selectedNodeId);\n\n          this.data = data;\n          this.saveGraphDataEvent.emit(data);\n        }\n      }\n    });\n  }\n\n  public async onDeleteLink(linkId): Promise<void> {\n    if (!this.savedGraphData) {\n      console.error('savedGraphData is not set');\n      return;\n    }\n\n    bootbox.confirm({\n      title: \"Deleting link\",\n      centerVertical: true,\n      message: \"Deleting a link will save graph data, are you sure?\",\n      buttons: {\n        confirm: {\n          label: 'Yes',\n          className: 'btn-success'\n        },\n        cancel: {\n          label: 'No',\n          className: 'btn-danger'\n        }\n      },\n      callback: async (result) => {\n        if (result) {\n          const data = await this.dexieService.getGraphData(this.savedGraphData.dataId);\n          const existingLinkIndex = data.links.findIndex(link => link.linkId === linkId);\n          if (existingLinkIndex !== -1) {\n            data.links.splice(existingLinkIndex, 1);\n\n            this.data = data;\n            this.saveGraphDataEvent.emit(data);\n          }\n        }\n      }\n    });\n  }\n\n  public async onEditLinkLabel() {\n    if (!this.savedGraphData) {\n      console.error('savedGraphData is not set');\n      return;\n    }\n\n    bootbox.prompt({\n      title: \"Editing a link label will save graph data, are you sure?\",\n      centerVertical: true,\n      value: this.selectedLinkArray[0].label,\n      callback: async (result) => {\n        if (result) {\n          // Update the label property with the result\n          this.selectedLinkArray[0].label = result;\n\n          // Retrieve the saved graph data from Dexie\n          const data = await this.dexieService.getGraphData(this.savedGraphData.dataId);\n\n          // Find the link in the data using source and target IDs\n          const link = data.links.find(link =>\n            (link.source === this.selectedLinkArray[0].source.id && link.target === this.selectedLinkArray[0].target.id) ||\n            (link.source === this.selectedLinkArray[0].target.id && link.target === this.selectedLinkArray[0].source.id)\n          );\n\n          if (link) {\n            // Find the relationship with the same labelIndex\n            const relationship = link.relationships.find(rel => rel.labelIndex === this.selectedLinkArray[0].labelIndex);\n            if (relationship) {\n              // Update the label in the matched object\n              relationship.label = result;\n            }\n            this.data = data;\n            this.saveGraphDataEvent.emit(data);\n          } else {\n            console.error('Link not found.');\n          }\n        }\n      }\n    });\n  }\n\n  public handleEditLinksEvent(event: { open: boolean; data: any }) {\n    if (event.open) {\n      this.modalsComponent.openModal(this.modalsComponent.editLinksModal);\n      this.editLinksData = event.data;\n    }\n  }\n\n  public async handleEditNodesEvent(event) {\n    if (event) {\n      this.modalsComponent.openModal(this.modalsComponent.editNodeModal);\n      const data = await this.dexieService.getGraphData(this.savedGraphData.dataId);\n      this.editNodeData = data.nodes.find(node => node.id === this.selectedNodeId);\n    }\n  }\n\n  public async resetGraph(): Promise<void> {\n    if (!this.savedGraphData) {\n      console.error('savedGraphData is not set');\n      return;\n    }\n\n    const data = await this.dexieService.getGraphData(this.savedGraphData.dataId);\n    this.disableButtons(true);\n    this.visualiserGraphService.resetGraph(\n      data,\n      this.graphElement.nativeElement,\n      this.zoom,\n      this.zoomToFit\n    );\n  }\n\n  public async applyLayout(): Promise<void> {\n    if (!this.savedGraphData) {\n      console.error('savedGraphData is not set');\n      return;\n    }\n\n    const data = await this.dexieService.getGraphData(this.savedGraphData.dataId);\n    const newDagreLayout = this.dagreNodesOnlyLayout.initRenderLayout(data);\n\n    this.visualiserGraphService.resetGraph(\n      newDagreLayout,\n      this.graphElement.nativeElement,\n      this.zoom,\n      this.zoomToFit\n    );\n    this.enableButtons();\n  }\n\n  private disableButtons(disabled: boolean): void {\n    document.querySelectorAll('#save_graph, #reset_graph').forEach(btn => {\n      btn.setAttribute('disabled', String(disabled));\n    });\n  }\n\n  private showConfirmationMessage(): void {\n    this.showConfirmation = true;\n    setTimeout(() => {\n      this.showConfirmation = false;\n    }, 3000);\n  }\n\n  private enableButtons(): void {\n    const saveBtn = document.getElementById('save_graph');\n    const resetBtn = document.getElementById('reset_graph');\n    saveBtn.removeAttribute('disabled');\n    resetBtn.removeAttribute('disabled');\n  }\n\n  public ngAfterViewInit(): void {\n    this.registerDragElement();\n  }\n\n  private registerDragElement(): void {\n    const elmnt = document.getElementById('draggable');\n    let pos1 = 0,\n      pos2 = 0,\n      pos3 = 0,\n      pos4 = 0;\n\n    const dragMouseDown = (e: MouseEvent): void => {\n      // Prevent any default behavior\n      e.preventDefault();\n\n      // Get the mouse cursor position at startup\n      pos3 = e.clientX;\n      pos4 = e.clientY;\n\n      // Set up mouse event listeners\n      document.onmouseup = closeDragElement;\n      document.onmousemove = elementDrag;\n    };\n\n    const elementDrag = (e: MouseEvent): void => {\n      this.buttonBarRightPosition = null;\n\n      // Calculate the new cursor position\n      pos1 = pos3 - e.clientX;\n      pos2 = pos4 - e.clientY;\n      pos3 = e.clientX;\n      pos4 = e.clientY;\n\n      // Limit the element's movement within the boundaries of the page\n      const maxWidth = this.width - elmnt.offsetWidth;\n      const maxHeight = window.innerHeight - elmnt.offsetHeight;\n\n      let newLeft = elmnt.offsetLeft - pos1;\n      let newTop = elmnt.offsetTop - pos2;\n\n      newLeft = Math.max(0, Math.min(newLeft, maxWidth));\n      newTop = Math.max(0, Math.min(newTop, maxHeight));\n\n      // Set the element's new position\n      elmnt.style.left = `${newLeft}px`;\n      elmnt.style.top = `${newTop}px`;\n    };\n\n    const closeDragElement = () => {\n      /* stop moving when mouse button is released:*/\n      document.onmouseup = null;\n      document.onmousemove = null;\n    };\n\n    if (document.getElementById(elmnt.id + 'Handle')) {\n      /* if present, the header is where you move the DIV from:*/\n      document.getElementById(elmnt.id + 'Handle').onmousedown = dragMouseDown;\n    } else {\n      /* otherwise, move the DIV from anywhere inside the DIV:*/\n      elmnt.onmousedown = dragMouseDown;\n    }\n  }\n\n  openModal(modal: string) {\n    const modalTemplate = this.modalsComponent[modal] as TemplateRef<any>;\n    if (modalTemplate) {\n      this.modalsComponent.openModal(modalTemplate);\n    } else {\n      console.error(`Modal template ${modal} is not available.`);\n    }\n  }\n}","<div class=\"page\" id=\"pageId\" (window:resize)=\"onResize($event)\">\n  <div id=\"draggable\" class=\"buttonBar\" [style.right]=\"buttonBarRightPosition\">\n    <div *ngIf=\"controls\">\n      <div class=\"d-flex justify-content-end\">\n        <div class=\"btn-group\" role=\"group\" aria-label=\"Controls\">\n          <button type=\"button\" id=\"draggableHandle\" class=\"btn btn-light\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Move toolbar\">\n            <i class=\"bi bi-grip-vertical\"></i>\n          </button>\n\n          <button type=\"button\" id=\"dagre_layout\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Dagre layout\" (click)=\"applyLayout()\">\n            <i class=\"bi bi-diagram-3\"></i>\n          </button>\n          <button type=\"button\" id=\"save_graph\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Save data\" (click)=\"onConfirmSave()\">\n            <i class=\"bi bi-save\"></i>\n          </button>\n          <button type=\"button\" id=\"reset_graph\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Reset data\" (click)=\"resetGraph()\">\n            <i class=\"bi bi-skip-backward\"></i>\n          </button>\n          <button type=\"button\" *ngIf=\"zoom\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Zoom in\" id=\"zoom_in\">\n            <i class=\"bi bi-zoom-in\"></i>\n          </button>\n          <button type=\"button\" *ngIf=\"zoom\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Zoom out\" id=\"zoom_out\">\n            <i class=\"bi bi-zoom-out\"></i>\n          </button>\n          <button type=\"button\" *ngIf=\"zoom\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Zoom reset\" id=\"zoom_reset\" disabled=\"true\">\n            <i class=\"bi bi-arrow-counterclockwise\"></i>\n          </button>\n          <button type=\"button\" *ngIf=\"zoom\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Zoom to fit\" id=\"zoom_to_fit\">\n            <i class=\"bi bi-arrows-fullscreen\"></i>\n          </button>\n          <button type=\"button\" *ngIf=\"zoom\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Select all\" id=\"select_all\">\n            <i class=\"bi bi-grid-fill\"></i>\n          </button>\n          <button type=\"button\" *ngIf=\"zoom\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Invert selection\" id=\"toggle_selection\">\n            <i class=\"bi bi-ui-checks-grid\"></i>\n          </button>\n          <button type=\"button\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Toggle search\" id=\"toggle_search\"\n            [ngClass]=\"{'searchButtonActive': showSearch, 'searchButtonInactive': !showSearch}\"\n            (click)=\"toggleSearch()\">\n            <i class=\"bi bi-search\"></i>\n          </button>\n        </div>\n      </div>\n      <div class=\"search float-right input-group mt-3 pr-0\" [hidden]=\"!showSearch\">\n        <div class=\"input-group-prepend\">\n          <button type=\"button\" id=\"prevButton\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Previous\" disabled>\n            <i class=\"bi bi-arrow-left-square\"></i>\n          </button>\n          <button type=\"button\" id=\"nextButton\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\"\n            title=\"Next\" disabled>\n            <i class=\"bi bi-arrow-right-square\"></i>\n          </button>\n        </div>\n        <input type=\"text\" id=\"searchInput\" class=\"form-control\" placeholder=\"Search\" aria-label=\"Search\"\n          aria-describedby=\"search\" />\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"searchButton\" data-toggle=\"tooltip\"\n            data-placement=\"top\" title=\"Search\">\n            <i class=\"bi bi-search\"></i>\n          </button>\n        </div>\n        <div class=\"input-group-append\">\n          <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"clearButton\" data-toggle=\"tooltip\"\n            data-placement=\"top\" title=\"Clear\" disabled>\n            clear\n          </button>\n        </div>\n      </div>\n    </div>\n    <div [hidden]=\"!showSearch\" id=\"noMatchesText\" class=\"noMatchesText float-right\">No matches found</div>\n  </div>\n  <!-- Zoom indicator-->\n  <div *ngIf=\"zoom\" class=\"zoomIndicator\">\n    <span id=\"zoom_level\"></span>\n  </div>\n  <!-- Save confirmation-->\n  <div *ngIf=\"showConfirmation\" class=\"confirmation-message-container\">\n    <div class=\"alert alert-success confirmation-message\" role=\"alert\" [ngClass]=\"{ 'fade-out': !showConfirmation }\">\n      Saved <i class=\"bi bi-check-circle\"></i>\n    </div>\n  </div>\n\n  <app-context-menus\n  (editNodeContextMenuEvent)=\"handleEditNodesEvent($event)\"\n  (findCreateNodesContextMenuEvent)=\"findCreateNodesEvent($event)\"\n  (createLinkContextMenuEvent)=\"openModal('createLinkModal')\"\n  (editLinkLabelContextMenuEvent)=\"onEditLinkLabel()\"\n  (editLinksContextMenuEvent)=\"handleEditLinksEvent($event)\">\n  </app-context-menus>\n\n  <app-modals\n  [editNodeData]=\"editNodeData\"\n  [editLinksData]=\"editLinksData\"\n  (createLinkEvent)=\"onCreateLink($event)\"\n  (createNodeEvent)=\"onCreateNode($event)\"\n  (deleteLinkEvent)=\"onDeleteLink($event)\"\n  (deleteNodeEvent)=\"onDeleteNode()\">\n  </app-modals>\n\n  <svg #svgId [attr.width]=\"width\" height=\"780\" (contextmenu)=\"visualiserContextMenus($event)\"></svg>\n</div>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { ModalModule } from 'ngx-bootstrap/modal';\nimport { ContextMenuModule } from '@kreash/ngx-contextmenu';\nimport { VisualiserGraphComponent } from './visualiser/visualiser-graph/visualiser-graph.component';\nimport { ContextMenusComponent } from './visualiser/context-menus/context-menus.component';\nimport { ModalsComponent } from './visualiser/modals/modals.component';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [\n    VisualiserGraphComponent,\n    ContextMenusComponent,\n    ModalsComponent\n  ],\n  imports: [\n    BrowserModule,\n    ReactiveFormsModule,\n    ModalModule.forRoot(),\n    ContextMenuModule.forRoot({ useBootstrap4: true }),\n    NgSelectModule,\n    FormsModule\n  ],\n  exports: [VisualiserGraphComponent]\n})\n\nexport class NgxRelationshipVisualiserPremiumModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i1","i2","i1.DexieService","i1.VisualiserGraphService","i3.DagreNodesOnlyLayout","i4.DexieService","i5","i6.ContextMenusComponent","i7.ModalsComponent"],"mappings":"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"}