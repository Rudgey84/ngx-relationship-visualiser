(self.webpackChunkngx_relationship_visualiser=self.webpackChunkngx_relationship_visualiser||[]).push([[792],{1060:(Pe,ht,j)=>{Pe.exports={graphlib:j(688),layout:j(7772),debug:j(6639),util:{time:j(1178).time,notime:j(1178).notime},version:j(9836)}},9012:(Pe,ht,j)=>{"use strict";let fe=j(6701),J=j(1178).uniqueId;Pe.exports={run:function H(B){("greedy"===B.graph().acyclicer?fe(B,function N(x){return k=>x.edge(k).weight}(B)):function W(B){let I=[],N={},x={};return B.nodes().forEach(function k(U){Object.hasOwn(x,U)||(x[U]=!0,N[U]=!0,B.outEdges(U).forEach(z=>{Object.hasOwn(N,z.w)?I.push(z):k(z.w)}),delete N[U])}),I}(B)).forEach(x=>{let k=B.edge(x);B.removeEdge(x),k.forwardName=x.name,k.reversed=!0,B.setEdge(x.w,x.v,k,J("rev"))})},undo:function R(B){B.edges().forEach(I=>{let N=B.edge(I);if(N.reversed){B.removeEdge(I);let x=N.forwardName;delete N.reversed,delete N.forwardName,B.setEdge(I.w,I.v,N,x)}})}}},8097:(Pe,ht,j)=>{let fe=j(1178);function H(W,R,B,I,N,x){let U=N[R][x-1],z=fe.addDummyNode(W,"border",{width:0,height:0,rank:x,borderType:R},B);N[R][x]=z,W.setParent(z,I),U&&W.setEdge(U,z,{weight:1})}Pe.exports=function J(W){W.children().forEach(function R(B){let I=W.children(B),N=W.node(B);if(I.length&&I.forEach(R),Object.hasOwn(N,"minRank")){N.borderLeft=[],N.borderRight=[];for(let x=N.minRank,k=N.maxRank+1;x<k;++x)H(W,"borderLeft","_bl",B,N,x),H(W,"borderRight","_br",B,N,x)}})}},6392:Pe=>{"use strict";function fe(I){I.nodes().forEach(N=>J(I.node(N))),I.edges().forEach(N=>J(I.edge(N)))}function J(I){let N=I.width;I.width=I.height,I.height=N}function W(I){I.y=-I.y}function B(I){let N=I.x;I.x=I.y,I.y=N}Pe.exports={adjust:function ht(I){let N=I.graph().rankdir.toLowerCase();("lr"===N||"rl"===N)&&fe(I)},undo:function j(I){let N=I.graph().rankdir.toLowerCase();("bt"===N||"rl"===N)&&function H(I){I.nodes().forEach(N=>W(I.node(N))),I.edges().forEach(N=>{let x=I.edge(N);x.points.forEach(W),Object.hasOwn(x,"y")&&W(x)})}(I),("lr"===N||"rl"===N)&&(function R(I){I.nodes().forEach(N=>B(I.node(N))),I.edges().forEach(N=>{let x=I.edge(N);x.points.forEach(B),Object.hasOwn(x,"x")&&B(x)})}(I),fe(I))}}},7789:Pe=>{function j(J){J._prev._next=J._next,J._next._prev=J._prev,delete J._next,delete J._prev}function fe(J,H){if("_next"!==J&&"_prev"!==J)return H}Pe.exports=class ht{constructor(){let H={};H._next=H._prev=H,this._sentinel=H}dequeue(){let H=this._sentinel,W=H._prev;if(W!==H)return j(W),W}enqueue(H){let W=this._sentinel;H._prev&&H._next&&j(H),H._next=W._next,W._next._prev=H,W._next=H,H._prev=W}toString(){let H=[],W=this._sentinel,R=W._prev;for(;R!==W;)H.push(JSON.stringify(R,fe)),R=R._prev;return"["+H.join(", ")+"]"}}},6639:(Pe,ht,j)=>{let fe=j(1178),J=j(688).Graph;Pe.exports={debugOrdering:function H(W){let R=fe.buildLayerMatrix(W),B=new J({compound:!0,multigraph:!0}).setGraph({});return W.nodes().forEach(I=>{B.setNode(I,{label:I}),B.setParent(I,"layer"+W.node(I).rank)}),W.edges().forEach(I=>B.setEdge(I.v,I.w,{},I.name)),R.forEach((I,N)=>{B.setNode("layer"+N,{rank:"same"}),I.reduce((k,U)=>(B.setEdge(k,U,{style:"invis"}),U))}),B}}},6701:(Pe,ht,j)=>{let fe=j(688).Graph,J=j(7789);Pe.exports=function W(k,U){if(k.nodeCount()<=1)return[];let z=function I(k,U){let z=new fe,ge=0,we=0;k.nodes().forEach(Ie=>{z.setNode(Ie,{v:Ie,in:0,out:0})}),k.edges().forEach(Ie=>{let ze=z.edge(Ie.v,Ie.w)||0,pe=U(Ie);z.setEdge(Ie.v,Ie.w,ze+pe),we=Math.max(we,z.node(Ie.v).out+=pe),ge=Math.max(ge,z.node(Ie.w).in+=pe)});let Re=function x(k){const U=[];for(let z=0;z<k;z++)U.push(z);return U}(we+ge+3).map(()=>new J),pt=ge+1;return z.nodes().forEach(Ie=>{N(Re,pt,z.node(Ie))}),{graph:z,buckets:Re,zeroIdx:pt}}(k,U||H);return function R(k,U,z){let pt,ge=[],we=U[U.length-1],Re=U[0];for(;k.nodeCount();){for(;pt=Re.dequeue();)B(k,U,z,pt);for(;pt=we.dequeue();)B(k,U,z,pt);if(k.nodeCount())for(let Ie=U.length-2;Ie>0;--Ie)if(pt=U[Ie].dequeue(),pt){ge=ge.concat(B(k,U,z,pt,!0));break}}return ge}(z.graph,z.buckets,z.zeroIdx).flatMap(we=>k.outEdges(we.v,we.w))};let H=()=>1;function B(k,U,z,ge,we){let Re=we?[]:void 0;return k.inEdges(ge.v).forEach(pt=>{let Ie=k.edge(pt),ze=k.node(pt.v);we&&Re.push({v:pt.v,w:pt.w}),ze.out-=Ie,N(U,z,ze)}),k.outEdges(ge.v).forEach(pt=>{let Ie=k.edge(pt),pe=k.node(pt.w);pe.in-=Ie,N(U,z,pe)}),k.removeNode(ge.v),Re}function N(k,U,z){z.out?z.in?k[z.out-z.in+U].enqueue(z):k[k.length-1].enqueue(z):k[0].enqueue(z)}},7772:(Pe,ht,j)=>{"use strict";let fe=j(9012),J=j(1939),H=j(5779),W=j(1178).normalizeRanks,R=j(930),B=j(1178).removeEmptyRanks,I=j(3259),N=j(8097),x=j(6392),k=j(4507),U=j(3110),z=j(1178),ge=j(688).Graph;Pe.exports=function we(Ee,Oe){let ae=Oe&&Oe.debugTiming?z.time:z.notime;ae("layout",()=>{let dt=ae("  buildLayoutGraph",()=>function se(Ee){let Oe=new ge({multigraph:!0,compound:!0}),ae=po(Ee.graph());return Oe.setGraph(Object.assign({},ze,Qi(ae,Ie),z.pick(ae,pe))),Ee.nodes().forEach(dt=>{const Et=Qi(po(Ee.node(dt)),xe);Object.keys(Be).forEach(wn=>{void 0===Et[wn]&&(Et[wn]=Be[wn])}),Oe.setNode(dt,Et),Oe.setParent(dt,Ee.parent(dt))}),Ee.edges().forEach(dt=>{let Ut=po(Ee.edge(dt));Oe.setEdge(dt,Object.assign({},et,Qi(Ut,Je),z.pick(Ut,wt)))}),Oe}(Ee));ae("  runLayout",()=>function Re(Ee,Oe,ae){Oe("    makeSpaceForEdgeLabels",()=>function me(Ee){let Oe=Ee.graph();Oe.ranksep/=2,Ee.edges().forEach(ae=>{let dt=Ee.edge(ae);dt.minlen*=2,"c"!==dt.labelpos.toLowerCase()&&("TB"===Oe.rankdir||"BT"===Oe.rankdir?dt.width+=dt.labeloffset:dt.height+=dt.labeloffset)})}(Ee)),Oe("    removeSelfEdges",()=>function ec(Ee){Ee.edges().forEach(Oe=>{if(Oe.v===Oe.w){var ae=Ee.node(Oe.v);ae.selfEdges||(ae.selfEdges=[]),ae.selfEdges.push({e:Oe,label:Ee.edge(Oe)}),Ee.removeEdge(Oe)}})}(Ee)),Oe("    acyclic",()=>fe.run(Ee)),Oe("    nestingGraph.run",()=>I.run(Ee)),Oe("    rank",()=>H(z.asNonCompoundGraph(Ee))),Oe("    injectEdgeLabelProxies",()=>function Se(Ee){Ee.edges().forEach(Oe=>{let ae=Ee.edge(Oe);if(ae.width&&ae.height){let dt=Ee.node(Oe.v),Et={rank:(Ee.node(Oe.w).rank-dt.rank)/2+dt.rank,e:Oe};z.addDummyNode(Ee,"edge-proxy",Et,"_ep")}})}(Ee)),Oe("    removeEmptyRanks",()=>B(Ee)),Oe("    nestingGraph.cleanup",()=>I.cleanup(Ee)),Oe("    normalizeRanks",()=>W(Ee)),Oe("    assignRankMinMax",()=>function Ae(Ee){let Oe=0;Ee.nodes().forEach(ae=>{let dt=Ee.node(ae);dt.borderTop&&(dt.minRank=Ee.node(dt.borderTop).rank,dt.maxRank=Ee.node(dt.borderBottom).rank,Oe=Math.max(Oe,dt.maxRank))}),Ee.graph().maxRank=Oe}(Ee)),Oe("    removeEdgeLabelProxies",()=>function je(Ee){Ee.nodes().forEach(Oe=>{let ae=Ee.node(Oe);"edge-proxy"===ae.dummy&&(Ee.edge(ae.e).labelRank=ae.rank,Ee.removeNode(Oe))})}(Ee)),Oe("    normalize.run",()=>J.run(Ee)),Oe("    parentDummyChains",()=>R(Ee)),Oe("    addBorderSegments",()=>N(Ee)),Oe("    order",()=>k(Ee,ae)),Oe("    insertSelfEdges",()=>function ho(Ee){z.buildLayerMatrix(Ee).forEach(ae=>{var dt=0;ae.forEach((Ut,Et)=>{var wn=Ee.node(Ut);wn.order=Et+dt,(wn.selfEdges||[]).forEach(Ar=>{z.addDummyNode(Ee,"selfedge",{width:Ar.label.width,height:Ar.label.height,rank:wn.rank,order:Et+ ++dt,e:Ar.e,label:Ar.label},"_se")}),delete wn.selfEdges})})}(Ee)),Oe("    adjustCoordinateSystem",()=>x.adjust(Ee)),Oe("    position",()=>U(Ee)),Oe("    positionSelfEdges",()=>function tc(Ee){Ee.nodes().forEach(Oe=>{var ae=Ee.node(Oe);if("selfedge"===ae.dummy){var dt=Ee.node(ae.e.v),Ut=dt.x+dt.width/2,Et=dt.y,wn=ae.x-Ut,Ar=dt.height/2;Ee.setEdge(ae.e,ae.label),Ee.removeNode(Oe),ae.label.points=[{x:Ut+2*wn/3,y:Et-Ar},{x:Ut+5*wn/6,y:Et-Ar},{x:Ut+wn,y:Et},{x:Ut+5*wn/6,y:Et+Ar},{x:Ut+2*wn/3,y:Et+Ar}],ae.label.x=ae.x,ae.label.y=ae.y}})}(Ee)),Oe("    removeBorderNodes",()=>function Li(Ee){Ee.nodes().forEach(Oe=>{if(Ee.children(Oe).length){let ae=Ee.node(Oe),dt=Ee.node(ae.borderTop),Ut=Ee.node(ae.borderBottom),Et=Ee.node(ae.borderLeft[ae.borderLeft.length-1]),wn=Ee.node(ae.borderRight[ae.borderRight.length-1]);ae.width=Math.abs(wn.x-Et.x),ae.height=Math.abs(Ut.y-dt.y),ae.x=Et.x+ae.width/2,ae.y=dt.y+ae.height/2}}),Ee.nodes().forEach(Oe=>{"border"===Ee.node(Oe).dummy&&Ee.removeNode(Oe)})}(Ee)),Oe("    normalize.undo",()=>J.undo(Ee)),Oe("    fixupEdgeLabelCoords",()=>function dn(Ee){Ee.edges().forEach(Oe=>{let ae=Ee.edge(Oe);if(Object.hasOwn(ae,"x"))switch(("l"===ae.labelpos||"r"===ae.labelpos)&&(ae.width-=ae.labeloffset),ae.labelpos){case"l":ae.x-=ae.width/2+ae.labeloffset;break;case"r":ae.x+=ae.width/2+ae.labeloffset}})}(Ee)),Oe("    undoCoordinateSystem",()=>x.undo(Ee)),Oe("    translateGraph",()=>function At(Ee){let Oe=Number.POSITIVE_INFINITY,ae=0,dt=Number.POSITIVE_INFINITY,Ut=0,Et=Ee.graph(),wn=Et.marginx||0,Ar=Et.marginy||0;function Ji(ei){let er=ei.x,go=ei.y,Hr=ei.width,Vi=ei.height;Oe=Math.min(Oe,er-Hr/2),ae=Math.max(ae,er+Hr/2),dt=Math.min(dt,go-Vi/2),Ut=Math.max(Ut,go+Vi/2)}Ee.nodes().forEach(ei=>Ji(Ee.node(ei))),Ee.edges().forEach(ei=>{let er=Ee.edge(ei);Object.hasOwn(er,"x")&&Ji(er)}),Oe-=wn,dt-=Ar,Ee.nodes().forEach(ei=>{let er=Ee.node(ei);er.x-=Oe,er.y-=dt}),Ee.edges().forEach(ei=>{let er=Ee.edge(ei);er.points.forEach(go=>{go.x-=Oe,go.y-=dt}),Object.hasOwn(er,"x")&&(er.x-=Oe),Object.hasOwn(er,"y")&&(er.y-=dt)}),Et.width=ae-Oe+wn,Et.height=Ut-dt+Ar}(Ee)),Oe("    assignNodeIntersects",()=>function kt(Ee){Ee.edges().forEach(Oe=>{let Et,wn,ae=Ee.edge(Oe),dt=Ee.node(Oe.v),Ut=Ee.node(Oe.w);ae.points?(Et=ae.points[0],wn=ae.points[ae.points.length-1]):(ae.points=[],Et=Ut,wn=dt),ae.points.unshift(z.intersectRect(dt,Et)),ae.points.push(z.intersectRect(Ut,wn))})}(Ee)),Oe("    reversePoints",()=>function Jn(Ee){Ee.edges().forEach(Oe=>{let ae=Ee.edge(Oe);ae.reversed&&ae.points.reverse()})}(Ee)),Oe("    acyclic.undo",()=>fe.undo(Ee))}(dt,ae,Oe)),ae("  updateInputGraph",()=>function pt(Ee,Oe){Ee.nodes().forEach(ae=>{let dt=Ee.node(ae),Ut=Oe.node(ae);dt&&(dt.x=Ut.x,dt.y=Ut.y,dt.rank=Ut.rank,Oe.children(ae).length&&(dt.width=Ut.width,dt.height=Ut.height))}),Ee.edges().forEach(ae=>{let dt=Ee.edge(ae),Ut=Oe.edge(ae);dt.points=Ut.points,Object.hasOwn(Ut,"x")&&(dt.x=Ut.x,dt.y=Ut.y)}),Ee.graph().width=Oe.graph().width,Ee.graph().height=Oe.graph().height}(Ee,dt))})};let Ie=["nodesep","edgesep","ranksep","marginx","marginy"],ze={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},pe=["acyclicer","ranker","rankdir","align"],xe=["width","height"],Be={width:0,height:0},Je=["minlen","weight","width","height","labeloffset"],et={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},wt=["labelpos"];function Qi(Ee,Oe){return z.mapValues(z.pick(Ee,Oe),Number)}function po(Ee){var Oe={};return Ee&&Object.entries(Ee).forEach(([ae,dt])=>{"string"==typeof ae&&(ae=ae.toLowerCase()),Oe[ae]=dt}),Oe}},3259:(Pe,ht,j)=>{let fe=j(1178);function H(I,N,x,k,U,z,ge){let we=I.children(ge);if(!we.length)return void(ge!==N&&I.setEdge(N,ge,{weight:0,minlen:x}));let Re=fe.addBorderNode(I,"_bt"),pt=fe.addBorderNode(I,"_bb"),Ie=I.node(ge);I.setParent(Re,ge),Ie.borderTop=Re,I.setParent(pt,ge),Ie.borderBottom=pt,we.forEach(ze=>{H(I,N,x,k,U,z,ze);let pe=I.node(ze),xe=pe.borderTop?pe.borderTop:ze,Be=pe.borderBottom?pe.borderBottom:ze,Je=pe.borderTop?k:2*k,et=xe!==Be?1:U-z[ge]+1;I.setEdge(Re,xe,{weight:Je,minlen:et,nestingEdge:!0}),I.setEdge(Be,pt,{weight:Je,minlen:et,nestingEdge:!0})}),I.parent(ge)||I.setEdge(N,Re,{weight:0,minlen:U+z[ge]})}Pe.exports={run:function J(I){let N=fe.addDummyNode(I,"root",{},"_root"),x=function W(I){var N={};function x(k,U){var z=I.children(k);z&&z.length&&z.forEach(ge=>x(ge,U+1)),N[k]=U}return I.children().forEach(k=>x(k,1)),N}(I),k=Object.values(x),U=fe.applyWithChunking(Math.max,k)-1,z=2*U+1;I.graph().nestingRoot=N,I.edges().forEach(we=>I.edge(we).minlen*=z);let ge=function R(I){return I.edges().reduce((N,x)=>N+I.edge(x).weight,0)}(I)+1;I.children().forEach(we=>H(I,N,z,ge,U,x,we)),I.graph().nodeRankFactor=z},cleanup:function B(I){var N=I.graph();I.removeNode(N.nestingRoot),delete N.nestingRoot,I.edges().forEach(x=>{I.edge(x).nestingEdge&&I.removeEdge(x)})}}},1939:(Pe,ht,j)=>{"use strict";let fe=j(1178);Pe.exports={run:function J(R){R.graph().dummyChains=[],R.edges().forEach(B=>function H(R,B){let we,Re,pt,I=B.v,N=R.node(I).rank,x=B.w,k=R.node(x).rank,U=B.name,z=R.edge(B),ge=z.labelRank;if(k!==N+1){for(R.removeEdge(B),pt=0,++N;N<k;++pt,++N)z.points=[],Re={width:0,height:0,edgeLabel:z,edgeObj:B,rank:N},we=fe.addDummyNode(R,"edge",Re,"_d"),N===ge&&(Re.width=z.width,Re.height=z.height,Re.dummy="edge-label",Re.labelpos=z.labelpos),R.setEdge(I,we,{weight:z.weight},U),0===pt&&R.graph().dummyChains.push(we),I=we;R.setEdge(I,x,{weight:z.weight},U)}}(R,B))},undo:function W(R){R.graph().dummyChains.forEach(B=>{let x,I=R.node(B),N=I.edgeLabel;for(R.setEdge(I.edgeObj,N);I.dummy;)x=R.successors(B)[0],R.removeNode(B),N.points.push({x:I.x,y:I.y}),"edge-label"===I.dummy&&(N.x=I.x,N.y=I.y,N.width=I.width,N.height=I.height),I=R.node(B=x)})}}},3826:Pe=>{Pe.exports=function ht(j,fe,J){let W,H={};J.forEach(R=>{let I,N,B=j.parent(R);for(;B;){if(I=j.parent(B),I?(N=H[I],H[I]=B):(N=W,W=B),N&&N!==B)return void fe.setEdge(N,B);B=I}})}},9750:Pe=>{Pe.exports=function ht(j,fe=[]){return fe.map(J=>{let H=j.inEdges(J);if(H.length){let W=H.reduce((R,B)=>{let I=j.edge(B),N=j.node(B.v);return{sum:R.sum+I.weight*N.order,weight:R.weight+I.weight}},{sum:0,weight:0});return{v:J,barycenter:W.sum/W.weight,weight:W.weight}}return{v:J}})}},5742:(Pe,ht,j)=>{let fe=j(688).Graph,J=j(1178);Pe.exports=function H(R,B,I){let N=function W(R){for(var B;R.hasNode(B=J.uniqueId("_root")););return B}(R),x=new fe({compound:!0}).setGraph({root:N}).setDefaultNodeLabel(k=>R.node(k));return R.nodes().forEach(k=>{let U=R.node(k),z=R.parent(k);(U.rank===B||U.minRank<=B&&B<=U.maxRank)&&(x.setNode(k),x.setParent(k,z||N),R[I](k).forEach(ge=>{let we=ge.v===k?ge.w:ge.v,Re=x.edge(we,k),pt=void 0!==Re?Re.weight:0;x.setEdge(we,k,{weight:R.edge(ge).weight+pt})}),Object.hasOwn(U,"minRank")&&x.setNode(k,{borderLeft:U.borderLeft[B],borderRight:U.borderRight[B]}))}),x}},7217:(Pe,ht,j)=>{"use strict";let fe=j(1178).zipObject;function H(W,R,B){let I=fe(B,B.map((ge,we)=>we)),N=R.flatMap(ge=>W.outEdges(ge).map(we=>({pos:I[we.w],weight:W.edge(we).weight})).sort((we,Re)=>we.pos-Re.pos)),x=1;for(;x<B.length;)x<<=1;let k=2*x-1;x-=1;let U=new Array(k).fill(0),z=0;return N.forEach(ge=>{let we=ge.pos+x;U[we]+=ge.weight;let Re=0;for(;we>0;)we%2&&(Re+=U[we+1]),we=we-1>>1,U[we]+=ge.weight;z+=ge.weight*Re}),z}Pe.exports=function J(W,R){let B=0;for(let I=1;I<R.length;++I)B+=H(W,R[I-1],R[I]);return B}},4507:(Pe,ht,j)=>{"use strict";let fe=j(3252),J=j(7217),H=j(8414),W=j(5742),R=j(3826),B=j(688).Graph,I=j(1178);function x(z,ge,we){return ge.map(function(Re){return W(z,Re,we)})}function k(z,ge){let we=new B;z.forEach(function(Re){let pt=Re.graph().root,Ie=H(Re,pt,we,ge);Ie.vs.forEach((ze,pe)=>Re.node(ze).order=pe),R(Re,we,Ie.vs)})}function U(z,ge){Object.values(ge).forEach(we=>we.forEach((Re,pt)=>z.node(Re).order=pt))}Pe.exports=function N(z,ge){if(ge&&"function"==typeof ge.customOrder)return void ge.customOrder(z,N);let we=I.maxRank(z),Re=x(z,I.range(1,we+1),"inEdges"),pt=x(z,I.range(we-1,-1,-1),"outEdges"),Ie=fe(z);if(U(z,Ie),ge&&ge.disableOptimalOrderHeuristic)return;let pe,ze=Number.POSITIVE_INFINITY;for(let xe=0,Be=0;Be<4;++xe,++Be){k(xe%2?Re:pt,xe%4>=2),Ie=I.buildLayerMatrix(z);let Je=J(z,Ie);Je<ze&&(Be=0,pe=Object.assign({},Ie),ze=Je)}U(z,pe)}},3252:(Pe,ht,j)=>{"use strict";let fe=j(1178);Pe.exports=function J(H){let W={},R=H.nodes().filter(U=>!H.children(U).length),B=R.map(U=>H.node(U).rank),I=fe.applyWithChunking(Math.max,B),N=fe.range(I+1).map(()=>[]);return R.sort((U,z)=>H.node(U).rank-H.node(z).rank).forEach(function x(U){if(W[U])return;W[U]=!0;let z=H.node(U);N[z.rank].push(U),H.successors(U).forEach(x)}),N}},6753:(Pe,ht,j)=>{"use strict";let fe=j(1178);Pe.exports=function J(R,B){let I={};return R.forEach((x,k)=>{let U=I[x.v]={indegree:0,in:[],out:[],vs:[x.v],i:k};void 0!==x.barycenter&&(U.barycenter=x.barycenter,U.weight=x.weight)}),B.edges().forEach(x=>{let k=I[x.v],U=I[x.w];void 0!==k&&void 0!==U&&(U.indegree++,k.out.push(I[x.w]))}),function H(R){let B=[];function I(x){return k=>{k.merged||(void 0===k.barycenter||void 0===x.barycenter||k.barycenter>=x.barycenter)&&function W(R,B){let I=0,N=0;R.weight&&(I+=R.barycenter*R.weight,N+=R.weight),B.weight&&(I+=B.barycenter*B.weight,N+=B.weight),R.vs=B.vs.concat(R.vs),R.barycenter=I/N,R.weight=N,R.i=Math.min(B.i,R.i),B.merged=!0}(x,k)}}function N(x){return k=>{k.in.push(x),0==--k.indegree&&R.push(k)}}for(;R.length;){let x=R.pop();B.push(x),x.in.reverse().forEach(I(x)),x.out.forEach(N(x))}return B.filter(x=>!x.merged).map(x=>fe.pick(x,["vs","i","barycenter","weight"]))}(Object.values(I).filter(x=>!x.indegree))}},8414:(Pe,ht,j)=>{let fe=j(9750),J=j(6753),H=j(6843);Pe.exports=function W(I,N,x,k){let U=I.children(N),z=I.node(N),ge=z?z.borderLeft:void 0,we=z?z.borderRight:void 0,Re={};ge&&(U=U.filter(pe=>pe!==ge&&pe!==we));let pt=fe(I,U);pt.forEach(pe=>{if(I.children(pe.v).length){let xe=W(I,pe.v,x,k);Re[pe.v]=xe,Object.hasOwn(xe,"barycenter")&&function B(I,N){void 0!==I.barycenter?(I.barycenter=(I.barycenter*I.weight+N.barycenter*N.weight)/(I.weight+N.weight),I.weight+=N.weight):(I.barycenter=N.barycenter,I.weight=N.weight)}(pe,xe)}});let Ie=J(pt,x);!function R(I,N){I.forEach(x=>{x.vs=x.vs.flatMap(k=>N[k]?N[k].vs:k)})}(Ie,Re);let ze=H(Ie,k);if(ge&&(ze.vs=[ge,ze.vs,we].flat(!0),I.predecessors(ge).length)){let pe=I.node(I.predecessors(ge)[0]),xe=I.node(I.predecessors(we)[0]);Object.hasOwn(ze,"barycenter")||(ze.barycenter=0,ze.weight=0),ze.barycenter=(ze.barycenter*ze.weight+pe.order+xe.order)/(ze.weight+2),ze.weight+=2}return ze}},6843:(Pe,ht,j)=>{let fe=j(1178);function H(R,B,I){let N;for(;B.length&&(N=B[B.length-1]).i<=I;)B.pop(),R.push(N.vs),I++;return I}Pe.exports=function J(R,B){let I=fe.partition(R,Re=>Object.hasOwn(Re,"barycenter")),N=I.lhs,x=I.rhs.sort((Re,pt)=>pt.i-Re.i),k=[],U=0,z=0,ge=0;N.sort(function W(R){return(B,I)=>B.barycenter<I.barycenter?-1:B.barycenter>I.barycenter?1:R?I.i-B.i:B.i-I.i}(!!B)),ge=H(k,x,ge),N.forEach(Re=>{ge+=Re.vs.length,k.push(Re.vs),U+=Re.barycenter*Re.weight,z+=Re.weight,ge=H(k,x,ge)});let we={vs:k.flat(!0)};return z&&(we.barycenter=U/z,we.weight=z),we}},930:Pe=>{Pe.exports=function ht(J){let H=function fe(J){let H={},W=0;return J.children().forEach(function R(B){let I=W;J.children(B).forEach(R),H[B]={low:I,lim:W++}}),H}(J);J.graph().dummyChains.forEach(W=>{let R=J.node(W),B=R.edgeObj,I=function j(J,H,W,R){let k,U,B=[],I=[],N=Math.min(H[W].low,H[R].low),x=Math.max(H[W].lim,H[R].lim);k=W;do{k=J.parent(k),B.push(k)}while(k&&(H[k].low>N||x>H[k].lim));for(U=k,k=R;(k=J.parent(k))!==U;)I.push(k);return{path:B.concat(I.reverse()),lca:U}}(J,H,B.v,B.w),N=I.path,x=I.lca,k=0,U=N[k],z=!0;for(;W!==B.w;){if(R=J.node(W),z){for(;(U=N[k])!==x&&J.node(U).maxRank<R.rank;)k++;U===x&&(z=!1)}if(!z){for(;k<N.length-1&&J.node(U=N[k+1]).minRank<=R.rank;)k++;U=N[k]}J.setParent(W,U),W=J.successors(W)[0]}})}},2363:(Pe,ht,j)=>{"use strict";let fe=j(688).Graph,J=j(1178);function H(Ie,ze){let pe={};return ze.length&&ze.reduce(function xe(Be,Je){let et=0,wt=0,se=Be.length,me=Je[Je.length-1];return Je.forEach((Se,Ae)=>{let je=function R(Ie,ze){if(Ie.node(ze).dummy)return Ie.predecessors(ze).find(pe=>Ie.node(pe).dummy)}(Ie,Se),At=je?Ie.node(je).order:se;(je||Se===me)&&(Je.slice(wt,Ae+1).forEach(kt=>{Ie.predecessors(kt).forEach(dn=>{let Jn=Ie.node(dn),Li=Jn.order;(Li<et||At<Li)&&(!Jn.dummy||!Ie.node(kt).dummy)&&B(pe,dn,kt)})}),wt=Ae+1,et=At)}),Je}),pe}function W(Ie,ze){let pe={};function xe(Je,et,wt,se,me){let Se;J.range(et,wt).forEach(Ae=>{Se=Je[Ae],Ie.node(Se).dummy&&Ie.predecessors(Se).forEach(je=>{let At=Ie.node(je);At.dummy&&(At.order<se||At.order>me)&&B(pe,je,Se)})})}return ze.length&&ze.reduce(function Be(Je,et){let se,wt=-1,me=0;return et.forEach((Se,Ae)=>{if("border"===Ie.node(Se).dummy){let je=Ie.predecessors(Se);je.length&&(se=Ie.node(je[0]).order,xe(et,me,Ae,wt,se),me=Ae,wt=se)}xe(et,me,et.length,se,Je.length)}),et}),pe}function B(Ie,ze,pe){if(ze>pe){let Be=ze;ze=pe,pe=Be}let xe=Ie[ze];xe||(Ie[ze]=xe={}),xe[pe]=!0}function I(Ie,ze,pe){if(ze>pe){let xe=ze;ze=pe,pe=xe}return!!Ie[ze]&&Object.hasOwn(Ie[ze],pe)}function N(Ie,ze,pe,xe){let Be={},Je={},et={};return ze.forEach(wt=>{wt.forEach((se,me)=>{Be[se]=se,Je[se]=se,et[se]=me})}),ze.forEach(wt=>{let se=-1;wt.forEach(me=>{let Se=xe(me);if(Se.length){Se=Se.sort((je,At)=>et[je]-et[At]);let Ae=(Se.length-1)/2;for(let je=Math.floor(Ae),At=Math.ceil(Ae);je<=At;++je){let kt=Se[je];Je[me]===me&&se<et[kt]&&!I(pe,me,kt)&&(Je[kt]=me,Je[me]=Be[me]=Be[kt],se=et[kt])}}})}),{root:Be,align:Je}}function x(Ie,ze,pe,xe,Be){let Je={},et=function k(Ie,ze,pe,xe){let Be=new fe,Je=Ie.graph(),et=function Re(Ie,ze,pe){return(xe,Be,Je)=>{let me,et=xe.node(Be),wt=xe.node(Je),se=0;if(se+=et.width/2,Object.hasOwn(et,"labelpos"))switch(et.labelpos.toLowerCase()){case"l":me=-et.width/2;break;case"r":me=et.width/2}if(me&&(se+=pe?me:-me),me=0,se+=(et.dummy?ze:Ie)/2,se+=(wt.dummy?ze:Ie)/2,se+=wt.width/2,Object.hasOwn(wt,"labelpos"))switch(wt.labelpos.toLowerCase()){case"l":me=wt.width/2;break;case"r":me=-wt.width/2}return me&&(se+=pe?me:-me),me=0,se}}(Je.nodesep,Je.edgesep,xe);return ze.forEach(wt=>{let se;wt.forEach(me=>{let Se=pe[me];if(Be.setNode(Se),se){var Ae=pe[se],je=Be.edge(Ae,Se);Be.setEdge(Ae,Se,Math.max(et(Ie,me,se),je||0))}se=me})}),Be}(Ie,ze,pe,Be),wt=Be?"borderLeft":"borderRight";function se(Ae,je){let At=et.nodes(),kt=At.pop(),dn={};for(;kt;)dn[kt]?Ae(kt):(dn[kt]=!0,At.push(kt),At=At.concat(je(kt))),kt=At.pop()}return se(function me(Ae){Je[Ae]=et.inEdges(Ae).reduce((je,At)=>Math.max(je,Je[At.v]+et.edge(At)),0)},et.predecessors.bind(et)),se(function Se(Ae){let je=et.outEdges(Ae).reduce((kt,dn)=>Math.min(kt,Je[dn.w]-et.edge(dn)),Number.POSITIVE_INFINITY),At=Ie.node(Ae);je!==Number.POSITIVE_INFINITY&&At.borderType!==wt&&(Je[Ae]=Math.max(Je[Ae],je))},et.successors.bind(et)),Object.keys(xe).forEach(Ae=>Je[Ae]=Je[pe[Ae]]),Je}function U(Ie,ze){return Object.values(ze).reduce((pe,xe)=>{let Be=Number.NEGATIVE_INFINITY,Je=Number.POSITIVE_INFINITY;Object.entries(xe).forEach(([wt,se])=>{let me=function pt(Ie,ze){return Ie.node(ze).width}(Ie,wt)/2;Be=Math.max(se+me,Be),Je=Math.min(se-me,Je)});const et=Be-Je;return et<pe[0]&&(pe=[et,xe]),pe},[Number.POSITIVE_INFINITY,null])[1]}function z(Ie,ze){let pe=Object.values(ze),xe=J.applyWithChunking(Math.min,pe),Be=J.applyWithChunking(Math.max,pe);["u","d"].forEach(Je=>{["l","r"].forEach(et=>{let wt=Je+et,se=Ie[wt];if(se===ze)return;let me=Object.values(se),Se=xe-J.applyWithChunking(Math.min,me);"l"!==et&&(Se=Be-J.applyWithChunking(Math.max,me)),Se&&(Ie[wt]=J.mapValues(se,Ae=>Ae+Se))})})}function ge(Ie,ze){return J.mapValues(Ie.ul,(pe,xe)=>{if(ze)return Ie[ze.toLowerCase()][xe];{let Be=Object.values(Ie).map(Je=>Je[xe]).sort((Je,et)=>Je-et);return(Be[1]+Be[2])/2}})}Pe.exports={positionX:function we(Ie){let Be,ze=J.buildLayerMatrix(Ie),pe=Object.assign(H(Ie,ze),W(Ie,ze)),xe={};["u","d"].forEach(et=>{Be="u"===et?ze:Object.values(ze).reverse(),["l","r"].forEach(wt=>{"r"===wt&&(Be=Be.map(Ae=>Object.values(Ae).reverse()));let se=("u"===et?Ie.predecessors:Ie.successors).bind(Ie),me=N(0,Be,pe,se),Se=x(Ie,Be,me.root,me.align,"r"===wt);"r"===wt&&(Se=J.mapValues(Se,Ae=>-Ae)),xe[et+wt]=Se})});let Je=U(Ie,xe);return z(xe,Je),ge(xe,Ie.graph().align)},findType1Conflicts:H,findType2Conflicts:W,addConflict:B,hasConflict:I,verticalAlignment:N,horizontalCompaction:x,alignCoordinates:z,findSmallestWidthAlignment:U,balance:ge}},3110:(Pe,ht,j)=>{"use strict";let fe=j(1178),J=j(2363).positionX;Pe.exports=function H(R){(function W(R){let B=fe.buildLayerMatrix(R),I=R.graph().ranksep,N=0;B.forEach(x=>{const k=x.reduce((U,z)=>{const ge=R.node(z).height;return U>ge?U:ge},0);x.forEach(U=>R.node(U).y=N+k/2),N+=k+I})})(R=fe.asNonCompoundGraph(R)),Object.entries(J(R)).forEach(([B,I])=>R.node(B).x=I)}},5975:(Pe,ht,j)=>{"use strict";var fe=j(688).Graph,J=j(1211).slack;function W(I,N){return I.nodes().forEach(function x(k){N.nodeEdges(k).forEach(U=>{var z=U.v,ge=k===z?U.w:z;!I.hasNode(ge)&&!J(N,U)&&(I.setNode(ge,{}),I.setEdge(k,ge,{}),x(ge))})}),I.nodeCount()}function R(I,N){return N.edges().reduce((k,U)=>{let z=Number.POSITIVE_INFINITY;return I.hasNode(U.v)!==I.hasNode(U.w)&&(z=J(N,U)),z<k[0]?[z,U]:k},[Number.POSITIVE_INFINITY,null])[1]}function B(I,N,x){I.nodes().forEach(k=>N.node(k).rank+=x)}Pe.exports=function H(I){var U,z,N=new fe({directed:!1}),x=I.nodes()[0],k=I.nodeCount();for(N.setNode(x,{});W(N,I)<k;)U=R(N,I),z=N.hasNode(U.v)?J(I,U):-J(I,U),B(N,I,z);return N}},5779:(Pe,ht,j)=>{"use strict";var J=j(1211).longestPath,H=j(5975),W=j(9722);Pe.exports=function R(x){switch(x.graph().ranker){case"network-simplex":default:!function N(x){W(x)}(x);break;case"tight-tree":!function I(x){J(x),H(x)}(x);break;case"longest-path":B(x)}};var B=J},9722:(Pe,ht,j)=>{"use strict";var fe=j(5975),J=j(1211).slack,H=j(1211).longestPath,W=j(688).alg.preorder,R=j(688).alg.postorder,B=j(1178).simplify;function I(pe){pe=B(pe),H(pe);var Be,xe=fe(pe);for(U(xe),N(xe,pe);Be=ge(xe);)Re(xe,pe,Be,we(xe,pe,Be))}function N(pe,xe){var Be=R(pe,pe.nodes());(Be=Be.slice(0,Be.length-1)).forEach(Je=>function x(pe,xe,Be){var Je=pe.node(Be);pe.edge(Be,Je.parent).cutvalue=k(pe,xe,Be)}(pe,xe,Je))}function k(pe,xe,Be){var et=pe.node(Be).parent,wt=!0,se=xe.edge(Be,et),me=0;return se||(wt=!1,se=xe.edge(et,Be)),me=se.weight,xe.nodeEdges(Be).forEach(Se=>{var Ae=Se.v===Be,je=Ae?Se.w:Se.v;if(je!==et){var At=Ae===wt,kt=xe.edge(Se).weight;if(me+=At?kt:-kt,function Ie(pe,xe,Be){return pe.hasEdge(xe,Be)}(pe,Be,je)){var dn=pe.edge(Be,je).cutvalue;me+=At?-dn:dn}}}),me}function U(pe,xe){arguments.length<2&&(xe=pe.nodes()[0]),z(pe,{},1,xe)}function z(pe,xe,Be,Je,et){var wt=Be,se=pe.node(Je);return xe[Je]=!0,pe.neighbors(Je).forEach(me=>{Object.hasOwn(xe,me)||(Be=z(pe,xe,Be,me,Je))}),se.low=wt,se.lim=Be++,et?se.parent=et:delete se.parent,Be}function ge(pe){return pe.edges().find(xe=>pe.edge(xe).cutvalue<0)}function we(pe,xe,Be){var Je=Be.v,et=Be.w;xe.hasEdge(Je,et)||(Je=Be.w,et=Be.v);var wt=pe.node(Je),se=pe.node(et),me=wt,Se=!1;return wt.lim>se.lim&&(me=se,Se=!0),xe.edges().filter(je=>Se===ze(0,pe.node(je.v),me)&&Se!==ze(0,pe.node(je.w),me)).reduce((je,At)=>J(xe,At)<J(xe,je)?At:je)}function Re(pe,xe,Be,Je){pe.removeEdge(Be.v,Be.w),pe.setEdge(Je.v,Je.w,{}),U(pe),N(pe,xe),function pt(pe,xe){var Be=pe.nodes().find(et=>!xe.node(et).parent),Je=W(pe,Be);(Je=Je.slice(1)).forEach(et=>{var wt=pe.node(et).parent,se=xe.edge(et,wt),me=!1;se||(se=xe.edge(wt,et),me=!0),xe.node(et).rank=xe.node(wt).rank+(me?se.minlen:-se.minlen)})}(pe,xe)}function ze(pe,xe,Be){return Be.low<=xe.lim&&xe.lim<=Be.lim}Pe.exports=I,I.initLowLimValues=U,I.initCutValues=N,I.calcCutValue=k,I.leaveEdge=ge,I.enterEdge=we,I.exchangeEdges=Re},1211:(Pe,ht,j)=>{"use strict";const{applyWithChunking:fe}=j(1178);Pe.exports={longestPath:function J(W){var R={};W.sources().forEach(function B(I){var N=W.node(I);if(Object.hasOwn(R,I))return N.rank;R[I]=!0;let x=W.outEdges(I).map(U=>null==U?Number.POSITIVE_INFINITY:B(U.w)-W.edge(U).minlen);var k=fe(Math.min,x);return k===Number.POSITIVE_INFINITY&&(k=0),N.rank=k})},slack:function H(W,R){return W.node(R.w).rank-W.node(R.v).rank-W.edge(R).minlen}}},1178:(Pe,ht,j)=>{"use strict";let fe=j(688).Graph;function J(se,me,Se,Ae){let je;do{je=xe(Ae)}while(se.hasNode(je));return Se.dummy=me,se.setNode(je,Se),je}Pe.exports={addBorderNode:function U(se,me,Se,Ae){let je={width:0,height:0};return arguments.length>=4&&(je.rank=Se,je.order=Ae),J(se,"border",je,me)},addDummyNode:J,applyWithChunking:we,asNonCompoundGraph:function W(se){let me=new fe({multigraph:se.isMultigraph()}).setGraph(se.graph());return se.nodes().forEach(Se=>{se.children(Se).length||me.setNode(Se,se.node(Se))}),se.edges().forEach(Se=>{me.setEdge(Se,se.edge(Se))}),me},buildLayerMatrix:function N(se){let me=Be(Re(se)+1).map(()=>[]);return se.nodes().forEach(Se=>{let Ae=se.node(Se),je=Ae.rank;void 0!==je&&(me[je][Ae.order]=Se)}),me},intersectRect:function I(se,me){let Jn,Li,Se=se.x,Ae=se.y,je=me.x-Se,At=me.y-Ae,kt=se.width/2,dn=se.height/2;if(!je&&!At)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(At)*kt>Math.abs(je)*dn?(At<0&&(dn=-dn),Jn=dn*je/At,Li=dn):(je<0&&(kt=-kt),Jn=kt,Li=kt*At/je),{x:Se+Jn,y:Ae+Li}},mapValues:function et(se,me){let Se=me;return"string"==typeof me&&(Se=Ae=>Ae[me]),Object.entries(se).reduce((Ae,[je,At])=>(Ae[je]=Se(At,je),Ae),{})},maxRank:Re,normalizeRanks:function x(se){let me=se.nodes().map(Ae=>{let je=se.node(Ae).rank;return void 0===je?Number.MAX_VALUE:je}),Se=we(Math.min,me);se.nodes().forEach(Ae=>{let je=se.node(Ae);Object.hasOwn(je,"rank")&&(je.rank-=Se)})},notime:function ze(se,me){return me()},partition:function pt(se,me){let Se={lhs:[],rhs:[]};return se.forEach(Ae=>{me(Ae)?Se.lhs.push(Ae):Se.rhs.push(Ae)}),Se},pick:function Je(se,me){const Se={};for(const Ae of me)void 0!==se[Ae]&&(Se[Ae]=se[Ae]);return Se},predecessorWeights:function B(se){let me=se.nodes().map(Se=>{let Ae={};return se.inEdges(Se).forEach(je=>{Ae[je.v]=(Ae[je.v]||0)+se.edge(je).weight}),Ae});return wt(se.nodes(),me)},range:Be,removeEmptyRanks:function k(se){let me=se.nodes().map(kt=>se.node(kt).rank),Se=we(Math.min,me),Ae=[];se.nodes().forEach(kt=>{let dn=se.node(kt).rank-Se;Ae[dn]||(Ae[dn]=[]),Ae[dn].push(kt)});let je=0,At=se.graph().nodeRankFactor;Array.from(Ae).forEach((kt,dn)=>{void 0===kt&&dn%At!=0?--je:void 0!==kt&&je&&kt.forEach(Jn=>se.node(Jn).rank+=je)})},simplify:function H(se){let me=(new fe).setGraph(se.graph());return se.nodes().forEach(Se=>me.setNode(Se,se.node(Se))),se.edges().forEach(Se=>{let Ae=me.edge(Se.v,Se.w)||{weight:0,minlen:1},je=se.edge(Se);me.setEdge(Se.v,Se.w,{weight:Ae.weight+je.weight,minlen:Math.max(Ae.minlen,je.minlen)})}),me},successorWeights:function R(se){let me=se.nodes().map(Se=>{let Ae={};return se.outEdges(Se).forEach(je=>{Ae[je.w]=(Ae[je.w]||0)+se.edge(je).weight}),Ae});return wt(se.nodes(),me)},time:function Ie(se,me){let Se=Date.now();try{return me()}finally{console.log(se+" time: "+(Date.now()-Se)+"ms")}},uniqueId:xe,zipObject:wt};const ge=65535;function we(se,me){if(me.length>ge){const Se=function z(se,me=ge){const Se=[];for(let Ae=0;Ae<se.length;Ae+=me){const je=se.slice(Ae,Ae+me);Se.push(je)}return Se}(me);return se.apply(null,Se.map(Ae=>se.apply(null,Ae)))}return se.apply(null,me)}function Re(se){const Se=se.nodes().map(Ae=>{let je=se.node(Ae).rank;return void 0===je?Number.MIN_VALUE:je});return we(Math.max,Se)}let pe=0;function xe(se){var me=++pe;return toString(se)+me}function Be(se,me,Se=1){null==me&&(me=se,se=0);let Ae=At=>At<me;Se<0&&(Ae=At=>me<At);const je=[];for(let At=se;Ae(At);At+=Se)je.push(At);return je}function wt(se,me){return se.reduce((Se,Ae,je)=>(Se[Ae]=me[je],Se),{})}},9836:Pe=>{Pe.exports="1.1.4"},688:(Pe,ht,j)=>{var fe=j(3820);Pe.exports={Graph:fe.Graph,json:j(8388),alg:j(1873),version:fe.version}},9:Pe=>{Pe.exports=function ht(j){var H,fe={},J=[];function W(R){Object.hasOwn(fe,R)||(fe[R]=!0,H.push(R),j.successors(R).forEach(W),j.predecessors(R).forEach(W))}return j.nodes().forEach(function(R){H=[],W(R),H.length&&J.push(H)}),J}},7766:Pe=>{function j(H,W,R,B){for(var I=[[H,!1]];I.length>0;){var N=I.pop();N[1]?B.push(N[0]):Object.hasOwn(R,N[0])||(R[N[0]]=!0,I.push([N[0],!0]),J(W(N[0]),x=>I.push([x,!1])))}}function fe(H,W,R,B){for(var I=[H];I.length>0;){var N=I.pop();Object.hasOwn(R,N)||(R[N]=!0,B.push(N),J(W(N),x=>I.push(x)))}}function J(H,W){for(var R=H.length;R--;)W(H[R],R,H);return H}Pe.exports=function ht(H,W,R){Array.isArray(W)||(W=[W]);var B=H.isDirected()?k=>H.successors(k):k=>H.neighbors(k),I="post"===R?j:fe,N=[],x={};return W.forEach(k=>{if(!H.hasNode(k))throw new Error("Graph does not have node: "+k);I(k,B,x,N)}),N}},445:(Pe,ht,j)=>{var fe=j(7103);Pe.exports=function J(H,W,R){return H.nodes().reduce(function(B,I){return B[I]=fe(H,I,W,R),B},{})}},7103:(Pe,ht,j)=>{var fe=j(859);Pe.exports=function H(R,B,I,N){return function W(R,B,I,N){var U,z,x={},k=new fe,ge=function(we){var Re=we.v!==U?we.v:we.w,pt=x[Re],Ie=I(we),ze=z.distance+Ie;if(Ie<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+we+" Weight: "+Ie);ze<pt.distance&&(pt.distance=ze,pt.predecessor=U,k.decrease(Re,ze))};for(R.nodes().forEach(function(we){var Re=we===B?0:Number.POSITIVE_INFINITY;x[we]={distance:Re},k.add(we,Re)});k.size()>0&&(U=k.removeMin(),(z=x[U]).distance!==Number.POSITIVE_INFINITY);)N(U).forEach(ge);return x}(R,String(B),I||J,N||function(x){return R.outEdges(x)})};var J=()=>1},2244:(Pe,ht,j)=>{var fe=j(8829);Pe.exports=function J(H){return fe(H).filter(function(W){return W.length>1||1===W.length&&H.hasEdge(W[0],W[0])})}},9432:Pe=>{Pe.exports=function j(J,H,W){return function fe(J,H,W){var R={},B=J.nodes();return B.forEach(function(I){R[I]={},R[I][I]={distance:0},B.forEach(function(N){I!==N&&(R[I][N]={distance:Number.POSITIVE_INFINITY})}),W(I).forEach(function(N){var x=N.v===I?N.w:N.v,k=H(N);R[I][x]={distance:k,predecessor:I}})}),B.forEach(function(I){var N=R[I];B.forEach(function(x){var k=R[x];B.forEach(function(U){var ge=N[U],we=k[U],Re=k[I].distance+ge.distance;Re<we.distance&&(we.distance=Re,we.predecessor=ge.predecessor)})})}),R}(J,H||ht,W||function(R){return J.outEdges(R)})};var ht=()=>1},1873:(Pe,ht,j)=>{Pe.exports={components:j(9),dijkstra:j(7103),dijkstraAll:j(445),findCycles:j(2244),floydWarshall:j(9432),isAcyclic:j(9640),postorder:j(4691),preorder:j(3166),prim:j(937),tarjan:j(8829),topsort:j(8306)}},9640:(Pe,ht,j)=>{var fe=j(8306);Pe.exports=function J(H){try{fe(H)}catch(W){if(W instanceof fe.CycleException)return!1;throw W}return!0}},4691:(Pe,ht,j)=>{var fe=j(7766);Pe.exports=function J(H,W){return fe(H,W,"post")}},3166:(Pe,ht,j)=>{var fe=j(7766);Pe.exports=function J(H,W){return fe(H,W,"pre")}},937:(Pe,ht,j)=>{var fe=j(9744),J=j(859);Pe.exports=function H(W,R){var x,B=new fe,I={},N=new J;function k(z){var ge=z.v===x?z.w:z.v,we=N.priority(ge);if(void 0!==we){var Re=R(z);Re<we&&(I[ge]=x,N.decrease(ge,Re))}}if(0===W.nodeCount())return B;W.nodes().forEach(function(z){N.add(z,Number.POSITIVE_INFINITY),B.setNode(z)}),N.decrease(W.nodes()[0],0);for(var U=!1;N.size()>0;){if(x=N.removeMin(),Object.hasOwn(I,x))B.setEdge(x,I[x]);else{if(U)throw new Error("Input graph is not connected: "+W);U=!0}W.nodeEdges(x).forEach(k)}return B}},8829:Pe=>{Pe.exports=function ht(j){var fe=0,J=[],H={},W=[];function R(B){var I=H[B]={onStack:!0,lowlink:fe,index:fe++};if(J.push(B),j.successors(B).forEach(function(k){Object.hasOwn(H,k)?H[k].onStack&&(I.lowlink=Math.min(I.lowlink,H[k].index)):(R(k),I.lowlink=Math.min(I.lowlink,H[k].lowlink))}),I.lowlink===I.index){var x,N=[];do{x=J.pop(),H[x].onStack=!1,N.push(x)}while(B!==x);W.push(N)}}return j.nodes().forEach(function(B){Object.hasOwn(H,B)||R(B)}),W}},8306:Pe=>{function ht(fe){var J={},H={},W=[];if(fe.sinks().forEach(function R(B){if(Object.hasOwn(H,B))throw new j;Object.hasOwn(J,B)||(H[B]=!0,J[B]=!0,fe.predecessors(B).forEach(R),delete H[B],W.push(B))}),Object.keys(J).length!==fe.nodeCount())throw new j;return W}class j extends Error{constructor(){super(...arguments)}}Pe.exports=ht,ht.CycleException=j},859:Pe=>{Pe.exports=class ht{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(fe){return fe.key})}has(fe){return Object.hasOwn(this._keyIndices,fe)}priority(fe){var J=this._keyIndices[fe];if(void 0!==J)return this._arr[J].priority}min(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key}add(fe,J){var H=this._keyIndices;if(fe=String(fe),!Object.hasOwn(H,fe)){var W=this._arr,R=W.length;return H[fe]=R,W.push({key:fe,priority:J}),this._decrease(R),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var fe=this._arr.pop();return delete this._keyIndices[fe.key],this._heapify(0),fe.key}decrease(fe,J){var H=this._keyIndices[fe];if(J>this._arr[H].priority)throw new Error("New priority is greater than current priority. Key: "+fe+" Old: "+this._arr[H].priority+" New: "+J);this._arr[H].priority=J,this._decrease(H)}_heapify(fe){var J=this._arr,H=2*fe,W=H+1,R=fe;H<J.length&&(R=J[H].priority<J[R].priority?H:R,W<J.length&&(R=J[W].priority<J[R].priority?W:R),R!==fe&&(this._swap(fe,R),this._heapify(R)))}_decrease(fe){for(var W,J=this._arr,H=J[fe].priority;0!==fe&&!(J[W=fe>>1].priority<H);)this._swap(fe,W),fe=W}_swap(fe,J){var H=this._arr,W=this._keyIndices,R=H[fe],B=H[J];H[fe]=B,H[J]=R,W[B.key]=fe,W[R.key]=J}}},9744:Pe=>{"use strict";var ht="\0",j="\0",fe="\x01";function H(N,x){N[x]?N[x]++:N[x]=1}function W(N,x){--N[x]||delete N[x]}function R(N,x,k,U){var z=""+x,ge=""+k;if(!N&&z>ge){var we=z;z=ge,ge=we}return z+fe+ge+fe+(void 0===U?ht:U)}function I(N,x){return R(N,x.v,x.w,x.name)}Pe.exports=class J{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(x){x&&(this._isDirected=!Object.hasOwn(x,"directed")||x.directed,this._isMultigraph=!!Object.hasOwn(x,"multigraph")&&x.multigraph,this._isCompound=!!Object.hasOwn(x,"compound")&&x.compound),this._isCompound&&(this._parent={},this._children={},this._children[j]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(x){return this._label=x,this}graph(){return this._label}setDefaultNodeLabel(x){return this._defaultNodeLabelFn=x,"function"!=typeof x&&(this._defaultNodeLabelFn=()=>x),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var x=this;return this.nodes().filter(k=>0===Object.keys(x._in[k]).length)}sinks(){var x=this;return this.nodes().filter(k=>0===Object.keys(x._out[k]).length)}setNodes(x,k){var U=arguments,z=this;return x.forEach(function(ge){U.length>1?z.setNode(ge,k):z.setNode(ge)}),this}setNode(x,k){return Object.hasOwn(this._nodes,x)?(arguments.length>1&&(this._nodes[x]=k),this):(this._nodes[x]=arguments.length>1?k:this._defaultNodeLabelFn(x),this._isCompound&&(this._parent[x]=j,this._children[x]={},this._children[j][x]=!0),this._in[x]={},this._preds[x]={},this._out[x]={},this._sucs[x]={},++this._nodeCount,this)}node(x){return this._nodes[x]}hasNode(x){return Object.hasOwn(this._nodes,x)}removeNode(x){var k=this;if(Object.hasOwn(this._nodes,x)){var U=z=>k.removeEdge(k._edgeObjs[z]);delete this._nodes[x],this._isCompound&&(this._removeFromParentsChildList(x),delete this._parent[x],this.children(x).forEach(function(z){k.setParent(z)}),delete this._children[x]),Object.keys(this._in[x]).forEach(U),delete this._in[x],delete this._preds[x],Object.keys(this._out[x]).forEach(U),delete this._out[x],delete this._sucs[x],--this._nodeCount}return this}setParent(x,k){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(void 0===k)k=j;else{for(var U=k+="";void 0!==U;U=this.parent(U))if(U===x)throw new Error("Setting "+k+" as parent of "+x+" would create a cycle");this.setNode(k)}return this.setNode(x),this._removeFromParentsChildList(x),this._parent[x]=k,this._children[k][x]=!0,this}_removeFromParentsChildList(x){delete this._children[this._parent[x]][x]}parent(x){if(this._isCompound){var k=this._parent[x];if(k!==j)return k}}children(x=j){if(this._isCompound){var k=this._children[x];if(k)return Object.keys(k)}else{if(x===j)return this.nodes();if(this.hasNode(x))return[]}}predecessors(x){var k=this._preds[x];if(k)return Object.keys(k)}successors(x){var k=this._sucs[x];if(k)return Object.keys(k)}neighbors(x){var k=this.predecessors(x);if(k){const z=new Set(k);for(var U of this.successors(x))z.add(U);return Array.from(z.values())}}isLeaf(x){return 0===(this.isDirected()?this.successors(x):this.neighbors(x)).length}filterNodes(x){var k=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});k.setGraph(this.graph());var U=this;Object.entries(this._nodes).forEach(function([we,Re]){x(we)&&k.setNode(we,Re)}),Object.values(this._edgeObjs).forEach(function(we){k.hasNode(we.v)&&k.hasNode(we.w)&&k.setEdge(we,U.edge(we))});var z={};function ge(we){var Re=U.parent(we);return void 0===Re||k.hasNode(Re)?(z[we]=Re,Re):Re in z?z[Re]:ge(Re)}return this._isCompound&&k.nodes().forEach(we=>k.setParent(we,ge(we))),k}setDefaultEdgeLabel(x){return this._defaultEdgeLabelFn=x,"function"!=typeof x&&(this._defaultEdgeLabelFn=()=>x),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(x,k){var U=this,z=arguments;return x.reduce(function(ge,we){return z.length>1?U.setEdge(ge,we,k):U.setEdge(ge,we),we}),this}setEdge(){var x,k,U,z,ge=!1,we=arguments[0];"object"==typeof we&&null!==we&&"v"in we?(x=we.v,k=we.w,U=we.name,2===arguments.length&&(z=arguments[1],ge=!0)):(x=we,k=arguments[1],U=arguments[3],arguments.length>2&&(z=arguments[2],ge=!0)),void 0!==U&&(U=""+U);var Re=R(this._isDirected,x=""+x,k=""+k,U);if(Object.hasOwn(this._edgeLabels,Re))return ge&&(this._edgeLabels[Re]=z),this;if(void 0!==U&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(x),this.setNode(k),this._edgeLabels[Re]=ge?z:this._defaultEdgeLabelFn(x,k,U);var pt=function B(N,x,k,U){var z=""+x,ge=""+k;if(!N&&z>ge){var we=z;z=ge,ge=we}var Re={v:z,w:ge};return U&&(Re.name=U),Re}(this._isDirected,x,k,U);return x=pt.v,k=pt.w,Object.freeze(pt),this._edgeObjs[Re]=pt,H(this._preds[k],x),H(this._sucs[x],k),this._in[k][Re]=pt,this._out[x][Re]=pt,this._edgeCount++,this}edge(x,k,U){var z=1===arguments.length?I(this._isDirected,arguments[0]):R(this._isDirected,x,k,U);return this._edgeLabels[z]}edgeAsObj(){const x=this.edge(...arguments);return"object"!=typeof x?{label:x}:x}hasEdge(x,k,U){var z=1===arguments.length?I(this._isDirected,arguments[0]):R(this._isDirected,x,k,U);return Object.hasOwn(this._edgeLabels,z)}removeEdge(x,k,U){var z=1===arguments.length?I(this._isDirected,arguments[0]):R(this._isDirected,x,k,U),ge=this._edgeObjs[z];return ge&&(x=ge.v,k=ge.w,delete this._edgeLabels[z],delete this._edgeObjs[z],W(this._preds[k],x),W(this._sucs[x],k),delete this._in[k][z],delete this._out[x][z],this._edgeCount--),this}inEdges(x,k){var U=this._in[x];if(U){var z=Object.values(U);return k?z.filter(ge=>ge.v===k):z}}outEdges(x,k){var U=this._out[x];if(U){var z=Object.values(U);return k?z.filter(ge=>ge.w===k):z}}nodeEdges(x,k){var U=this.inEdges(x,k);if(U)return U.concat(this.outEdges(x,k))}}},3820:(Pe,ht,j)=>{Pe.exports={Graph:j(9744),version:j(2384)}},8388:(Pe,ht,j)=>{var fe=j(9744);function H(B){return B.nodes().map(function(I){var N=B.node(I),x=B.parent(I),k={v:I};return void 0!==N&&(k.value=N),void 0!==x&&(k.parent=x),k})}function W(B){return B.edges().map(function(I){var N=B.edge(I),x={v:I.v,w:I.w};return void 0!==I.name&&(x.name=I.name),void 0!==N&&(x.value=N),x})}Pe.exports={write:function J(B){var I={options:{directed:B.isDirected(),multigraph:B.isMultigraph(),compound:B.isCompound()},nodes:H(B),edges:W(B)};return void 0!==B.graph()&&(I.value=structuredClone(B.graph())),I},read:function R(B){var I=new fe(B.options).setGraph(B.value);return B.nodes.forEach(function(N){I.setNode(N.v,N.value),N.parent&&I.setParent(N.v,N.parent)}),B.edges.forEach(function(N){I.setEdge({v:N.v,w:N.w,name:N.name},N.value)}),I}}},2384:Pe=>{Pe.exports="2.2.4"},484:(Pe,ht,j)=>{"use strict";var fe={};function J(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function H(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(l){J(o,r,i,s,a,"next",l)}function a(l){J(o,r,i,s,a,"throw",l)}s(void 0)})}}j.r(fe),j.d(fe,{FormatSpecifier:()=>m_,active:()=>BZ,arc:()=>Wie,area:()=>jL,areaRadial:()=>GL,ascending:()=>Ea,autoType:()=>QX,axisBottom:()=>$q,axisLeft:()=>Gq,axisRight:()=>zq,axisTop:()=>Uq,bisect:()=>bl,bisectLeft:()=>vq,bisectRight:()=>K2,bisector:()=>Y1,blob:()=>MQ,brush:()=>eO,brushSelection:()=>KZ,brushX:()=>ZZ,brushY:()=>XZ,buffer:()=>IQ,chord:()=>JZ,clientPoint:()=>Wm,cluster:()=>Uee,color:()=>xa,contourDensity:()=>kX,contours:()=>MO,create:()=>Fie,creator:()=>Bm,cross:()=>bq,csv:()=>kQ,csvFormat:()=>jX,csvFormatBody:()=>UX,csvFormatRow:()=>$X,csvFormatRows:()=>zX,csvFormatValue:()=>GX,csvParse:()=>AO,csvParseRows:()=>HX,cubehelix:()=>Fo,curveBasis:()=>doe,curveBasisClosed:()=>foe,curveBasisOpen:()=>hoe,curveBundle:()=>poe,curveCardinal:()=>goe,curveCardinalClosed:()=>moe,curveCardinalOpen:()=>_oe,curveCatmullRom:()=>voe,curveCatmullRomClosed:()=>yoe,curveCatmullRomOpen:()=>boe,curveLinear:()=>Mv,curveLinearClosed:()=>woe,curveMonotoneX:()=>Eoe,curveMonotoneY:()=>Coe,curveNatural:()=>Doe,curveStep:()=>xoe,curveStepAfter:()=>Soe,curveStepBefore:()=>Moe,customEvent:()=>Lf,descending:()=>wq,deviation:()=>Q2,dispatch:()=>mu,drag:()=>PX,dragDisable:()=>Hm,dragEnable:()=>jm,dsv:()=>AQ,dsvFormat:()=>d_,easeBack:()=>BO,easeBackIn:()=>wQ,easeBackInOut:()=>BO,easeBackOut:()=>EQ,easeBounce:()=>Qf,easeBounceIn:()=>yQ,easeBounceInOut:()=>bQ,easeBounceOut:()=>Qf,easeCircle:()=>VO,easeCircleIn:()=>cQ,easeCircleInOut:()=>VO,easeCircleOut:()=>uQ,easeCubic:()=>Aw,easeCubicIn:()=>RZ,easeCubicInOut:()=>Aw,easeCubicOut:()=>FZ,easeElastic:()=>HO,easeElasticIn:()=>CQ,easeElasticInOut:()=>DQ,easeElasticOut:()=>HO,easeExp:()=>LO,easeExpIn:()=>aQ,easeExpInOut:()=>LO,easeExpOut:()=>lQ,easeLinear:()=>eQ,easePoly:()=>OO,easePolyIn:()=>rQ,easePolyInOut:()=>OO,easePolyOut:()=>iQ,easeQuad:()=>NO,easeQuadIn:()=>tQ,easeQuadInOut:()=>NO,easeQuadOut:()=>nQ,easeSin:()=>PO,easeSinIn:()=>oQ,easeSinInOut:()=>PO,easeSinOut:()=>sQ,entries:()=>pX,event:()=>Qe,extent:()=>K1,forceCenter:()=>BQ,forceCollide:()=>iJ,forceLink:()=>sJ,forceManyBody:()=>fJ,forceRadial:()=>hJ,forceSimulation:()=>dJ,forceX:()=>pJ,forceY:()=>gJ,format:()=>v_,formatDefaultLocale:()=>QO,formatLocale:()=>XO,formatPrefix:()=>aE,formatSpecifier:()=>Jf,geoAlbers:()=>hF,geoAlbersUsa:()=>bee,geoArea:()=>xJ,geoAzimuthalEqualArea:()=>wee,geoAzimuthalEqualAreaRaw:()=>WE,geoAzimuthalEquidistant:()=>Eee,geoAzimuthalEquidistantRaw:()=>qE,geoBounds:()=>TJ,geoCentroid:()=>FJ,geoCircle:()=>PJ,geoClipAntimeridian:()=>xE,geoClipCircle:()=>FR,geoClipExtent:()=>zJ,geoClipRectangle:()=>U_,geoConicConformal:()=>Dee,geoConicConformalRaw:()=>mF,geoConicEqualArea:()=>ev,geoConicEqualAreaRaw:()=>fF,geoConicEquidistant:()=>Mee,geoConicEquidistantRaw:()=>_F,geoContains:()=>ZJ,geoDistance:()=>G_,geoEqualEarth:()=>Iee,geoEqualEarthRaw:()=>YE,geoEquirectangular:()=>xee,geoEquirectangularRaw:()=>hh,geoGnomonic:()=>Tee,geoGnomonicRaw:()=>KE,geoGraticule:()=>GR,geoGraticule10:()=>XJ,geoIdentity:()=>Aee,geoInterpolate:()=>QJ,geoLength:()=>PR,geoMercator:()=>Cee,geoMercatorRaw:()=>fh,geoNaturalEarth1:()=>kee,geoNaturalEarth1Raw:()=>ZE,geoOrthographic:()=>Nee,geoOrthographicRaw:()=>XE,geoPath:()=>uee,geoProjection:()=>Ds,geoProjectionMutator:()=>$E,geoRotation:()=>SR,geoStereographic:()=>Oee,geoStereographicRaw:()=>QE,geoStream:()=>Po,geoTransform:()=>dee,geoTransverseMercator:()=>Ree,geoTransverseMercatorRaw:()=>JE,gray:()=>mX,hcl:()=>l_,hierarchy:()=>eC,histogram:()=>xq,hsl:()=>zm,html:()=>LQ,image:()=>OQ,interpolate:()=>jf,interpolateArray:()=>xK,interpolateBasis:()=>xN,interpolateBasisClosed:()=>MN,interpolateBlues:()=>mie,interpolateBrBG:()=>Kre,interpolateBuGn:()=>iie,interpolateBuPu:()=>oie,interpolateCividis:()=>Eie,interpolateCool:()=>xie,interpolateCubehelix:()=>Bte,interpolateCubehelixDefault:()=>Cie,interpolateCubehelixLong:()=>lv,interpolateDate:()=>NN,interpolateDiscrete:()=>Tte,interpolateGnBu:()=>sie,interpolateGreens:()=>_ie,interpolateGreys:()=>vie,interpolateHcl:()=>Lte,interpolateHclLong:()=>Vte,interpolateHsl:()=>Rte,interpolateHslLong:()=>Fte,interpolateHue:()=>Ate,interpolateInferno:()=>Oie,interpolateLab:()=>Pte,interpolateMagma:()=>Nie,interpolateNumber:()=>so,interpolateNumberArray:()=>gw,interpolateObject:()=>ON,interpolateOrRd:()=>aie,interpolateOranges:()=>wie,interpolatePRGn:()=>Zre,interpolatePiYG:()=>Xre,interpolatePlasma:()=>Rie,interpolatePuBu:()=>cie,interpolatePuBuGn:()=>lie,interpolatePuOr:()=>Qre,interpolatePuRd:()=>uie,interpolatePurples:()=>yie,interpolateRainbow:()=>Mie,interpolateRdBu:()=>Jre,interpolateRdGy:()=>eie,interpolateRdPu:()=>die,interpolateRdYlBu:()=>tie,interpolateRdYlGn:()=>nie,interpolateReds:()=>bie,interpolateRgb:()=>Hf,interpolateRgbBasis:()=>TN,interpolateRgbBasisClosed:()=>DK,interpolateRound:()=>RF,interpolateSinebow:()=>Tie,interpolateSpectral:()=>rie,interpolateString:()=>vw,interpolateTransformCss:()=>$N,interpolateTransformSvg:()=>GN,interpolateTurbo:()=>Aie,interpolateViridis:()=>kie,interpolateWarm:()=>Die,interpolateYlGn:()=>hie,interpolateYlGnBu:()=>fie,interpolateYlOrBr:()=>pie,interpolateYlOrRd:()=>gie,interpolateZoom:()=>LF,interrupt:()=>Ml,interval:()=>$oe,isoFormat:()=>Hoe,isoParse:()=>zoe,json:()=>FQ,keys:()=>fX,lab:()=>a_,lch:()=>_X,line:()=>kC,lineRadial:()=>$L,linkHorizontal:()=>toe,linkRadial:()=>roe,linkVertical:()=>noe,local:()=>LL,map:()=>Ma,matcher:()=>ow,max:()=>eN,mean:()=>Iq,median:()=>Tq,merge:()=>tw,min:()=>tN,mouse:()=>Dl,namespace:()=>Pf,namespaces:()=>aw,nest:()=>lX,now:()=>Du,pack:()=>hte,packEnclose:()=>yF,packSiblings:()=>ute,pairs:()=>yq,partition:()=>pte,path:()=>Il,permute:()=>Aq,pie:()=>Kie,piecewise:()=>Hte,pointRadial:()=>Rh,polygonArea:()=>Ute,polygonCentroid:()=>zte,polygonContains:()=>qte,polygonHull:()=>Wte,polygonLength:()=>Yte,precisionFixed:()=>JO,precisionPrefix:()=>eR,precisionRound:()=>tR,quadtree:()=>p_,quantile:()=>Rf,quantize:()=>jte,radialArea:()=>GL,radialLine:()=>$L,randomBates:()=>Xte,randomExponential:()=>Qte,randomIrwinHall:()=>zF,randomLogNormal:()=>Zte,randomNormal:()=>UF,randomUniform:()=>Kte,range:()=>qi,rgb:()=>Eu,ribbon:()=>aX,scaleBand:()=>lC,scaleDiverging:()=>aL,scaleDivergingLog:()=>lL,scaleDivergingPow:()=>MC,scaleDivergingSqrt:()=>Vre,scaleDivergingSymlog:()=>cL,scaleIdentity:()=>XF,scaleImplicit:()=>sC,scaleLinear:()=>ZF,scaleLog:()=>nP,scaleOrdinal:()=>aC,scalePoint:()=>Jte,scalePow:()=>pC,scaleQuantile:()=>aP,scaleQuantize:()=>lP,scaleSequential:()=>rL,scaleSequentialLog:()=>iL,scaleSequentialPow:()=>xC,scaleSequentialQuantile:()=>sL,scaleSequentialSqrt:()=>Lre,scaleSequentialSymlog:()=>oL,scaleSqrt:()=>une,scaleSymlog:()=>oP,scaleThreshold:()=>cP,scaleTime:()=>Nre,scaleUtc:()=>Pre,scan:()=>kq,schemeAccent:()=>Hre,schemeBlues:()=>kL,schemeBrBG:()=>uL,schemeBuGn:()=>yL,schemeBuPu:()=>bL,schemeCategory10:()=>Bre,schemeDark2:()=>jre,schemeGnBu:()=>wL,schemeGreens:()=>NL,schemeGreys:()=>OL,schemeOrRd:()=>EL,schemeOranges:()=>PL,schemePRGn:()=>dL,schemePaired:()=>Ure,schemePastel1:()=>zre,schemePastel2:()=>$re,schemePiYG:()=>fL,schemePuBu:()=>DL,schemePuBuGn:()=>CL,schemePuOr:()=>hL,schemePuRd:()=>xL,schemePurples:()=>RL,schemeRdBu:()=>pL,schemeRdGy:()=>gL,schemeRdPu:()=>ML,schemeRdYlBu:()=>mL,schemeRdYlGn:()=>_L,schemeReds:()=>FL,schemeSet1:()=>Gre,schemeSet2:()=>Wre,schemeSet3:()=>qre,schemeSpectral:()=>vL,schemeTableau10:()=>Yre,schemeYlGn:()=>IL,schemeYlGnBu:()=>SL,schemeYlOrBr:()=>TL,schemeYlOrRd:()=>AL,select:()=>nn,selectAll:()=>Ho,selection:()=>_u,selector:()=>Lm,selectorAll:()=>iw,set:()=>dX,shuffle:()=>Nq,stack:()=>Toe,stackOffsetDiverging:()=>koe,stackOffsetExpand:()=>Aoe,stackOffsetNone:()=>zu,stackOffsetSilhouette:()=>Noe,stackOffsetWiggle:()=>Ooe,stackOrderAppearance:()=>p3,stackOrderAscending:()=>g3,stackOrderDescending:()=>Foe,stackOrderInsideOut:()=>Poe,stackOrderNone:()=>$u,stackOrderReverse:()=>Loe,stratify:()=>vte,style:()=>El,sum:()=>Oq,svg:()=>VQ,symbol:()=>uoe,symbolCircle:()=>FC,symbolCross:()=>WL,symbolDiamond:()=>YL,symbolSquare:()=>XL,symbolStar:()=>ZL,symbolTriangle:()=>QL,symbolWye:()=>JL,symbols:()=>coe,text:()=>h_,thresholdFreedmanDiaconis:()=>Mq,thresholdScott:()=>Sq,thresholdSturges:()=>ew,tickFormat:()=>KF,tickIncrement:()=>Of,tickStep:()=>wl,ticks:()=>J1,timeDay:()=>hv,timeDays:()=>yne,timeFormat:()=>wC,timeFormatDefaultLocale:()=>KP,timeFormatLocale:()=>OP,timeFriday:()=>mP,timeFridays:()=>_ne,timeHour:()=>wP,timeHours:()=>bne,timeInterval:()=>Mr,timeMillisecond:()=>mv,timeMilliseconds:()=>MP,timeMinute:()=>CP,timeMinutes:()=>wne,timeMonday:()=>Ch,timeMondays:()=>hne,timeMonth:()=>dP,timeMonths:()=>fne,timeParse:()=>YP,timeSaturday:()=>_P,timeSaturdays:()=>vne,timeSecond:()=>pv,timeSeconds:()=>xP,timeSunday:()=>Eh,timeSundays:()=>vP,timeThursday:()=>Ul,timeThursdays:()=>mne,timeTuesday:()=>pP,timeTuesdays:()=>pne,timeWednesday:()=>gP,timeWednesdays:()=>gne,timeWeek:()=>Eh,timeWeeks:()=>vP,timeYear:()=>Bl,timeYears:()=>dne,timeout:()=>ww,timer:()=>Zm,timerFlush:()=>PN,touch:()=>Uf,touches:()=>Lie,transition:()=>Tw,transpose:()=>nN,tree:()=>Dte,treemap:()=>xte,treemapBinary:()=>Mte,treemapDice:()=>yh,treemapResquarify:()=>Ite,treemapSlice:()=>av,treemapSliceDice:()=>Ste,treemapSquarify:()=>OF,tsv:()=>NQ,tsvFormat:()=>qX,tsvFormatBody:()=>YX,tsvFormatRow:()=>ZX,tsvFormatRows:()=>KX,tsvFormatValue:()=>XX,tsvParse:()=>kO,tsvParseRows:()=>WX,utcDay:()=>_v,utcDays:()=>Ine,utcFormat:()=>vv,utcFriday:()=>TP,utcFridays:()=>Mne,utcHour:()=>eL,utcHours:()=>Rre,utcMillisecond:()=>mv,utcMilliseconds:()=>MP,utcMinute:()=>nL,utcMinutes:()=>Fre,utcMonday:()=>xh,utcMondays:()=>Ene,utcMonth:()=>QP,utcMonths:()=>Ore,utcParse:()=>EC,utcSaturday:()=>AP,utcSaturdays:()=>Sne,utcSecond:()=>pv,utcSeconds:()=>xP,utcSunday:()=>Dh,utcSundays:()=>kP,utcThursday:()=>$l,utcThursdays:()=>xne,utcTuesday:()=>SP,utcTuesdays:()=>Cne,utcWednesday:()=>IP,utcWednesdays:()=>Dne,utcWeek:()=>Dh,utcWeeks:()=>kP,utcYear:()=>Gl,utcYears:()=>Tne,values:()=>hX,variance:()=>X2,version:()=>mq,voronoi:()=>cse,window:()=>lw,xml:()=>PQ,zip:()=>Fq,zoom:()=>S3,zoomIdentity:()=>Yu,zoomTransform:()=>Fv});let R=null,B=!1,I=1;const N=Symbol("SIGNAL");function x(e){const t=R;return R=e,t}const ge={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pt(e){if((!me(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==I)){if(!e.producerMustRecompute(e)&&!Je(e))return e.dirty=!1,void(e.lastCleanEpoch=I);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=I}}function pe(e){e.dirty=!0,function Ie(e){if(void 0===e.liveConsumerNode)return;const t=B;B=!0;try{for(const n of e.liveConsumerNode)n.dirty||pe(n)}finally{B=t}}(e),e.consumerMarkedDirty?.(e)}function xe(e){return e&&(e.nextProducerIndex=0),x(e)}function Be(e,t){if(x(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(me(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)se(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Je(e){Se(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(pt(n),r!==n.version))return!0}return!1}function et(e){if(Se(e),me(e))for(let t=0;t<e.producerNode.length;t++)se(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function se(e,t){if(function Ae(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Se(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)se(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Se(i),i.producerIndexOfThis[r]=t}}function me(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Se(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let ec=null;const Ar=()=>{},Ji={...ge,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{null!==e.schedule&&e.schedule(e.ref)},hasRun:!1,cleanupFn:Ar};function er(e){return"function"==typeof e}let go=!1;const Hr={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else go&&console.log("RxJS: Back to a better error behavior. Thank you. <3");go=e},get useDeprecatedSynchronousErrorHandling(){return go}};function Vi(e){setTimeout(()=>{throw e},0)}const ti={closed:!0,next(e){},error(e){if(Hr.useDeprecatedSynchronousErrorHandling)throw e;Vi(e)},complete(){}},oa=Array.isArray||(e=>e&&"number"==typeof e.length);function As(e){return null!==e&&"object"==typeof e}const zo=(()=>{function e(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return e.prototype=Object.create(Error.prototype),e})();class Jt{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof Jt)n.remove(this);else if(null!==n)for(let s=0;s<n.length;++s)n[s].remove(this);if(er(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){t=s instanceof zo?nc(s.errors):[s]}}if(oa(o)){let s=-1,a=o.length;for(;++s<a;){const l=o[s];if(As(l))try{l.unsubscribe()}catch(c){t=t||[],c instanceof zo?t=t.concat(nc(c.errors)):t.push(c)}}}if(t)throw new zo(t)}add(t){let n=t;if(!t)return Jt.EMPTY;switch(typeof t){case"function":n=new Jt(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof Jt)){const o=n;n=new Jt,n._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof Jt){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const n=this._subscriptions;if(n){const r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}var e;function nc(e){return e.reduce((t,n)=>t.concat(n instanceof zo?n.errors:n),[])}Jt.EMPTY=((e=new Jt).closed=!0,e);const $o="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Un extends Jt{constructor(t,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ti;break;case 1:if(!t){this.destination=ti;break}if("object"==typeof t){t instanceof Un?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new Go(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new Go(this,t,n,r)}}[$o](){return this}static create(t,n,r){const i=new Un(t,n,r);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class Go extends Un{constructor(t,n,r,i){super(),this._parentSubscriber=t;let o,s=this;er(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==ti&&(s=Object.create(n),er(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=r,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;Hr.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=Hr;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=t,n.syncErrorThrown=!0):Vi(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;Vi(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const n=()=>this._complete.call(this._context);Hr.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,n){try{t.call(this._context,n)}catch(r){if(this.unsubscribe(),Hr.useDeprecatedSynchronousErrorHandling)throw r;Vi(r)}}__tryOrSetError(t,n,r){if(!Hr.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return Hr.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Vi(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Di="function"==typeof Symbol&&Symbol.observable||"@@observable";function _t(e){return e}let $n=(()=>{class e{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:o}=this,s=function Qu(e,t,n){if(e){if(e instanceof Un)return e;if(e[$o])return e[$o]()}return e||t||n?new Un(e,t,n):new Un(ti)}(n,r,i);if(s.add(o?o.call(s,this.source):this.source||Hr.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Hr.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){Hr.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function rc(e){for(;e;){const{closed:t,destination:n,isStopped:r}=e;if(t||r)return!1;e=n&&n instanceof Un?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=tt(r))((i,o)=>{let s;s=this.subscribe(a=>{try{n(a)}catch(l){o(l),s&&s.unsubscribe()}},o,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[Di](){return this}pipe(...n){return 0===n.length?this:function Wo(e){return 0===e.length?_t:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=tt(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function tt(e){if(e||(e=Hr.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const qo=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class oc extends Jt{constructor(t,n){super(),this.subject=t,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,n=t.observers;if(this.subject=null,!n||0===n.length||t.isStopped||t.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class ap extends Un{constructor(t){super(t),this.destination=t}}let _n=(()=>{class e extends $n{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[$o](){return new ap(this)}lift(n){const r=new lp(this,this);return r.operator=n,r}next(n){if(this.closed)throw new qo;if(!this.isStopped){const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].next(n)}}error(n){if(this.closed)throw new qo;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,o=r.slice();for(let s=0;s<i;s++)o[s].error(n);this.observers.length=0}complete(){if(this.closed)throw new qo;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let o=0;o<r;o++)i[o].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new qo;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new qo;return this.hasError?(n.error(this.thrownError),Jt.EMPTY):this.isStopped?(n.complete(),Jt.EMPTY):(this.observers.push(n),new oc(this,n))}asObservable(){const n=new $n;return n.source=this,n}}return e.create=(t,n)=>new lp(t,n),e})();class lp extends _n{constructor(t,n){super(),this.destination=t,this.source=n}next(t){const{destination:n}=this;n&&n.next&&n.next(t)}error(t){const{destination:n}=this;n&&n.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:n}=this;return n?this.source.subscribe(t):Jt.EMPTY}}class _y extends _n{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return n&&!n.closed&&t.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qo;return this._value}next(t){super.next(this._value=t)}}function xi(e,t){return function(r){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new sa(e,t))}}class sa{constructor(t,n){this.project=t,this.thisArg=n}call(t,n){return n.subscribe(new Ju(t,this.project,this.thisArg))}}class Ju extends Un{constructor(t,n,r){super(t),this.project=n,this.count=0,this.thisArg=r||this}_next(t){let n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}class Me extends Error{constructor(t,n){super(function aa(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function jr(e){return{toString:e}.toString()}const _o="__parameters__";function Mi(e,t,n){return jr(()=>{const r=function sc(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(_o)?l[_o]:Object.defineProperty(l,_o,{value:[]})[_o];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const fn=globalThis;function Yt(e){for(let t in e)if(e[t]===Yt)return t;throw Error("Could not find renamed property on target object.")}function cp(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Fn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Fn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ua(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const nd=Yt({__forward_ref__:Yt});function rn(e){return e.__forward_ref__=rn,e.toString=function(){return Fn(this())},e}function It(e){return Ns(e)?e():e}function Ns(e){return"function"==typeof e&&e.hasOwnProperty(nd)&&e.__forward_ref__===rn}function ot(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ar(e){return{providers:e.providers||[],imports:e.imports||[]}}function Nr(e){return Wa(e,Ya)||Wa(e,Bi)}function Wa(e,t){return e.hasOwnProperty(t)?e[t]:null}function qa(e){return e&&(e.hasOwnProperty(nr)||e.hasOwnProperty(Ka))?e[nr]:null}const Ya=Yt({\u0275prov:Yt}),nr=Yt({\u0275inj:Yt}),Bi=Yt({ngInjectableDef:Yt}),Ka=Yt({ngInjectorDef:Yt});class st{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ot({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function od(e){return e&&!!e.\u0275providers}const bo=Yt({\u0275cmp:Yt}),sd=Yt({\u0275dir:Yt}),ad=Yt({\u0275pipe:Yt}),Xa=Yt({\u0275mod:Yt}),Ii=Yt({\u0275fac:Yt}),Os=Yt({__NG_ELEMENT_ID__:Yt}),mp=Yt({__NG_ENV_ID__:Yt});function Pt(e){return"string"==typeof e?e:null==e?"":String(e)}function da(e,t){throw new Me(-201,!1)}var Zt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Zt||{});let ud;function Qa(){return ud}function Or(e){const t=ud;return ud=e,t}function pc(e,t,n){const r=Nr(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Zt.Optional?null:void 0!==t?t:void da()}const rr={},Rs="__NG_DI_FLAG__",Zo="ngTempTokenPath",gc=/\n/gm,dd="__source";let wo;function zr(e){const t=wo;return wo=e,t}function hd(e,t=Zt.Default){if(void 0===wo)throw new Me(-203,!1);return null===wo?pc(e,void 0,t):wo.get(e,t&Zt.Optional?null:void 0,t)}function Fe(e,t=Zt.Default){return(Qa()||hd)(It(e),t)}function xt(e,t=Zt.Default){return Fe(e,el(t))}function el(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function pd(e){const t=[];for(let n=0;n<e.length;n++){const r=It(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Me(900,!1);let i,o=Zt.Default;for(let s=0;s<r.length;s++){const a=r[s],l=mc(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}t.push(Fe(i,o))}else t.push(Fe(r))}return t}function Fs(e,t){return e[Rs]=t,e.prototype[Rs]=t,e}function mc(e){return e[Rs]}const _d=Fs(Mi("Optional"),8),vd=Fs(Mi("SkipSelf"),4);function Xo(e,t){return e.hasOwnProperty(Ii)?e[Ii]:null}function Qo(e,t){e.forEach(n=>Array.isArray(n)?Qo(n,t):t(n))}function yd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function tl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function on(e,t,n){let r=br(e,t);return r>=0?e[1|r]=n:(r=~r,function nl(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function fa(e,t){const n=br(e,t);if(n>=0)return e[1|n]}function br(e,t){return function vc(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Hi={},zt=[],es=new st(""),Ps=new st("",-1),to=new st("");class rl{get(t,n=rr){if(n===rr){const r=new Error(`NullInjectorError: No provider for ${Fn(t)}!`);throw r.name="NullInjectorError",r}return n}}var f=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(f||{}),p=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(p||{}),m=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(m||{});function b(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function E(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];A(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function M(e){return 3===e||4===e||6===e}function A(e){return 64===e.charCodeAt(0)}function O(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||$(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function $(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const q="ng-template";function X(e,t,n,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==b(t[i+1].toLowerCase(),n,0))return!0}else if(P(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&"string"==typeof(o=t[i]);)if(o.toLowerCase()===n)return!0}return!1}function P(e){return 4===e.type&&e.value!==q}function te(e,t,n){return t===(4!==e.type||n?e.value:q)}function G(e,t,n){let r=4;const i=e.attrs,o=null!==i?function ce(e){for(let t=0;t<e.length;t++)if(M(e[t]))return t;return e.length}(i):0;let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!te(e,l,n)||""===l&&1===t.length){if(Y(r))return!1;s=!0}}else if(8&r){if(null===i||!X(e,i,l,n)){if(Y(r))return!1;s=!0}}else{const c=t[++a],u=Q(l,i,P(e),n);if(-1===u){if(Y(r))return!1;s=!0;continue}if(""!==c){let d;if(d=u>o?"":i[u+1].toLowerCase(),2&r&&c!==d){if(Y(r))return!1;s=!0}}}}else{if(!s&&!Y(r)&&!Y(l))return!1;if(s&&Y(l))continue;s=!1,r=l|1&r}}return Y(r)||s}function Y(e){return!(1&e)}function Q(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function ue(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Z(e,t,n=!1){for(let r=0;r<t.length;r++)if(G(e,t[r],n))return!0;return!1}function Ce(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function He(e,t){return e?":not("+t.trim()+")":t}function Ze(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Y(s)&&(t+=He(o,i),i=""),r=s,o=o||!Y(r);n++}return""!==i&&(t+=He(o,i)),t}function $e(e){return jr(()=>{const t=ts(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===f.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||p.Emulated,styles:e.styles||zt,_:null,schemas:e.schemas||null,tView:null,id:""};yc(n);const r=e.dependencies;return n.directiveDefs=xp(r,!1),n.pipeDefs=xp(r,!0),n.id=function f4(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Ke(e){return Xe(e)||tn(e)}function lt(e){return null!==e}function vt(e){return jr(()=>({type:e.type,bootstrap:e.bootstrap||zt,declarations:e.declarations||zt,imports:e.imports||zt,exports:e.exports||zt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $t(e,t){if(null==e)return Hi;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let o,s,a=m.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=a!==m.None?[r,a]:r,t[o]=s):n[o]=r}return n}function Le(e){return jr(()=>{const t=ts(e);return yc(t),t})}function Xe(e){return e[bo]||null}function tn(e){return e[sd]||null}function hn(e){return e[ad]||null}function ts(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Hi,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||zt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$t(e.inputs,t),outputs:$t(e.outputs),debugInfo:null}}function yc(e){e.features?.forEach(t=>t(e))}function xp(e,t){if(!e)return null;const n=t?hn:Ke;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(lt)}function h4(...e){return{\u0275providers:xy(0,e),\u0275fromNgModule:!0}}function xy(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Qo(t,s=>{const a=s;Sp(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&XD(i,o),n}function XD(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];My(i,o=>{t(o,r)})}}function Sp(e,t,n,r){if(!(e=It(e)))return!1;let i=null,o=qa(e);const s=!o&&Xe(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=qa(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Sp(c,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Qo(o.imports,u=>{Sp(u,t,n,r)&&(c||=[],c.push(u))})}finally{}void 0!==c&&XD(c,t)}if(!a){const c=Xo(i)||(()=>new i);t({provide:i,useFactory:c,deps:zt},i),t({provide:to,useValue:i,multi:!0},i),t({provide:es,useValue:()=>Fe(i),multi:!0},i)}const l=o.providers;if(null!=l&&!a){const c=e;My(l,u=>{t(u,c)})}}}return i!==e&&void 0!==e.providers}function My(e,t){for(let n of e)od(n)&&(n=n.\u0275providers),Array.isArray(n)?My(n,t):t(n)}const p4=Yt({provide:String,useValue:Yt});function Sy(e){return null!==e&&"object"==typeof e&&p4 in e}function il(e){return"function"==typeof e}const Iy=new st(""),Ip={},m4={};let Ty;function Tp(){return void 0===Ty&&(Ty=new rl),Ty}class ns{}class bc extends ns{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ky(t,s=>this.processProvider(s)),this.records.set(Ps,wc(void 0,this)),i.has("environment")&&this.records.set(ns,wc(void 0,this));const o=this.records.get(Iy);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(to,zt,Zt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=x(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),x(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=zr(this),r=Or(void 0);try{return t()}finally{zr(n),Or(r)}}get(t,n=rr,r=Zt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(mp))return t[mp](this);r=el(r);const o=zr(this),s=Or(void 0);try{if(!(r&Zt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function w4(e){return"function"==typeof e||"object"==typeof e&&e instanceof st}(t)&&Nr(t);l=c&&this.injectableDefInScope(c)?wc(Ay(t),Ip):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(r&Zt.Self?Tp():this.parent).get(t,n=r&Zt.Optional&&n===rr?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Zo]=a[Zo]||[]).unshift(Fn(t)),o)throw a;return function Cy(e,t,n,r){const i=e[Zo];throw t[dd]&&i.unshift(t[dd]),e.message=function gd(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Fn(t);if(Array.isArray(t))i=t.map(Fn).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Fn(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(gc,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Zo]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Or(s),zr(o)}}resolveInjectorInitializers(){const t=x(null),n=zr(this),r=Or(void 0);try{const o=this.get(es,zt,Zt.Self);for(const s of o)s()}finally{zr(n),Or(r),x(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Fn(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(t){let n=il(t=It(t))?t:It(t&&t.provide);const r=function v4(e){return Sy(e)?wc(void 0,e.useValue):wc(ex(e),Ip)}(t);if(!il(t)&&!0===t.multi){let i=this.records.get(n);i||(i=wc(void 0,Ip,!0),i.factory=()=>pd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=x(null);try{return n.value===Ip&&(n.value=m4,n.value=n.factory()),"object"==typeof n.value&&n.value&&function b4(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{x(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=It(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Ay(e){const t=Nr(e),n=null!==t?t.factory:Xo(e);if(null!==n)return n;if(e instanceof st)throw new Me(204,!1);if(e instanceof Function)return function _4(e){if(e.length>0)throw new Me(204,!1);const n=function Ko(e){return e&&(e[Ya]||e[Bi])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Me(204,!1)}function ex(e,t,n){let r;if(il(e)){const i=It(e);return Xo(i)||Ay(i)}if(Sy(e))r=()=>It(e.useValue);else if(function JD(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...pd(e.deps||[]));else if(function QD(e){return!(!e||!e.useExisting)}(e))r=()=>Fe(It(e.useExisting));else{const i=It(e&&(e.useClass||e.provide));if(!function y4(e){return!!e.deps}(e))return Xo(i)||Ay(i);r=()=>new i(...pd(e.deps))}return r}function wc(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ky(e,t){for(const n of e)Array.isArray(n)?ky(n,t):n&&od(n)?ky(n.\u0275providers,t):t(n)}function nx(){return void 0!==Qa()||null!=function fd(){return wo}()}const Gn=0,We=1,Ct=2,lr=3,Eo=4,$r=5,ji=6,Cc=7,Ln=8,gr=9,Co=10,Nt=11,Ed=12,ix=13,Dc=14,Yn=15,Cd=16,xc=17,Ls=18,Dd=19,ox=20,ha=21,Np=22,ol=23,Bt=25,Oy=1,rs=7,Mc=9,cr=10;var Ry=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Ry||{});function Gr(e){return Array.isArray(e)&&"object"==typeof e[Oy]}function Wr(e){return Array.isArray(e)&&!0===e[Oy]}function Fy(e){return!!(4&e.flags)}function sl(e){return e.componentOffset>-1}function Rp(e){return!(1&~e.flags)}function Do(e){return!!e.template}function Py(e){return!!(512&e[Ct])}class R4{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function cx(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function ri(){return ux}function ux(e){return e.type.prototype.ngOnChanges&&(e.setInput=P4),F4}function F4(){const e=fx(this),t=e?.current;if(t){const n=e.previous;if(n===Hi)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function P4(e,t,n,r,i){const o=this.declaredInputs[r],s=fx(e)||function L4(e,t){return e[dx]=t}(e,{previous:Hi,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new R4(c&&c.currentValue,n,l===Hi),cx(e,t,i,n)}ri.ngInherit=!0;const dx="__ngSimpleChanges__";function fx(e){return e[dx]||null}const is=function(e,t,n){};let gx=!1;function Tn(e){for(;Array.isArray(e);)e=e[Gn];return e}function Md(e,t){return Tn(t[e])}function ii(e,t){return Tn(t[e.index])}function Sd(e,t){return e.data[t]}function Ui(e,t){const n=t[e];return Gr(n)?n:n[Gn]}function jy(e){return!(128&~e[Ct])}function os(e,t){return null==t?null:e[t]}function mx(e){e[xc]=0}function z4(e){1024&e[Ct]||(e[Ct]|=1024,jy(e)&&Id(e))}function Uy(e){return!!(9216&e[Ct]||e[ol]?.dirty)}function zy(e){e[Co].changeDetectionScheduler?.notify(1),Uy(e)?Id(e):64&e[Ct]&&(function B4(){return gx}()?(e[Ct]|=1024,Id(e)):e[Co].changeDetectionScheduler?.notify())}function Id(e){e[Co].changeDetectionScheduler?.notify();let t=al(e);for(;null!==t&&!(8192&t[Ct])&&(t[Ct]|=8192,jy(t));)t=al(t)}function Fp(e,t){if(!(256&~e[Ct]))throw new Me(911,!1);null===e[ha]&&(e[ha]=[]),e[ha].push(t)}function al(e){const t=e[lr];return Wr(t)?t[lr]:t}const Ot={lFrame:Mx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yx(){return Ot.bindingsEnabled}function Ic(){return null!==Ot.skipHydrationRootTNode}function _e(){return Ot.lFrame.lView}function Qt(){return Ot.lFrame.tView}function rt(e){return Ot.lFrame.contextLView=e,e[Ln]}function it(e){return Ot.lFrame.contextLView=null,e}function Mn(){let e=bx();for(;null!==e&&64===e.type;)e=e.parent;return e}function bx(){return Ot.lFrame.currentTNode}function ss(e,t){const n=Ot.lFrame;n.currentTNode=e,n.isParent=t}function Gy(){return Ot.lFrame.isParent}function Wy(){Ot.lFrame.isParent=!1}function oi(){const e=Ot.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function xo(){return Ot.lFrame.bindingIndex++}function Bs(e){const t=Ot.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function eV(e,t){const n=Ot.lFrame;n.bindingIndex=n.bindingRootIndex=e,qy(t)}function qy(e){Ot.lFrame.currentDirectiveIndex=e}function Ky(){return Ot.lFrame.currentQueryIndex}function Pp(e){Ot.lFrame.currentQueryIndex=e}function nV(e){const t=e[We];return 2===t.type?t.declTNode:1===t.type?e[$r]:null}function Dx(e,t,n){if(n&Zt.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Zt.Host||(i=nV(o),null===i||(o=o[Dc],10&i.type))););if(null===i)return!1;t=i,e=o}const r=Ot.lFrame=xx();return r.currentTNode=t,r.lView=e,!0}function Zy(e){const t=xx(),n=e[We];Ot.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function xx(){const e=Ot.lFrame,t=null===e?null:e.child;return null===t?Mx(e):t}function Mx(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Sx(){const e=Ot.lFrame;return Ot.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ix=Sx;function Xy(){const e=Sx();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function qr(){return Ot.lFrame.selectedIndex}function ll(e){Ot.lFrame.selectedIndex=e}function Vn(){const e=Ot.lFrame;return Sd(e.tView,e.selectedIndex)}let kx=!0;function Ad(){return kx}function as(e){kx=e}function Lp(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function Vp(e,t,n){Nx(e,t,3,n)}function Bp(e,t,n,r){(3&e[Ct])===n&&Nx(e,t,n,r)}function Qy(e,t){let n=e[Ct];(3&n)===t&&(n&=16383,n+=1,e[Ct]=n)}function Nx(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let l=void 0!==r?65535&e[xc]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=r&&a>=r)break}else t[l]<0&&(e[xc]+=65536),(a<o||-1==o)&&(lV(e,n,t,l),e[xc]=(4294901760&e[xc])+l+2),l++}function Ox(e,t){is(4,e,t);const n=x(null);try{t.call(e)}finally{x(n),is(5,e,t)}}function lV(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[Ct]>>14<e[xc]>>16&&(3&e[Ct])===t&&(e[Ct]+=16384,Ox(a,o)):Ox(a,o)}const Tc=-1;class kd{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function e0(e){return e!==Tc}function Nd(e){return 32767&e}function Od(e,t){let n=function hV(e){return e>>16}(e),r=t;for(;n>0;)r=r[Dc],n--;return r}let t0=!0;function Hp(e){const t=t0;return t0=e,t}const Rx=255,Fx=5;let pV=0;const ls={};function jp(e,t){const n=Px(e,t);if(-1!==n)return n;const r=t[We];r.firstCreatePass&&(e.injectorIndex=t.length,n0(r.data,e),n0(t,null),n0(r.blueprint,null));const i=Up(e,t),o=e.injectorIndex;if(e0(i)){const s=Nd(i),a=Od(i,t),l=a[We].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function n0(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Px(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Up(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=zx(i),null===r)return Tc;if(n++,i=i[Dc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Tc}function r0(e,t,n){!function gV(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Os)&&(r=n[Os]),null==r&&(r=n[Os]=pV++);const i=r&Rx;t.data[e+(i>>Fx)]|=1<<i}(e,t,n)}function Lx(e,t,n){if(n&Zt.Optional||void 0!==e)return e;da()}function Vx(e,t,n,r){if(n&Zt.Optional&&void 0===r&&(r=null),!(n&(Zt.Self|Zt.Host))){const i=e[gr],o=Or(void 0);try{return i?i.get(t,r,n&Zt.Optional):pc(t,r,n&Zt.Optional)}finally{Or(o)}}return Lx(r,0,n)}function Bx(e,t,n,r=Zt.Default,i){if(null!==e){if(2048&t[Ct]&&!(r&Zt.Self)){const s=function bV(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[Ct]&&!(512&s[Ct]);){const a=Hx(o,s,n,r|Zt.Self,ls);if(a!==ls)return a;let l=o.parent;if(!l){const c=s[ox];if(c){const u=c.get(n,ls,r);if(u!==ls)return u}l=zx(s),s=s[Dc]}o=l}return i}(e,t,n,r,ls);if(s!==ls)return s}const o=Hx(e,t,n,r,ls);if(o!==ls)return o}return Vx(t,n,r,i)}function Hx(e,t,n,r,i){const o=function vV(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Os)?e[Os]:void 0;return"number"==typeof t?t>=0?t&Rx:yV:t}(n);if("function"==typeof o){if(!Dx(t,e,r))return r&Zt.Host?Lx(i,0,r):Vx(t,n,r,i);try{let s;if(s=o(r),null!=s||r&Zt.Optional)return s;da()}finally{Ix()}}else if("number"==typeof o){let s=null,a=Px(e,t),l=Tc,c=r&Zt.Host?t[Yn][$r]:null;for((-1===a||r&Zt.SkipSelf)&&(l=-1===a?Up(e,t):t[a+8],l!==Tc&&Ux(r,!1)?(s=t[We],a=Nd(l),t=Od(l,t)):a=-1);-1!==a;){const u=t[We];if(jx(o,a,u.data)){const d=_V(a,t,n,s,r,c);if(d!==ls)return d}l=t[a+8],l!==Tc&&Ux(r,t[We].data[a+8]===c)&&jx(o,a,t)?(s=u,a=Nd(l),t=Od(l,t)):a=-1}}return i}function _V(e,t,n,r,i,o){const s=t[We],a=s.data[e+8],u=zp(a,s,n,null==r?sl(a)&&t0:r!=s&&!!(3&a.type),i&Zt.Host&&o===a);return null!==u?cl(t,s,u,a):ls}function zp(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,u=o>>20,h=i?a+u:e.directiveEnd;for(let g=r?a:a+u;g<h;g++){const _=s[g];if(g<l&&n===_||g>=l&&_.type===n)return g}if(i){const g=s[l];if(g&&Do(g)&&g.type===n)return l}return null}function cl(e,t,n,r){let i=e[n];const o=t.data;if(function cV(e){return e instanceof kd}(i)){const s=i;s.resolving&&function vp(e,t){throw t&&t.join(" > "),new Me(-200,e)}(function mn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Pt(e)}(o[n]));const a=Hp(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?Or(s.injectImpl):null;Dx(e,r,Zt.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function aV(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=ux(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==c&&Or(c),Hp(a),s.resolving=!1,Ix()}}return i}function jx(e,t,n){return!!(n[t+(e>>Fx)]&1<<e)}function Ux(e,t){return!(e&Zt.Self||e&Zt.Host&&t)}class Er{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Bx(this._tNode,this._lView,t,el(r),n)}}function yV(){return new Er(Mn(),_e())}function Yr(e){return jr(()=>{const t=e.prototype.constructor,n=t[Ii]||o0(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Ii]||o0(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function o0(e){return Ns(e)?()=>{const t=o0(It(e));return t&&t()}:Xo(e)}function zx(e){const t=e[We],n=t.type;return 2===n?t.declTNode:1===n?e[$r]:null}function Nc(e){return function mV(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(M(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(Mn(),e)}function Yx(e,t=null,n=null,r){const i=Kx(e,t,n,r);return i.resolveInjectorInitializers(),i}function Kx(e,t=null,n=null,r,i=new Set){const o=[n||zt,h4(e)];return r=r||("object"==typeof e?void 0:Fn(e)),new bc(o,t||Tp(),r||null,i)}let Rr=(()=>{class e{static{this.THROW_IF_NOT_FOUND=rr}static{this.NULL=new rl}static create(n,r){if(Array.isArray(n))return Yx({name:""},r,n,"");{const i=n.name??"";return Yx({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=ot({token:e,providedIn:"any",factory:()=>Fe(Ps)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function a0(e){return e.ngOriginalError}class cs{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&a0(t);for(;n&&a0(n);)n=a0(n);return n||null}}const Xx=new st("",{providedIn:"root",factory:()=>xt(cs).handleError.bind(void 0)});let Oc=(()=>{class e{static{this.__NG_ELEMENT_ID__=TV}static{this.__NG_ENV_ID__=n=>n}}return e})();class IV extends Oc{constructor(t){super(),this._lView=t}onDestroy(t){return Fp(this._lView,t),()=>function $y(e,t){if(null===e[ha])return;const n=e[ha].indexOf(t);-1!==n&&e[ha].splice(n,1)}(this._lView,t)}}function TV(){return new IV(_e())}function AV(){return Rc(Mn(),_e())}function Rc(e,t){return new Sn(ii(e,t))}let Sn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=AV}}return e})();function Jx(e){return e instanceof Sn?e.nativeElement:e}function l0(e){return t=>{setTimeout(e,void 0,t)}}const yt=class kV extends _n{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,nx()&&(this.destroyRef=xt(Oc,{optional:!0})??void 0)}emit(t){const n=x(null);try{super.next(t)}finally{x(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=l0(o),i&&(i=l0(i)),s&&(s=l0(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Jt&&t.add(a),a}};function NV(){return this._results[Symbol.iterator]()}class Fc{get changes(){return this._changes??=new yt}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Fc.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=NV)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function Lr(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Dy(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Gp(e){return!(128&~e.flags)}const c0=new Map;let RV=0;const d0="__ngContext__";function Kr(e,t){Gr(t)?(e[d0]=t[Dd],function PV(e){c0.set(e[Dd],e)}(t)):e[d0]=t}function cM(e){return dM(e[Ed])}function uM(e){return dM(e[Eo])}function dM(e){for(;null!==e&&!Wr(e);)e=e[Eo];return e}let f0;const Yp=new st("",{providedIn:"root",factory:()=>e6}),e6="ng",yM=new st(""),Hs=new st("",{providedIn:"platform",factory:()=>"unknown"}),t6=new st(""),bM=new st("",{providedIn:"root",factory:()=>function pa(){if(void 0!==f0)return f0;if(typeof document<"u")return document;throw new Me(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let wM=()=>null;function b0(e,t,n=!1){return wM(e,t,n)}const MM=new st("",{providedIn:"root",factory:()=>!1});class kM{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ga(e){return e instanceof kM?e.changingThisBreaksApplicationSecurity:e}const j6=/^>|^->|<!--|-->|--!>|<!-$/g,U6=/(<|>)/g,z6="\u200b$1\u200b";function Mo(e){return e.ownerDocument.defaultView}function O0(e){return e.ownerDocument}var ma=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ma||{});let R0;function F0(e,t){return R0(e,t)}function jc(e,t,n,r,i){if(null!=r){let o,s=!1;Wr(r)?o=r:Gr(r)&&(s=!0,r=r[Gn]);const a=Tn(r);0===e&&null!==n?null==i?JM(t,n,a):ul(t,n,a,i||null,!0):1===e&&null!==n?ul(t,n,a,i||null,!0):2===e?function Gd(e,t,n){const r=lg(e,t);r&&function sB(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function cB(e,t,n,r,i){const o=n[rs];o!==Tn(n)&&jc(t,e,r,o,i);for(let a=cr;a<n.length;a++){const l=n[a];ug(l[We],l,e,t,r,o)}}(t,e,o,n,i)}}function L0(e,t){return e.createComment(function UM(e){return e.replace(j6,t=>t.replace(U6,z6))}(t))}function sg(e,t,n){return e.createElement(t,n)}function ZM(e,t){t[Co].changeDetectionScheduler?.notify(1),ug(e,t,t[Nt],2,null,null)}function XM(e,t){const n=e[Mc],r=n.indexOf(t);n.splice(r,1)}function zd(e,t){if(e.length<=cr)return;const n=cr+t,r=e[n];if(r){const i=r[Cd];null!==i&&i!==e&&XM(i,r),t>0&&(e[n-1][Eo]=r[Eo]);const o=tl(e,cr+t);!function J6(e,t){ZM(e,t),t[Gn]=null,t[$r]=null}(r[We],r);const s=o[Ls];null!==s&&s.detachView(o[We]),r[lr]=null,r[Eo]=null,r[Ct]&=-129}return r}function ag(e,t){if(!(256&t[Ct])){const n=t[Nt];n.destroyNode&&ug(e,t,n,3,null,null),function tB(e){let t=e[Ed];if(!t)return V0(e[We],e);for(;t;){let n=null;if(Gr(t))n=t[Ed];else{const r=t[cr];r&&(n=r)}if(!n){for(;t&&!t[Eo]&&t!==e;)Gr(t)&&V0(t[We],t),t=t[lr];null===t&&(t=e),Gr(t)&&V0(t[We],t),n=t&&t[Eo]}t=n}}(t)}}function V0(e,t){if(256&t[Ct])return;const n=x(null);try{t[Ct]&=-129,t[Ct]|=256,t[ol]&&et(t[ol]),function oB(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof kd)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];is(4,a,l);try{l.call(a)}finally{is(5,a,l)}}else{is(4,i,o);try{o.call(i)}finally{is(5,i,o)}}}}}(e,t),function iB(e,t){const n=e.cleanup,r=t[Cc];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[Cc]=null);const i=t[ha];if(null!==i){t[ha]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[We].type&&t[Nt].destroy();const r=t[Cd];if(null!==r&&Wr(t[lr])){r!==t[lr]&&XM(r,t);const i=t[Ls];null!==i&&i.detachView(e)}!function LV(e){c0.delete(e[Dd])}(t)}finally{x(n)}}function B0(e,t,n){return function QM(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Gn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===p.None||o===p.Emulated)return null}return ii(r,n)}}(e,t.parent,n)}function ul(e,t,n,r,i){e.insertBefore(t,n,r,i)}function JM(e,t,n){e.appendChild(t,n)}function eS(e,t,n,r,i){null!==r?ul(e,t,n,r,i):JM(e,t,n)}function lg(e,t){return e.parentNode(t)}function tS(e,t,n){return rS(e,t,n)}let H0,rS=function nS(e,t,n){return 40&e.type?ii(e,n):null};function cg(e,t,n,r){const i=B0(e,r,t),o=t[Nt],a=tS(r.parent||t[$r],r,t);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)eS(o,i,n[l],a,!1);else eS(o,i,n,a,!1);void 0!==H0&&H0(o,r,t,n,i)}function $d(e,t){if(null!==t){const n=t.type;if(3&n)return ii(t,e);if(4&n)return j0(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return $d(e,r);{const i=e[t.index];return Wr(i)?j0(-1,i):Tn(i)}}if(32&n)return F0(t,e)()||Tn(e[t.index]);{const r=oS(e,t);return null!==r?Array.isArray(r)?r[0]:$d(al(e[Yn]),r):$d(e,t.next)}}return null}function oS(e,t){return null!==t?e[Yn][$r].projection[t.projection]:null}function j0(e,t){const n=cr+e+1;if(n<t.length){const r=t[n],i=r[We].firstChild;if(null!==i)return $d(r,i)}return t[rs]}function U0(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===t&&(a&&Kr(Tn(a),r),n.flags|=2),32&~n.flags)if(8&l)U0(e,t,n.child,r,i,o,!1),jc(t,e,i,a,o);else if(32&l){const c=F0(n,r);let u;for(;u=c();)jc(t,e,i,u,o);jc(t,e,i,a,o)}else 16&l?aS(e,t,r,n,i,o):jc(t,e,i,a,o);n=s?n.projectionNext:n.next}}function ug(e,t,n,r,i,o){U0(n,r,e.firstChild,t,i,o,!1)}function aS(e,t,n,r,i,o){const s=n[Yn],l=s[$r].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)jc(t,e,i,l[c],o);else{let c=l;const u=s[lr];Gp(r)&&(c.flags|=128),U0(e,t,c,u,i,o,!0)}}function lS(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function cS(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&E(e,t,r),null!==i&&lS(e,t,i),null!==o&&function dB(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}const jt={};function ke(e=1){uS(Qt(),_e(),qr()+e,!1)}function uS(e,t,n,r){if(!r)if(3&~t[Ct]){const o=e.preOrderHooks;null!==o&&Bp(t,o,0,n)}else{const o=e.preOrderCheckHooks;null!==o&&Vp(t,o,n)}ll(n)}function ve(e,t=Zt.Default){const n=_e();return null===n?Fe(e,t):Bx(Mn(),n,It(e),t)}function dS(e,t,n,r,i,o){const s=x(null);try{let a=null;i&m.SignalBased&&(a=t[r][N]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),i&m.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),null!==e.setInput?e.setInput(t,a,o,n,r):cx(t,a,r,o)}finally{x(s)}}function dg(e,t,n,r,i,o,s,a,l,c,u){const d=t.blueprint.slice();return d[Gn]=i,d[Ct]=204|r,(null!==c||e&&2048&e[Ct])&&(d[Ct]|=2048),mx(d),d[lr]=d[Dc]=e,d[Ln]=n,d[Co]=s||e&&e[Co],d[Nt]=a||e&&e[Nt],d[gr]=l||e&&e[gr]||null,d[$r]=o,d[Dd]=function FV(){return RV++}(),d[ji]=u,d[ox]=c,d[Yn]=2==t.type?e[Yn]:d,d}function Uc(e,t,n,r,i){let o=e.data[t];if(null===o)o=function z0(e,t,n,r,i){const o=bx(),s=Gy(),l=e.data[t]=function bB(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return Ic()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,t,n,r,i),function J4(){return Ot.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Td(){const e=Ot.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ss(o,!0),o}function Wd(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function fS(e,t,n,r,i){const o=qr(),s=2&r;try{ll(-1),s&&t.length>Bt&&uS(e,t,Bt,!1),is(s?2:0,i),n(r,i)}finally{ll(o),is(s?3:1,i)}}function $0(e,t,n){if(Fy(t)){const r=x(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{x(r)}}}function G0(e,t,n){yx()&&(function SB(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;sl(n)&&function RB(e,t,n){const r=ii(t,e),i=hS(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=fg(e,dg(e,i,null,s,r,t,null,e[Co].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||jp(n,t),Kr(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],c=cl(t,e,a,n);Kr(c,t),null!==s&&FB(0,a-i,c,l,0,s),Do(l)&&(Ui(n.index,t)[Ln]=cl(t,e,a,n))}}(e,t,n,ii(n,t)),!(64&~n.flags)&&vS(e,t,n))}function W0(e,t,n=ii){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function hS(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=q0(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function q0(e,t,n,r,i,o,s,a,l,c,u){const d=Bt+r,h=d+i,g=function pB(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:jt);return n}(d,h),_="function"==typeof c?c():c;return g[We]={type:e,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:u}}let pS=()=>null;function gS(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;const s=t[o];if(void 0===s)continue;r??={};let a,l=m.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(null!==i){if(!i.hasOwnProperty(o))continue;c=i[o]}0===e?mS(r,n,c,a,l):mS(r,n,c,a)}return r}function mS(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],void 0!==i&&o.push(i)}function Ai(e,t,n,r,i,o,s,a){const l=ii(t,n);let u,c=t.inputs;!a&&null!=c&&(u=c[r])?(Q0(e,n,u,r,i),sl(t)&&function CB(e,t){const n=Ui(t,e);16&n[Ct]||(n[Ct]|=64)}(n,t.index)):3&t.type&&(r=function EB(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(l,r,i))}function Y0(e,t,n,r){if(yx()){const i=null===r?null:{"":-1},o=function TB(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(Z(t,s.selectors,!1))if(r||(r=[]),Do(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),K0(e,t,a.length)}else r.unshift(s),K0(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&_S(e,t,n,s,i,a),i&&function AB(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new Me(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=O(n.mergedAttrs,n.attrs)}function _S(e,t,n,r,i,o){for(let c=0;c<r.length;c++)r0(jp(n,t),e,r[c].type);!function NB(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=Wd(e,t,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=O(n.mergedAttrs,u.hostAttrs),OB(e,n,t,l,u),kB(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}!function wB(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<i;u++){const d=o[u],h=n?n.get(d):null,_=h?h.outputs:null;l=gS(0,d.inputs,u,l,h?h.inputs:null),c=gS(1,d.outputs,u,c,_);const v=null===l||null===s||P(t)?null:PB(l,u,s);a.push(v)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,o)}function vS(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function tV(){return Ot.lFrame.currentDirectiveIndex}();try{ll(o);for(let a=r;a<i;a++){const l=e.data[a],c=t[a];qy(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&IB(l,c)}}finally{ll(-1),qy(s)}}function IB(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function K0(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function kB(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Do(t)&&(n[""]=e)}}function OB(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Xo(i.type)),s=new kd(o,Do(i),ve);e.blueprint[r]=s,n[r]=s,function xB(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function MB(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Wd(e,n,i.hostVars,jt),i)}function us(e,t,n,r,i,o){const s=ii(e,t);!function Z0(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?Pt(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[Nt],s,o,e.value,n,r,i)}function FB(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)dS(r,n,s[a++],s[a++],s[a++],s[a++])}function PB(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function yS(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function bS(e,t){const n=e.contentQueries;if(null!==n){const r=x(null);try{for(let i=0;i<n.length;i+=2){const s=n[i+1];if(-1!==s){const a=e.data[s];Pp(n[i]),a.contentQueries(2,t[s],s)}}}finally{x(r)}}}function fg(e,t){return e[Ed]?e[ix][Eo]=t:e[Ed]=t,e[ix]=t,t}function X0(e,t,n){Pp(0);const r=x(null);try{t(e,n)}finally{x(r)}}function wS(e){return e[Cc]||(e[Cc]=[])}function ES(e){return e.cleanup||(e.cleanup=[])}function hg(e,t){const n=e[gr],r=n?n.get(cs,null):null;r&&r.handleError(t)}function Q0(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=n[o++];dS(e.data[s],t[s],r,a,l,i)}}function Us(e,t,n){const r=Md(t,e);!function KM(e,t,n){e.setValue(t,n)}(e[Nt],r,n)}function LB(e,t){const n=Ui(t,e),r=n[We];!function VB(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Gn];null!==i&&null===n[ji]&&(n[ji]=b0(i,n[gr])),J0(r,n,n[Ln])}function J0(e,t,n){Zy(t);try{const r=e.viewQuery;null!==r&&X0(1,r,n);const i=e.template;null!==i&&fS(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ls]?.finishViewCreation(e),e.staticContentQueries&&bS(e,t),e.staticViewQueries&&X0(2,e.viewQuery,n);const o=e.components;null!==o&&function BB(e,t){for(let n=0;n<t.length;n++)LB(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Ct]&=-5,Xy()}}function qd(e,t,n,r){const i=x(null);try{const o=t.tView,l=dg(e,o,n,4096&e[Ct]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);l[Cd]=e[t.index];const u=e[Ls];return null!==u&&(l[Ls]=u.createEmbeddedView(o)),J0(o,l,n),l}finally{x(i)}}function DS(e,t){const n=cr+t;if(n<e.length)return e[n]}function zc(e,t){return!t||null===t.firstChild||Gp(e)}function Yd(e,t,n,r=!0){const i=t[We];if(function nB(e,t,n,r){const i=cr+r,o=n.length;r>0&&(n[i-1][Eo]=t),r<o-cr?(t[Eo]=n[i],yd(n,cr+r,t)):(n.push(t),t[Eo]=null),t[lr]=n;const s=t[Cd];null!==s&&n!==s&&function rB(e,t){const n=e[Mc];t[Yn]!==t[lr][lr][Yn]&&(e[Ct]|=Ry.HasTransplantedViews),null===n?e[Mc]=[t]:n.push(t)}(s,t);const a=t[Ls];null!==a&&a.insertView(e),zy(t),t[Ct]|=128}(i,t,e,n),r){const s=j0(n,e),a=t[Nt],l=lg(a,e[rs]);null!==l&&function eB(e,t,n,r,i,o){r[Gn]=i,r[$r]=t,ug(e,r,n,1,i,o)}(i,e[$r],a,t,l,s)}const o=t[ji];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function eb(e,t){const n=zd(e,t);return void 0!==n&&ag(n[We],n),n}function Kd(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(Tn(o)),Wr(o)&&xS(o,r);const s=n.type;if(8&s)Kd(e,t,n.child,r);else if(32&s){const a=F0(n,t);let l;for(;l=a();)r.push(l)}else if(16&s){const a=oS(t,n);if(Array.isArray(a))r.push(...a);else{const l=al(t[Yn]);Kd(l[We],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function xS(e,t){for(let n=cr;n<e.length;n++){const r=e[n],i=r[We].firstChild;null!==i&&Kd(r[We],r,i,t)}e[rs]!==e[Gn]&&t.push(e[rs])}let MS=[];const zB={...ge,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Id(e.lView)},consumerOnSignalRead(){this.lView[ol]=this}},SS=100;function pg(e,t=!0,n=0){const r=e[Co],i=r.rendererFactory;i.begin?.();try{!function $B(e,t){tb(e,t);let n=0;for(;Uy(e);){if(n===SS)throw new Me(103,!1);n++,tb(e,1)}}(e,n)}catch(s){throw t&&hg(e,s),s}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function GB(e,t,n,r){const i=t[Ct];if(!(256&~i))return;t[Co].inlineEffectRunner?.flush(),Zy(t);let s=null,a=null;(function WB(e){return 2!==e.type})(e)&&(a=function HB(e){return e[ol]??function jB(e){const t=MS.pop()??Object.create(zB);return t.lView=e,t}(e)}(t),s=xe(a));try{mx(t),function Ex(e){return Ot.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&fS(e,t,n,2,r);const l=!(3&~i);if(l){const d=e.preOrderCheckHooks;null!==d&&Vp(t,d,null)}else{const d=e.preOrderHooks;null!==d&&Bp(t,d,0,null),Qy(t,0)}if(function qB(e){for(let t=cM(e);null!==t;t=uM(t)){if(!(t[Ct]&Ry.HasTransplantedViews))continue;const n=t[Mc];for(let r=0;r<n.length;r++){z4(n[r])}}}(t),IS(t,0),null!==e.contentQueries&&bS(e,t),l){const d=e.contentCheckHooks;null!==d&&Vp(t,d)}else{const d=e.contentHooks;null!==d&&Bp(t,d,1),Qy(t,1)}!function hB(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)ll(~i);else{const o=i,s=n[++r],a=n[++r];eV(s,o),a(2,t[o])}}}finally{ll(-1)}}(e,t);const c=e.components;null!==c&&AS(t,c,0);const u=e.viewQuery;if(null!==u&&X0(2,u,r),l){const d=e.viewCheckHooks;null!==d&&Vp(t,d)}else{const d=e.viewHooks;null!==d&&Bp(t,d,2),Qy(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Np]){for(const d of t[Np])d();t[Np]=null}t[Ct]&=-73}catch(l){throw Id(t),l}finally{null!==a&&(Be(a,s),function UB(e){e.lView[ol]!==e&&(e.lView=null,MS.push(e))}(a)),Xy()}}function IS(e,t){for(let n=cM(e);null!==n;n=uM(n))for(let r=cr;r<n.length;r++)TS(n[r],t)}function YB(e,t,n){TS(Ui(t,e),n)}function TS(e,t){jy(e)&&tb(e,t)}function tb(e,t){const r=e[We],i=e[Ct],o=e[ol];let s=!!(0===t&&16&i);if(s||=!!(64&i&&0===t),s||=!!(1024&i),s||=!(!o?.dirty||!Je(o)),o&&(o.dirty=!1),e[Ct]&=-9217,s)GB(r,e,r.template,e[Ln]);else if(8192&i){IS(e,1);const a=r.components;null!==a&&AS(e,a,1)}}function AS(e,t,n){for(let r=0;r<t.length;r++)YB(e,t[r],n)}function Zd(e){for(e[Co].changeDetectionScheduler?.notify();e;){e[Ct]|=64;const t=al(e);if(Py(e)&&!t)return e;e=t}return null}class Xd{get rootNodes(){const t=this._lView,n=t[We];return Kd(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ln]}set context(t){this._lView[Ln]=t}get destroyed(){return!(256&~this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[lr];if(Wr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(zd(t,r),tl(n,r))}this._attachedToViewContainer=!1}ag(this._lView[We],this._lView)}onDestroy(t){Fp(this._lView,t)}markForCheck(){Zd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-129}reattach(){zy(this._lView),this._lView[Ct]|=128}detectChanges(){this._lView[Ct]|=1024,pg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ZM(this._lView[We],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=t,zy(this._lView)}}let sn=(()=>{class e{static{this.__NG_ELEMENT_ID__=XB}}return e})();const KB=sn,ZB=class extends KB{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=qd(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Xd(i)}};function XB(){return gg(Mn(),_e())}function gg(e,t){return 4&e.type?new ZB(t,e,Rc(e,t)):null}let PS=()=>null;function $c(e,t){return PS(e,t)}class ab{}class w7{}class LS{}class C7{resolveComponentFactory(t){throw function E7(e){const t=Error(`No component factory found for ${Fn(e)}.`);return t.ngComponent=e,t}(t)}}let Gc=(()=>{class e{static{this.NULL=new C7}}return e})();class bg{}let ds=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function D7(){const e=_e(),n=Ui(Mn().index,e);return(Gr(n)?n:e)[Nt]}()}}return e})(),x7=(()=>{class e{static{this.\u0275prov=ot({token:e,providedIn:"root",factory:()=>null})}}return e})();const lb={},BS=new Set;function fs(e){BS.has(e)||(BS.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function HS(...e){}class pn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yt(!1),this.onMicrotaskEmpty=new yt(!1),this.onStable=new yt(!1),this.onError=new yt(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function M7(){const e="function"==typeof fn.requestAnimationFrame;let t=fn[e?"requestAnimationFrame":"setTimeout"],n=fn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function T7(e){const t=()=>{!function I7(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(fn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ub(e),e.isCheckStableRunning=!0,cb(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ub(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function A7(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return jS(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),US(e)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return jS(e),n.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),US(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,ub(e),cb(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pn.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(pn.isInAngularZone())throw new Me(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,S7,HS,HS);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const S7={};function cb(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ub(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function jS(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function US(e){e._nesting--,cb(e)}class zS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yt,this.onMicrotaskEmpty=new yt,this.onStable=new yt,this.onError=new yt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}let nf=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ot({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Eg(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=ua(i,a):2==o&&(r=ua(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}class KS extends Gc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Xe(t);return new af(n,this.ngModule)}}function ZS(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class Cg{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=el(r);const i=this.injector.get(t,lb,r);return i!==lb||n===lb?i:this.parentInjector.get(t,n,r)}}class af extends LS{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=ZS(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return ZS(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Ue(e){return e.map(Ze).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){const o=x(null);try{let s=(i=i||this.ngModule)instanceof ns?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new Cg(t,s):t,l=a.get(bg,null);if(null===l)throw new Me(407,!1);const c=a.get(x7,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(nf,null),changeDetectionScheduler:a.get(ab,null)},g=l.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",v=r?function gB(e,t,n,r){const o=r.get(MM,!1)||n===p.ShadowDom,s=e.selectRootElement(t,o);return function mB(e){pS(e)}(s),s}(g,r,this.componentDef.encapsulation,a):sg(g,_,function P7(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(_));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let w=null;null!==v&&(w=b0(v,a,!0));const C=q0(0,null,null,1,0,null,null,null,null,null,null),D=dg(null,C,null,y,null,null,h,g,a,null,w);let S,F;Zy(D);try{const V=this.componentDef;let K,he=null;V.findHostDirectiveDefs?(K=[],he=new Map,V.findHostDirectiveDefs(V,K,he),K.push(V)):K=[V];const oe=function V7(e,t){const n=e[We],r=Bt;return e[r]=t,Uc(n,r,2,"#host",null)}(D,v),de=function B7(e,t,n,r,i,o,s){const a=i[We];!function H7(e,t,n,r){for(const i of e)t.mergedAttrs=O(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Eg(t,t.mergedAttrs,!0),null!==n&&cS(r,n,t))}(r,e,t,s);let l=null;null!==t&&(l=b0(t,i[gr]));const c=o.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=dg(i,hS(n),null,u,i[e.index],e,o,c,null,null,l);return a.firstCreatePass&&K0(a,e,r.length-1),fg(i,d),i[e.index]=d}(oe,v,V,K,D,h,g);F=Sd(C,Bt),v&&function U7(e,t,n,r){if(r)E(e,n,["ng-version","17.3.12"]);else{const{attrs:i,classes:o}=function qe(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Y(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&E(e,n,i),o&&o.length>0&&lS(e,n,o.join(" "))}}(g,V,v,r),void 0!==n&&function z7(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(F,this.ngContentSelectors,n),S=function j7(e,t,n,r,i,o){const s=Mn(),a=i[We],l=ii(s,i);_S(a,i,s,n,null,r);for(let u=0;u<n.length;u++)Kr(cl(i,a,s.directiveStart+u,s),i);vS(a,i,s),l&&Kr(l,i);const c=cl(i,a,s.directiveStart+s.componentOffset,s);if(e[Ln]=i[Ln]=c,null!==o)for(const u of o)u(c,t);return $0(a,s,i),c}(de,V,K,he,D,[$7]),J0(C,D,null)}finally{Xy()}return new L7(this.componentType,S,Rc(F,D),D,F)}finally{x(o)}}}class L7 extends w7{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Xd(i,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Q0(o[We],o,i,t,n),this.previousInputValues.set(t,n),Zd(Ui(this._tNode.index,o))}}get injector(){return new Er(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function $7(){const e=Mn();Lp(_e()[We],e)}let hs=(()=>{class e{static{this.__NG_ELEMENT_ID__=G7}}return e})();function G7(){return JS(Mn(),_e())}const W7=hs,XS=class extends W7{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Rc(this._hostTNode,this._hostLView)}get injector(){return new Er(this._hostTNode,this._hostLView)}get parentInjector(){const t=Up(this._hostTNode,this._hostLView);if(e0(t)){const n=Od(t,this._hostLView),r=Nd(t);return new Er(n[We].data[r+8],n)}return new Er(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=QS(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-cr}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=$c(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,zc(this._hostTNode,s)),a}createComponent(t,n,r,i,o){const s=t&&!function wd(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,o=_.environmentInjector||_.ngModuleRef}const l=s?t:new af(Xe(t)),c=r||this.parentInjector;if(!o&&null==l.ngModule){const v=(s?c:this.parentInjector).get(ns,null);v&&(o=v)}const u=Xe(l.componentType??{}),d=$c(this._lContainer,u?.id??null),g=l.create(c,i,d?.firstChild??null,o);return this.insertImpl(g.hostView,a,zc(this._hostTNode,d)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function U4(e){return Wr(e[lr])}(i)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=i[lr],c=new XS(l,l[$r],l[lr]);c.detach(c.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;return Yd(s,i,o,r),t.attachToViewContainerRef(),yd(pb(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=QS(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=zd(this._lContainer,n);r&&(tl(pb(this._lContainer),n),ag(r[We],r))}detach(t){const n=this._adjustIndex(t,-1),r=zd(this._lContainer,n);return r&&null!=tl(pb(this._lContainer),n)?new Xd(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function QS(e){return e[8]}function pb(e){return e[8]||(e[8]=[])}function JS(e,t){let n;const r=t[e.index];return Wr(r)?n=r:(n=yS(r,t,null,e),t[e.index]=n,fg(t,n)),eI(n,t,e,r),new XS(n,e,t)}let eI=function nI(e,t,n,r){if(e[rs])return;let i;i=8&n.type?Tn(r):function q7(e,t){const n=e[Nt],r=n.createComment(""),i=ii(t,e);return ul(n,lg(n,i),r,function aB(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[rs]=i},gb=()=>!1;class mb{constructor(t){this.queryList=t,this.matches=null}clone(){return new mb(this.queryList)}setDirty(){this.queryList.setDirty()}}class _b{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new _b(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Eb(t,n).matches&&this.queries[n].setDirty()}}class rI{constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function t9(e){return e.split(",").map(t=>t.trim())}(t):t}}class vb{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new vb(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class yb{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new yb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,X7(n,o)),this.matchTNodeWithReadOption(t,n,zp(n,t,o,!1,!1))}else r===sn?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,zp(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Sn||i===hs||i===sn&&4&n.type)this.addMatch(n.index,-2);else{const o=zp(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function X7(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function J7(e,t,n,r){return-1===n?function Q7(e,t){return 11&e.type?Rc(e,t):4&e.type?gg(e,t):null}(t,e):-2===n?function e9(e,t,n){return n===Sn?Rc(t,e):n===sn?gg(t,e):n===hs?JS(t,e):void 0}(e,t,r):cl(e,e[We],n,t)}function iI(e,t,n,r){const i=t[Ls].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let l=0;null!==s&&l<s.length;l+=2){const c=s[l];a.push(c<0?null:J7(t,o[c],s[l+1],n.metadata.read))}i.matches=a}return i.matches}function bb(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=iI(e,t,i,n);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=cr;d<u.length;d++){const h=u[d];h[Cd]===h[lr]&&bb(h[We],h,c,r)}if(null!==u[Mc]){const d=u[Mc];for(let h=0;h<d.length;h++){const g=d[h];bb(g[We],g,c,r)}}}}}return r}function oI(e,t,n){const r=new Fc(!(4&~n));return function yB(e,t,n,r){const i=wS(t);i.push(n),e.firstCreatePass&&ES(e).push(r,i.length-1)}(e,t,r,r.destroy),(t[Ls]??=new _b).queries.push(new mb(r))-1}function lI(e,t,n){null===e.queries&&(e.queries=new vb),e.queries.track(new yb(t,n))}function Eb(e,t){return e.queries.getByIndex(t)}function cI(e,t){const n=e[We],r=Eb(n,t);return r.crossesNgTemplate?bb(n,e,t,[]):iI(n,e,r,t)}function Dg(e){return"function"==typeof e&&void 0!==e[N]}function xn(e){let t=function EI(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Do(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Me(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=Mg(e.inputs),s.inputTransforms=Mg(e.inputTransforms),s.declaredInputs=Mg(e.declaredInputs),s.outputs=Mg(e.outputs);const a=i.hostBindings;a&&_9(e,a);const l=i.viewQuery,c=i.contentQueries;if(l&&g9(e,l),c&&m9(e,c),h9(e,i),cp(e.outputs,i.outputs),Do(i)&&i.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===xn&&(n=!1)}}t=Object.getPrototypeOf(t)}!function p9(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=O(i.hostAttrs,n=O(n,i.hostAttrs))}}(r)}function h9(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function Mg(e){return e===Hi?{}:e===zt?[]:e}function g9(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function m9(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function _9(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function Sg(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}e.inputTransforms=n}class hl{}class C9{}class Db extends hl{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new KS(this);const i=function vn(e,t){const n=e[Xa]||null;if(!n&&!0===t)throw new Error(`Type ${Fn(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function zi(e){return e instanceof Function?e():e}(i.bootstrap),this._r3Injector=Kx(t,n,[{provide:hl,useValue:this},{provide:Gc,useValue:this.componentFactoryResolver},...r],Fn(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class xb extends C9{constructor(t){super(),this.moduleType=t}create(t){return new Db(this.moduleType,t,[])}}class MI extends hl{constructor(t){super(),this.componentFactoryResolver=new KS(this),this.instance=null;const n=new bc([...t.providers,{provide:hl,useValue:this},{provide:Gc,useValue:this.componentFactoryResolver}],t.parent||Tp(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}let cf=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _y(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Tg(e){return!!function Mb(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function ps(e,t,n){return e[t]=n}function ur(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function pl(e,t,n,r){const i=ur(e,t,n);return ur(e,t+1,r)||i}function Ht(e,t,n,r,i,o,s,a){const l=_e(),c=Qt(),u=e+Bt,d=c.firstCreatePass?function k9(e,t,n,r,i,o,s,a,l){const c=t.consts,u=Uc(t,e,4,s||null,os(c,a));Y0(t,n,u,os(c,l)),Lp(t,u);const d=u.tView=q0(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,n,r,i,o,s):c.data[u];ss(d,!1);const h=II(c,l,d,e);Ad()&&cg(c,l,h,d),Kr(h,l);const g=yS(h,l,h,d);return l[u]=g,fg(l,g),function tI(e,t,n){return gb(e,t,n)}(g,d,l),Rp(d)&&G0(c,l,d),null!=s&&W0(l,d,a),Ht}let II=function TI(e,t,n,r){return as(!0),t[Nt].createComment("")};function si(e,t,n,r){const i=_e();return ur(i,xo(),t)&&(Qt(),us(Vn(),i,e,t,n,r)),si}function eu(e,t,n,r){return ur(e,xo(),n)?t+Pt(n)+r:jt}function tu(e,t,n,r,i,o){const a=pl(e,function Vs(){return Ot.lFrame.bindingIndex}(),n,i);return Bs(2),a?t+Pt(n)+r+Pt(i)+o:jt}function Pg(e,t){return e<<17|t<<2}function ya(e){return e>>17&32767}function Pb(e){return 2|e}function ml(e){return(131068&e)>>2}function Lb(e,t){return-131069&e|t<<2}function Vb(e){return 1|e}function sT(e,t,n,r){const i=e[n+1],o=null===t;let s=r?ya(i):ml(i),a=!1;for(;0!==s&&(!1===a||o);){const c=e[s+1];_H(e[s],t)&&(a=!0,e[s+1]=r?Vb(c):Pb(c)),s=r?ya(c):ml(c)}a&&(e[n+1]=r?Pb(i):Vb(i))}function _H(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&br(e,t)>=0}const Cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function aT(e){return e.substring(Cr.key,Cr.keyEnd)}function lT(e,t){const n=Cr.textEnd;return n===t?-1:(t=Cr.keyEnd=function wH(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Cr.key=t,n),lu(e,t,n))}function lu(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function nt(e,t,n){const r=_e();return ur(r,xo(),t)&&Ai(Qt(),Vn(),r,e,t,r[Nt],n,!1),nt}function Bb(e,t,n,r,i){const s=i?"class":"style";Q0(e,n,t.inputs[s],s,r)}function Hb(e,t,n){return Io(e,t,n,!1),Hb}function ai(e,t){return Io(e,t,null,!0),ai}function hT(e){!function To(e,t,n,r){const i=Qt(),o=Bs(2);i.firstUpdatePass&&gT(i,null,o,r);const s=_e();if(n!==jt&&ur(s,o,n)){const a=i.data[qr()];if(yT(a,r)&&!pT(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=ua(l,n||"")),Bb(i,a,s,n,r)}else!function kH(e,t,n,r,i,o,s,a){i===jt&&(i=zt);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=l<i.length?i[l+1]:void 0,g=c<o.length?o[c+1]:void 0;let v,_=null;u===d?(l+=2,c+=2,h!==g&&(_=d,v=g)):null===d||null!==u&&u<d?(l+=2,_=u):(c+=2,_=d,v=g),null!==_&&_T(e,t,n,r,_,v,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}(i,a,s,s[Nt],s[o+1],s[o+1]=function TH(e,t,n){if(null==n||""===n)return zt;const r=[],i=ga(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(AH,ms,e,!0)}function ms(e,t){for(let n=function yH(e){return function uT(e){Cr.key=0,Cr.keyEnd=0,Cr.value=0,Cr.valueEnd=0,Cr.textEnd=e.length}(e),lT(e,lu(e,0,Cr.textEnd))}(t);n>=0;n=lT(t,n))on(e,aT(t),!0)}function Io(e,t,n,r){const i=_e(),o=Qt(),s=Bs(2);o.firstUpdatePass&&gT(o,e,s,r),t!==jt&&ur(i,s,t)&&_T(o,o.data[qr()],i,i[Nt],e,i[s+1]=function NH(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Fn(ga(e)))),e}(t,n),r,s)}function pT(e,t){return t>=e.expandoStartIndex}function gT(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[qr()],s=pT(e,n);yT(o,r)&&null===t&&!s&&(t=!1),t=function xH(e,t,n,r){const i=function Yy(e){const t=Ot.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=gf(n=jb(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=jb(i,e,t,n,r),null===o){let l=function MH(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ml(r))return e[ya(r)]}(e,t,r);void 0!==l&&Array.isArray(l)&&(l=jb(null,e,t,l[1],r),l=gf(l,t.attrs,r),function SH(e,t,n,r){e[ya(n?t.classBindings:t.styleBindings)]=r}(e,t,r,l))}else o=function IH(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=gf(r,e[o].hostAttrs,n);return gf(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function gH(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=ya(s),l=ml(s);e[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||br(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const h=ya(e[a+1]);e[r+1]=Pg(h,a),0!==h&&(e[h+1]=Lb(e[h+1],r)),e[a+1]=function hH(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Pg(a,0),0!==a&&(e[a+1]=Lb(e[a+1],r)),a=r;else e[r+1]=Pg(l,0),0===a?a=r:e[l+1]=Lb(e[l+1],r),l=r;c&&(e[r+1]=Pb(e[r+1])),sT(e,u,r,!0),sT(e,u,r,!1),function mH(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&br(o,t)>=0&&(n[r+1]=Vb(n[r+1]))}(t,u,e,r,o),s=Pg(a,l),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function jb(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=gf(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function gf(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),on(e,s,!!n||t[++o]))}return void 0===e?null:e}function AH(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&on(e,r,n)}function _T(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const l=e.data,c=l[a+1],u=function pH(e){return!(1&~e)}(c)?vT(l,t,n,i,ml(c),s):void 0;Lg(u)||(Lg(o)||function fH(e){return!(2&~e)}(c)&&(o=vT(l,null,n,i,a,s)),function uB(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ma.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ma.Important),e.setStyle(n,r,i,o))}}(r,s,Md(qr(),n),i,o))}function vT(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=n[i+1];h===jt&&(h=d?zt:void 0);let g=d?fa(h,r):u===r?h:void 0;if(c&&!Lg(g)&&(g=fa(l,r)),Lg(g)&&(a=g,s))return a;const _=e[i+1];i=s?ya(_):ml(_)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=fa(l,r))}return a}function Lg(e){return void 0!==e}function yT(e,t){return!!(e.flags&(t?8:16))}function Ub(){return _e()[Yn][Ln]}class UH{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){const s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}}function zb(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function $b(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function bT(e,t,n,r,i){if($b(e,t,r,n(r,i)))e.updateValue(r,i);else{const o=e.create(r,i);e.attach(r,o)}}function wT(e,t,n,r){const i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}class ET{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}}function li(e,t,n){fs("NgControlFlow");const r=_e(),i=xo(),o=Gb(r,Bt+e);if(ur(r,i,t)){const a=x(null);try{if(eb(o,0),-1!==t){const l=Wb(r[We],Bt+t),c=$c(o,l.tView.ssrId);Yd(o,qd(r,l,n,{dehydratedView:c}),0,zc(l,c))}}finally{x(a)}}else{const a=DS(o,0);void 0!==a&&(a[Ln]=n)}}class $H{constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-cr}}function CT(e){return e}class WH{constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}function Vg(e,t,n,r,i,o,s,a,l,c,u,d,h){fs("NgControlFlow");const g=void 0!==l,_=_e(),v=a?s.bind(_[Yn][Ln]):s,y=new WH(g,v);_[Bt+e]=y,Ht(e+1,t,n,r,i,o),g&&Ht(e+2,l,c,u,d,h)}class qH extends UH{constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-cr}at(t){return this.getLView(t)[Ln].$implicit}attach(t,n){const r=n[ji];this.needsIndexUpdate||=t!==this.length,Yd(this.lContainer,n,t,zc(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function YH(e,t){return zd(e,t)}(this.lContainer,t)}create(t,n){const r=$c(this.lContainer,this.templateTNode.tView.ssrId);return qd(this.hostLView,this.templateTNode,new $H(this.lContainer,n,t),{dehydratedView:r})}destroy(t){ag(t[We],t)}updateValue(t,n){this.getLView(t)[Ln].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[Ln].$index=t}getLView(t){return function KH(e,t){return DS(e,t)}(this.lContainer,t)}}function Bg(e){const t=x(null),n=qr();try{const r=_e(),i=r[We],o=r[n];if(void 0===o.liveCollection){const a=n+1,l=Gb(r,a),c=Wb(i,a);o.liveCollection=new qH(l,r,c)}else o.liveCollection.reset();const s=o.liveCollection;if(function zH(e,t,n){let r,i,o=0,s=e.length-1;if(Array.isArray(t)){let a=t.length-1;for(;o<=s&&o<=a;){const l=e.at(o),c=t[o],u=zb(o,l,o,c,n);if(0!==u){u<0&&e.updateValue(o,c),o++;continue}const d=e.at(s),h=t[a],g=zb(s,d,a,h,n);if(0!==g){g<0&&e.updateValue(s,h),s--,a--;continue}const _=n(o,l),v=n(s,d),y=n(o,c);if(Object.is(y,v)){const w=n(a,h);Object.is(w,_)?(e.swap(o,s),e.updateValue(s,h),a--,s--):e.move(s,o),e.updateValue(o,c),o++}else if(r??=new ET,i??=wT(e,o,s,n),$b(e,r,o,y))e.updateValue(o,c),o++,s++;else if(i.has(y))r.set(_,e.detach(o)),s--;else{const w=e.create(o,t[o]);e.attach(o,w),o++,s++}}for(;o<=a;)bT(e,r,n,o,t[o]),o++}else if(null!=t){const a=t[Symbol.iterator]();let l=a.next();for(;!l.done&&o<=s;){const c=e.at(o),u=l.value,d=zb(o,c,o,u,n);if(0!==d)d<0&&e.updateValue(o,u),o++,l=a.next();else{r??=new ET,i??=wT(e,o,s,n);const h=n(o,u);if($b(e,r,o,h))e.updateValue(o,u),o++,s++,l=a.next();else if(i.has(h)){const g=n(o,c);r.set(g,e.detach(o)),s--}else e.attach(o,e.create(o,u)),o++,s++,l=a.next()}}for(;!l.done;)bT(e,r,n,e.length,l.value),l=a.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(a=>{e.destroy(a)})}(s,e,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){const a=xo(),l=0===s.length;if(ur(r,a,l)){const c=n+2,u=Gb(r,c);if(l){const d=Wb(i,c),h=$c(u,d.tView.ssrId);Yd(u,qd(r,d,void 0,{dehydratedView:h}),0,zc(d,h))}else eb(u,0)}}}finally{x(t)}}function Gb(e,t){return e[t]}function Wb(e,t){return Sd(e,t)}function le(e,t,n,r){const i=_e(),o=Qt(),s=Bt+e,a=i[Nt],l=o.firstCreatePass?function ZH(e,t,n,r,i,o){const s=t.consts,l=Uc(t,e,2,r,os(s,i));return Y0(t,n,l,os(s,o)),null!==l.attrs&&Eg(l,l.attrs,!1),null!==l.mergedAttrs&&Eg(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,o,i,t,n,r):o.data[s],c=DT(o,i,l,a,t,e);i[s]=c;const u=Rp(l);return ss(l,!0),cS(a,c,l),!function df(e){return!(32&~e.flags)}(l)&&Ad()&&cg(o,i,c,l),0===function $4(){return Ot.lFrame.elementDepthCount}()&&Kr(c,i),function G4(){Ot.lFrame.elementDepthCount++}(),u&&(G0(o,i,l),$0(o,l,i)),null!==r&&W0(i,l),le}function ye(){let e=Mn();Gy()?Wy():(e=e.parent,ss(e,!1));const t=e;(function q4(e){return Ot.skipHydrationRootTNode===e})(t)&&function X4(){Ot.skipHydrationRootTNode=null}(),function W4(){Ot.lFrame.elementDepthCount--}();const n=Qt();return n.firstCreatePass&&(Lp(n,e),Fy(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function dV(e){return!!(8&e.flags)}(t)&&Bb(n,t,_e(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function fV(e){return!!(16&e.flags)}(t)&&Bb(n,t,_e(),t.stylesWithoutHost,!1),ye}function qt(e,t,n,r){return le(e,t,n,r),ye(),qt}let DT=(e,t,n,r,i,o)=>(as(!0),sg(r,i,function Ax(){return Ot.lFrame.currentNamespace}()));function Hg(e,t,n){const r=_e(),i=Qt(),o=e+Bt,s=i.firstCreatePass?function JH(e,t,n,r,i){const o=t.consts,s=os(o,r),a=Uc(t,e,8,"ng-container",s);return null!==s&&Eg(a,s,!0),Y0(t,n,a,os(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];ss(s,!0);const a=xT(i,r,s,e);return r[o]=a,Ad()&&cg(i,r,a,s),Kr(a,r),Rp(s)&&(G0(i,r,s),$0(i,s,r)),null!=n&&W0(r,s),Hg}function jg(){let e=Mn();const t=Qt();return Gy()?Wy():(e=e.parent,ss(e,!1)),t.firstCreatePass&&(Lp(t,e),Fy(e)&&t.queries.elementEnd(e)),jg}function Ug(e,t,n){return Hg(e,t,n),jg(),Ug}let xT=(e,t,n,r)=>(as(!0),L0(t[Nt],""));function Kn(){return _e()}const uu="en-US";let AT=uu;function ft(e,t,n,r){const i=_e(),o=Qt(),s=Mn();return function Kb(e,t,n,r,i,o,s){const a=Rp(r),c=e.firstCreatePass&&ES(e),u=t[Ln],d=wS(t);let h=!0;if(3&r.type||s){const v=ii(r,t),y=s?s(v):v,w=d.length,C=s?S=>s(Tn(S[r.index])):r.index;let D=null;if(!s&&a&&(D=function eU(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[Cc],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=o,D.__ngLastListenerFn__=o,h=!1;else{o=iA(r,t,u,o,!1);const S=n.listen(y,i,o);d.push(o,S),c&&c.push(i,C,w,w+1)}}else o=iA(r,t,u,o,!1);const g=r.outputs;let _;if(h&&null!==g&&(_=g[i])){const v=_.length;if(v)for(let y=0;y<v;y+=2){const F=t[_[y]][_[y+1]].subscribe(o),V=d.length;d.push(o,F),c&&c.push(i,r.index,V,-(V+1))}}}(o,i,i[Nt],s,e,t,r),ft}function rA(e,t,n,r){const i=x(null);try{return is(6,t,n),!1!==n(r)}catch(o){return hg(e,o),!1}finally{is(7,t,n),x(i)}}function iA(e,t,n,r,i){return function o(s){if(s===Function)return r;Zd(e.componentOffset>-1?Ui(e.index,t):t);let l=rA(t,n,r,s),c=o.__ngNextListenerFn__;for(;c;)l=rA(t,n,c,s)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function Ve(e=1){return function rV(e){return(Ot.lFrame.contextLView=function _x(e,t){for(;e>0;)t=t[Dc],e--;return t}(e,Ot.lFrame.contextLView))[Ln]}(e)}function tU(e,t){let n=null;const r=function ie(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?Z(e,o,!0):Ce(r,o))return i}else n=i}return n}function qg(e){const t=_e()[Yn][$r];if(!t.projection){const r=t.projection=function _c(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(e?e.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const s=e?tU(o,e):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function Yg(e,t=0,n){const r=_e(),i=Qt(),o=Uc(i,Bt+e,16,null,n||null);null===o.projection&&(o.projection=t),Wy(),(!r[ji]||Ic())&&32&~o.flags&&function lB(e,t,n){aS(t[Nt],0,t,n,B0(e,n,t),tS(n.parent||t[$r],n,t))}(i,r,o)}function Zb(e,t,n){return Xb(e,"",t,"",n),Zb}function Xb(e,t,n,r,i){const o=_e(),s=eu(o,t,n,r);return s!==jt&&Ai(Qt(),Vn(),o,e,s,o[Nt],i,!1),Xb}function ui(e,t,n,r){!function aI(e,t,n,r){const i=Qt();if(i.firstCreatePass){const o=Mn();lI(i,new rI(t,n,r),o.index),function n9(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),!(2&~n)&&(i.staticContentQueries=!0)}return oI(i,_e(),n)}(e,t,n,r)}function hr(e,t,n){!function sI(e,t,n){const r=Qt();return r.firstCreatePass&&(lI(r,new rI(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),oI(r,_e(),t)}(e,t,n)}function an(e){const t=_e(),n=Qt(),r=Ky();Pp(r+1);const i=Eb(n,r);if(e.dirty&&function j4(e){return!(4&~e[Ct])}(t)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{const o=cI(t,r);e.reset(o,Jx),e.notifyOnChanges()}return!0}return!1}function ln(){return function wb(e,t){return e[Ls].queries[t].queryList}(_e(),Ky())}function Ao(e){return function Sc(e,t){return e[t]}(function Q4(){return Ot.lFrame.contextLView}(),Bt+e)}function Ye(e,t=""){const n=_e(),r=Qt(),i=e+Bt,o=r.firstCreatePass?Uc(r,i,1,t,null):r.data[i],s=EA(r,n,o,t,e);n[i]=s,Ad()&&cg(r,n,s,o),ss(o,!1)}let EA=(e,t,n,r,i)=>(as(!0),function P0(e,t){return e.createText(t)}(t[Nt],r));function di(e){return Kg("",e,""),di}function Kg(e,t,n){const r=_e(),i=eu(r,e,t,n);return i!==jt&&Us(r,qr(),i),Kg}function du(e,t,n,r,i){const o=_e(),s=tu(o,e,t,n,r,i);return s!==jt&&Us(o,qr(),s),du}function Qb(e,t,n,r,i){if(e=It(e),Array.isArray(e))for(let o=0;o<e.length;o++)Qb(e[o],t,n,r,i);else{const o=Qt(),s=_e(),a=Mn();let l=il(e)?e:It(e.provide);const c=ex(e),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(il(e)||!e.multi){const g=new kd(c,i,ve),_=e1(l,t,i?u:u+h,d);-1===_?(r0(jp(a,s),o,l),Jb(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),s.push(g)):(n[_]=g,s[_]=g)}else{const g=e1(l,t,u+h,d),_=e1(l,t,u,u+h),y=_>=0&&n[_];if(i&&!y||!i&&!(g>=0&&n[g])){r0(jp(a,s),o,l);const w=function wU(e,t,n,r,i){const o=new kd(e,n,ve);return o.multi=[],o.index=t,o.componentProviders=0,NA(o,i,r&&!n),o}(i?bU:yU,n.length,i,r,c);!i&&y&&(n[_].providerFactory=w),Jb(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),s.push(w)}else Jb(o,e,g>-1?g:_,NA(n[i?_:g],c,!i&&r));!i&&r&&y&&n[_].componentProviders++}}}function Jb(e,t,n,r){const i=il(t),o=function g4(e){return!!e.useClass}(t);if(i||o){const l=(o?It(t.useClass):t).prototype.ngOnDestroy;if(l){const c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function NA(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function e1(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function yU(e,t,n,r){return t1(this.multi,[])}function bU(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=cl(n,n[We],this.providerFactory.index,r);o=a.slice(0,s),t1(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],t1(i,o);return o}function t1(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function zn(e,t=[]){return n=>{n.providersResolver=(r,i)=>function vU(e,t,n){const r=Qt();if(r.firstCreatePass){const i=Do(e);Qb(n,r.data,r.blueprint,i,!0),Qb(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}let EU=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=xy(0,n.type),i=r.length>0?function SI(e,t,n=null){return new MI({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ot({token:e,providedIn:"environment",factory:()=>new e(Fe(ns))})}}return e})();function Zg(e){fs("NgStandalone"),e.getStandaloneInjector=t=>t.get(EU).getOrCreateStandaloneInjector(e)}function zs(e,t,n,r){return function PA(e,t,n,r,i,o){const s=t+n;return ur(e,s,i)?ps(e,s+1,o?r.call(o,i):r(i)):Ef(e,s+1)}(_e(),oi(),e,t,n,r)}function n1(e,t,n,r,i){return function LA(e,t,n,r,i,o,s){const a=t+n;return pl(e,a,i,o)?ps(e,a+2,s?r.call(s,i,o):r(i,o)):Ef(e,a+2)}(_e(),oi(),e,t,n,r,i)}function RA(e,t,n,r,i,o){return function VA(e,t,n,r,i,o,s,a){const l=t+n;return function Ag(e,t,n,r,i){const o=pl(e,t,n,r);return ur(e,t+2,i)||o}(e,l,i,o,s)?ps(e,l+3,a?r.call(a,i,o,s):r(i,o,s)):Ef(e,l+3)}(_e(),oi(),e,t,n,r,i,o)}function FA(e,t,n,r,i,o,s){return function BA(e,t,n,r,i,o,s,a,l){const c=t+n;return function ro(e,t,n,r,i,o){const s=pl(e,t,n,r);return pl(e,t+2,i,o)||s}(e,c,i,o,s,a)?ps(e,c+4,l?r.call(l,i,o,s,a):r(i,o,s,a)):Ef(e,c+4)}(_e(),oi(),e,t,n,r,i,o,s)}function Ef(e,t){const n=e[t];return n===jt?void 0:n}function Gi(e,t){return gg(e,t)}const sk=new st(""),tm=new st("");let d1,c1=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,d1||(function kz(e){d1=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(Fe(pn),Fe(u1),Fe(tm))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac})}}return e})(),u1=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return d1?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function nm(e){return!!e&&"function"==typeof e.then}function ak(e){return!!e&&"function"==typeof e.subscribe}const Nz=new st("");let f1=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=xt(Nz,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(nm(o))n.push(o);else if(ak(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const lk=new st("");function dk(e,t){return Array.isArray(t)?t.reduce(dk,e):{...e,...t}}let $s=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=xt(Xx),this.afterRenderEffectManager=xt(nf),this.externalTestViews=new Set,this.beforeRender=new _n,this.afterTick=new _n,this.componentTypes=[],this.components=[],this.isStable=xt(cf).hasPendingTasks.pipe(xi(n=>!n)),this._injector=xt(ns)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof LS;if(!this._injector.get(f1).done)throw!i&&function no(e){const t=Xe(e)||tn(e)||hn(e);return null!==t&&t.standalone}(n),new Me(405,!1);let s;s=i?n:this._injector.get(Gc).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function Oz(e){return e.isBoundToModule}(s)?void 0:this._injector.get(hl),c=s.create(Rr.NULL,[],r||s.selector,a),u=c.location.nativeElement,d=c.injector.get(sk,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),rm(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new Me(101,!1);const r=x(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,x(r)}}detectChangesInAttachedViews(n){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===SS)throw new Me(103,!1);if(n){const o=0===r;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)Fz(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>h1(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>h1(o))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;rm(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(lk,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>rm(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Me(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function rm(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Fz(e,t,n){!t&&!h1(e)||function Pz(e,t,n){let r;n?(r=0,e[Ct]|=1024):r=64&e[Ct]?0:1,pg(e,t,r)}(e,n,t)}function h1(e){return Uy(e)}let Hz=(()=>{class e{constructor(){this.zone=xt(pn),this.applicationRef=xt($s)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function jz(){const e=xt(pn),t=xt(cs);return n=>e.runOutsideAngular(()=>t.handleError(n))}let zz=(()=>{class e{constructor(){this.subscription=new Jt,this.initialized=!1,this.zone=xt(pn),this.pendingTasks=xt(cf)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pn.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Gs=new st("",{providedIn:"root",factory:()=>xt(Gs,Zt.Optional|Zt.SkipSelf)||function $z(){return typeof $localize<"u"&&$localize.locale||uu}()}),p1=new st("");let gk=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function k7(e="zone.js",t){return"noop"===e?new zS:"zone.js"===e?new pn(t):e}(r?.ngZone,function pk(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function x9(e,t,n){return new Db(e,t,n)}(n.moduleType,this.injector,function hk(e){return[{provide:pn,useFactory:e},{provide:es,multi:!0,useFactory:()=>{const t=xt(Hz,{optional:!0});return()=>t.initialize()}},{provide:es,multi:!0,useFactory:()=>{const t=xt(zz);return()=>{t.initialize()}}},{provide:Xx,useFactory:jz}]}(()=>i)),s=o.injector.get(cs,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{rm(this._modules,o),a.unsubscribe()})}),function uk(e,t,n){try{const r=n();return nm(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(f1);return a.runInitializers(),a.donePromise.then(()=>(function kT(e){"string"==typeof e&&(AT=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Gs,uu)||uu),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=dk({},r);return function Bz(e,t,n){const r=new xb(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get($s);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Me(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(p1,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(Fe(Rr))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),ba=null;const mk=new st("");function _k(e,t,n=[]){const r=`Platform: ${t}`,i=new st(r);return(o=[])=>{let s=g1();if(!s||s.injector.get(mk,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function qz(e){if(ba&&!ba.get(mk,!1))throw new Me(400,!1);(function ck(){!function tc(e){ec=e}(()=>{throw new Me(600,!1)})})(),ba=e;const t=e.get(gk);(function yk(e){e.get(yM,null)?.forEach(n=>n())})(e)}(function vk(e=[],t){return Rr.create({name:t,providers:[{provide:Iy,useValue:"platform"},{provide:p1,useValue:new Set([()=>ba=null])},...e]})}(a,r))}return function Yz(e){const t=g1();if(!t)throw new Me(401,!1);return t}()}}function g1(){return ba?.get(gk)??null}let om=(()=>{class e{static{this.__NG_ELEMENT_ID__=Zz}}return e})();function Zz(e){return function Xz(e,t,n){if(sl(e)&&!n){const r=Ui(e.index,t);return new Xd(r,r)}return 47&e.type?new Xd(t[Yn],t):null}(Mn(),_e(),!(16&~e))}class Dk{constructor(){}supports(t){return Tg(t)}create(t){return new n$(t)}}const t$=(e,t)=>t;class n${constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||t$}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<Mk(r,i,o)?n:r,a=Mk(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const g=h<o.length?o[h]:o[h]=0,_=g+h;u<=_&&_<c&&(o[h]=g+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Tg(t))throw new Me(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function T9(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new r$(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new xk),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xk),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class r${constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class i${constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class xk{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new i$,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mk(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}function Ik(){return new b1([new Dk])}let b1=(()=>{class e{static{this.\u0275prov=ot({token:e,providedIn:"root",factory:Ik})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Ik()),deps:[[e,new vd,new _d]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Me(901,!1)}}return e})();const c$=_k(null,"core",[]);let u$=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(Fe($s))}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({})}}return e})();function pr(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function pm(e,t=NaN){return isNaN(parseFloat(e))||isNaN(Number(e))?t:Number(e)}const H$=new st("",{providedIn:"root",factory:()=>xt(j$)});let j$=(()=>{class e{static{this.\u0275prov=ot({token:e,providedIn:"root",factory:()=>new U$})}}return e})();class U${constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=xt(cf),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const n=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(n),this.taskId=null})}}enqueue(t){const n=t.creationZone;this.queues.has(n)||this.queues.set(n,new Set);const r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,n]of this.queues)null===t?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(const n of t)t.delete(n),this.queuedEffectCount--,n.run()}}class z${constructor(t,n,r,i,o,s){this.scheduler=t,this.effectFn=n,this.creationZone=r,this.injector=o,this.watcher=function wn(e,t,n){const r=Object.create(Ji);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=l=>{r.cleanupFn=l};return r.ref={notify:()=>pe(r),run:()=>{if(null===r.fn)return;if(function U(){return B}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(r.dirty=!1,r.hasRun&&!Je(r))return;r.hasRun=!0;const l=xe(r);try{r.cleanupFn(),r.cleanupFn=Ar,r.fn(i)}finally{Be(r,l)}},cleanup:()=>r.cleanupFn(),destroy:()=>function s(l){(function o(l){return null===l.fn&&null===l.schedule})(l)||(et(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Ar)}(r),[N]:r},r.ref}(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(n){this.injector.get(cs,null,{optional:!0})?.handleError(n)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Qk(e,t){fs("NgSignals"),!t?.injector&&function Ap(e){if(!nx())throw new Me(-203,!1)}();const n=t?.injector??xt(Rr),r=!0!==t?.manualCleanup?n.get(Oc):null,i=new z$(n.get(H$),e,typeof Zone>"u"?null:Zone.current,r,n,t?.allowSignalWrites??!1),o=n.get(om,null,{optional:!0});return o&&8&o._lView[Ct]?(o._lView[Np]??=[]).push(i.watcher.notify):i.watcher.notify(),i}let Jk=null;function wa(){return Jk}class G${}const Wn=new st("");let e2=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:()=>xt(W$),providedIn:"platform"})}}return e})(),W$=(()=>{class e extends e2{constructor(){super(),this._doc=xt(Wn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wa().getBaseHref(this._doc)}onPopState(n){const r=wa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=wa().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function t2(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function n2(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function yl(e){return e&&"?"!==e[0]?"?"+e:e}let C1=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:()=>xt(Y$),providedIn:"root"})}}return e})();const q$=new st("");let Y$=(()=>{class e extends C1{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??xt(Wn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return t2(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+yl(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+yl(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+yl(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(Fe(e2),Fe(q$,8))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),r2=(()=>{class e{constructor(n){this._subject=new yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function X$(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(n2(o2(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+yl(r))}normalize(n){return e.stripTrailingSlash(function Z$(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,o2(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yl(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+yl(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=yl}static{this.joinWithSlash=t2}static{this.stripTrailingSlash=n2}static{this.\u0275fac=function(r){return new(r||e)(Fe(C1))}}static{this.\u0275prov=ot({token:e,factory:()=>function K$(){return new r2(Fe(C1))}(),providedIn:"root"})}}return e})();function o2(e){return e.replace(/\/index.html$/,"")}const O1=/\s+/,p2=[];let Mm=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=p2,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(O1):p2}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(O1):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(O1).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(ve(Sn),ve(ds))}}static{this.\u0275dir=Le({type:e,selectors:[["","ngClass",""]],inputs:{klass:[m.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class LG{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let m2=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new LG(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),_2(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{_2(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(ve(hs),ve(sn),ve(b1))}}static{this.\u0275dir=Le({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function _2(e,t){e.context.$implicit=t.item}let Sm=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new VG,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){v2("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){v2("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(ve(hs),ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class VG{constructor(){this.$implicit=null,this.ngIf=null}}function v2(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Fn(t)}'.`)}let Im=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||e)(ve(hs))}}static{this.\u0275dir=Le({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ri]})}}return e})(),V1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({})}}return e})();const w2="browser";function B1(e){return e===w2}function E2(e){return"server"===e}class $W extends G${constructor(){super(...arguments),this.supportsDOMEvents=!0}}class j1 extends $W{static makeCurrent(){!function $$(e){Jk??=e}(new j1)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function GW(){return kf=kf||document.querySelector("base"),kf?kf.getAttribute("href"):null}();return null==n?null:function WW(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){kf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function FG(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let kf=null,YW=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac})}}return e})();const U1=new st("");let k2=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Me(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(Fe(U1),Fe(pn))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac})}}return e})();class N2{constructor(t){this._doc=t}}const z1="ng-app-id";let O2=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=E2(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${z1}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(z1),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(z1,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(Fe(Wn),Fe(Yp),Fe(bM,8),Fe(Hs))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac})}}return e})();const $1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},G1=/%COMP%/g,QW=new st("",{providedIn:"root",factory:()=>!0});function F2(e,t){return t.map(n=>n.replace(G1,e))}let P2=(()=>{class e{constructor(n,r,i,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=E2(a),this.defaultRenderer=new W1(n,s,l,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===p.ShadowDom&&(r={...r,encapsulation:p.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof V2?i.applyToHost(n):i instanceof q1&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case p.Emulated:o=new V2(l,c,r,this.appId,u,s,a,d);break;case p.ShadowDom:return new nq(l,c,n,r,s,a,this.nonce,d);default:o=new q1(l,c,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(Fe(k2),Fe(O2),Fe(Yp),Fe(QW),Fe(Wn),Fe(Hs),Fe(pn),Fe(bM))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac})}}return e})();class W1{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS($1[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(L2(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(L2(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new Me(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=$1[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=$1[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(ma.DashCase|ma.Important)?t.style.setProperty(n,r,i&ma.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&ma.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=wa().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function L2(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class nq extends W1{constructor(t,n,r,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=F2(i.id,i.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class q1 extends W1{constructor(t,n,r,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?F2(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class V2 extends q1{constructor(t,n,r,i,o,s,a,l){const c=i+"-"+r.id;super(t,n,r,o,s,a,l,c),this.contentAttr=function JW(e){return"_ngcontent-%COMP%".replace(G1,e)}(c),this.hostAttr=function eq(e){return"_nghost-%COMP%".replace(G1,e)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let rq=(()=>{class e extends N2{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(Fe(Wn))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac})}}return e})();const B2=["alt","control","meta","shift"],iq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oq={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let sq=(()=>{class e extends N2{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wa().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),B2.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=iq[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),B2.forEach(s=>{s!==i&&(0,oq[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(Fe(Wn))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac})}}return e})();const j2=[{provide:Hs,useValue:w2},{provide:yM,useValue:function aq(){j1.makeCurrent()},multi:!0},{provide:Wn,useFactory:function cq(){return function JV(e){f0=e}(document),document},deps:[]}],uq=_k(c$,"browser",j2),dq=new st(""),U2=[{provide:tm,useClass:class qW{addToWindow(t){fn.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Me(5103,!1);return o},fn.getAllAngularTestabilities=()=>t.getAllTestabilities(),fn.getAllAngularRootElements=()=>t.getAllRootElements(),fn.frameworkStabilizers||(fn.frameworkStabilizers=[]),fn.frameworkStabilizers.push(r=>{const i=fn.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?wa().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:sk,useClass:c1,deps:[pn,u1,tm]},{provide:c1,useClass:c1,deps:[pn,u1,tm]}],z2=[{provide:Iy,useValue:"root"},{provide:cs,useFactory:function lq(){return new cs},deps:[]},{provide:U1,useClass:rq,multi:!0,deps:[Wn,pn,Hs]},{provide:U1,useClass:sq,multi:!0,deps:[Wn]},P2,O2,k2,{provide:bg,useExisting:P2},{provide:class mW{},useClass:YW,deps:[]},[]];let $2=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Yp,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(Fe(dq,12))}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({providers:[...z2,...U2],imports:[V1,u$]})}}return e})();const gq={dataId:"1234",nodes:[{id:"123",label:["John Doe","01/01/1970"],imageUrl:"",icon:"\uf007",fx:1e3,fy:400,additionalIcon:"\uf3a5"},{id:"456",label:["Richard Hill","14/05/1982"],imageUrl:"https://randomuser.me/api/portraits/thumb/men/99.jpg",icon:"",fx:332,fy:684,additionalIcon:""},{id:"789",label:["Rick Smith","Software Developer"],imageUrl:"https://randomuser.me/api/portraits/thumb/men/21.jpg",icon:"",fx:55,fy:60,additionalIcon:"\uf2dc"},{id:"4",label:["James Jones","BA"],imageUrl:"https://randomuser.me/api/portraits/thumb/men/9.jpg",icon:"",fx:414,fy:369,additionalIcon:""},{id:"423",label:["Aston Villa","Football Club","Founded 1874"],imageUrl:"https://houseofv.ghost.io/content/images/2024/01/GC72JKwWwAAuyGk.png",icon:"",fx:313,fy:255,additionalIcon:"\uf1e3"}],links:[{source:"123",target:"456",lineStyle:"Dotted",sourceArrow:!1,targetArrow:!0,linkId:"123_456",relationships:[{labelIndex:0,label:"Worked at IBM",source:"123",target:"456",linkIcon:!0},{labelIndex:1,label:"Both in same scrum team",source:"123",target:"456",linkIcon:!0}]},{source:"456",target:"789",lineStyle:"Solid",sourceArrow:!0,targetArrow:!0,linkId:"456_789",relationships:[{labelIndex:2,label:"Play in the same football team",source:"456",target:"789",linkIcon:!1},{labelIndex:3,label:"Daughters in the same class at school",source:"456",target:"789",linkIcon:!0},{labelIndex:4,label:"Went on a family holiday together last year",source:"456",target:"789",linkIcon:!1}]},{source:"789",target:"123",lineStyle:"Dotted",sourceArrow:!0,targetArrow:!0,linkId:"789_123",relationships:[{labelIndex:5,label:"Drink in the same pub",source:"789",target:"123",linkIcon:!0},{labelIndex:6,label:"Drinking friends",source:"789",target:"123",linkIcon:!1}]},{source:"4",target:"123",lineStyle:"Dotted",sourceArrow:!0,targetArrow:!1,linkId:"4_123",relationships:[{labelIndex:7,label:["Same University"],source:"4",target:"123",linkIcon:!0}]}]};var mq="5.16.0";function Ea(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Y1(e){return 1===e.length&&(e=function _q(e){return function(t,n){return Ea(e(t),n)}}(e)),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}var Y2=Y1(Ea),K2=Y2.right,vq=Y2.left;const bl=K2;function yq(e,t){null==t&&(t=Z2);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return o}function Z2(e,t){return[e,t]}function bq(e,t,n){var s,a,l,c,r=e.length,i=t.length,o=new Array(r*i);for(null==n&&(n=Z2),s=l=0;s<r;++s)for(c=e[s],a=0;a<i;++a,++l)o[l]=n(c,t[a]);return o}function wq(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Ca(e){return null===e?NaN:+e}function X2(e,t){var s,a,n=e.length,r=0,i=-1,o=0,l=0;if(null==t)for(;++i<n;)isNaN(s=Ca(e[i]))||(l+=(a=s-o)*(s-(o+=a/++r)));else for(;++i<n;)isNaN(s=Ca(t(e[i],i,e)))||(l+=(a=s-o)*(s-(o+=a/++r)));if(r>1)return l/(r-1)}function Q2(e,t){var n=X2(e,t);return n&&Math.sqrt(n)}function K1(e,t){var i,o,s,n=e.length,r=-1;if(null==t){for(;++r<n;)if(null!=(i=e[r])&&i>=i)for(o=s=i;++r<n;)null!=(i=e[r])&&(o>i&&(o=i),s<i&&(s=i))}else for(;++r<n;)if(null!=(i=t(e[r],r,e))&&i>=i)for(o=s=i;++r<n;)null!=(i=t(e[r],r,e))&&(o>i&&(o=i),s<i&&(s=i));return[o,s]}var J2=Array.prototype,Eq=J2.slice,Cq=J2.map;function Nm(e){return function(){return e}}function Dq(e){return e}function qi(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}var Z1=Math.sqrt(50),X1=Math.sqrt(10),Q1=Math.sqrt(2);function J1(e,t,n){var r,o,s,a,i=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=Of(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),s=new Array(o=Math.ceil(t-e+1));++i<o;)s[i]=(e+i)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),s=new Array(o=Math.ceil(e-t+1));++i<o;)s[i]=(e-i)/a;return r&&s.reverse(),s}function Of(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Z1?10:o>=X1?5:o>=Q1?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Z1?10:o>=X1?5:o>=Q1?2:1)}function wl(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Z1?i*=10:o>=X1?i*=5:o>=Q1&&(i*=2),t<e?-i:i}function ew(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function xq(){var e=Dq,t=K1,n=ew;function r(i){var o,a,s=i.length,l=new Array(s);for(o=0;o<s;++o)l[o]=e(i[o],o,i);var c=t(l),u=c[0],d=c[1],h=n(l,u,d);Array.isArray(h)||(h=wl(u,d,h),h=qi(Math.ceil(u/h)*h,d,h));for(var g=h.length;h[0]<=u;)h.shift(),--g;for(;h[g-1]>d;)h.pop(),--g;var v,_=new Array(g+1);for(o=0;o<=g;++o)(v=_[o]=[]).x0=o>0?h[o-1]:u,v.x1=o<g?h[o]:d;for(o=0;o<s;++o)u<=(a=l[o])&&a<=d&&_[bl(h,a,0,g)].push(i[o]);return _}return r.value=function(i){return arguments.length?(e="function"==typeof i?i:Nm(i),r):e},r.domain=function(i){return arguments.length?(t="function"==typeof i?i:Nm([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n="function"==typeof i?i:Array.isArray(i)?Nm(Eq.call(i)):Nm(i),r):n},r}function Rf(e,t,n){if(null==n&&(n=Ca),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e);return s+(+n(e[o+1],o+1,e)-s)*(i-o)}}function Mq(e,t,n){return e=Cq.call(e,Ca).sort(Ea),Math.ceil((n-t)/(2*(Rf(e,.75)-Rf(e,.25))*Math.pow(e.length,-1/3)))}function Sq(e,t,n){return Math.ceil((n-t)/(3.5*Q2(e)*Math.pow(e.length,-1/3)))}function eN(e,t){var i,o,n=e.length,r=-1;if(null==t){for(;++r<n;)if(null!=(i=e[r])&&i>=i)for(o=i;++r<n;)null!=(i=e[r])&&i>o&&(o=i)}else for(;++r<n;)if(null!=(i=t(e[r],r,e))&&i>=i)for(o=i;++r<n;)null!=(i=t(e[r],r,e))&&i>o&&(o=i);return o}function Iq(e,t){var o,n=e.length,r=n,i=-1,s=0;if(null==t)for(;++i<n;)isNaN(o=Ca(e[i]))?--r:s+=o;else for(;++i<n;)isNaN(o=Ca(t(e[i],i,e)))?--r:s+=o;if(r)return s/r}function Tq(e,t){var i,n=e.length,r=-1,o=[];if(null==t)for(;++r<n;)isNaN(i=Ca(e[r]))||o.push(i);else for(;++r<n;)isNaN(i=Ca(t(e[r],r,e)))||o.push(i);return Rf(o.sort(Ea),.5)}function tw(e){for(var n,o,s,t=e.length,r=-1,i=0;++r<t;)i+=e[r].length;for(o=new Array(i);--t>=0;)for(n=(s=e[t]).length;--n>=0;)o[--i]=s[n];return o}function tN(e,t){var i,o,n=e.length,r=-1;if(null==t){for(;++r<n;)if(null!=(i=e[r])&&i>=i)for(o=i;++r<n;)null!=(i=e[r])&&o>i&&(o=i)}else for(;++r<n;)if(null!=(i=t(e[r],r,e))&&i>=i)for(o=i;++r<n;)null!=(i=t(e[r],r,e))&&o>i&&(o=i);return o}function Aq(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r}function kq(e,t){if(n=e.length){var n,o,r=0,i=0,s=e[i];for(null==t&&(t=Ea);++r<n;)(t(o=e[r],s)<0||0!==t(s,s))&&(s=o,i=r);if(0===t(s,s))return i}}function Nq(e,t,n){for(var i,o,r=(n??e.length)-(t=null==t?0:+t);r;)o=Math.random()*r--|0,i=e[r+t],e[r+t]=e[o+t],e[o+t]=i;return e}function Oq(e,t){var i,n=e.length,r=-1,o=0;if(null==t)for(;++r<n;)(i=+e[r])&&(o+=i);else for(;++r<n;)(i=+t(e[r],r,e))&&(o+=i);return o}function nN(e){if(!(o=e.length))return[];for(var t=-1,n=tN(e,Rq),r=new Array(n);++t<n;)for(var o,i=-1,s=r[t]=new Array(o);++i<o;)s[i]=e[i][t];return r}function Rq(e){return e.length}function Fq(){return nN(arguments)}var nw=Array.prototype.slice;function Pq(e){return e}var Om=1,Rm=2,rw=3,Ff=4,rN=1e-6;function Lq(e){return"translate("+(e+.5)+",0)"}function Vq(e){return"translate(0,"+(e+.5)+")"}function Bq(e){return function(t){return+e(t)}}function Hq(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function jq(){return!this.__axis}function Fm(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,l=e===Om||e===Ff?-1:1,c=e===Ff||e===Rm?"x":"y",u=e===Om||e===rw?Lq:Vq;function d(h){var g=r??(t.ticks?t.ticks.apply(t,n):t.domain()),_=i??(t.tickFormat?t.tickFormat.apply(t,n):Pq),v=Math.max(o,0)+a,y=t.range(),w=+y[0]+.5,C=+y[y.length-1]+.5,D=(t.bandwidth?Hq:Bq)(t.copy()),S=h.selection?h.selection():h,F=S.selectAll(".domain").data([null]),V=S.selectAll(".tick").data(g,t).order(),K=V.exit(),he=V.enter().append("g").attr("class","tick"),oe=V.select("line"),de=V.select("text");F=F.merge(F.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),V=V.merge(he),oe=oe.merge(he.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),de=de.merge(he.append("text").attr("fill","currentColor").attr(c,l*v).attr("dy",e===Om?"0em":e===rw?"0.71em":"0.32em")),h!==S&&(F=F.transition(h),V=V.transition(h),oe=oe.transition(h),de=de.transition(h),K=K.transition(h).attr("opacity",rN).attr("transform",function(re){return isFinite(re=D(re))?u(re):this.getAttribute("transform")}),he.attr("opacity",rN).attr("transform",function(re){var T=this.parentNode.__axis;return u(T&&isFinite(T=T(re))?T:D(re))})),K.remove(),F.attr("d",e===Ff||e==Rm?s?"M"+l*s+","+w+"H0.5V"+C+"H"+l*s:"M0.5,"+w+"V"+C:s?"M"+w+","+l*s+"V0.5H"+C+"V"+l*s:"M"+w+",0.5H"+C),V.attr("opacity",1).attr("transform",function(re){return u(D(re))}),oe.attr(c+"2",l*o),de.attr(c,l*v).text(_),S.filter(jq).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Rm?"start":e===Ff?"end":"middle"),S.each(function(){this.__axis=D})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=nw.call(arguments),d},d.tickArguments=function(h){return arguments.length?(n=null==h?[]:nw.call(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=null==h?null:nw.call(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=s=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(s=+h,d):s},d.tickPadding=function(h){return arguments.length?(a=+h,d):a},d}function Uq(e){return Fm(Om,e)}function zq(e){return Fm(Rm,e)}function $q(e){return Fm(rw,e)}function Gq(e){return Fm(Ff,e)}var Wq={value:function(){}};function iN(){for(var r,e=0,t=arguments.length,n={};e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Pm(n)}function Pm(e){this._=e}function Yq(e,t){for(var i,n=0,r=e.length;n<r;++n)if((i=e[n]).name===t)return i.value}function oN(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Wq,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Pm.prototype=iN.prototype={constructor:Pm,on:function(e,t){var i,n=this._,r=function qq(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}(e+"",n),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=oN(n[i],e.name,t);else if(null==t)for(i in n)n[i]=oN(n[i],e.name,null);return this}for(;++o<s;)if((i=(e=r[o]).type)&&(i=Yq(n[i],e.name)))return i},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Pm(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var i,o,n=new Array(i),r=0;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=0,i=(o=this._[e]).length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const mu=iN;function Kq(){}function Lm(e){return null==e?Kq:function(){return this.querySelector(e)}}function Xq(){return[]}function iw(e){return null==e?Xq:function(){return this.querySelectorAll(e)}}function ow(e){return function(){return this.matches(e)}}function sN(e){return new Array(e.length)}function Vm(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vm.prototype={constructor:Vm,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function nY(e,t,n,r,i,o){for(var a,s=0,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Vm(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function rY(e,t,n,r,i,o,s){var a,l,g,c={},u=t.length,d=o.length,h=new Array(u);for(a=0;a<u;++a)(l=t[a])&&(h[a]=g="$"+s.call(l,l.__data__,a,t),g in c?i[a]=l:c[g]=l);for(a=0;a<d;++a)(l=c[g="$"+s.call(e,o[a],a,o)])?(r[a]=l,l.__data__=o[a],c[g]=null):n[a]=new Vm(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c[h[a]]===l&&(i[a]=l)}function uY(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var sw="http://www.w3.org/1999/xhtml";const aw={svg:"http://www.w3.org/2000/svg",xhtml:sw,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Pf(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),aw.hasOwnProperty(t)?{space:aw[t],local:e}:e}function _Y(e){return function(){this.removeAttribute(e)}}function vY(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yY(e,t){return function(){this.setAttribute(e,t)}}function bY(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function wY(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function EY(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function lw(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function DY(e){return function(){this.style.removeProperty(e)}}function xY(e,t,n){return function(){this.style.setProperty(e,t,n)}}function MY(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function El(e,t){return e.style.getPropertyValue(t)||lw(e).getComputedStyle(e,null).getPropertyValue(t)}function IY(e){return function(){delete this[e]}}function TY(e,t){return function(){this[e]=t}}function AY(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function lN(e){return e.trim().split(/^|\s+/)}function cw(e){return e.classList||new cN(e)}function cN(e){this._node=e,this._names=lN(e.getAttribute("class")||"")}function uN(e,t){for(var n=cw(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function dN(e,t){for(var n=cw(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function NY(e){return function(){uN(this,e)}}function OY(e){return function(){dN(this,e)}}function RY(e,t){return function(){(t.apply(this,arguments)?uN:dN)(this,e)}}function PY(){this.textContent=""}function LY(e){return function(){this.textContent=e}}function VY(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function HY(){this.innerHTML=""}function jY(e){return function(){this.innerHTML=e}}function UY(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function $Y(){this.nextSibling&&this.parentNode.appendChild(this)}function WY(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function YY(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===sw&&t.documentElement.namespaceURI===sw?t.createElement(e):t.createElementNS(n,e)}}function KY(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Bm(e){var t=Pf(e);return(t.local?KY:YY)(t)}function XY(){return null}function JY(){var e=this.parentNode;e&&e.removeChild(this)}function tK(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function nK(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}cN.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var fN={},Qe=null;function sK(e,t,n){return e=hN(e,t,n),function(r){var i=r.relatedTarget;(!i||i!==this&&!(8&i.compareDocumentPosition(this)))&&e.call(this,r)}}function hN(e,t,n){return function(r){var i=Qe;Qe=r;try{e.call(this,this.__data__,t,n)}finally{Qe=i}}}function lK(e){return function(){var t=this.__on;if(t){for(var o,n=0,r=-1,i=t.length;n<i;++n)o=t[n],e.type&&o.type!==e.type||o.name!==e.name?t[++r]=o:this.removeEventListener(o.type,o.listener,o.capture);++r?t.length=r:delete this.__on}}}function cK(e,t,n){var r=fN.hasOwnProperty(e.type)?sK:hN;return function(i,o,s){var l,a=this.__on,c=r(t,o,s);if(a)for(var u=0,d=a.length;u<d;++u)if((l=a[u]).type===e.type&&l.name===e.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=n),void(l.value=t);this.addEventListener(e.type,c,n),l={type:e.type,name:e.name,value:t,listener:c,capture:n},a?a.push(l):this.__on=[l]}}function Lf(e,t,n,r){var i=Qe;e.sourceEvent=Qe,Qe=e;try{return t.apply(n,r)}finally{Qe=i}}function pN(e,t,n){var r=lw(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function dK(e,t){return function(){return pN(this,e,t)}}function fK(e,t){return function(){return pN(this,e,t.apply(this,arguments))}}typeof document<"u"&&("onmouseenter"in document.documentElement||(fN={mouseenter:"mouseover",mouseleave:"mouseout"}));var uw=[null];function pi(e,t){this._groups=e,this._parents=t}function gN(){return new pi([[document.documentElement]],uw)}pi.prototype=gN.prototype={constructor:pi,select:function Zq(e){"function"!=typeof e&&(e=Lm(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l,c,o=t[i],s=o.length,a=r[i]=new Array(s),u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new pi(r,this._parents)},selectAll:function Qq(e){"function"!=typeof e&&(e=iw(e));for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var l,s=t[o],a=s.length,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new pi(r,i)},filter:function Jq(e){"function"!=typeof e&&(e=ow(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l,o=t[i],s=o.length,a=r[i]=[],c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new pi(r,this._parents)},data:function iY(e,t){if(!e)return g=new Array(this.size()),c=-1,this.each(function(V){g[++c]=V}),g;var n=t?rY:nY,r=this._parents,i=this._groups;"function"!=typeof e&&(e=function tY(e){return function(){return e}}(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],h=d.length,g=e.call(u,u&&u.__data__,c,r),_=g.length,v=a[c]=new Array(_),y=s[c]=new Array(_);n(u,d,v,y,l[c]=new Array(h),g,t);for(var S,F,C=0,D=0;C<_;++C)if(S=v[C]){for(C>=D&&(D=C+1);!(F=y[D])&&++D<_;);S._next=F||null}}return(s=new pi(s,r))._enter=a,s._exit=l,s},enter:function eY(){return new pi(this._enter||this._groups.map(sN),this._parents)},exit:function oY(){return new pi(this._exit||this._groups.map(sN),this._parents)},join:function sY(e,t,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof e?e(r):r.append(e+""),null!=t&&(i=t(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function aY(e){for(var t=this._groups,n=e._groups,r=t.length,o=Math.min(r,n.length),s=new Array(r),a=0;a<o;++a)for(var h,l=t[a],c=n[a],u=l.length,d=s[a]=new Array(u),g=0;g<u;++g)(h=l[g]||c[g])&&(d[g]=h);for(;a<r;++a)s[a]=t[a];return new pi(s,this._parents)},order:function lY(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var s,r=e[t],i=r.length-1,o=r[i];--i>=0;)(s=r[i])&&(o&&4^s.compareDocumentPosition(o)&&o.parentNode.insertBefore(s,o),o=s);return this},sort:function cY(e){function t(d,h){return d&&h?e(d.__data__,h.__data__):!d-!h}e||(e=uY);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var c,s=n[o],a=s.length,l=i[o]=new Array(a),u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new pi(i,this._parents).order()},call:function dY(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function fY(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e},node:function hY(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function pY(){var e=0;return this.each(function(){++e}),e},empty:function gY(){return!this.node()},each:function mY(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a,i=t[n],o=0,s=i.length;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this},attr:function CY(e,t){var n=Pf(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?vY:_Y:"function"==typeof t?n.local?EY:wY:n.local?bY:yY)(n,t))},style:function SY(e,t,n){return arguments.length>1?this.each((null==t?DY:"function"==typeof t?MY:xY)(e,t,n??"")):El(this.node(),e)},property:function kY(e,t){return arguments.length>1?this.each((null==t?IY:"function"==typeof t?AY:TY)(e,t)):this.node()[e]},classed:function FY(e,t){var n=lN(e+"");if(arguments.length<2){for(var r=cw(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?RY:t?NY:OY)(n,t))},text:function BY(e){return arguments.length?this.each(null==e?PY:("function"==typeof e?VY:LY)(e)):this.node().textContent},html:function zY(e){return arguments.length?this.each(null==e?HY:("function"==typeof e?UY:jY)(e)):this.node().innerHTML},raise:function GY(){return this.each($Y)},lower:function qY(){return this.each(WY)},append:function ZY(e){var t="function"==typeof e?e:Bm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function QY(e,t){var n="function"==typeof e?e:Bm(e),r=null==t?XY:"function"==typeof t?t:Lm(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function eK(){return this.each(JY)},clone:function rK(e){return this.select(e?nK:tK)},datum:function iK(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function uK(e,t,n){var i,s,r=function aK(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}(e+""),o=r.length;if(!(arguments.length<2)){for(a=t?cK:lK,null==n&&(n=!1),i=0;i<o;++i)this.each(a(r[i],t,n));return this}var a=this.node().__on;if(a)for(var u,l=0,c=a.length;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value},dispatch:function hK(e,t){return this.each(("function"==typeof t?fK:dK)(e,t))}};const _u=gN;function nn(e){return"string"==typeof e?new pi([[document.querySelector(e)]],[document.documentElement]):new pi([[e]],uw)}function dw(){Qe.stopImmediatePropagation()}function vu(){Qe.preventDefault(),Qe.stopImmediatePropagation()}function Hm(e){var t=e.document.documentElement,n=nn(e).on("dragstart.drag",vu,!0);"onselectstart"in t?n.on("selectstart.drag",vu,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jm(e,t){var n=e.document.documentElement,r=nn(e).on("dragstart.drag",null);t&&(r.on("click.drag",vu,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function yu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Vf(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Da(){}var bu=1/.7,wu="\\s*([+-]?\\d+)\\s*",Bf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pK=/^#([0-9a-f]{3,8})$/,gK=new RegExp("^rgb\\("+[wu,wu,wu]+"\\)$"),mK=new RegExp("^rgb\\("+[_s,_s,_s]+"\\)$"),_K=new RegExp("^rgba\\("+[wu,wu,wu,Bf]+"\\)$"),vK=new RegExp("^rgba\\("+[_s,_s,_s,Bf]+"\\)$"),yK=new RegExp("^hsl\\("+[Bf,_s,_s]+"\\)$"),bK=new RegExp("^hsla\\("+[Bf,_s,_s,Bf]+"\\)$"),mN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _N(){return this.rgb().formatHex()}function vN(){return this.rgb().formatRgb()}function xa(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=pK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?yN(t):3===n?new Vr(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?Um(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?Um(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=gK.exec(e))?new Vr(t[1],t[2],t[3],1):(t=mK.exec(e))?new Vr(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=_K.exec(e))?Um(t[1],t[2],t[3],t[4]):(t=vK.exec(e))?Um(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=yK.exec(e))?EN(t[1],t[2]/100,t[3]/100,1):(t=bK.exec(e))?EN(t[1],t[2]/100,t[3]/100,t[4]):mN.hasOwnProperty(e)?yN(mN[e]):"transparent"===e?new Vr(NaN,NaN,NaN,0):null}function yN(e){return new Vr(e>>16&255,e>>8&255,255&e,1)}function Um(e,t,n,r){return r<=0&&(e=t=n=NaN),new Vr(e,t,n,r)}function fw(e){return e instanceof Da||(e=xa(e)),e?new Vr((e=e.rgb()).r,e.g,e.b,e.opacity):new Vr}function Eu(e,t,n,r){return 1===arguments.length?fw(e):new Vr(e,t,n,r??1)}function Vr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function bN(){return"#"+hw(this.r)+hw(this.g)+hw(this.b)}function wN(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function hw(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function EN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new vs(e,t,n,r)}function CN(e){if(e instanceof vs)return new vs(e.h,e.s,e.l,e.opacity);if(e instanceof Da||(e=xa(e)),!e)return new vs;if(e instanceof vs)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new vs(s,a,l,e.opacity)}function zm(e,t,n,r){return 1===arguments.length?CN(e):new vs(e,t,n,r??1)}function vs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function pw(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function DN(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function xN(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1];return DN((n-r/t)*t,r>0?e[r-1]:2*i-o,i,o,r<t-1?e[r+2]:2*o-i)}}function MN(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t);return DN((n-r/t)*t,e[(r+t-1)%t],e[r%t],e[(r+1)%t],e[(r+2)%t])}}function $m(e){return function(){return e}}function SN(e,t){return function(n){return e+n*t}}function Gm(e,t){var n=t-e;return n?SN(e,n>180||n<-180?n-360*Math.round(n/360):n):$m(isNaN(e)?t:e)}function Fr(e,t){var n=t-e;return n?SN(e,n):$m(isNaN(e)?t:e)}yu(Da,xa,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:_N,formatHex:_N,formatHsl:function wK(){return CN(this).formatHsl()},formatRgb:vN,toString:vN}),yu(Vr,Eu,Vf(Da,{brighter:function(e){return e=null==e?bu:Math.pow(bu,e),new Vr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Vr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bN,formatHex:bN,formatRgb:wN,toString:wN})),yu(vs,zm,Vf(Da,{brighter:function(e){return e=null==e?bu:Math.pow(bu,e),new vs(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new vs(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Vr(pw(e>=240?e-240:e+120,i,r),pw(e,i,r),pw(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const Hf=function e(t){var n=function CK(e){return 1==(e=+e)?Fr:function(t,n){return n-t?function EK(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):$m(isNaN(t)?n:t)}}(t);function r(i,o){var s=n((i=Eu(i)).r,(o=Eu(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=Fr(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function IN(e){return function(t){var s,a,n=t.length,r=new Array(n),i=new Array(n),o=new Array(n);for(s=0;s<n;++s)a=Eu(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var TN=IN(xN),DK=IN(MN);function gw(e,t){t||(t=[]);var i,n=e?Math.min(t.length,e.length):0,r=t.slice();return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function AN(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xK(e,t){return(AN(t)?gw:kN)(e,t)}function kN(e,t){var s,n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n);for(s=0;s<r;++s)i[s]=jf(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function NN(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function so(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ON(e,t){var i,n={},r={};for(i in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)i in e?n[i]=jf(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var mw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_w=new RegExp(mw.source,"g");function vw(e,t){var r,i,o,n=mw.lastIndex=_w.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(r=mw.exec(e))&&(i=_w.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:so(r,i)})),n=_w.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?function SK(e){return function(t){return e(t)+""}}(l[0].x):function MK(e){return function(){return e}}(t):(t=l.length,function(c){for(var d,u=0;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function jf(e,t){var r,n=typeof t;return null==t||"boolean"===n?$m(t):("number"===n?so:"string"===n?(r=xa(t))?(t=r,Hf):vw:t instanceof xa?Hf:t instanceof Date?NN:AN(t)?gw:Array.isArray(t)?kN:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?ON:so)(e,t)}function yw(){for(var t,e=Qe;t=e.sourceEvent;)e=t;return e}function Wm(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}function Uf(e,t,n){arguments.length<3&&(n=t,t=yw().changedTouches);for(var o,r=0,i=t?t.length:0;r<i;++r)if((o=t[r]).identifier===n)return Wm(e,o);return null}function Dl(e){var t=yw();return t.changedTouches&&(t=t.changedTouches[0]),Wm(e,t)}var qm,Gf,Cu=0,zf=0,$f=0,RN=1e3,Ym=0,xl=0,Km=0,Wf="object"==typeof performance&&performance.now?performance:Date,FN="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Du(){return xl||(FN(IK),xl=Wf.now()+Km)}function IK(){xl=0}function qf(){this._call=this._time=this._next=null}function Zm(e,t,n){var r=new qf;return r.restart(e,t,n),r}function PN(){Du(),++Cu;for(var t,e=qm;e;)(t=xl-e._time)>=0&&e._call.call(null,t),e=e._next;--Cu}function LN(){xl=(Ym=Wf.now())+Km,Cu=zf=0;try{PN()}finally{Cu=0,function AK(){for(var e,n,t=qm,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:qm=n);Gf=e,bw(r)}(),xl=0}}function TK(){var e=Wf.now(),t=e-Ym;t>RN&&(Km-=t,Ym=e)}function bw(e){Cu||(zf&&(zf=clearTimeout(zf)),e-xl>24?(e<1/0&&(zf=setTimeout(LN,e-Wf.now()-Km)),$f&&($f=clearInterval($f))):($f||(Ym=Wf.now(),$f=setInterval(TK,RN)),Cu=1,FN(LN)))}function ww(e,t,n){var r=new qf;return r.restart(function(i){r.stop(),e(i+t)},t=null==t?0:+t,n),r}qf.prototype=Zm.prototype={constructor:qf,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Du():+n)+(null==t?0:+t),!this._next&&Gf!==this&&(Gf?Gf._next=this:qm=this,Gf=this),this._call=e,this._time=n,bw()},stop:function(){this._call&&(this._call=null,this._time=1/0,bw())}};var kK=mu("start","end","cancel","interrupt"),NK=[],VN=0,Ew=1,Cw=2,Xm=3,Dw=5,Qm=6;function Jm(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function OK(e,t,n){var i,r=e.__transition;function s(c){var u,d,h,g;if(n.state!==Ew)return l();for(u in r)if((g=r[u]).name===n.name){if(g.state===Xm)return ww(s);4===g.state?(g.state=Qm,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[u]):+u<t&&(g.state=Qm,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[u])}if(ww(function(){n.state===Xm&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Cw,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Cw){for(n.state=Xm,i=new Array(h=n.tween.length),u=0,d=-1;u<h;++u)(g=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=g);i.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Dw,1),d=-1,h=i.length;++d<h;)i[d].call(e,u);n.state===Dw&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var c in n.state=Qm,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=Zm(function o(c){n.state=Ew,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)},0,n.time)}(e,n,{name:t,index:r,group:i,on:kK,tween:NK,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:VN})}function xw(e,t){var n=Oo(e,t);if(n.state>VN)throw new Error("too late; already scheduled");return n}function Ys(e,t){var n=Oo(e,t);if(n.state>Xm)throw new Error("too late; already running");return n}function Oo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ml(e,t){var r,i,s,n=e.__transition,o=!0;if(n){for(s in t=null==t?null:t+"",n)(r=n[s]).name===t?(i=r.state>Cw&&r.state<Dw,r.state=Qm,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]):o=!1;o&&delete e.__transition}}var Yf,Sw,UN,e_,HN=180/Math.PI,Mw={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jN(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*HN,skewX:Math.atan(l)*HN,scaleX:s,scaleY:a}}function zN(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}return function(c,u){var d=[],h=[];return c=e(c),u=e(u),function o(c,u,d,h,g,_){if(c!==d||u!==h){var v=g.push("translate(",null,t,null,n);_.push({i:v-4,x:so(c,d)},{i:v-2,x:so(u,h)})}else(d||h)&&g.push("translate("+d+t+h+n)}(c.translateX,c.translateY,u.translateX,u.translateY,d,h),function s(c,u,d,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:so(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}(c.rotate,u.rotate,d,h),function a(c,u,d,h){c!==u?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:so(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}(c.skewX,u.skewX,d,h),function l(c,u,d,h,g,_){if(c!==d||u!==h){var v=g.push(i(g)+"scale(",null,",",null,")");_.push({i:v-4,x:so(c,d)},{i:v-2,x:so(u,h)})}else(1!==d||1!==h)&&g.push(i(g)+"scale("+d+","+h+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,h),c=u=null,function(g){for(var y,_=-1,v=h.length;++_<v;)d[(y=h[_]).i]=y.x(g);return d.join("")}}}var $N=zN(function FK(e){return"none"===e?Mw:(Yf||(Yf=document.createElement("DIV"),Sw=document.documentElement,UN=document.defaultView),Yf.style.transform=e,e=UN.getComputedStyle(Sw.appendChild(Yf),null).getPropertyValue("transform"),Sw.removeChild(Yf),jN(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))},"px, ","px)","deg)"),GN=zN(function PK(e){return null!=e&&(e_||(e_=document.createElementNS("http://www.w3.org/2000/svg","g")),e_.setAttribute("transform",e),e=e_.transform.baseVal.consolidate())?jN((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Mw},", ",")",")");function LK(e,t){var n,r;return function(){var i=Ys(this,e),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function VK(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Ys(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function Iw(e,t,n){var r=e._id;return e.each(function(){var i=Ys(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Oo(i,r).value[t]}}function WN(e,t){var n;return("number"==typeof t?so:t instanceof xa?Hf:(n=xa(t))?(t=n,Hf):vw)(e,t)}function HK(e){return function(){this.removeAttribute(e)}}function jK(e){return function(){this.removeAttributeNS(e.space,e.local)}}function UK(e,t,n){var r,o,i=n+"";return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function zK(e,t,n){var r,o,i=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function $K(e,t,n){var r,i,o;return function(){var s,l,a=n(this);return null==a?void this.removeAttribute(e):(s=this.getAttribute(e))===(l=a+"")?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function GK(e,t,n){var r,i,o;return function(){var s,l,a=n(this);return null==a?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local))===(l=a+"")?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function KK(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function YK(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return i._value=t,i}function ZK(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function qK(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return i._value=t,i}function QK(e,t){return function(){xw(this,e).delay=+t.apply(this,arguments)}}function JK(e,t){return t=+t,function(){xw(this,e).delay=t}}function tZ(e,t){return function(){Ys(this,e).duration=+t.apply(this,arguments)}}function nZ(e,t){return t=+t,function(){Ys(this,e).duration=t}}var gZ=_u.prototype.constructor;function qN(e){return function(){this.style.removeProperty(e)}}var OZ=0;function ys(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Tw(e){return _u().transition(e)}function YN(){return++OZ}var xu=_u.prototype;function RZ(e){return e*e*e}function FZ(e){return--e*e*e+1}function Aw(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}ys.prototype=Tw.prototype={constructor:ys,select:function hZ(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Lm(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var u,d,a=r[s],l=a.length,c=o[s]=new Array(l),h=0;h<l;++h)(u=a[h])&&(d=e.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d,Jm(c[h],t,n,h,c,Oo(u,n)));return new ys(o,this._parents,t,n)},selectAll:function pZ(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=iw(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u,l=r[a],c=l.length,d=0;d<c;++d)if(u=l[d]){for(var g,h=e.call(u,u.__data__,d,l),_=Oo(u,n),v=0,y=h.length;v<y;++v)(g=h[v])&&Jm(g,t,n,v,h,_);o.push(h),s.push(u)}return new ys(o,s,t,n)},filter:function sZ(e){"function"!=typeof e&&(e=ow(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var l,o=t[i],s=o.length,a=r[i]=[],c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new ys(r,this._parents,this._name,this._id)},merge:function aZ(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=Math.min(r,n.length),s=new Array(r),a=0;a<o;++a)for(var h,l=t[a],c=n[a],u=l.length,d=s[a]=new Array(u),g=0;g<u;++g)(h=l[g]||c[g])&&(d[g]=h);for(;a<r;++a)s[a]=t[a];return new ys(s,this._parents,this._name,this._id)},selection:function mZ(){return new gZ(this._groups,this._parents)},transition:function kZ(){for(var e=this._name,t=this._id,n=YN(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l,s=r[o],a=s.length,c=0;c<a;++c)if(l=s[c]){var u=Oo(l,t);Jm(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ys(r,this._parents,e,n)},call:xu.call,nodes:xu.nodes,node:xu.node,size:xu.size,empty:xu.empty,each:xu.each,on:function uZ(e,t){var n=this._id;return arguments.length<2?Oo(this.node(),n).on.on(e):this.each(function cZ(e,t,n){var r,i,o=function lZ(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(t)?xw:Ys;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function WK(e,t){var n=Pf(e),r="transform"===n?GN:WN;return this.attrTween(e,"function"==typeof t?(n.local?GK:$K)(n,r,Iw(this,"attr."+e,t)):null==t?(n.local?jK:HK)(n):(n.local?zK:UK)(n,r,t))},attrTween:function XK(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=Pf(e);return this.tween(n,(r.local?KK:ZK)(r,t))},style:function wZ(e,t,n){var r="transform"==(e+="")?$N:WN;return null==t?this.styleTween(e,function _Z(e,t){var n,r,i;return function(){var o=El(this,e),s=(this.style.removeProperty(e),El(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}(e,r)).on("end.style."+e,qN(e)):"function"==typeof t?this.styleTween(e,function yZ(e,t,n){var r,i,o;return function(){var s=El(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=El(this,e)),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}(e,r,Iw(this,"style."+e,t))).each(function bZ(e,t){var n,r,i,a,o="style."+t,s="end."+o;return function(){var l=Ys(this,e),c=l.on,u=null==l.value[o]?a||(a=qN(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function vZ(e,t,n){var r,o,i=n+"";return function(){var s=El(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function DZ(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function CZ(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&function EZ(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,s,n)),r}return o._value=t,o}(e,t,n??""))},text:function SZ(e){return this.tween("text","function"==typeof e?function MZ(e){return function(){var t=e(this);this.textContent=t??""}}(Iw(this,"text",e)):function xZ(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function AZ(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function TZ(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&function IZ(e){return function(t){this.textContent=e.call(this,t)}}(i)),t}return r._value=e,r}(e))},remove:function fZ(){return this.on("end.remove",function dZ(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function BK(e,t){var n=this._id;if(e+="",arguments.length<2){for(var s,r=Oo(this.node(),n).tween,i=0,o=r.length;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((null==t?LK:VK)(n,e,t))},delay:function eZ(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?QK:JK)(t,e)):Oo(this.node(),t).delay},duration:function rZ(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?tZ:nZ)(t,e)):Oo(this.node(),t).duration},ease:function oZ(e){var t=this._id;return arguments.length?this.each(function iZ(e,t){if("function"!=typeof t)throw new Error;return function(){Ys(this,e).ease=t}}(t,e)):Oo(this.node(),t).ease},end:function NZ(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){0==--i&&o()}};n.each(function(){var c=Ys(this,r),u=c.on;u!==e&&((t=(e=u).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t})})}};var kw={time:null,delay:0,duration:250,ease:Aw};function PZ(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return kw.time=Du(),kw;return n}_u.prototype.interrupt=function RK(e){return this.each(function(){Ml(this,e)})},_u.prototype.transition=function LZ(e){var t,n;e instanceof ys?(t=e._id,e=e._name):(t=YN(),(n=kw).time=Du(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l,s=r[o],a=s.length,c=0;c<a;++c)(l=s[c])&&Jm(l,e,t,c,s,n||PZ(l,t));return new ys(r,this._parents,e,t)};var VZ=[null];function BZ(e,t){var r,i,n=e.__transition;if(n)for(i in t=null==t?null:t+"",n)if((r=n[i]).state>Ew&&r.name===t)return new ys([[e]],VZ,t,+i);return null}function Nw(e){return function(){return e}}function HZ(e,t,n){this.target=e,this.type=t,this.selection=n}function KN(){Qe.stopImmediatePropagation()}function Ow(){Qe.preventDefault(),Qe.stopImmediatePropagation()}var ZN={name:"drag"},Rw={name:"space"},Mu={name:"handle"},Su={name:"center"};function XN(e){return[+e[0],+e[1]]}function Fw(e){return[XN(e[0]),XN(e[1])]}var t_={name:"x",handles:["w","e"].map(Kf),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},n_={name:"y",handles:["n","s"].map(Kf),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},UZ={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Kf),input:function(e){return null==e?null:Fw(e)},output:function(e){return e}},Ks={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},QN={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},JN={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},zZ={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},$Z={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Kf(e){return{type:e}}function GZ(){return!Qe.ctrlKey&&!Qe.button}function WZ(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function qZ(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pw(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function KZ(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function ZZ(){return Lw(t_)}function XZ(){return Lw(n_)}function eO(){return Lw(UZ)}function Lw(e){var a,t=WZ,n=GZ,r=qZ,i=!0,o=mu("start","brush","end"),s=6;function l(y){var w=y.property("__brush",v).selectAll(".overlay").data([Kf("overlay")]);w.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ks.overlay).merge(w).each(function(){var D=Pw(this).extent;nn(this).attr("x",D[0][0]).attr("y",D[0][1]).attr("width",D[1][0]-D[0][0]).attr("height",D[1][1]-D[0][1])}),y.selectAll(".selection").data([Kf("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ks.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var C=y.selectAll(".handle").data(e.handles,function(D){return D.type});C.exit().remove(),C.enter().append("rect").attr("class",function(D){return"handle handle--"+D.type}).attr("cursor",function(D){return Ks[D.type]}),y.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var y=nn(this),w=Pw(this).selection;w?(y.selectAll(".selection").style("display",null).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1]),y.selectAll(".handle").style("display",null).attr("x",function(C){return"e"===C.type[C.type.length-1]?w[1][0]-s/2:w[0][0]-s/2}).attr("y",function(C){return"s"===C.type[0]?w[1][1]-s/2:w[0][1]-s/2}).attr("width",function(C){return"n"===C.type||"s"===C.type?w[1][0]-w[0][0]+s:s}).attr("height",function(C){return"e"===C.type||"w"===C.type?w[1][1]-w[0][1]+s:s})):y.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(y,w,C){var D=y.__brush.emitter;return!D||C&&D.clean?new d(y,w,C):D}function d(y,w,C){this.that=y,this.args=w,this.state=y.__brush,this.active=0,this.clean=C}function h(){if((!a||Qe.touches)&&n.apply(this,arguments)){var oe,de,T,ne,ee,De,at,gt,Dn,Rt,sr,y=this,w=Qe.target.__data__.type,C="selection"===(i&&Qe.metaKey?w="overlay":w)?ZN:i&&Qe.altKey?Su:Mu,D=e===n_?null:zZ[w],S=e===t_?null:$Z[w],F=Pw(y),V=F.extent,K=F.selection,he=V[0][0],re=V[0][1],Te=V[1][0],ct=V[1][1],Lt=0,Vt=0,Tt=D&&S&&i&&Qe.shiftKey,Ri=Qe.touches?function jZ(e){return function(t){return Uf(t,Qe.touches,e)}}(Qe.changedTouches[0].identifier):Dl,Fi=Ri(y),Pi=Fi,L=u(y,arguments,!0).beforestart();"overlay"===w?(K&&(Dn=!0),F.selection=K=[[oe=e===n_?he:Fi[0],T=e===t_?re:Fi[1]],[ee=e===n_?Te:oe,at=e===t_?ct:T]]):(oe=K[0][0],T=K[0][1],ee=K[1][0],at=K[1][1]),de=oe,ne=T,De=ee,gt=at;var Ne=nn(y).attr("pointer-events","none"),Ge=Ne.selectAll(".overlay").attr("cursor",Ks[w]);if(Qe.touches)L.moved=mt,L.ended=un;else{var be=nn(Qe.view).on("mousemove.brush",mt,!0).on("mouseup.brush",un,!0);i&&be.on("keydown.brush",function Wt(){switch(Qe.keyCode){case 16:Tt=D&&S;break;case 18:C===Mu&&(D&&(ee=De-Lt*D,oe=de+Lt*D),S&&(at=gt-Vt*S,T=ne+Vt*S),C=Su,Ft());break;case 32:(C===Mu||C===Su)&&(D<0?ee=De-Lt:D>0&&(oe=de-Lt),S<0?at=gt-Vt:S>0&&(T=ne-Vt),C=Rw,Ge.attr("cursor",Ks.selection),Ft());break;default:return}Ow()},!0).on("keyup.brush",function Tr(){switch(Qe.keyCode){case 16:Tt&&(Rt=sr=Tt=!1,Ft());break;case 18:C===Su&&(D<0?ee=De:D>0&&(oe=de),S<0?at=gt:S>0&&(T=ne),C=Mu,Ft());break;case 32:C===Rw&&(Qe.altKey?(D&&(ee=De-Lt*D,oe=de+Lt*D),S&&(at=gt-Vt*S,T=ne+Vt*S),C=Su):(D<0?ee=De:D>0&&(oe=de),S<0?at=gt:S>0&&(T=ne),C=Mu),Ge.attr("cursor",Ks[w]),Ft());break;default:return}Ow()},!0),Hm(Qe.view)}KN(),Ml(y),c.call(y),L.start()}function mt(){var bn=Ri(y);Tt&&!Rt&&!sr&&(Math.abs(bn[0]-Pi[0])>Math.abs(bn[1]-Pi[1])?sr=!0:Rt=!0),Pi=bn,Dn=!0,Ow(),Ft()}function Ft(){var bn;switch(Lt=Pi[0]-Fi[0],Vt=Pi[1]-Fi[1],C){case Rw:case ZN:D&&(Lt=Math.max(he-oe,Math.min(Te-ee,Lt)),de=oe+Lt,De=ee+Lt),S&&(Vt=Math.max(re-T,Math.min(ct-at,Vt)),ne=T+Vt,gt=at+Vt);break;case Mu:D<0?(Lt=Math.max(he-oe,Math.min(Te-oe,Lt)),de=oe+Lt,De=ee):D>0&&(Lt=Math.max(he-ee,Math.min(Te-ee,Lt)),de=oe,De=ee+Lt),S<0?(Vt=Math.max(re-T,Math.min(ct-T,Vt)),ne=T+Vt,gt=at):S>0&&(Vt=Math.max(re-at,Math.min(ct-at,Vt)),ne=T,gt=at+Vt);break;case Su:D&&(de=Math.max(he,Math.min(Te,oe-Lt*D)),De=Math.max(he,Math.min(Te,ee+Lt*D))),S&&(ne=Math.max(re,Math.min(ct,T-Vt*S)),gt=Math.max(re,Math.min(ct,at+Vt*S)))}De<de&&(D*=-1,bn=oe,oe=ee,ee=bn,bn=de,de=De,De=bn,w in QN&&Ge.attr("cursor",Ks[w=QN[w]])),gt<ne&&(S*=-1,bn=T,T=at,at=bn,bn=ne,ne=gt,gt=bn,w in JN&&Ge.attr("cursor",Ks[w=JN[w]])),F.selection&&(K=F.selection),Rt&&(de=K[0][0],De=K[1][0]),sr&&(ne=K[0][1],gt=K[1][1]),(K[0][0]!==de||K[0][1]!==ne||K[1][0]!==De||K[1][1]!==gt)&&(F.selection=[[de,ne],[De,gt]],c.call(y),L.brush())}function un(){if(KN(),Qe.touches){if(Qe.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else jm(Qe.view,Dn),be.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ne.attr("pointer-events","all"),Ge.attr("cursor",Ks.overlay),F.selection&&(K=F.selection),function YZ(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(K)&&(F.selection=null,c.call(y)),L.end()}}function g(){u(this,arguments).moved()}function _(){u(this,arguments).ended()}function v(){var y=this.__brush||{selection:null};return y.extent=Fw(t.apply(this,arguments)),y.dim=e,y}return l.move=function(y,w){y.selection?y.on("start.brush",function(){u(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){u(this,arguments).end()}).tween("brush",function(){var C=this,D=C.__brush,S=u(C,arguments),F=D.selection,V=e.input("function"==typeof w?w.apply(this,arguments):w,D.extent),K=jf(F,V);function he(oe){D.selection=1===oe&&null===V?null:K(oe),c.call(C),S.brush()}return null!==F&&null!==V?he:he(1)}):y.each(function(){var C=this,D=arguments,S=C.__brush,F=e.input("function"==typeof w?w.apply(C,D):w,S.extent),V=u(C,D).beforestart();Ml(C),S.selection=null===F?null:F,c.call(C),V.start().brush().end()})},l.clear=function(y){l.move(y,null)},d.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(y){Lf(new HZ(l,y,e.output(this.state.selection)),o.apply,o,[y,this.that,this.args])}},l.extent=function(y){return arguments.length?(t="function"==typeof y?y:Nw(Fw(y)),l):t},l.filter=function(y){return arguments.length?(n="function"==typeof y?y:Nw(!!y),l):n},l.touchable=function(y){return arguments.length?(r="function"==typeof y?y:Nw(!!y),l):r},l.handleSize=function(y){return arguments.length?(s=+y,l):s},l.keyModifiers=function(y){return arguments.length?(i=!!y,l):i},l.on=function(){var y=o.on.apply(o,arguments);return y===o?l:y},l}var tO=Math.cos,nO=Math.sin,rO=Math.PI,r_=rO/2,iO=2*rO,oO=Math.max;function JZ(){var e=0,t=null,n=null,r=null;function i(o){var g,_,v,y,w,C,s=o.length,a=[],l=qi(s),c=[],u=[],d=u.groups=new Array(s),h=new Array(s*s);for(g=0,w=-1;++w<s;){for(_=0,C=-1;++C<s;)_+=o[w][C];a.push(_),c.push(qi(s)),g+=_}for(t&&l.sort(function(de,re){return t(a[de],a[re])}),n&&c.forEach(function(de,re){de.sort(function(T,ne){return n(o[re][T],o[re][ne])})}),y=(g=oO(0,iO-e*s)/g)?e:iO/s,_=0,w=-1;++w<s;){for(v=_,C=-1;++C<s;){var D=l[w],S=c[D][C],F=o[D][S],V=_,K=_+=F*g;h[S*s+D]={index:D,subindex:S,startAngle:V,endAngle:K,value:F}}d[D]={index:D,startAngle:v,endAngle:_,value:a[D]},_+=y}for(w=-1;++w<s;)for(C=w-1;++C<s;){var he=h[C*s+w],oe=h[w*s+C];(he.value||oe.value)&&u.push(he.value<oe.value?{source:oe,target:he}:{source:he,target:oe})}return r?u.sort(r):u}return i.padAngle=function(o){return arguments.length?(e=oO(0,o),i):e},i.sortGroups=function(o){return arguments.length?(t=o,i):t},i.sortSubgroups=function(o){return arguments.length?(n=o,i):n},i.sortChords=function(o){return arguments.length?(null==o?r=null:(r=function QZ(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}(o))._=o,i):r&&r._},i}var eX=Array.prototype.slice;function Vw(e){return function(){return e}}var Bw=Math.PI,Hw=2*Bw,Sl=1e-6,tX=Hw-Sl;function jw(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function sO(){return new jw}jw.prototype=sO.prototype={constructor:jw,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){var o=this._x1,s=this._y1,a=(n=+n)-(e=+e),l=(r=+r)-(t=+t),c=o-e,u=s-t,d=c*c+u*u;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>Sl)if(Math.abs(u*a-l*c)>Sl&&i){var h=n-o,g=r-s,_=a*a+l*l,v=h*h+g*g,y=Math.sqrt(_),w=Math.sqrt(d),C=i*Math.tan((Bw-Math.acos((_+d-v)/(2*y*w)))/2),D=C/w,S=C/y;Math.abs(D-1)>Sl&&(this._+="L"+(e+D*c)+","+(t+D*u)),this._+="A"+i+","+i+",0,0,"+ +(u*h>c*g)+","+(this._x1=e+S*a)+","+(this._y1=t+S*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var s=(n=+n)*Math.cos(r),a=n*Math.sin(r),l=e+s,c=t+a,u=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Sl||Math.abs(this._y1-c)>Sl)&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%Hw+Hw),d>tX?this._+="A"+n+","+n+",0,1,"+u+","+(e-s)+","+(t-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>Sl&&(this._+="A"+n+","+n+",0,"+ +(d>=Bw)+","+u+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const Il=sO;function nX(e){return e.source}function rX(e){return e.target}function iX(e){return e.radius}function oX(e){return e.startAngle}function sX(e){return e.endAngle}function aX(){var e=nX,t=rX,n=iX,r=oX,i=sX,o=null;function s(){var a,l=eX.call(arguments),c=e.apply(this,l),u=t.apply(this,l),d=+n.apply(this,(l[0]=c,l)),h=r.apply(this,l)-r_,g=i.apply(this,l)-r_,_=d*tO(h),v=d*nO(h),y=+n.apply(this,(l[0]=u,l)),w=r.apply(this,l)-r_,C=i.apply(this,l)-r_;if(o||(o=a=Il()),o.moveTo(_,v),o.arc(0,0,d,h,g),(h!==w||g!==C)&&(o.quadraticCurveTo(0,0,y*tO(w),y*nO(w)),o.arc(0,0,y,w,C)),o.quadraticCurveTo(0,0,_,v),o.closePath(),a)return o=null,a+""||null}return s.radius=function(a){return arguments.length?(n="function"==typeof a?a:Vw(+a),s):n},s.startAngle=function(a){return arguments.length?(r="function"==typeof a?a:Vw(+a),s):r},s.endAngle=function(a){return arguments.length?(i="function"==typeof a?a:Vw(+a),s):i},s.source=function(a){return arguments.length?(e=a,s):e},s.target=function(a){return arguments.length?(t=a,s):t},s.context=function(a){return arguments.length?(o=a??null,s):o},s}var ao="$";function i_(){}function aO(e,t){var n=new i_;if(e instanceof i_)e.each(function(a,l){n.set(l,a)});else if(Array.isArray(e)){var o,r=-1,i=e.length;if(null==t)for(;++r<i;)n.set(r,e[r]);else for(;++r<i;)n.set(t(o=e[r],r,e),o)}else if(e)for(var s in e)n.set(s,e[s]);return n}i_.prototype=aO.prototype={constructor:i_,has:function(e){return ao+e in this},get:function(e){return this[ao+e]},set:function(e,t){return this[ao+e]=t,this},remove:function(e){var t=ao+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===ao&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===ao&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===ao&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===ao&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===ao&&++e;return e},empty:function(){for(var e in this)if(e[0]===ao)return!1;return!0},each:function(e){for(var t in this)t[0]===ao&&e(this[t],t.slice(1),this)}};const Ma=aO;function lX(){var n,r,i,e=[],t=[];function o(a,l,c,u){if(l>=e.length)return null!=n&&a.sort(n),null!=r?r(a):a;for(var _,v,w,d=-1,h=a.length,g=e[l++],y=Ma(),C=c();++d<h;)(w=y.get(_=g(v=a[d])+""))?w.push(v):y.set(_,[v]);return y.each(function(D,S){u(C,S,o(D,l,c,u))}),C}function s(a,l){if(++l>e.length)return a;var c,u=t[l-1];return null!=r&&l>=e.length?c=a.entries():(c=[],a.each(function(d,h){c.push({key:h,values:s(d,l)})})),null!=u?c.sort(function(d,h){return u(d.key,h.key)}):c}return i={object:function(a){return o(a,0,cX,uX)},map:function(a){return o(a,0,lO,cO)},entries:function(a){return s(o(a,0,lO,cO),0)},key:function(a){return e.push(a),i},sortKeys:function(a){return t[e.length-1]=a,i},sortValues:function(a){return n=a,i},rollup:function(a){return r=a,i}}}function cX(){return{}}function uX(e,t,n){e[t]=n}function lO(){return Ma()}function cO(e,t,n){e.set(t,n)}function o_(){}var Tl=Ma.prototype;function uO(e,t){var n=new o_;if(e instanceof o_)e.each(function(o){n.add(o)});else if(e){var r=-1,i=e.length;if(null==t)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}o_.prototype=uO.prototype={constructor:o_,has:Tl.has,add:function(e){return this[ao+(e+="")]=e,this},remove:Tl.remove,clear:Tl.clear,values:Tl.keys,size:Tl.size,empty:Tl.empty,each:Tl.each};const dX=uO;function fX(e){var t=[];for(var n in e)t.push(n);return t}function hX(e){var t=[];for(var n in e)t.push(e[n]);return t}function pX(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}var dO=Math.PI/180,fO=180/Math.PI,hO=.96422,pO=1,gO=.82521,mO=4/29,Iu=6/29,_O=3*Iu*Iu,gX=Iu*Iu*Iu;function vO(e){if(e instanceof Ro)return new Ro(e.l,e.a,e.b,e.opacity);if(e instanceof bs)return bO(e);e instanceof Vr||(e=fw(e));var o,s,t=Gw(e.r),n=Gw(e.g),r=Gw(e.b),i=Uw((.2225045*t+.7168786*n+.0606169*r)/pO);return t===n&&n===r?o=s=i:(o=Uw((.4360747*t+.3850649*n+.1430804*r)/hO),s=Uw((.0139322*t+.0971045*n+.7141733*r)/gO)),new Ro(116*i-16,500*(o-i),200*(i-s),e.opacity)}function mX(e,t){return new Ro(e,0,0,t??1)}function a_(e,t,n,r){return 1===arguments.length?vO(e):new Ro(e,t,n,r??1)}function Ro(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function Uw(e){return e>gX?Math.pow(e,1/3):e/_O+mO}function zw(e){return e>Iu?e*e*e:_O*(e-mO)}function $w(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Gw(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function yO(e){if(e instanceof bs)return new bs(e.h,e.c,e.l,e.opacity);if(e instanceof Ro||(e=vO(e)),0===e.a&&0===e.b)return new bs(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*fO;return new bs(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function _X(e,t,n,r){return 1===arguments.length?yO(e):new bs(n,t,e,r??1)}function l_(e,t,n,r){return 1===arguments.length?yO(e):new bs(e,t,n,r??1)}function bs(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function bO(e){if(isNaN(e.h))return new Ro(e.l,0,0,e.opacity);var t=e.h*dO;return new Ro(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}yu(Ro,a_,Vf(Da,{brighter:function(e){return new Ro(this.l+18*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new Ro(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new Vr($w(3.1338561*(t=hO*zw(t))-1.6168667*(e=pO*zw(e))-.4906146*(n=gO*zw(n))),$w(-.9787684*t+1.9161415*e+.033454*n),$w(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),yu(bs,l_,Vf(Da,{brighter:function(e){return new bs(this.h,this.c,this.l+18*(e??1),this.opacity)},darker:function(e){return new bs(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb:function(){return bO(this).rgb()}}));var Ww=1.78277,qw=-.29227,c_=-.90649,Zf=1.97294,EO=Zf*c_,CO=Zf*Ww,DO=Ww*qw- -.14861*c_;function Fo(e,t,n,r){return 1===arguments.length?function vX(e){if(e instanceof Al)return new Al(e.h,e.s,e.l,e.opacity);e instanceof Vr||(e=fw(e));var n=e.g/255,r=e.b/255,i=(DO*r+EO*(e.r/255)-CO*n)/(DO+EO-CO),o=r-i,s=(Zf*(n-i)-qw*o)/c_,a=Math.sqrt(s*s+o*o)/(Zf*i*(1-i)),l=a?Math.atan2(s,o)*fO-120:NaN;return new Al(l<0?l+360:l,a,i,e.opacity)}(e):new Al(e,t,n,r??1)}function Al(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yu(Al,Fo,Vf(Da,{brighter:function(e){return e=null==e?bu:Math.pow(bu,e),new Al(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new Al(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*dO,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Vr(255*(t+n*(-.14861*r+Ww*i)),255*(t+n*(qw*r+c_*i)),255*(t+n*(Zf*r)),this.opacity)}}));var xO=Array.prototype.slice;function bX(e,t){return e-t}function Sa(e){return function(){return e}}function EX(e,t){for(var i,n=-1,r=t.length;++n<r;)if(i=CX(e,t[n]))return i;return 0}function CX(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],c=l[0],u=l[1],d=e[a],h=d[0],g=d[1];if(DX(l,d,t))return 0;u>r!=g>r&&n<(h-c)*(r-u)/(g-u)+c&&(i=-i)}return i}function DX(e,t,n){var r;return function xX(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&function MX(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}(e[r=+(e[0]===t[0])],n[r],t[r])}function SX(){}var Zs=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function MO(){var e=1,t=1,n=ew,r=l;function i(c){var u=n(c);if(Array.isArray(u))u=u.slice().sort(bX);else{var d=K1(c),h=d[0],g=d[1];u=wl(h,g,u),u=qi(Math.floor(h/u)*u,Math.floor(g/u)*u,u)}return u.map(function(_){return o(c,_)})}function o(c,u){var d=[],h=[];return function s(c,u,d){var _,v,w,C,D,h=new Array,g=new Array;for(_=v=-1,Zs[(w=c[0]>=u)<<1].forEach(S);++_<e-1;)Zs[w|(w=c[_+1]>=u)<<1].forEach(S);for(Zs[0|w].forEach(S);++v<t-1;){for(_=-1,Zs[(w=c[v*e+e]>=u)<<1|(C=c[v*e]>=u)<<2].forEach(S);++_<e-1;)D=C,Zs[w|(w=c[v*e+e+_+1]>=u)<<1|(C=c[v*e+_+1]>=u)<<2|D<<3].forEach(S);Zs[w|C<<3].forEach(S)}for(_=-1,Zs[(C=c[v*e]>=u)<<2].forEach(S);++_<e-1;)D=C,Zs[(C=c[v*e+_+1]>=u)<<2|D<<3].forEach(S);function S(F){var de,re,V=[F[0][0]+_,F[0][1]+v],K=[F[1][0]+_,F[1][1]+v],he=a(V),oe=a(K);(de=g[he])?(re=h[oe])?(delete g[de.end],delete h[re.start],de===re?(de.ring.push(K),d(de.ring)):h[de.start]=g[re.end]={start:de.start,end:re.end,ring:de.ring.concat(re.ring)}):(delete g[de.end],de.ring.push(K),g[de.end=oe]=de):(de=h[oe])?(re=g[he])?(delete h[de.start],delete g[re.end],de===re?(de.ring.push(K),d(de.ring)):h[re.start]=g[de.end]={start:re.start,end:de.end,ring:re.ring.concat(de.ring)}):(delete h[de.start],de.ring.unshift(V),h[de.start=he]=de):h[he]=g[oe]={start:he,end:oe,ring:[V,K]}}Zs[C<<3].forEach(S)}(c,u,function(g){r(g,c,u),function wX(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(g)>0?d.push([g]):h.push(g)}),h.forEach(function(g){for(var y,_=0,v=d.length;_<v;++_)if(-1!==EX((y=d[_])[0],g))return void y.push(g)}),{type:"MultiPolygon",value:u,coordinates:d}}function a(c){return 2*c[0]+c[1]*(e+1)*4}function l(c,u,d){c.forEach(function(h){var w,g=h[0],_=h[1],v=0|g,y=0|_,C=u[y*e+v];g>0&&g<e&&v===g&&(h[0]=g+(d-(w=u[y*e+v-1]))/(C-w)-.5),_>0&&_<t&&y===_&&(h[1]=_+(d-(w=u[(y-1)*e+v]))/(C-w)-.5)})}return i.contour=o,i.size=function(c){if(!arguments.length)return[e,t];var u=Math.ceil(c[0]),d=Math.ceil(c[1]);if(!(u>0&&d>0))throw new Error("invalid size");return e=u,t=d,i},i.thresholds=function(c){return arguments.length?(n="function"==typeof c?c:Array.isArray(c)?Sa(xO.call(c)):Sa(c),i):n},i.smooth=function(c){return arguments.length?(r=c?l:SX,i):r===l},i}function Yw(e,t,n){for(var r=e.width,i=e.height,o=1+(n<<1),s=0;s<i;++s)for(var a=0,l=0;a<r+n;++a)a<r&&(l+=e.data[a+s*r]),a>=n&&(a>=o&&(l-=e.data[a-o+s*r]),t.data[a-n+s*r]=l/Math.min(a+1,r-1+o-a,o))}function Kw(e,t,n){for(var r=e.width,i=e.height,o=1+(n<<1),s=0;s<r;++s)for(var a=0,l=0;a<i+n;++a)a<i&&(l+=e.data[s+a*r]),a>=n&&(a>=o&&(l-=e.data[s+(a-o)*r]),t.data[s+(a-n)*r]=l/Math.min(a+1,i-1+o-a,o))}function IX(e){return e[0]}function TX(e){return e[1]}function AX(){return 1}function kX(){var e=IX,t=TX,n=AX,r=960,i=500,o=20,s=2,a=3*o,l=r+2*a>>s,c=i+2*a>>s,u=Sa(20);function d(w){var C=new Float32Array(l*c),D=new Float32Array(l*c);w.forEach(function(V,K,he){var oe=+e(V,K,he)+a>>s,de=+t(V,K,he)+a>>s,re=+n(V,K,he);oe>=0&&oe<l&&de>=0&&de<c&&(C[oe+de*l]+=re)}),Yw({width:l,height:c,data:C},{width:l,height:c,data:D},o>>s),Kw({width:l,height:c,data:D},{width:l,height:c,data:C},o>>s),Yw({width:l,height:c,data:C},{width:l,height:c,data:D},o>>s),Kw({width:l,height:c,data:D},{width:l,height:c,data:C},o>>s),Yw({width:l,height:c,data:C},{width:l,height:c,data:D},o>>s),Kw({width:l,height:c,data:D},{width:l,height:c,data:C},o>>s);var S=u(C);if(!Array.isArray(S)){var F=eN(C);S=wl(0,F,S),(S=qi(0,Math.floor(F/S)*S,S)).shift()}return MO().thresholds(S).size([l,c])(C).map(h)}function h(w){return w.value*=Math.pow(2,-2*s),w.coordinates.forEach(g),w}function g(w){w.forEach(_)}function _(w){w.forEach(v)}function v(w){w[0]=w[0]*Math.pow(2,s)-a,w[1]=w[1]*Math.pow(2,s)-a}function y(){return l=r+2*(a=3*o)>>s,c=i+2*a>>s,d}return d.x=function(w){return arguments.length?(e="function"==typeof w?w:Sa(+w),d):e},d.y=function(w){return arguments.length?(t="function"==typeof w?w:Sa(+w),d):t},d.weight=function(w){return arguments.length?(n="function"==typeof w?w:Sa(+w),d):n},d.size=function(w){if(!arguments.length)return[r,i];var C=Math.ceil(w[0]),D=Math.ceil(w[1]);if(!(C>=0||C>=0))throw new Error("invalid size");return r=C,i=D,y()},d.cellSize=function(w){if(!arguments.length)return 1<<s;if(!((w=+w)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(w)/Math.LN2),y()},d.thresholds=function(w){return arguments.length?(u="function"==typeof w?w:Array.isArray(w)?Sa(xO.call(w)):Sa(w),d):u},d.bandwidth=function(w){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((w=+w)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*w*w+1)-1)/2),y()},d}function u_(e){return function(){return e}}function Zw(e,t,n,r,i,o,s,a,l,c){this.target=e,this.type=t,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=s,this.dx=a,this.dy=l,this._=c}function NX(){return!Qe.ctrlKey&&!Qe.button}function OX(){return this.parentNode}function RX(e){return e??{x:Qe.x,y:Qe.y}}function FX(){return navigator.maxTouchPoints||"ontouchstart"in this}function PX(){var a,l,c,u,e=NX,t=OX,n=RX,r=FX,i={},o=mu("start","drag","end"),s=0,d=0;function h(S){S.on("mousedown.drag",g).filter(r).on("touchstart.drag",y).on("touchmove.drag",w).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(){if(!u&&e.apply(this,arguments)){var S=D("mouse",t.apply(this,arguments),Dl,this,arguments);S&&(nn(Qe.view).on("mousemove.drag",_,!0).on("mouseup.drag",v,!0),Hm(Qe.view),dw(),c=!1,a=Qe.clientX,l=Qe.clientY,S("start"))}}function _(){if(vu(),!c){var S=Qe.clientX-a,F=Qe.clientY-l;c=S*S+F*F>d}i.mouse("drag")}function v(){nn(Qe.view).on("mousemove.drag mouseup.drag",null),jm(Qe.view,c),vu(),i.mouse("end")}function y(){if(e.apply(this,arguments)){var K,he,S=Qe.changedTouches,F=t.apply(this,arguments),V=S.length;for(K=0;K<V;++K)(he=D(S[K].identifier,F,Uf,this,arguments))&&(dw(),he("start"))}}function w(){var V,K,S=Qe.changedTouches,F=S.length;for(V=0;V<F;++V)(K=i[S[V].identifier])&&(vu(),K("drag"))}function C(){var V,K,S=Qe.changedTouches,F=S.length;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),V=0;V<F;++V)(K=i[S[V].identifier])&&(dw(),K("end"))}function D(S,F,V,K,he){var de,re,T,oe=V(F,S),ne=o.copy();if(Lf(new Zw(h,"beforestart",de,S,s,oe[0],oe[1],0,0,ne),function(){return null!=(Qe.subject=de=n.apply(K,he))&&(re=de.x-oe[0]||0,T=de.y-oe[1]||0,!0)}))return function Te(ee){var ct,De=oe;switch(ee){case"start":i[S]=Te,ct=s++;break;case"end":delete i[S],--s;case"drag":oe=V(F,S),ct=s}Lf(new Zw(h,ee,de,S,ct,oe[0]+re,oe[1]+T,oe[0]-De[0],oe[1]-De[1],ne),ne.apply,ne,[ee,K,he])}}return h.filter=function(S){return arguments.length?(e="function"==typeof S?S:u_(!!S),h):e},h.container=function(S){return arguments.length?(t="function"==typeof S?S:u_(S),h):t},h.subject=function(S){return arguments.length?(n="function"==typeof S?S:u_(S),h):n},h.touchable=function(S){return arguments.length?(r="function"==typeof S?S:u_(!!S),h):r},h.on=function(){var S=o.on.apply(o,arguments);return S===o?h:S},h.clickDistance=function(S){return arguments.length?(d=(S=+S)*S,h):Math.sqrt(d)},h}Zw.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var SO={},Xw={},Qw=34,Xf=10,Jw=13;function IO(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function TO(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Ni(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function d_(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function i(d,h){var w,g=[],_=d.length,v=0,y=0,C=_<=0,D=!1;function S(){if(C)return Xw;if(D)return D=!1,SO;var V,he,K=v;if(d.charCodeAt(K)===Qw){for(;v++<_&&d.charCodeAt(v)!==Qw||d.charCodeAt(++v)===Qw;);return(V=v)>=_?C=!0:(he=d.charCodeAt(v++))===Xf?D=!0:he===Jw&&(D=!0,d.charCodeAt(v)===Xf&&++v),d.slice(K+1,V-1).replace(/""/g,'"')}for(;v<_;){if((he=d.charCodeAt(V=v++))===Xf)D=!0;else if(he===Jw)D=!0,d.charCodeAt(v)===Xf&&++v;else if(he!==n)continue;return d.slice(K,V)}return C=!0,d.slice(K,_)}for(d.charCodeAt(_-1)===Xf&&--_,d.charCodeAt(_-1)===Jw&&--_;(w=S())!==Xw;){for(var F=[];w!==SO&&w!==Xw;)F.push(w),w=S();h&&null==(F=h(F,y++))||g.push(F)}return g}function o(d,h){return d.map(function(g){return h.map(function(_){return u(g[_])}).join(e)})}function c(d){return d.map(u).join(e)}function u(d){return null==d?"":d instanceof Date?function BX(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function VX(e){return e<0?"-"+Ni(-e,6):e>9999?"+"+Ni(e,6):Ni(e,4)}(e.getUTCFullYear())+"-"+Ni(e.getUTCMonth()+1,2)+"-"+Ni(e.getUTCDate(),2)+(i?"T"+Ni(t,2)+":"+Ni(n,2)+":"+Ni(r,2)+"."+Ni(i,3)+"Z":r?"T"+Ni(t,2)+":"+Ni(n,2)+":"+Ni(r,2)+"Z":n||t?"T"+Ni(t,2)+":"+Ni(n,2)+"Z":"")}(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:function r(d,h){var g,_,v=i(d,function(y,w){if(g)return g(y,w-1);_=y,g=h?function LX(e,t){var n=IO(e);return function(r,i){return t(n(r),i,e)}}(y,h):IO(y)});return v.columns=_||[],v},parseRows:i,format:function s(d,h){return null==h&&(h=TO(d)),[h.map(u).join(e)].concat(o(d,h)).join("\n")},formatBody:function a(d,h){return null==h&&(h=TO(d)),o(d,h).join("\n")},formatRows:function l(d){return d.map(c).join("\n")},formatRow:c,formatValue:u}}var kl=d_(","),AO=kl.parse,HX=kl.parseRows,jX=kl.format,UX=kl.formatBody,zX=kl.formatRows,$X=kl.formatRow,GX=kl.formatValue,Nl=d_("\t"),kO=Nl.parse,WX=Nl.parseRows,qX=Nl.format,YX=Nl.formatBody,KX=Nl.formatRows,ZX=Nl.formatRow,XX=Nl.formatValue;function QX(e){for(var t in e){var r,i,n=e[t].trim();if(n)if("true"===n)n=!0;else if("false"===n)n=!1;else if("NaN"===n)n=NaN;else if(isNaN(r=+n)){if(!(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;JX&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n)}else n=r;else n=null;e[t]=n}return e}var JX=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function eQ(e){return+e}function tQ(e){return e*e}function nQ(e){return e*(2-e)}function NO(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}var rQ=function e(t){function n(r){return Math.pow(r,t)}return t=+t,n.exponent=e,n}(3),iQ=function e(t){function n(r){return 1-Math.pow(1-r,t)}return t=+t,n.exponent=e,n}(3),OO=function e(t){function n(r){return((r*=2)<=1?Math.pow(r,t):2-Math.pow(2-r,t))/2}return t=+t,n.exponent=e,n}(3),RO=Math.PI,FO=RO/2;function oQ(e){return 1==+e?1:1-Math.cos(e*FO)}function sQ(e){return Math.sin(e*FO)}function PO(e){return(1-Math.cos(RO*e))/2}function Ia(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function aQ(e){return Ia(1-+e)}function lQ(e){return 1-Ia(e)}function LO(e){return((e*=2)<=1?Ia(1-e):2-Ia(e-1))/2}function cQ(e){return 1-Math.sqrt(1-e*e)}function uQ(e){return Math.sqrt(1- --e*e)}function VO(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var tE=4/11,dQ=6/11,fQ=8/11,hQ=3/4,pQ=9/11,gQ=10/11,mQ=15/16,_Q=21/22,vQ=63/64,f_=1/tE/tE;function yQ(e){return 1-Qf(1-e)}function Qf(e){return(e=+e)<tE?f_*e*e:e<fQ?f_*(e-=dQ)*e+hQ:e<gQ?f_*(e-=pQ)*e+mQ:f_*(e-=_Q)*e+vQ}function bQ(e){return((e*=2)<=1?1-Qf(1-e):Qf(e-1)+1)/2}var nE=1.70158,wQ=function e(t){function n(r){return(r=+r)*r*(t*(r-1)+r)}return t=+t,n.overshoot=e,n}(nE),EQ=function e(t){function n(r){return--r*r*((r+1)*t+r)+1}return t=+t,n.overshoot=e,n}(nE),BO=function e(t){function n(r){return((r*=2)<1?r*r*((t+1)*r-t):(r-=2)*r*((t+1)*r+t)+2)/2}return t=+t,n.overshoot=e,n}(nE),Tu=2*Math.PI,CQ=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Tu);function i(o){return t*Ia(- --o)*Math.sin((r-o)/n)}return i.amplitude=function(o){return e(o,n*Tu)},i.period=function(o){return e(t,o)},i}(1,.3),HO=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Tu);function i(o){return 1-t*Ia(o=+o)*Math.sin((o+r)/n)}return i.amplitude=function(o){return e(o,n*Tu)},i.period=function(o){return e(t,o)},i}(1,.3),DQ=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=Tu);function i(o){return((o=2*o-1)<0?t*Ia(-o)*Math.sin((r-o)/n):2-t*Ia(o)*Math.sin((r+o)/n))/2}return i.amplitude=function(o){return e(o,n*Tu)},i.period=function(o){return e(t,o)},i}(1,.3);function xQ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function MQ(e,t){return fetch(e,t).then(xQ)}function SQ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function IQ(e,t){return fetch(e,t).then(SQ)}function TQ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function h_(e,t){return fetch(e,t).then(TQ)}function jO(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),h_(t,n).then(function(i){return e(i,r)})}}function AQ(e,t,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=d_(e);return h_(t,n).then(function(o){return i.parse(o,r)})}var kQ=jO(AO),NQ=jO(kO);function OQ(e,t){return new Promise(function(n,r){var i=new Image;for(var o in t)i[o]=t[o];i.onerror=r,i.onload=function(){n(i)},i.src=e})}function RQ(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function FQ(e,t){return fetch(e,t).then(RQ)}function oE(e){return function(t,n){return h_(t,n).then(function(r){return(new DOMParser).parseFromString(r,e)})}}const PQ=oE("application/xml");var LQ=oE("text/html"),VQ=oE("image/svg+xml");function BQ(e,t){var n;function r(){var i,s,o=n.length,a=0,l=0;for(i=0;i<o;++i)a+=(s=n[i]).x,l+=s.y;for(a=a/o-e,l=l/o-t,i=0;i<o;++i)(s=n[i]).x-=a,s.y-=l}return null==e&&(e=0),null==t&&(t=0),r.initialize=function(i){n=i},r.x=function(i){return arguments.length?(e=+i,r):e},r.y=function(i){return arguments.length?(t=+i,r):t},r}function xr(e){return function(){return e}}function Ta(){return 1e-6*(Math.random()-.5)}function UO(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,d,h,g,_,v,y,w,C,o=e._root,s={data:r},a=e._x0,l=e._y0,c=e._x1,u=e._y1;if(!o)return e._root=s,e;for(;o.length;)if((v=t>=(d=(a+c)/2))?a=d:c=d,(y=n>=(h=(l+u)/2))?l=h:u=h,i=o,!(o=o[w=y<<1|v]))return i[w]=s,e;if(g=+e._x.call(null,o.data),_=+e._y.call(null,o.data),t===g&&n===_)return s.next=o,i?i[w]=s:e._root=s,e;do{i=i?i[w]=new Array(4):e._root=new Array(4),(v=t>=(d=(a+c)/2))?a=d:c=d,(y=n>=(h=(l+u)/2))?l=h:u=h}while((w=y<<1|v)==(C=(_>=h)<<1|g>=d));return i[C]=o,i[w]=s,e}function gi(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function QQ(e){return e[0]}function eJ(e){return e[1]}function p_(e,t,n){var r=new sE(t??QQ,n??eJ,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function sE(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function zO(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var mi=p_.prototype=sE.prototype;function nJ(e){return e.x+e.vx}function rJ(e){return e.y+e.vy}function iJ(e){var t,n,r=1,i=1;function o(){for(var l,u,d,h,g,_,v,c=t.length,y=0;y<i;++y)for(u=p_(t,nJ,rJ).visitAfter(s),l=0;l<c;++l)v=(_=n[(d=t[l]).index])*_,h=d.x+d.vx,g=d.y+d.vy,u.visit(w);function w(C,D,S,F,V){var K=C.data,he=C.r,oe=_+he;if(!K)return D>h+oe||F<h-oe||S>g+oe||V<g-oe;if(K.index>d.index){var de=h-K.x-K.vx,re=g-K.y-K.vy,T=de*de+re*re;T<oe*oe&&(0===de&&(T+=(de=Ta())*de),0===re&&(T+=(re=Ta())*re),T=(oe-(T=Math.sqrt(T)))/T*r,d.vx+=(de*=T)*(oe=(he*=he)/(v+he)),d.vy+=(re*=T)*oe,K.vx-=de*(oe=1-oe),K.vy-=re*oe)}}}function s(l){if(l.data)return l.r=n[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function a(){if(t){var l,u,c=t.length;for(n=new Array(c),l=0;l<c;++l)n[(u=t[l]).index]=+e(u,l,t)}}return"function"!=typeof e&&(e=xr(null==e?1:+e)),o.initialize=function(l){t=l,a()},o.iterations=function(l){return arguments.length?(i=+l,o):i},o.strength=function(l){return arguments.length?(r=+l,o):r},o.radius=function(l){return arguments.length?(e="function"==typeof l?l:xr(+l),a(),o):e},o}function oJ(e){return e.index}function $O(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function sJ(e){var r,o,s,a,l,t=oJ,n=function u(v){return 1/Math.min(a[v.source.index],a[v.target.index])},i=xr(30),c=1;function d(v){for(var y=0,w=e.length;y<c;++y)for(var D,S,F,V,K,he,oe,C=0;C<w;++C)V=(F=(D=e[C]).target).x+F.vx-(S=D.source).x-S.vx||Ta(),K=F.y+F.vy-S.y-S.vy||Ta(),K*=he=((he=Math.sqrt(V*V+K*K))-o[C])/he*v*r[C],F.vx-=(V*=he)*(oe=l[C]),F.vy-=K*oe,S.vx+=V*(oe=1-oe),S.vy+=K*oe}function h(){if(s){var v,D,y=s.length,w=e.length,C=Ma(s,t);for(v=0,a=new Array(y);v<w;++v)(D=e[v]).index=v,"object"!=typeof D.source&&(D.source=$O(C,D.source)),"object"!=typeof D.target&&(D.target=$O(C,D.target)),a[D.source.index]=(a[D.source.index]||0)+1,a[D.target.index]=(a[D.target.index]||0)+1;for(v=0,l=new Array(w);v<w;++v)l[v]=a[(D=e[v]).source.index]/(a[D.source.index]+a[D.target.index]);r=new Array(w),g(),o=new Array(w),_()}}function g(){if(s)for(var v=0,y=e.length;v<y;++v)r[v]=+n(e[v],v,e)}function _(){if(s)for(var v=0,y=e.length;v<y;++v)o[v]=+i(e[v],v,e)}return null==e&&(e=[]),d.initialize=function(v){s=v,h()},d.links=function(v){return arguments.length?(e=v,h(),d):e},d.id=function(v){return arguments.length?(t=v,d):t},d.iterations=function(v){return arguments.length?(c=+v,d):c},d.strength=function(v){return arguments.length?(n="function"==typeof v?v:xr(+v),g(),d):n},d.distance=function(v){return arguments.length?(i="function"==typeof v?v:xr(+v),_(),d):i},d}function aJ(e){return e.x}function lJ(e){return e.y}mi.copy=function(){var n,r,e=new sE(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root;if(!t)return e;if(!t.length)return e._root=zO(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=zO(r));return e},mi.add=function HQ(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return UO(this.cover(t,n),t,n,e)},mi.addAll=function jQ(e){var t,n,i,o,r=e.length,s=new Array(r),a=new Array(r),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>u&&(u=i),o<c&&(c=o),o>d&&(d=o));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<r;++n)UO(this,s[n],a[n],e[n]);return this},mi.cover=function UQ(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var l,c,s=i-n,a=this._root;n>e||e>=i||r>t||t>=o;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=a,a=l,s*=2,c){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},mi.data=function zQ(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},mi.extent=function $Q(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},mi.find=function GQ(e,t,n){var r,s,a,l,c,_,v,i=this._x0,o=this._y0,u=this._x1,d=this._y1,h=[],g=this._root;for(g&&h.push(new gi(g,i,o,u,d)),null==n?n=1/0:(i=e-n,o=t-n,u=e+n,d=t+n,n*=n);_=h.pop();)if(!(!(g=_.node)||(s=_.x0)>u||(a=_.y0)>d||(l=_.x1)<i||(c=_.y1)<o))if(g.length){var y=(s+l)/2,w=(a+c)/2;h.push(new gi(g[3],y,w,l,c),new gi(g[2],s,w,y,c),new gi(g[1],y,a,l,w),new gi(g[0],s,a,y,w)),(v=(t>=w)<<1|e>=y)&&(_=h[h.length-1],h[h.length-1]=h[h.length-1-v],h[h.length-1-v]=_)}else{var C=e-+this._x.call(null,g.data),D=t-+this._y.call(null,g.data),S=C*C+D*D;if(S<n){var F=Math.sqrt(n=S);i=e-F,o=t-F,u=e+F,d=t+F,r=g.data}}return r},mi.remove=function WQ(e){if(isNaN(u=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,r,i,o,u,d,h,g,_,v,y,w,n=this._root,s=this._x0,a=this._y0,l=this._x1,c=this._y1;if(!n)return this;if(n.length)for(;;){if((_=u>=(h=(s+l)/2))?s=h:l=h,(v=d>=(g=(a+c)/2))?a=g:c=g,t=n,!(n=n[y=v<<1|_]))return this;if(!n.length)break;(t[y+1&3]||t[y+2&3]||t[y+3&3])&&(r=t,w=y)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[y]=o:delete t[y],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[w]=n:this._root=n),this):(this._root=o,this)},mi.removeAll=function qQ(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},mi.root=function YQ(){return this._root},mi.size=function KQ(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},mi.visit=function ZQ(e){var n,i,o,s,a,l,t=[],r=this._root;for(r&&t.push(new gi(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var c=(o+a)/2,u=(s+l)/2;(i=r[3])&&t.push(new gi(i,c,u,a,l)),(i=r[2])&&t.push(new gi(i,o,u,c,l)),(i=r[1])&&t.push(new gi(i,c,s,a,u)),(i=r[0])&&t.push(new gi(i,o,s,c,u))}return this},mi.visitAfter=function XQ(e){var r,t=[],n=[];for(this._root&&t.push(new gi(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,c=r.y1,u=(s+l)/2,d=(a+c)/2;(o=i[0])&&t.push(new gi(o,s,a,u,d)),(o=i[1])&&t.push(new gi(o,u,a,l,d)),(o=i[2])&&t.push(new gi(o,s,d,u,c)),(o=i[3])&&t.push(new gi(o,u,d,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this},mi.x=function JQ(e){return arguments.length?(this._x=e,this):this._x},mi.y=function tJ(e){return arguments.length?(this._y=e,this):this._y};var cJ=10,uJ=Math.PI*(3-Math.sqrt(5));function dJ(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=Ma(),l=Zm(u),c=mu("tick","end");function u(){d(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function d(_){var v,w,y=e.length;void 0===_&&(_=1);for(var C=0;C<_;++C)for(n+=(o-n)*i,a.each(function(D){D(n)}),v=0;v<y;++v)null==(w=e[v]).fx?w.x+=w.vx*=s:(w.x=w.fx,w.vx=0),null==w.fy?w.y+=w.vy*=s:(w.y=w.fy,w.vy=0);return t}function h(){for(var y,_=0,v=e.length;_<v;++_){if((y=e[_]).index=_,null!=y.fx&&(y.x=y.fx),null!=y.fy&&(y.y=y.fy),isNaN(y.x)||isNaN(y.y)){var w=cJ*Math.sqrt(_),C=_*uJ;y.x=w*Math.cos(C),y.y=w*Math.sin(C)}(isNaN(y.vx)||isNaN(y.vy))&&(y.vx=y.vy=0)}}function g(_){return _.initialize&&_.initialize(e),_}return null==e&&(e=[]),h(),t={tick:d,restart:function(){return l.restart(u),t},stop:function(){return l.stop(),t},nodes:function(_){return arguments.length?(e=_,h(),a.each(g),t):e},alpha:function(_){return arguments.length?(n=+_,t):n},alphaMin:function(_){return arguments.length?(r=+_,t):r},alphaDecay:function(_){return arguments.length?(i=+_,t):+i},alphaTarget:function(_){return arguments.length?(o=+_,t):o},velocityDecay:function(_){return arguments.length?(s=1-_,t):1-s},force:function(_,v){return arguments.length>1?(null==v?a.remove(_):a.set(_,g(v)),t):a.get(_)},find:function(_,v,y){var D,S,F,V,K,w=0,C=e.length;for(null==y?y=1/0:y*=y,w=0;w<C;++w)(F=(D=_-(V=e[w]).x)*D+(S=v-V.y)*S)<y&&(K=V,y=F);return K},on:function(_,v){return arguments.length>1?(c.on(_,v),t):c.on(_)}}}function fJ(){var e,t,n,i,r=xr(-30),o=1,s=1/0,a=.81;function l(h){var g,_=e.length,v=p_(e,aJ,lJ).visitAfter(u);for(n=h,g=0;g<_;++g)t=e[g],v.visit(d)}function c(){if(e){var h,_,g=e.length;for(i=new Array(g),h=0;h<g;++h)i[(_=e[h]).index]=+r(_,h,e)}}function u(h){var _,v,w,C,D,g=0,y=0;if(h.length){for(w=C=D=0;D<4;++D)(_=h[D])&&(v=Math.abs(_.value))&&(g+=_.value,y+=v,w+=v*_.x,C+=v*_.y);h.x=w/y,h.y=C/y}else{(_=h).x=_.data.x,_.y=_.data.y;do{g+=i[_.data.index]}while(_=_.next)}h.value=g}function d(h,g,_,v){if(!h.value)return!0;var y=h.x-t.x,w=h.y-t.y,C=v-g,D=y*y+w*w;if(C*C/a<D)return D<s&&(0===y&&(D+=(y=Ta())*y),0===w&&(D+=(w=Ta())*w),D<o&&(D=Math.sqrt(o*D)),t.vx+=y*h.value*n/D,t.vy+=w*h.value*n/D),!0;if(!(h.length||D>=s)){(h.data!==t||h.next)&&(0===y&&(D+=(y=Ta())*y),0===w&&(D+=(w=Ta())*w),D<o&&(D=Math.sqrt(o*D)));do{h.data!==t&&(t.vx+=y*(C=i[h.data.index]*n/D),t.vy+=w*C)}while(h=h.next)}}return l.initialize=function(h){e=h,c()},l.strength=function(h){return arguments.length?(r="function"==typeof h?h:xr(+h),c(),l):r},l.distanceMin=function(h){return arguments.length?(o=h*h,l):Math.sqrt(o)},l.distanceMax=function(h){return arguments.length?(s=h*h,l):Math.sqrt(s)},l.theta=function(h){return arguments.length?(a=h*h,l):Math.sqrt(a)},l}function hJ(e,t,n){var r,o,s,i=xr(.1);function a(c){for(var u=0,d=r.length;u<d;++u){var h=r[u],g=h.x-t||1e-6,_=h.y-n||1e-6,v=Math.sqrt(g*g+_*_),y=(s[u]-v)*o[u]*c/v;h.vx+=g*y,h.vy+=_*y}}function l(){if(r){var c,u=r.length;for(o=new Array(u),s=new Array(u),c=0;c<u;++c)s[c]=+e(r[c],c,r),o[c]=isNaN(s[c])?0:+i(r[c],c,r)}}return"function"!=typeof e&&(e=xr(+e)),null==t&&(t=0),null==n&&(n=0),a.initialize=function(c){r=c,l()},a.strength=function(c){return arguments.length?(i="function"==typeof c?c:xr(+c),l(),a):i},a.radius=function(c){return arguments.length?(e="function"==typeof c?c:xr(+c),l(),a):e},a.x=function(c){return arguments.length?(t=+c,a):t},a.y=function(c){return arguments.length?(n=+c,a):n},a}function pJ(e){var n,r,i,t=xr(.1);function o(a){for(var u,l=0,c=n.length;l<c;++l)(u=n[l]).vx+=(i[l]-u.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return"function"!=typeof e&&(e=xr(null==e?0:+e)),o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t="function"==typeof a?a:xr(+a),s(),o):t},o.x=function(a){return arguments.length?(e="function"==typeof a?a:xr(+a),s(),o):e},o}function gJ(e){var n,r,i,t=xr(.1);function o(a){for(var u,l=0,c=n.length;l<c;++l)(u=n[l]).vy+=(i[l]-u.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return"function"!=typeof e&&(e=xr(null==e?0:+e)),o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t="function"==typeof a?a:xr(+a),s(),o):t},o.y=function(a){return arguments.length?(e="function"==typeof a?a:xr(+a),s(),o):e},o}function g_(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Au(e){return(e=g_(Math.abs(e)))?e[1]:NaN}var GO,yJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jf(e){if(!(t=yJ.exec(e)))throw new Error("invalid format: "+e);var t;return new m_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function m_(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function WO(e,t){var n=g_(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Jf.prototype=m_.prototype,m_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const qO={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function mJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return WO(100*e,t)},r:WO,s:function wJ(e,t){var n=g_(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(GO=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+g_(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function YO(e){return e}var __,v_,aE,KO=Array.prototype.map,ZO=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function XO(e){var t=void 0===e.grouping||void 0===e.thousands?YO:function _J(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}(KO.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",r=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?YO:function vJ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}(KO.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",a=void 0===e.minus?"-":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function c(d){var h=(d=Jf(d)).fill,g=d.align,_=d.sign,v=d.symbol,y=d.zero,w=d.width,C=d.comma,D=d.precision,S=d.trim,F=d.type;"n"===F?(C=!0,F="g"):qO[F]||(void 0===D&&(D=12),S=!0,F="g"),(y||"0"===h&&"="===g)&&(y=!0,h="0",g="=");var V="$"===v?n:"#"===v&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",K="$"===v?r:/[%p]/.test(F)?s:"",he=qO[F],oe=/[defgprs%]/.test(F);function de(re){var Te,ee,De,T=V,ne=K;if("c"===F)ne=he(re)+ne,re="";else{var ct=(re=+re)<0||1/re<0;if(re=isNaN(re)?l:he(Math.abs(re),D),S&&(re=function bJ(e){e:for(var i,t=e.length,n=1,r=-1;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":0===r&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(i+1):e}(re)),ct&&0==+re&&"+"!==_&&(ct=!1),T=(ct?"("===_?_:a:"-"===_||"("===_?"":_)+T,ne=("s"===F?ZO[8+GO/3]:"")+ne+(ct&&"("===_?")":""),oe)for(Te=-1,ee=re.length;++Te<ee;)if(48>(De=re.charCodeAt(Te))||De>57){ne=(46===De?i+re.slice(Te+1):re.slice(Te))+ne,re=re.slice(0,Te);break}}C&&!y&&(re=t(re,1/0));var at=T.length+re.length+ne.length,gt=at<w?new Array(w-at+1).join(h):"";switch(C&&y&&(re=t(gt+re,gt.length?w-ne.length:1/0),gt=""),g){case"<":re=T+re+ne+gt;break;case"=":re=T+gt+re+ne;break;case"^":re=gt.slice(0,at=gt.length>>1)+T+re+ne+gt.slice(at);break;default:re=gt+T+re+ne}return o(re)}return D=void 0===D?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D)),de.toString=function(){return d+""},de}return{format:c,formatPrefix:function u(d,h){var g=c(((d=Jf(d)).type="f",d)),_=3*Math.max(-8,Math.min(8,Math.floor(Au(h)/3))),v=Math.pow(10,-_),y=ZO[8+_/3];return function(w){return g(v*w)+y}}}}function QO(e){return __=XO(e),v_=__.format,aE=__.formatPrefix,__}function JO(e){return Math.max(0,-Au(Math.abs(e)))}function eR(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Au(t)/3)))-Au(Math.abs(e)))}function tR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Au(t)-Au(e))+1}function Aa(){return new y_}function y_(){this.reset()}QO({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),y_.prototype={constructor:y_,reset:function(){this.s=this.t=0},add:function(e){nR(b_,e,this.t),nR(this,b_.s,this.s),this.s?this.t+=b_.t:this.s=b_.t},valueOf:function(){return this.s}};var b_=new y_;function nR(e,t,n){var r=e.s=t+n,i=r-t;e.t=t-(r-i)+(n-i)}var Dt=1e-6,w_=1e-12,Kt=Math.PI,ir=Kt/2,E_=Kt/4,_i=2*Kt,On=180/Kt,St=Kt/180,cn=Math.abs,ku=Math.atan,vi=Math.atan2,bt=Math.cos,C_=Math.ceil,rR=Math.exp,D_=(Math,Math.log),lE=Math.pow,ut=Math.sin,lo=Math.sign||function(e){return e>0?1:e<0?-1:0},vr=Math.sqrt,cE=Math.tan;function iR(e){return e>1?0:e<-1?Kt:Math.acos(e)}function yi(e){return e>1?ir:e<-1?-ir:Math.asin(e)}function oR(e){return(e=ut(e/2))*e}function Zn(){}function x_(e,t){e&&aR.hasOwnProperty(e.type)&&aR[e.type](e,t)}var sR={Feature:function(e,t){x_(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)x_(n[r].geometry,t)}},aR={Sphere:function(e,t){t.sphere()},Point:function(e,t){t.point((e=e.coordinates)[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)t.point((e=n[r])[0],e[1],e[2])},LineString:function(e,t){uE(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)uE(n[r],t,0)},Polygon:function(e,t){lR(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)lR(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)x_(n[r],t)}};function uE(e,t,n){var o,r=-1,i=e.length-n;for(t.lineStart();++r<i;)t.point((o=e[r])[0],o[1],o[2]);t.lineEnd()}function lR(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)uE(e[n],t,1);t.polygonEnd()}function Po(e,t){e&&sR.hasOwnProperty(e.type)?sR[e.type](e,t):x_(e,t)}var cR,uR,dE,fE,hE,M_=Aa(),S_=Aa(),ws={point:Zn,lineStart:Zn,lineEnd:Zn,polygonStart:function(){M_.reset(),ws.lineStart=EJ,ws.lineEnd=CJ},polygonEnd:function(){var e=+M_;S_.add(e<0?_i+e:e),this.lineStart=this.lineEnd=this.point=Zn},sphere:function(){S_.add(_i)}};function EJ(){ws.point=DJ}function CJ(){dR(cR,uR)}function DJ(e,t){ws.point=dR,cR=e,uR=t,dE=e*=St,fE=bt(t=(t*=St)/2+E_),hE=ut(t)}function dR(e,t){var n=(e*=St)-dE,r=n>=0?1:-1,i=r*n,o=bt(t=(t*=St)/2+E_),s=ut(t),a=hE*s,l=fE*o+a*bt(i),c=a*r*ut(i);M_.add(vi(c,l)),dE=e,fE=o,hE=s}function xJ(e){return S_.reset(),Po(e,ws),2*S_}function I_(e){return[vi(e[1],e[0]),yi(e[2])]}function Ol(e){var t=e[0],n=e[1],r=bt(n);return[r*bt(t),r*ut(t),ut(n)]}function T_(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Nu(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function pE(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function A_(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function k_(e){var t=vr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Xn,Oi,or,Yi,Rl,fR,hR,Ou,ka,Xs,eh=Aa(),Qs={point:gE,lineStart:gR,lineEnd:mR,polygonStart:function(){Qs.point=_R,Qs.lineStart=MJ,Qs.lineEnd=SJ,eh.reset(),ws.polygonStart()},polygonEnd:function(){ws.polygonEnd(),Qs.point=gE,Qs.lineStart=gR,Qs.lineEnd=mR,M_<0?(Xn=-(or=180),Oi=-(Yi=90)):eh>Dt?Yi=90:eh<-Dt&&(Oi=-90),Xs[0]=Xn,Xs[1]=or},sphere:function(){Xn=-(or=180),Oi=-(Yi=90)}};function gE(e,t){ka.push(Xs=[Xn=e,or=e]),t<Oi&&(Oi=t),t>Yi&&(Yi=t)}function pR(e,t){var n=Ol([e*St,t*St]);if(Ou){var r=Nu(Ou,n),o=Nu([r[1],-r[0],0],r);k_(o),o=I_(o);var c,s=e-Rl,a=s>0?1:-1,l=o[0]*On*a,u=cn(s)>180;u^(a*Rl<l&&l<a*e)?(c=o[1]*On)>Yi&&(Yi=c):u^(a*Rl<(l=(l+360)%360-180)&&l<a*e)?(c=-o[1]*On)<Oi&&(Oi=c):(t<Oi&&(Oi=t),t>Yi&&(Yi=t)),u?e<Rl?Ki(Xn,e)>Ki(Xn,or)&&(or=e):Ki(e,or)>Ki(Xn,or)&&(Xn=e):or>=Xn?(e<Xn&&(Xn=e),e>or&&(or=e)):e>Rl?Ki(Xn,e)>Ki(Xn,or)&&(or=e):Ki(e,or)>Ki(Xn,or)&&(Xn=e)}else ka.push(Xs=[Xn=e,or=e]);t<Oi&&(Oi=t),t>Yi&&(Yi=t),Ou=n,Rl=e}function gR(){Qs.point=pR}function mR(){Xs[0]=Xn,Xs[1]=or,Qs.point=gE,Ou=null}function _R(e,t){if(Ou){var n=e-Rl;eh.add(cn(n)>180?n+(n>0?360:-360):n)}else fR=e,hR=t;ws.point(e,t),pR(e,t)}function MJ(){ws.lineStart()}function SJ(){_R(fR,hR),ws.lineEnd(),cn(eh)>Dt&&(Xn=-(or=180)),Xs[0]=Xn,Xs[1]=or,Ou=null}function Ki(e,t){return(t-=e)<0?t+360:t}function IJ(e,t){return e[0]-t[0]}function vR(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function TJ(e){var t,n,r,i,o,s,a;if(Yi=or=-(Xn=Oi=1/0),ka=[],Po(e,Qs),n=ka.length){for(ka.sort(IJ),t=1,o=[r=ka[0]];t<n;++t)vR(r,(i=ka[t])[0])||vR(r,i[1])?(Ki(r[0],i[1])>Ki(r[0],r[1])&&(r[1]=i[1]),Ki(i[0],r[1])>Ki(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,t=0,r=o[n=o.length-1];t<=n;r=i,++t)(a=Ki(r[1],(i=o[t])[0]))>s&&(s=a,Xn=i[0],or=r[1])}return ka=Xs=null,Xn===1/0||Oi===1/0?[[NaN,NaN],[NaN,NaN]]:[[Xn,Oi],[or,Yi]]}var th,N_,O_,R_,F_,P_,L_,V_,mE,_E,vE,yR,bR,bi,wi,Ei,Lo={sphere:Zn,point:yE,lineStart:wR,lineEnd:ER,polygonStart:function(){Lo.lineStart=NJ,Lo.lineEnd=OJ},polygonEnd:function(){Lo.lineStart=wR,Lo.lineEnd=ER}};function yE(e,t){e*=St;var n=bt(t*=St);nh(n*bt(e),n*ut(e),ut(t))}function nh(e,t,n){++th,O_+=(e-O_)/th,R_+=(t-R_)/th,F_+=(n-F_)/th}function wR(){Lo.point=AJ}function AJ(e,t){e*=St;var n=bt(t*=St);bi=n*bt(e),wi=n*ut(e),Ei=ut(t),Lo.point=kJ,nh(bi,wi,Ei)}function kJ(e,t){e*=St;var n=bt(t*=St),r=n*bt(e),i=n*ut(e),o=ut(t),s=vi(vr((s=wi*o-Ei*i)*s+(s=Ei*r-bi*o)*s+(s=bi*i-wi*r)*s),bi*r+wi*i+Ei*o);N_+=s,P_+=s*(bi+(bi=r)),L_+=s*(wi+(wi=i)),V_+=s*(Ei+(Ei=o)),nh(bi,wi,Ei)}function ER(){Lo.point=yE}function NJ(){Lo.point=RJ}function OJ(){CR(yR,bR),Lo.point=yE}function RJ(e,t){yR=e,bR=t,e*=St,t*=St,Lo.point=CR;var n=bt(t);bi=n*bt(e),wi=n*ut(e),Ei=ut(t),nh(bi,wi,Ei)}function CR(e,t){e*=St;var n=bt(t*=St),r=n*bt(e),i=n*ut(e),o=ut(t),s=wi*o-Ei*i,a=Ei*r-bi*o,l=bi*i-wi*r,c=vr(s*s+a*a+l*l),u=yi(c),d=c&&-u/c;mE+=d*s,_E+=d*a,vE+=d*l,N_+=u,P_+=u*(bi+(bi=r)),L_+=u*(wi+(wi=i)),V_+=u*(Ei+(Ei=o)),nh(bi,wi,Ei)}function FJ(e){th=N_=O_=R_=F_=P_=L_=V_=mE=_E=vE=0,Po(e,Lo);var t=mE,n=_E,r=vE,i=t*t+n*n+r*r;return i<w_&&(t=P_,n=L_,r=V_,N_<Dt&&(t=O_,n=R_,r=F_),(i=t*t+n*n+r*r)<w_)?[NaN,NaN]:[vi(n,t)*On,yi(r/vr(i))*On]}function Ru(e){return function(){return e}}function bE(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return(r=t.invert(r,i))&&e.invert(r[0],r[1])}),n}function wE(e,t){return[cn(e)>Kt?e+Math.round(-e/_i)*_i:e,t]}function EE(e,t,n){return(e%=_i)?t||n?bE(xR(e),MR(t,n)):xR(e):t||n?MR(t,n):wE}function DR(e){return function(t,n){return[(t+=e)>Kt?t-_i:t<-Kt?t+_i:t,n]}}function xR(e){var t=DR(e);return t.invert=DR(-e),t}function MR(e,t){var n=bt(e),r=ut(e),i=bt(t),o=ut(t);function s(a,l){var c=bt(l),u=bt(a)*c,d=ut(a)*c,h=ut(l),g=h*n+u*r;return[vi(d*i-g*o,u*n-h*r),yi(g*i+d*o)]}return s.invert=function(a,l){var c=bt(l),u=bt(a)*c,d=ut(a)*c,h=ut(l),g=h*i-d*o;return[vi(d*i+h*o,u*n+g*r),yi(g*n-u*r)]},s}function SR(e){function t(n){return(n=e(n[0]*St,n[1]*St))[0]*=On,n[1]*=On,n}return e=EE(e[0]*St,e[1]*St,e.length>2?e[2]*St:0),t.invert=function(n){return(n=e.invert(n[0]*St,n[1]*St))[0]*=On,n[1]*=On,n},t}function IR(e,t,n,r,i,o){if(n){var s=bt(t),a=ut(t),l=r*n;null==i?(i=t+r*_i,o=t-l/2):(i=TR(s,i),o=TR(s,o),(r>0?i<o:i>o)&&(i+=r*_i));for(var c,u=i;r>0?u>o:u<o;u-=l)c=I_([s,-a*bt(u),-a*ut(u)]),e.point(c[0],c[1])}}function TR(e,t){(t=Ol(t))[0]-=e,k_(t);var n=iR(-t[1]);return((-t[2]<0?-n:n)+_i-Dt)%_i}function PJ(){var r,i,e=Ru([0,0]),t=Ru(90),n=Ru(6),o={point:function s(l,c){r.push(l=i(l,c)),l[0]*=On,l[1]*=On}};function a(){var l=e.apply(this,arguments),c=t.apply(this,arguments)*St,u=n.apply(this,arguments)*St;return r=[],i=EE(-l[0]*St,-l[1]*St,0).invert,IR(o,c,u,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return a.center=function(l){return arguments.length?(e="function"==typeof l?l:Ru([+l[0],+l[1]]),a):e},a.radius=function(l){return arguments.length?(t="function"==typeof l?l:Ru(+l),a):t},a.precision=function(l){return arguments.length?(n="function"==typeof l?l:Ru(+l),a):n},a}function AR(){var t,e=[];return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Zn,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function B_(e,t){return cn(e[0]-t[0])<Dt&&cn(e[1]-t[1])<Dt}function H_(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function kR(e,t,n,r,i){var a,l,o=[],s=[];if(e.forEach(function(_){if(!((v=_.length-1)<=0)){var v,C,y=_[0],w=_[v];if(B_(y,w)){if(!y[2]&&!w[2]){for(i.lineStart(),a=0;a<v;++a)i.point((y=_[a])[0],y[1]);return void i.lineEnd()}w[0]+=2*Dt}o.push(C=new H_(y,_,null,!0)),s.push(C.o=new H_(y,null,C,!1)),o.push(C=new H_(w,_,null,!1)),s.push(C.o=new H_(w,null,C,!0))}}),o.length){for(s.sort(t),NR(o),NR(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var u,d,c=o[0];;){for(var h=c,g=!0;h.v;)if((h=h.n)===c)return;u=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(g)for(a=0,l=u.length;a<l;++a)i.point((d=u[a])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(g)for(a=(u=h.p.z).length-1;a>=0;--a)i.point((d=u[a])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}u=(h=h.o).z,g=!g}while(!h.v);i.lineEnd()}}}function NR(e){if(t=e.length){for(var t,i,n=0,r=e[0];++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}wE.invert=wE;var CE=Aa();function DE(e){return cn(e[0])<=Kt?e[0]:lo(e[0])*((cn(e[0])+Kt)%_i-Kt)}function OR(e,t){var n=DE(t),r=t[1],i=ut(r),o=[ut(n),-bt(n),0],s=0,a=0;CE.reset(),1===i?r=ir+Dt:-1===i&&(r=-ir-Dt);for(var l=0,c=e.length;l<c;++l)if(d=(u=e[l]).length)for(var u,d,h=u[d-1],g=DE(h),_=h[1]/2+E_,v=ut(_),y=bt(_),w=0;w<d;++w,g=D,v=F,y=V,h=C){var C=u[w],D=DE(C),S=C[1]/2+E_,F=ut(S),V=bt(S),K=D-g,he=K>=0?1:-1,oe=he*K,de=oe>Kt,re=v*F;if(CE.add(vi(re*he*ut(oe),y*V+re*bt(oe))),s+=de?K+he*_i:K,de^g>=n^D>=n){var T=Nu(Ol(h),Ol(C));k_(T);var ne=Nu(o,T);k_(ne);var Te=(de^K>=0?-1:1)*yi(ne[2]);(r>Te||r===Te&&(T[0]||T[1]))&&(a+=de^K>=0?1:-1)}}return(s<-Dt||s<Dt&&CE<-Dt)^1&a}function RR(e,t,n,r){return function(i){var c,u,d,o=t(i),s=AR(),a=t(s),l=!1,h={point:g,lineStart:v,lineEnd:y,polygonStart:function(){h.point=w,h.lineStart=C,h.lineEnd=D,u=[],c=[]},polygonEnd:function(){h.point=g,h.lineStart=v,h.lineEnd=y,u=tw(u);var S=OR(c,r);u.length?(l||(i.polygonStart(),l=!0),kR(u,VJ,S,n,i)):S&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(S,F){e(S,F)&&i.point(S,F)}function _(S,F){o.point(S,F)}function v(){h.point=_,o.lineStart()}function y(){h.point=g,o.lineEnd()}function w(S,F){d.push([S,F]),a.point(S,F)}function C(){a.lineStart(),d=[]}function D(){w(d[0][0],d[0][1]),a.lineEnd();var V,he,oe,de,S=a.clean(),F=s.result(),K=F.length;if(d.pop(),c.push(d),d=null,K){if(1&S){if((he=(oe=F[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),V=0;V<he;++V)i.point((de=oe[V])[0],de[1]);i.lineEnd()}return}K>1&&2&S&&F.push(F.pop().concat(F.shift())),u.push(F.filter(LJ))}}return h}}function LJ(e){return e.length>1}function VJ(e,t){return((e=e.x)[0]<0?e[1]-ir-Dt:ir-e[1])-((t=t.x)[0]<0?t[1]-ir-Dt:ir-t[1])}const xE=RR(function(){return!0},function BJ(e){var i,t=NaN,n=NaN,r=NaN;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?Kt:-Kt,l=cn(o-t);cn(l-Kt)<Dt?(e.point(t,n=(n+s)/2>0?ir:-ir),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=Kt&&(cn(t-r)<Dt&&(t-=r*Dt),cn(o-a)<Dt&&(o-=a*Dt),n=function HJ(e,t,n,r){var i,o,s=ut(e-n);return cn(s)>Dt?ku((ut(t)*(o=bt(r))*ut(n)-ut(r)*(i=bt(t))*ut(e))/(i*o*s)):(t+r)/2}(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}},function jJ(e,t,n,r){var i;if(null==e)r.point(-Kt,i=n*ir),r.point(0,i),r.point(Kt,i),r.point(Kt,0),r.point(Kt,-i),r.point(0,-i),r.point(-Kt,-i),r.point(-Kt,0),r.point(-Kt,i);else if(cn(e[0]-t[0])>Dt){var o=e[0]<t[0]?Kt:-Kt;r.point(-o,i=n*o/2),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])},[-Kt,-ir]);function FR(e){var t=bt(e),n=6*St,r=t>0,i=cn(t)>Dt;function s(u,d){return bt(u)*bt(d)>t}function l(u,d,h){var v=[1,0,0],y=Nu(Ol(u),Ol(d)),w=T_(y,y),C=y[0],D=w-C*C;if(!D)return!h&&u;var S=t*w/D,F=-t*C/D,V=Nu(v,y),K=A_(v,S);pE(K,A_(y,F));var oe=V,de=T_(K,oe),re=T_(oe,oe),T=de*de-re*(T_(K,K)-1);if(!(T<0)){var ne=vr(T),Te=A_(oe,(-de-ne)/re);if(pE(Te,K),Te=I_(Te),!h)return Te;var gt,ee=u[0],De=d[0],ct=u[1],at=d[1];De<ee&&(gt=ee,ee=De,De=gt);var Lt=De-ee,Vt=cn(Lt-Kt)<Dt;if(!Vt&&at<ct&&(gt=ct,ct=at,at=gt),Vt||Lt<Dt?Vt?ct+at>0^Te[1]<(cn(Te[0]-ee)<Dt?ct:at):ct<=Te[1]&&Te[1]<=at:Lt>Kt^(ee<=Te[0]&&Te[0]<=De)){var Tt=A_(oe,(-de+ne)/re);return pE(Tt,K),[Te,I_(Tt)]}}}function c(u,d){var h=r?e:Kt-e,g=0;return u<-h?g|=1:u>h&&(g|=2),d<-h?g|=4:d>h&&(g|=8),g}return RR(s,function a(u){var d,h,g,_,v;return{lineStart:function(){_=g=!1,v=1},point:function(y,w){var D,C=[y,w],S=s(y,w),F=r?S?0:c(y,w):S?c(y+(y<0?Kt:-Kt),w):0;if(!d&&(_=g=S)&&u.lineStart(),S!==g&&(!(D=l(d,C))||B_(d,D)||B_(C,D))&&(C[2]=1),S!==g)v=0,S?(u.lineStart(),D=l(C,d),u.point(D[0],D[1])):(D=l(d,C),u.point(D[0],D[1],2),u.lineEnd()),d=D;else if(i&&d&&r^S){var V;!(F&h)&&(V=l(C,d,!0))&&(v=0,r?(u.lineStart(),u.point(V[0][0],V[0][1]),u.point(V[1][0],V[1][1]),u.lineEnd()):(u.point(V[1][0],V[1][1]),u.lineEnd(),u.lineStart(),u.point(V[0][0],V[0][1],3)))}S&&(!d||!B_(d,C))&&u.point(C[0],C[1]),d=C,g=S,h=F},lineEnd:function(){g&&u.lineEnd(),d=null},clean:function(){return v|(_&&g)<<1}}},function o(u,d,h,g){IR(g,e,n,h,u,d)},r?[0,-e]:[-Kt,e-Kt])}var rh=1e9,j_=-rh;function U_(e,t,n,r){function i(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function o(c,u,d,h){var g=0,_=0;if(null==c||(g=s(c,d))!==(_=s(u,d))||l(c,u)<0^d>0)do{h.point(0===g||3===g?e:n,g>1?r:t)}while((g=(g+d+4)%4)!==_);else h.point(u[0],u[1])}function s(c,u){return cn(c[0]-e)<Dt?u>0?0:3:cn(c[0]-n)<Dt?u>0?2:1:cn(c[1]-t)<Dt?u>0?1:0:u>0?3:2}function a(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),h=s(u,1);return d!==h?d-h:0===d?u[1]-c[1]:1===d?c[0]-u[0]:2===d?c[1]-u[1]:u[0]-c[0]}return function(c){var h,g,_,v,y,w,C,D,S,F,V,u=c,d=AR(),K={point:he,lineStart:function T(){K.point=Te,g&&g.push(_=[]),F=!0,S=!1,C=D=NaN},lineEnd:function ne(){h&&(Te(v,y),w&&S&&d.rejoin(),h.push(d.result())),K.point=he,S&&u.lineEnd()},polygonStart:function de(){u=d,h=[],g=[],V=!0},polygonEnd:function re(){var ee=function oe(){for(var ee=0,De=0,ct=g.length;De<ct;++De)for(var Dn,Tt,at=g[De],gt=1,Lt=at.length,Vt=at[0],Rt=Vt[0],sr=Vt[1];gt<Lt;++gt)Dn=Rt,Tt=sr,Rt=(Vt=at[gt])[0],sr=Vt[1],Tt<=r?sr>r&&(Rt-Dn)*(r-Tt)>(sr-Tt)*(e-Dn)&&++ee:sr<=r&&(Rt-Dn)*(r-Tt)<(sr-Tt)*(e-Dn)&&--ee;return ee}(),De=V&&ee,ct=(h=tw(h)).length;(De||ct)&&(c.polygonStart(),De&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),ct&&kR(h,a,ee,o,c),c.polygonEnd()),u=c,h=g=_=null}};function he(ee,De){i(ee,De)&&u.point(ee,De)}function Te(ee,De){var ct=i(ee,De);if(g&&_.push([ee,De]),F)v=ee,y=De,w=ct,F=!1,ct&&(u.lineStart(),u.point(ee,De));else if(ct&&S)u.point(ee,De);else{var at=[C=Math.max(j_,Math.min(rh,C)),D=Math.max(j_,Math.min(rh,D))],gt=[ee=Math.max(j_,Math.min(rh,ee)),De=Math.max(j_,Math.min(rh,De))];!function UJ(e,t,n,r,i,o){var _,s=e[0],a=e[1],u=0,d=1,h=t[0]-s,g=t[1]-a;if(_=n-s,h||!(_>0)){if(_/=h,h<0){if(_<u)return;_<d&&(d=_)}else if(h>0){if(_>d)return;_>u&&(u=_)}if(_=i-s,h||!(_<0)){if(_/=h,h<0){if(_>d)return;_>u&&(u=_)}else if(h>0){if(_<u)return;_<d&&(d=_)}if(_=r-a,g||!(_>0)){if(_/=g,g<0){if(_<u)return;_<d&&(d=_)}else if(g>0){if(_>d)return;_>u&&(u=_)}if(_=o-a,g||!(_<0)){if(_/=g,g<0){if(_>d)return;_>u&&(u=_)}else if(g>0){if(_<u)return;_<d&&(d=_)}return u>0&&(e[0]=s+u*h,e[1]=a+u*g),d<1&&(t[0]=s+d*h,t[1]=a+d*g),!0}}}}}(at,gt,e,t,n,r)?ct&&(u.lineStart(),u.point(ee,De),V=!1):(S||(u.lineStart(),u.point(at[0],at[1])),u.point(gt[0],gt[1]),ct||u.lineEnd(),V=!1)}C=ee,D=De,S=ct}return K}}function zJ(){var i,o,s,e=0,t=0,n=960,r=500;return s={stream:function(a){return i&&o===a?i:i=U_(e,t,n,r)(o=a)},extent:function(a){return arguments.length?(e=+a[0][0],t=+a[0][1],n=+a[1][0],r=+a[1][1],i=o=null,s):[[e,t],[n,r]]}}}var SE,z_,$_,ME=Aa(),Fu={sphere:Zn,point:Zn,lineStart:function $J(){Fu.point=WJ,Fu.lineEnd=GJ},lineEnd:Zn,polygonStart:Zn,polygonEnd:Zn};function GJ(){Fu.point=Fu.lineEnd=Zn}function WJ(e,t){SE=e*=St,z_=ut(t*=St),$_=bt(t),Fu.point=qJ}function qJ(e,t){e*=St;var n=ut(t*=St),r=bt(t),i=cn(e-SE),o=bt(i),a=r*ut(i),l=$_*n-z_*r*o,c=z_*n+$_*r*o;ME.add(vi(vr(a*a+l*l),c)),SE=e,z_=n,$_=r}function PR(e){return ME.reset(),Po(e,Fu),+ME}var IE=[null,null],YJ={type:"LineString",coordinates:IE};function G_(e,t){return IE[0]=e,IE[1]=t,PR(YJ)}var LR={Feature:function(e,t){return W_(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(W_(n[r].geometry,t))return!0;return!1}},VR={Sphere:function(){return!0},Point:function(e,t){return BR(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(BR(n[r],t))return!0;return!1},LineString:function(e,t){return HR(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(HR(n[r],t))return!0;return!1},Polygon:function(e,t){return jR(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(jR(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(W_(n[r],t))return!0;return!1}};function W_(e,t){return!(!e||!VR.hasOwnProperty(e.type))&&VR[e.type](e,t)}function BR(e,t){return 0===G_(e,t)}function HR(e,t){for(var n,r,i,o=0,s=e.length;o<s;o++){if(0===(r=G_(e[o],t))||o>0&&(i=G_(e[o],e[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<w_*i)return!0;n=r}return!1}function jR(e,t){return!!OR(e.map(KJ),UR(t))}function KJ(e){return(e=e.map(UR)).pop(),e}function UR(e){return[e[0]*St,e[1]*St]}function ZJ(e,t){return(e&&LR.hasOwnProperty(e.type)?LR[e.type]:W_)(e,t)}function zR(e,t,n){var r=qi(e,t-Dt,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function $R(e,t,n){var r=qi(e,t-Dt,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function GR(){var e,t,n,r,i,o,s,a,h,g,_,v,l=10,c=l,u=90,d=360,y=2.5;function w(){return{type:"MultiLineString",coordinates:C()}}function C(){return qi(C_(r/u)*u,n,u).map(_).concat(qi(C_(a/d)*d,s,d).map(v)).concat(qi(C_(t/l)*l,e,l).filter(function(D){return cn(D%u)>Dt}).map(h)).concat(qi(C_(o/c)*c,i,c).filter(function(D){return cn(D%d)>Dt}).map(g))}return w.lines=function(){return C().map(function(D){return{type:"LineString",coordinates:D}})},w.outline=function(){return{type:"Polygon",coordinates:[_(r).concat(v(s).slice(1),_(n).reverse().slice(1),v(a).reverse().slice(1))]}},w.extent=function(D){return arguments.length?w.extentMajor(D).extentMinor(D):w.extentMinor()},w.extentMajor=function(D){return arguments.length?(a=+D[0][1],s=+D[1][1],(r=+D[0][0])>(n=+D[1][0])&&(D=r,r=n,n=D),a>s&&(D=a,a=s,s=D),w.precision(y)):[[r,a],[n,s]]},w.extentMinor=function(D){return arguments.length?(o=+D[0][1],i=+D[1][1],(t=+D[0][0])>(e=+D[1][0])&&(D=t,t=e,e=D),o>i&&(D=o,o=i,i=D),w.precision(y)):[[t,o],[e,i]]},w.step=function(D){return arguments.length?w.stepMajor(D).stepMinor(D):w.stepMinor()},w.stepMajor=function(D){return arguments.length?(u=+D[0],d=+D[1],w):[u,d]},w.stepMinor=function(D){return arguments.length?(l=+D[0],c=+D[1],w):[l,c]},w.precision=function(D){return arguments.length?(y=+D,h=zR(o,i,90),g=$R(t,e,y),_=zR(a,s,90),v=$R(r,n,y),w):y},w.extentMajor([[-180,-90+Dt],[180,90-Dt]]).extentMinor([[-180,-80-Dt],[180,80+Dt]])}function XJ(){return GR()()}function QJ(e,t){var n=e[0]*St,r=e[1]*St,i=t[0]*St,o=t[1]*St,s=bt(r),a=ut(r),l=bt(o),c=ut(o),u=s*bt(n),d=s*ut(n),h=l*bt(i),g=l*ut(i),_=2*yi(vr(oR(o-r)+s*l*oR(i-n))),v=ut(_),y=_?function(w){var C=ut(w*=_)/v,D=ut(_-w)/v,S=D*u+C*h,F=D*d+C*g,V=D*a+C*c;return[vi(F,S)*On,vi(V,vr(S*S+F*F))*On]}:function(){return[n*On,r*On]};return y.distance=_,y}function ih(e){return e}var WR,qR,kE,NE,TE=Aa(),AE=Aa(),Na={point:Zn,lineStart:Zn,lineEnd:Zn,polygonStart:function(){Na.lineStart=JJ,Na.lineEnd=tee},polygonEnd:function(){Na.lineStart=Na.lineEnd=Na.point=Zn,TE.add(cn(AE)),AE.reset()},result:function(){var e=TE/2;return TE.reset(),e}};function JJ(){Na.point=eee}function eee(e,t){Na.point=YR,WR=kE=e,qR=NE=t}function YR(e,t){AE.add(NE*e-kE*t),kE=e,NE=t}function tee(){YR(WR,qR)}const KR=Na;var Pu=1/0,q_=Pu,oh=-Pu,Y_=oh,nee={point:function ree(e,t){e<Pu&&(Pu=e),e>oh&&(oh=e),t<q_&&(q_=t),t>Y_&&(Y_=t)},lineStart:Zn,lineEnd:Zn,polygonStart:Zn,polygonEnd:Zn,result:function(){var e=[[Pu,q_],[oh,Y_]];return oh=Y_=-(q_=Pu=1/0),e}};const K_=nee;var ZR,XR,Es,Cs,OE=0,RE=0,sh=0,Z_=0,X_=0,Lu=0,FE=0,PE=0,ah=0,Vo={point:Fl,lineStart:QR,lineEnd:JR,polygonStart:function(){Vo.lineStart=see,Vo.lineEnd=aee},polygonEnd:function(){Vo.point=Fl,Vo.lineStart=QR,Vo.lineEnd=JR},result:function(){var e=ah?[FE/ah,PE/ah]:Lu?[Z_/Lu,X_/Lu]:sh?[OE/sh,RE/sh]:[NaN,NaN];return OE=RE=sh=Z_=X_=Lu=FE=PE=ah=0,e}};function Fl(e,t){OE+=e,RE+=t,++sh}function QR(){Vo.point=iee}function iee(e,t){Vo.point=oee,Fl(Es=e,Cs=t)}function oee(e,t){var n=e-Es,r=t-Cs,i=vr(n*n+r*r);Z_+=i*(Es+e)/2,X_+=i*(Cs+t)/2,Lu+=i,Fl(Es=e,Cs=t)}function JR(){Vo.point=Fl}function see(){Vo.point=lee}function aee(){eF(ZR,XR)}function lee(e,t){Vo.point=eF,Fl(ZR=Es=e,XR=Cs=t)}function eF(e,t){var n=e-Es,r=t-Cs,i=vr(n*n+r*r);Z_+=i*(Es+e)/2,X_+=i*(Cs+t)/2,Lu+=i,FE+=(i=Cs*e-Es*t)*(Es+e),PE+=i*(Cs+t),ah+=3*i,Fl(Es=e,Cs=t)}const tF=Vo;function nF(e){this._context=e}nF.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,_i)}},result:Zn};var VE,rF,iF,lh,ch,LE=Aa(),Q_={point:Zn,lineStart:function(){Q_.point=cee},lineEnd:function(){VE&&oF(rF,iF),Q_.point=Zn},polygonStart:function(){VE=!0},polygonEnd:function(){VE=null},result:function(){var e=+LE;return LE.reset(),e}};function cee(e,t){Q_.point=oF,rF=lh=e,iF=ch=t}function oF(e,t){LE.add(vr((lh-=e)*lh+(ch-=t)*ch)),lh=e,ch=t}const sF=Q_;function aF(){this._string=[]}function lF(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function uee(e,t){var r,i,n=4.5;function o(s){return s&&("function"==typeof n&&i.pointRadius(+n.apply(this,arguments)),Po(s,r(i))),i.result()}return o.area=function(s){return Po(s,r(KR)),KR.result()},o.measure=function(s){return Po(s,r(sF)),sF.result()},o.bounds=function(s){return Po(s,r(K_)),K_.result()},o.centroid=function(s){return Po(s,r(tF)),tF.result()},o.projection=function(s){return arguments.length?(r=null==s?(e=null,ih):(e=s).stream,o):e},o.context=function(s){return arguments.length?(i=null==s?(t=null,new aF):new nF(t=s),"function"!=typeof n&&i.pointRadius(n),o):t},o.pointRadius=function(s){return arguments.length?(n="function"==typeof s?s:(i.pointRadius(+s),+s),o):n},o.projection(e).context(t)}function dee(e){return{stream:uh(e)}}function uh(e){return function(t){var n=new BE;for(var r in e)n[r]=e[r];return n.stream=t,n}}function BE(){}function HE(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),Po(n,e.stream(K_)),t(K_.result()),null!=r&&e.clipExtent(r),e}function J_(e,t,n){return HE(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function jE(e,t,n){return J_(e,[[0,0],t],n)}function UE(e,t,n){return HE(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function zE(e,t,n){return HE(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}aF.prototype={_radius:4.5,_circle:lF(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=lF(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},BE.prototype={constructor:BE,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var cF=16,fee=bt(30*St);function uF(e,t){return+t?function pee(e,t){function n(r,i,o,s,a,l,c,u,d,h,g,_,v,y){var w=c-r,C=u-i,D=w*w+C*C;if(D>4*t&&v--){var S=s+h,F=a+g,V=l+_,K=vr(S*S+F*F+V*V),he=yi(V/=K),oe=cn(cn(V)-1)<Dt||cn(o-d)<Dt?(o+d)/2:vi(F,S),de=e(oe,he),re=de[0],T=de[1],ne=re-r,Te=T-i,ee=C*ne-w*Te;(ee*ee/D>t||cn((w*ne+C*Te)/D-.5)>.3||s*h+a*g+l*_<fee)&&(n(r,i,o,s,a,l,re,T,oe,S/=K,F/=K,V,v,y),y.point(re,T),n(re,T,oe,S,F,V,c,u,d,h,g,_,v,y))}}return function(r){var i,o,s,a,l,c,u,d,h,g,_,v,y={point:w,lineStart:C,lineEnd:S,polygonStart:function(){r.polygonStart(),y.lineStart=F},polygonEnd:function(){r.polygonEnd(),y.lineStart=C}};function w(he,oe){he=e(he,oe),r.point(he[0],he[1])}function C(){d=NaN,y.point=D,r.lineStart()}function D(he,oe){var de=Ol([he,oe]),re=e(he,oe);n(d,h,u,g,_,v,d=re[0],h=re[1],u=he,g=de[0],_=de[1],v=de[2],cF,r),r.point(d,h)}function S(){y.point=w,r.lineEnd()}function F(){C(),y.point=V,y.lineEnd=K}function V(he,oe){D(i=he,oe),o=d,s=h,a=g,l=_,c=v,y.point=D}function K(){n(d,h,u,g,_,v,o,s,i,a,l,c,cF,r),y.lineEnd=S,S()}return y}}(e,t):function hee(e){return uh({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var gee=uh({point:function(e,t){this.stream.point(e*St,t*St)}});function _ee(e,t,n,r,i){function o(s,a){return[t+e*(s*=r),n-e*(a*=i)]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function dF(e,t,n,r,i,o){var s=bt(o),a=ut(o),l=s*e,c=a*e,u=s/e,d=a/e,h=(a*n-s*t)/e,g=(a*t+s*n)/e;function _(v,y){return[l*(v*=r)-c*(y*=i)+t,n-c*v-l*y]}return _.invert=function(v,y){return[r*(u*v-d*y+h),i*(g-d*v-u*y)]},_}function Ds(e){return $E(function(){return e})()}function $E(e){var t,u,w,C,D,V,K,he,oe,de,n=150,r=480,i=250,o=0,s=0,a=0,l=0,c=0,d=0,h=1,g=1,_=null,v=xE,y=null,S=ih,F=.5;function re(ee){return he(ee[0]*St,ee[1]*St)}function T(ee){return(ee=he.invert(ee[0],ee[1]))&&[ee[0]*On,ee[1]*On]}function ne(){var ee=dF(n,0,0,h,g,d).apply(null,t(o,s)),De=(d?dF:_ee)(n,r-ee[0],i-ee[1],h,g,d);return u=EE(a,l,c),K=bE(t,De),he=bE(u,K),V=uF(K,F),Te()}function Te(){return oe=de=null,re}return re.stream=function(ee){return oe&&de===ee?oe:oe=gee(function mee(e){return uh({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(u)(v(V(S(de=ee)))))},re.preclip=function(ee){return arguments.length?(v=ee,_=void 0,Te()):v},re.postclip=function(ee){return arguments.length?(S=ee,y=w=C=D=null,Te()):S},re.clipAngle=function(ee){return arguments.length?(v=+ee?FR(_=ee*St):(_=null,xE),Te()):_*On},re.clipExtent=function(ee){return arguments.length?(S=null==ee?(y=w=C=D=null,ih):U_(y=+ee[0][0],w=+ee[0][1],C=+ee[1][0],D=+ee[1][1]),Te()):null==y?null:[[y,w],[C,D]]},re.scale=function(ee){return arguments.length?(n=+ee,ne()):n},re.translate=function(ee){return arguments.length?(r=+ee[0],i=+ee[1],ne()):[r,i]},re.center=function(ee){return arguments.length?(o=ee[0]%360*St,s=ee[1]%360*St,ne()):[o*On,s*On]},re.rotate=function(ee){return arguments.length?(a=ee[0]%360*St,l=ee[1]%360*St,c=ee.length>2?ee[2]%360*St:0,ne()):[a*On,l*On,c*On]},re.angle=function(ee){return arguments.length?(d=ee%360*St,ne()):d*On},re.reflectX=function(ee){return arguments.length?(h=ee?-1:1,ne()):h<0},re.reflectY=function(ee){return arguments.length?(g=ee?-1:1,ne()):g<0},re.precision=function(ee){return arguments.length?(V=uF(K,F=ee*ee),Te()):vr(F)},re.fitExtent=function(ee,De){return J_(re,ee,De)},re.fitSize=function(ee,De){return jE(re,ee,De)},re.fitWidth=function(ee,De){return UE(re,ee,De)},re.fitHeight=function(ee,De){return zE(re,ee,De)},function(){return t=e.apply(this,arguments),re.invert=t.invert&&T,ne()}}function GE(e){var t=0,n=Kt/3,r=$E(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*St,n=o[1]*St):[t*On,n*On]},i}function fF(e,t){var n=ut(e),r=(n+ut(t))/2;if(cn(r)<Dt)return function vee(e){var t=bt(e);function n(r,i){return[r*t,ut(i)/t]}return n.invert=function(r,i){return[r/t,yi(i*t)]},n}(e);var i=1+n*(2*r-n),o=vr(i)/r;function s(a,l){var c=vr(i-2*r*ut(l))/r;return[c*ut(a*=r),o-c*bt(a)]}return s.invert=function(a,l){var c=o-l,u=vi(a,cn(c))*lo(c);return c*r<0&&(u-=Kt*lo(a)*lo(c)),[u/r,yi((i-(a*a+c*c)*r*r)/(2*r))]},s}function ev(){return GE(fF).scale(155.424).center([0,33.6442])}function hF(){return ev().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function bee(){var e,t,r,o,a,l,n=hF(),i=ev().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ev().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(h,g){l=[h,g]}};function u(h){var g=h[0],_=h[1];return l=null,r.point(g,_),l||(o.point(g,_),l)||(a.point(g,_),l)}function d(){return e=t=null,u}return u.invert=function(h){var g=n.scale(),_=n.translate(),v=(h[0]-_[0])/g,y=(h[1]-_[1])/g;return(y>=.12&&y<.234&&v>=-.425&&v<-.214?i:y>=.166&&y<.234&&v>=-.214&&v<-.115?s:n).invert(h)},u.stream=function(h){return e&&t===h?e:e=function yee(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([n.stream(t=h),i.stream(h),s.stream(h)])},u.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},u.scale=function(h){return arguments.length?(n.scale(h),i.scale(.35*h),s.scale(h),u.translate(n.translate())):n.scale()},u.translate=function(h){if(!arguments.length)return n.translate();var g=n.scale(),_=+h[0],v=+h[1];return r=n.translate(h).clipExtent([[_-.455*g,v-.238*g],[_+.455*g,v+.238*g]]).stream(c),o=i.translate([_-.307*g,v+.201*g]).clipExtent([[_-.425*g+Dt,v+.12*g+Dt],[_-.214*g-Dt,v+.234*g-Dt]]).stream(c),a=s.translate([_-.205*g,v+.212*g]).clipExtent([[_-.214*g+Dt,v+.166*g+Dt],[_-.115*g-Dt,v+.234*g-Dt]]).stream(c),d()},u.fitExtent=function(h,g){return J_(u,h,g)},u.fitSize=function(h,g){return jE(u,h,g)},u.fitWidth=function(h,g){return UE(u,h,g)},u.fitHeight=function(h,g){return zE(u,h,g)},u.scale(1070)}function pF(e){return function(t,n){var r=bt(t),i=bt(n),o=e(r*i);return[o*i*ut(t),o*ut(n)]}}function dh(e){return function(t,n){var r=vr(t*t+n*n),i=e(r),o=ut(i),s=bt(i);return[vi(t*o,r*s),yi(r&&n*o/r)]}}var WE=pF(function(e){return vr(2/(1+e))});function wee(){return Ds(WE).scale(124.75).clipAngle(179.999)}WE.invert=dh(function(e){return 2*yi(e/2)});var qE=pF(function(e){return(e=iR(e))&&e/ut(e)});function Eee(){return Ds(qE).scale(79.4188).clipAngle(179.999)}function fh(e,t){return[e,D_(cE((ir+t)/2))]}function Cee(){return gF(fh).scale(961/_i)}function gF(e){var a,l,c,t=Ds(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null;function u(){var d=Kt*r(),h=t(SR(t.rotate()).invert([0,0]));return o(null==s?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===fh?[[Math.max(h[0]-d,s),a],[Math.min(h[0]+d,l),c]]:[[s,Math.max(h[1]-d,a)],[l,Math.min(h[1]+d,c)]])}return t.scale=function(d){return arguments.length?(r(d),u()):r()},t.translate=function(d){return arguments.length?(i(d),u()):i()},t.center=function(d){return arguments.length?(n(d),u()):n()},t.clipExtent=function(d){return arguments.length?(null==d?s=a=l=c=null:(s=+d[0][0],a=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):null==s?null:[[s,a],[l,c]]},u()}function tv(e){return cE((ir+e)/2)}function mF(e,t){var n=bt(e),r=e===t?ut(e):D_(n/bt(t))/D_(tv(t)/tv(e)),i=n*lE(tv(e),r)/r;if(!r)return fh;function o(s,a){i>0?a<-ir+Dt&&(a=-ir+Dt):a>ir-Dt&&(a=ir-Dt);var l=i/lE(tv(a),r);return[l*ut(r*s),i-l*bt(r*s)]}return o.invert=function(s,a){var l=i-a,c=lo(r)*vr(s*s+l*l),u=vi(s,cn(l))*lo(l);return l*r<0&&(u-=Kt*lo(s)*lo(l)),[u/r,2*ku(lE(i/c,1/r))-ir]},o}function Dee(){return GE(mF).scale(109.5).parallels([30,30])}function hh(e,t){return[e,t]}function xee(){return Ds(hh).scale(152.63)}function _F(e,t){var n=bt(e),r=e===t?ut(e):(n-bt(t))/(t-e),i=n/r+e;if(cn(r)<Dt)return hh;function o(s,a){var l=i-a,c=r*s;return[l*ut(c),i-l*bt(c)]}return o.invert=function(s,a){var l=i-a,c=vi(s,cn(l))*lo(l);return l*r<0&&(c-=Kt*lo(s)*lo(l)),[c/r,i-lo(r)*vr(s*s+l*l)]},o}function Mee(){return GE(_F).scale(131.154).center([0,13.9389])}qE.invert=dh(function(e){return e}),fh.invert=function(e,t){return[e,2*ku(rR(t))-ir]},hh.invert=hh;var ph=1.340264,gh=-.081106,mh=893e-6,_h=.003796,nv=vr(3)/2;function YE(e,t){var n=yi(nv*ut(t)),r=n*n,i=r*r*r;return[e*bt(n)/(nv*(ph+3*gh*r+i*(7*mh+9*_h*r))),n*(ph+gh*r+i*(mh+_h*r))]}function Iee(){return Ds(YE).scale(177.158)}function KE(e,t){var n=bt(t),r=bt(e)*n;return[n*ut(e)/r,ut(t)/r]}function Tee(){return Ds(KE).scale(144.049).clipAngle(60)}function Aee(){var s,a,c,u,d,y,w,e=1,t=0,n=0,r=1,i=1,o=0,l=null,h=1,g=1,_=uh({point:function(S,F){var V=D([S,F]);this.stream.point(V[0],V[1])}}),v=ih;function C(){return h=e*r,g=e*i,y=w=null,D}function D(S){var F=S[0]*h,V=S[1]*g;if(o){var K=V*s-F*a;F=F*s+V*a,V=K}return[F+t,V+n]}return D.invert=function(S){var F=S[0]-t,V=S[1]-n;if(o){var K=V*s+F*a;F=F*s-V*a,V=K}return[F/h,V/g]},D.stream=function(S){return y&&w===S?y:y=_(v(w=S))},D.postclip=function(S){return arguments.length?(v=S,l=c=u=d=null,C()):v},D.clipExtent=function(S){return arguments.length?(v=null==S?(l=c=u=d=null,ih):U_(l=+S[0][0],c=+S[0][1],u=+S[1][0],d=+S[1][1]),C()):null==l?null:[[l,c],[u,d]]},D.scale=function(S){return arguments.length?(e=+S,C()):e},D.translate=function(S){return arguments.length?(t=+S[0],n=+S[1],C()):[t,n]},D.angle=function(S){return arguments.length?(a=ut(o=S%360*St),s=bt(o),C()):o*On},D.reflectX=function(S){return arguments.length?(r=S?-1:1,C()):r<0},D.reflectY=function(S){return arguments.length?(i=S?-1:1,C()):i<0},D.fitExtent=function(S,F){return J_(D,S,F)},D.fitSize=function(S,F){return jE(D,S,F)},D.fitWidth=function(S,F){return UE(D,S,F)},D.fitHeight=function(S,F){return zE(D,S,F)},D}function ZE(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function kee(){return Ds(ZE).scale(175.295)}function XE(e,t){return[bt(t)*ut(e),ut(t)]}function Nee(){return Ds(XE).scale(249.5).clipAngle(90+Dt)}function QE(e,t){var n=bt(t),r=1+bt(e)*n;return[n*ut(e)/r,ut(t)/r]}function Oee(){return Ds(QE).scale(250).clipAngle(142)}function JE(e,t){return[D_(cE((ir+t)/2)),-e]}function Ree(){var e=gF(JE),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):[(r=t())[1],-r[0]]},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):[(r=n())[0],r[1],r[2]-90]},n([0,0,90]).scale(159.155)}function Fee(e,t){return e.parent===t.parent?1:2}function Lee(e,t){return e+t.x}function Bee(e,t){return Math.max(e,t.y)}function Uee(){var e=Fee,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(h){var g=h.children;g?(h.x=function Pee(e){return e.reduce(Lee,0)/e.length}(g),h.y=function Vee(e){return 1+e.reduce(Bee,0)}(g)):(h.x=s?a+=e(h,s):0,h.y=0,s=h)});var l=function Hee(e){for(var t;t=e.children;)e=t[0];return e}(o),c=function jee(e){for(var t;t=e.children;)e=t[t.length-1];return e}(o),u=l.x-e(l,c)/2,d=c.x+e(c,l)/2;return o.eachAfter(r?function(h){h.x=(h.x-o.x)*t,h.y=(o.y-h.y)*n}:function(h){h.x=(h.x-u)/(d-u)*t,h.y=(1-(o.y?h.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function zee(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}function eC(e,t){var i,s,a,l,c,n=new Vu(e),r=+e.value&&(n.value=e.value),o=[n];for(null==t&&(t=rte);i=o.pop();)if(r&&(i.value=+i.data.value),(a=t(i.data))&&(c=a.length))for(i.children=new Array(c),l=c-1;l>=0;--l)o.push(s=i.children[l]=new Vu(a[l])),s.parent=i,s.depth=i.depth+1;return n.eachBefore(vF)}function rte(e){return e.children}function ite(e){e.data=e.data.data}function vF(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Vu(e){this.data=e,this.depth=this.height=0,this.parent=null}YE.invert=function(e,t){for(var s,n=t,r=n*n,i=r*r*r,o=0;o<12&&(i=(r=(n-=s=(n*(ph+gh*r+i*(mh+_h*r))-t)/(ph+3*gh*r+i*(7*mh+9*_h*r)))*n)*r*r,!(cn(s)<w_));++o);return[nv*e*(ph+3*gh*r+i*(7*mh+9*_h*r))/bt(n),yi(ut(n)/nv)]},KE.invert=dh(ku),ZE.invert=function(e,t){var i,n=t,r=25;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-t)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(cn(i)>Dt&&--r>0);return[e/(.8707+(o=n*n)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),n]},XE.invert=dh(yi),QE.invert=dh(function(e){return 2*ku(e)}),JE.invert=function(e,t){return[-t,2*ku(rR(e))-ir]},Vu.prototype=eC.prototype={constructor:Vu,count:function $ee(){return this.eachAfter(zee)},each:function Gee(e){var n,i,o,s,t=this,r=[t];do{for(n=r.reverse(),r=[];t=n.pop();)if(e(t),i=t.children)for(o=0,s=i.length;o<s;++o)r.push(i[o])}while(r.length);return this},eachAfter:function qee(e){for(var i,o,s,t=this,n=[t],r=[];t=n.pop();)if(r.push(t),i=t.children)for(o=0,s=i.length;o<s;++o)n.push(i[o]);for(;t=r.pop();)e(t);return this},eachBefore:function Wee(e){for(var r,i,t=this,n=[t];t=n.pop();)if(e(t),r=t.children)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this},sum:function Yee(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})},sort:function Kee(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function Zee(e){for(var t=this,n=function Xee(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)r.push(t=t.parent);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function Qee(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function Jee(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function ete(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function tte(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t},copy:function nte(){return eC(this).eachBefore(ite)}};var ote=Array.prototype.slice;function yF(e){for(var i,o,t=0,n=(e=function ste(e){for(var n,r,t=e.length;t;)r=Math.random()*t--|0,n=e[t],e[t]=e[r],e[r]=n;return e}(ote.call(e))).length,r=[];t<n;)i=e[t],o&&bF(o,i)?++t:(o=lte(r=ate(r,i)),t=0);return o}function ate(e,t){var n,r;if(tC(t,e))return[t];for(n=0;n<e.length;++n)if(rv(t,e[n])&&tC(vh(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(rv(vh(e[n],e[r]),t)&&rv(vh(e[n],t),e[r])&&rv(vh(e[r],t),e[n])&&tC(wF(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function rv(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function bF(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function tC(e,t){for(var n=0;n<t.length;++n)if(!bF(e,t[n]))return!1;return!0}function lte(e){switch(e.length){case 1:return function cte(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return vh(e[0],e[1]);case 3:return wF(e[0],e[1],e[2])}}function vh(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,c=s-r,u=a-i,d=Math.sqrt(l*l+c*c);return{x:(n+o+l/d*u)/2,y:(r+s+c/d*u)/2,r:(d+i+a)/2}}function wF(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,c=n.x,u=n.y,d=n.r,h=r-s,g=r-c,_=i-a,v=i-u,y=l-o,w=d-o,C=r*r+i*i-o*o,D=C-s*s-a*a+l*l,S=C-c*c-u*u+d*d,F=g*_-h*v,V=(_*S-v*D)/(2*F)-r,K=(v*y-_*w)/F,he=(g*D-h*S)/(2*F)-i,oe=(h*w-g*y)/F,de=K*K+oe*oe-1,re=2*(o+V*K+he*oe),T=V*V+he*he-o*o,ne=-(de?(re+Math.sqrt(re*re-4*de*T))/(2*de):T/re);return{x:r+V+K*ne,y:i+he+oe*ne,r:ne}}function EF(e,t,n){var i,o,a,l,r=e.x-t.x,s=e.y-t.y,c=r*r+s*s;c?(o=t.r+n.r,l=e.r+n.r,(o*=o)>(l*=l)?(i=(c+l-o)/(2*c),a=Math.sqrt(Math.max(0,l/c-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(c+o-l)/(2*c),a=Math.sqrt(Math.max(0,o/c-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function CF(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function DF(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function iv(e){this._=e,this.next=null,this.previous=null}function xF(e){if(!(i=e.length))return 0;var t,n,r,i,o,s,a,l,c,u,d;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(t.x=-(n=e[1]).r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;EF(n,t,r=e[2]),t=new iv(t),n=new iv(n),r=new iv(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(a=3;a<i;++a){EF(t._,n._,r=e[a]),r=new iv(r),l=n.next,c=t.previous,u=n._.r,d=t._.r;do{if(u<=d){if(CF(l._,r._)){t.next=n=l,n.previous=t,--a;continue e}u+=l._.r,l=l.next}else{if(CF(c._,r._)){(t=c).next=n,n.previous=t,--a;continue e}d+=c._.r,c=c.previous}}while(l!==c.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,o=DF(t);(r=r.next)!==n;)(s=DF(r))<o&&(t=r,o=s);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=yF(t),a=0;a<i;++a)(t=e[a]).x-=r.x,t.y-=r.y;return r.r}function ute(e){return xF(e),e}function ov(e){if("function"!=typeof e)throw new Error;return e}function Pl(){return 0}function Bu(e){return function(){return e}}function fte(e){return Math.sqrt(e.value)}function hte(){var e=null,t=1,n=1,r=Pl;function i(o){return o.x=t/2,o.y=n/2,e?o.eachBefore(MF(e)).eachAfter(nC(r,.5)).eachBefore(SF(1)):o.eachBefore(MF(fte)).eachAfter(nC(Pl,1)).eachAfter(nC(r,o.r/Math.min(t,n))).eachBefore(SF(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=function dte(e){return null==e?null:ov(e)}(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r="function"==typeof o?o:Bu(+o),i):r},i}function MF(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function nC(e,t){return function(n){if(r=n.children){var r,i,a,o=r.length,s=e(n)*t||0;if(s)for(i=0;i<o;++i)r[i].r+=s;if(a=xF(r),s)for(i=0;i<o;++i)r[i].r-=s;n.r=a+s}}}function SF(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function IF(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function yh(e,t,n,r,i){for(var s,o=e.children,a=-1,l=o.length,c=e.value&&(r-t)/e.value;++a<l;)(s=o[a]).y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*c}function pte(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(function o(s,a){return function(l){l.children&&yh(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var c=l.x0,u=l.y0,d=l.x1-n,h=l.y1-n;d<c&&(c=d=(c+d)/2),h<u&&(u=h=(u+h)/2),l.x0=c,l.y0=u,l.x1=d,l.y1=h}}(t,a)),r&&s.eachBefore(IF),s}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var TF="$",gte={depth:-1},AF={};function mte(e){return e.id}function _te(e){return e.parentId}function vte(){var e=mte,t=_te;function n(r){var i,o,a,l,c,d,h,s=r.length,u=new Array(s),g={};for(o=0;o<s;++o)c=u[o]=new Vu(i=r[o]),null!=(d=e(i,o,r))&&(d+="")&&(g[h=TF+(c.id=d)]=h in g?AF:c);for(o=0;o<s;++o)if(c=u[o],null!=(d=t(r[o],o,r))&&(d+="")){if(!(l=g[TF+d]))throw new Error("missing: "+d);if(l===AF)throw new Error("ambiguous: "+d);l.children?l.children.push(c):l.children=[c],c.parent=l}else{if(a)throw new Error("multiple roots");a=c}if(!a)throw new Error("no root");if(a.parent=gte,a.eachBefore(function(_){_.depth=_.parent.depth+1,--s}).eachBefore(vF),a.parent=null,s>0)throw new Error("cycle");return a}return n.id=function(r){return arguments.length?(e=ov(r),n):e},n.parentId=function(r){return arguments.length?(t=ov(r),n):t},n}function yte(e,t){return e.parent===t.parent?1:2}function rC(e){var t=e.children;return t?t[0]:e.t}function iC(e){var t=e.children;return t?t[t.length-1]:e.t}function bte(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Ete(e,t,n){return e.a.parent===t.parent?e.a:n}function sv(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function Dte(){var e=yte,t=1,n=1,r=null;function i(c){var u=function Cte(e){for(var n,i,o,s,a,t=new sv(e,0),r=[t];n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new sv(o[s],s)),i.parent=n;return(t.parent=new sv(null,0)).children=[t],t}(c);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),r)c.eachBefore(l);else{var d=c,h=c,g=c;c.eachBefore(function(C){C.x<d.x&&(d=C),C.x>h.x&&(h=C),C.depth>g.depth&&(g=C)});var _=d===h?1:e(d,h)/2,v=_-d.x,y=t/(h.x+_+v),w=n/(g.depth||1);c.eachBefore(function(C){C.x=(C.x+v)*y,C.y=C.depth*w})}return c}function o(c){var u=c.children,d=c.parent.children,h=c.i?d[c.i-1]:null;if(u){!function wte(e){for(var o,t=0,n=0,r=e.children,i=r.length;--i>=0;)(o=r[i]).z+=t,o.m+=t,t+=o.s+(n+=o.c)}(c);var g=(u[0].z+u[u.length-1].z)/2;h?(c.z=h.z+e(c._,h._),c.m=c.z-g):c.z=g}else h&&(c.z=h.z+e(c._,h._));c.parent.A=function a(c,u,d){if(u){for(var S,h=c,g=c,_=u,v=h.parent.children[0],y=h.m,w=g.m,C=_.m,D=v.m;_=iC(_),h=rC(h),_&&h;)v=rC(v),(g=iC(g)).a=c,(S=_.z+C-h.z-y+e(_._,h._))>0&&(bte(Ete(_,c,d),c,S),y+=S,w+=S),C+=_.m,y+=h.m,D+=v.m,w+=g.m;_&&!iC(g)&&(g.t=_,g.m+=C-w),h&&!rC(v)&&(v.t=h,v.m+=y-D,d=c)}return d}(c,h,c.parent.A||d[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function l(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function av(e,t,n,r,i){for(var s,o=e.children,a=-1,l=o.length,c=e.value&&(i-n)/e.value;++a<l;)(s=o[a]).x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*c}sv.prototype=Object.create(Vu.prototype);var kF=(1+Math.sqrt(5))/2;function NF(e,t,n,r,i,o){for(var l,c,g,_,y,w,C,D,S,F,V,s=[],a=t.children,u=0,d=0,h=a.length,v=t.value;u<h;){g=i-n,_=o-r;do{y=a[d++].value}while(!y&&d<h);for(w=C=y,V=y*y*(F=Math.max(_/g,g/_)/(v*e)),S=Math.max(C/V,V/w);d<h;++d){if(y+=c=a[d].value,c<w&&(w=c),c>C&&(C=c),V=y*y*F,(D=Math.max(C/V,V/w))>S){y-=c;break}S=D}s.push(l={value:y,dice:g<_,children:a.slice(u,d)}),l.dice?yh(l,n,r,i,v?r+=_*y/v:o):av(l,n,r,v?n+=g*y/v:i,o),v-=y,u=d}return s}const OF=function e(t){function n(r,i,o,s,a){NF(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(kF);function xte(){var e=OF,t=!1,n=1,r=1,i=[0],o=Pl,s=Pl,a=Pl,l=Pl,c=Pl;function u(h){return h.x0=h.y0=0,h.x1=n,h.y1=r,h.eachBefore(d),i=[0],t&&h.eachBefore(IF),h}function d(h){var g=i[h.depth],_=h.x0+g,v=h.y0+g,y=h.x1-g,w=h.y1-g;y<_&&(_=y=(_+y)/2),w<v&&(v=w=(v+w)/2),h.x0=_,h.y0=v,h.x1=y,h.y1=w,h.children&&(g=i[h.depth+1]=o(h)/2,_+=c(h)-g,v+=s(h)-g,(y-=a(h)-g)<_&&(_=y=(_+y)/2),(w-=l(h)-g)<v&&(v=w=(v+w)/2),e(h,_,v,y,w))}return u.round=function(h){return arguments.length?(t=!!h,u):t},u.size=function(h){return arguments.length?(n=+h[0],r=+h[1],u):[n,r]},u.tile=function(h){return arguments.length?(e=ov(h),u):e},u.padding=function(h){return arguments.length?u.paddingInner(h).paddingOuter(h):u.paddingInner()},u.paddingInner=function(h){return arguments.length?(o="function"==typeof h?h:Bu(+h),u):o},u.paddingOuter=function(h){return arguments.length?u.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):u.paddingTop()},u.paddingTop=function(h){return arguments.length?(s="function"==typeof h?h:Bu(+h),u):s},u.paddingRight=function(h){return arguments.length?(a="function"==typeof h?h:Bu(+h),u):a},u.paddingBottom=function(h){return arguments.length?(l="function"==typeof h?h:Bu(+h),u):l},u.paddingLeft=function(h){return arguments.length?(c="function"==typeof h?h:Bu(+h),u):c},u}function Mte(e,t,n,r,i){var s,l,o=e.children,a=o.length,c=new Array(a+1);for(c[0]=l=s=0;s<a;++s)c[s+1]=l+=o[s].value;!function u(d,h,g,_,v,y,w){if(d>=h-1){var C=o[d];return C.x0=_,C.y0=v,C.x1=y,void(C.y1=w)}for(var D=c[d],S=g/2+D,F=d+1,V=h-1;F<V;){var K=F+V>>>1;c[K]<S?F=K+1:V=K}S-c[F-1]<c[F]-S&&d+1<F&&--F;var he=c[F]-D,oe=g-he;if(y-_>w-v){var de=(_*oe+y*he)/g;u(d,F,he,_,v,de,w),u(F,h,oe,de,v,y,w)}else{var re=(v*oe+w*he)/g;u(d,F,he,_,v,y,re),u(F,h,oe,_,re,y,w)}}(0,a,e.value,t,n,r,i)}function Ste(e,t,n,r,i){(1&e.depth?av:yh)(e,t,n,r,i)}const Ite=function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,c,u,d,g,h=-1,_=l.length,v=r.value;++h<_;){for(u=(c=l[h]).children,d=c.value=0,g=u.length;d<g;++d)c.value+=u[d].value;c.dice?yh(c,i,o,s,o+=(a-o)*c.value/v):av(c,i,o,i+=(s-i)*c.value/v,a),v-=c.value}else r._squarify=l=NF(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(kF);function Tte(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Ate(e,t){var n=Gm(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function RF(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var bh=Math.SQRT2,oC=2,FF=4,kte=1e-12;function PF(e){return((e=Math.exp(e))+1/e)/2}function LF(e,t){var d,h,n=e[0],r=e[1],i=e[2],a=t[2],l=t[0]-n,c=t[1]-r,u=l*l+c*c;if(u<kte)h=Math.log(a/i)/bh,d=function(C){return[n+C*l,r+C*c,i*Math.exp(bh*C*h)]};else{var g=Math.sqrt(u),_=(a*a-i*i+FF*u)/(2*i*oC*g),v=(a*a-i*i-FF*u)/(2*a*oC*g),y=Math.log(Math.sqrt(_*_+1)-_),w=Math.log(Math.sqrt(v*v+1)-v);h=(w-y)/bh,d=function(C){var D=C*h,S=PF(y),F=i/(oC*g)*(S*function Ote(e){return((e=Math.exp(2*e))-1)/(e+1)}(bh*D+y)-function Nte(e){return((e=Math.exp(e))-1/e)/2}(y));return[n+F*l,r+F*c,i*S/PF(bh*D+y)]}}return d.duration=1e3*h,d}function VF(e){return function(t,n){var r=e((t=zm(t)).h,(n=zm(n)).h),i=Fr(t.s,n.s),o=Fr(t.l,n.l),s=Fr(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const Rte=VF(Gm);var Fte=VF(Fr);function Pte(e,t){var n=Fr((e=a_(e)).l,(t=a_(t)).l),r=Fr(e.a,t.a),i=Fr(e.b,t.b),o=Fr(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function BF(e){return function(t,n){var r=e((t=l_(t)).h,(n=l_(n)).h),i=Fr(t.c,n.c),o=Fr(t.l,n.l),s=Fr(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const Lte=BF(Gm);var Vte=BF(Fr);function HF(e){return function t(n){function r(i,o){var s=e((i=Fo(i)).h,(o=Fo(o)).h),a=Fr(i.s,o.s),l=Fr(i.l,o.l),c=Fr(i.opacity,o.opacity);return function(u){return i.h=s(u),i.s=a(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return n=+n,r.gamma=t,r}(1)}const Bte=HF(Gm);var lv=HF(Fr);function Hte(e,t){for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function jte(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function Ute(e){for(var r,t=-1,n=e.length,i=e[n-1],o=0;++t<n;)o+=(r=i)[1]*(i=e[t])[0]-r[0]*i[1];return o/2}function zte(e){for(var o,a,t=-1,n=e.length,r=0,i=0,s=e[n-1],l=0;++t<n;)l+=a=(o=s)[0]*(s=e[t])[1]-s[0]*o[1],r+=(o[0]+s[0])*a,i+=(o[1]+s[1])*a;return[r/(l*=3),i/l]}function $te(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Gte(e,t){return e[0]-t[0]||e[1]-t[1]}function jF(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;++i){for(;r>1&&$te(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Wte(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(Gte),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var o=jF(r),s=jF(i),a=s[0]===o[0],l=s[s.length-1]===o[o.length-1],c=[];for(t=o.length-1;t>=0;--t)c.push(e[r[o[t]][2]]);for(t=+a;t<s.length-l;++t)c.push(e[r[s[t]][2]]);return c}function qte(e,t){for(var l,c,n=e.length,r=e[n-1],i=t[0],o=t[1],s=r[0],a=r[1],u=!1,d=0;d<n;++d)l=(r=e[d])[0],(c=r[1])>o!=a>o&&i<(s-l)*(o-c)/(a-c)+l&&(u=!u),s=l,a=c;return u}function Yte(e){for(var i,o,t=-1,n=e.length,r=e[n-1],s=r[0],a=r[1],l=0;++t<n;)i=s,o=a,i-=s=(r=e[t])[0],o-=a=r[1],l+=Math.sqrt(i*i+o*o);return l}function Hu(){return Math.random()}const Kte=function e(t){function n(r,i){return r=null==r?0:+r,i=null==i?1:+i,1===arguments.length?(i=r,r=0):i-=r,function(){return t()*i+r}}return n.source=e,n}(Hu),UF=function e(t){function n(r,i){var o,s;return r=null==r?0:+r,i=null==i?1:+i,function(){var a;if(null!=o)a=o,o=null;else do{o=2*t()-1,a=2*t()-1,s=o*o+a*a}while(!s||s>1);return r+i*a*Math.sqrt(-2*Math.log(s)/s)}}return n.source=e,n}(Hu),Zte=function e(t){function n(){var r=UF.source(t).apply(this,arguments);return function(){return Math.exp(r())}}return n.source=e,n}(Hu),zF=function e(t){function n(r){return function(){for(var i=0,o=0;o<r;++o)i+=t();return i}}return n.source=e,n}(Hu),Xte=function e(t){function n(r){var i=zF.source(t)(r);return function(){return i()/r}}return n.source=e,n}(Hu),Qte=function e(t){function n(r){return function(){return-Math.log(1-t())/r}}return n.source=e,n}(Hu);function Bo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function Js(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var $F=Array.prototype,cv=$F.map,Ll=$F.slice,sC={name:"implicit"};function aC(){var e=Ma(),t=[],n=[],r=sC;function i(o){var s=o+"",a=e.get(s);if(!a){if(r!==sC)return r;e.set(s,a=t.push(o))}return n[(a-1)%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=Ma();for(var l,c,s=-1,a=o.length;++s<a;)e.has(c=(l=o[s])+"")||e.set(c,t.push(l));return i},i.range=function(o){return arguments.length?(n=Ll.call(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return aC(t,n).unknown(r)},Bo.apply(i,arguments),i}function lC(){var i,o,e=aC().unknown(void 0),t=e.domain,n=e.range,r=[0,1],s=!1,a=0,l=0,c=.5;function u(){var d=t().length,h=r[1]<r[0],g=r[h-0],_=r[1-h];i=(_-g)/Math.max(1,d-a+2*l),s&&(i=Math.floor(i)),g+=(_-g-i*(d-a))*c,o=i*(1-a),s&&(g=Math.round(g),o=Math.round(o));var v=qi(d).map(function(y){return g+i*y});return n(h?v.reverse():v)}return delete e.unknown,e.domain=function(d){return arguments.length?(t(d),u()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],u()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],s=!0,u()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,u()):s},e.padding=function(d){return arguments.length?(a=Math.min(1,l=+d),u()):a},e.paddingInner=function(d){return arguments.length?(a=Math.min(1,d),u()):a},e.paddingOuter=function(d){return arguments.length?(l=+d,u()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),u()):c},e.copy=function(){return lC(t(),r).round(s).paddingInner(a).paddingOuter(l).align(c)},Bo.apply(u(),arguments)}function GF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return GF(t())},e}function Jte(){return GF(lC.apply(null,arguments).paddingInner(1))}function cC(e){return+e}var WF=[0,1];function Br(e){return e}function uC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function ene(e){return function(){return e}}(isNaN(t)?NaN:.5)}function qF(e){var r,t=e[0],n=e[e.length-1];return t>n&&(r=t,t=n,n=r),function(i){return Math.max(t,Math.min(n,i))}}function tne(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=uC(i,r),o=n(s,o)):(r=uC(r,i),o=n(o,s)),function(a){return o(r(a))}}function nne(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=uC(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=bl(e,a,1,r)-1;return o[l](i[l](a))}}function wh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uv(){var r,i,o,a,l,c,e=WF,t=WF,n=jf,s=Br;function u(){return a=Math.min(e.length,t.length)>2?nne:tne,l=c=null,d}function d(h){return isNaN(h=+h)?o:(l||(l=a(e.map(r),t,n)))(r(s(h)))}return d.invert=function(h){return s(i((c||(c=a(t,e.map(r),so)))(h)))},d.domain=function(h){return arguments.length?(e=cv.call(h,cC),s===Br||(s=qF(e)),u()):e.slice()},d.range=function(h){return arguments.length?(t=Ll.call(h),u()):t.slice()},d.rangeRound=function(h){return t=Ll.call(h),n=RF,u()},d.clamp=function(h){return arguments.length?(s=h?qF(e):Br,d):s!==Br},d.interpolate=function(h){return arguments.length?(n=h,u()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,g){return r=h,i=g,u()}}function YF(e,t){return uv()(e,t)}function KF(e,t,n,r){var o,i=wl(e,t,n);switch((r=Jf(r??",f")).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null==r.precision&&!isNaN(o=eR(i,s))&&(r.precision=o),aE(r,s);case"":case"e":case"g":case"p":case"r":null==r.precision&&!isNaN(o=tR(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-("e"===r.type));break;case"f":case"%":null==r.precision&&!isNaN(o=JO(i))&&(r.precision=o-2*("%"===r.type))}return v_(r)}function Vl(e){var t=e.domain;return e.ticks=function(n){var r=t();return J1(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return KF(i[0],i[i.length-1],n??10,r)},e.nice=function(n){null==n&&(n=10);var l,r=t(),i=0,o=r.length-1,s=r[i],a=r[o];return a<s&&(l=s,s=a,a=l,l=i,i=o,o=l),(l=Of(s,a,n))>0?l=Of(s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l,n):l<0&&(l=Of(s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l,n)),l>0?(r[i]=Math.floor(s/l)*l,r[o]=Math.ceil(a/l)*l,t(r)):l<0&&(r[i]=Math.ceil(s*l)/l,r[o]=Math.floor(a*l)/l,t(r)),e},e}function ZF(){var e=YF(Br,Br);return e.copy=function(){return wh(e,ZF())},Bo.apply(e,arguments),Vl(e)}function XF(e){var t;function n(r){return isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=cv.call(r,cC),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return XF(e).unknown(t)},e=arguments.length?cv.call(e,cC):[0,1],Vl(n)}function QF(e,t){var s,n=0,r=(e=e.slice()).length-1,i=e[n],o=e[r];return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function JF(e){return Math.log(e)}function eP(e){return Math.exp(e)}function rne(e){return-Math.log(-e)}function ine(e){return-Math.exp(-e)}function one(e){return isFinite(e)?+("1e"+e):e<0?0:e}function tP(e){return function(t){return-e(-t)}}function dC(e){var i,o,t=e(JF,eP),n=t.domain,r=10;function s(){return i=function ane(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(r),o=function sne(e){return 10===e?one:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(r),n()[0]<0?(i=tP(i),o=tP(o),e(rne,ine)):e(JF,eP),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=function(a){var d,l=n(),c=l[0],u=l[l.length-1];(d=u<c)&&(h=c,c=u,u=h);var _,v,y,h=i(c),g=i(u),w=null==a?10:+a,C=[];if(!(r%1)&&g-h<w){if(h=Math.round(h)-1,g=Math.round(g)+1,c>0){for(;h<g;++h)for(v=1,_=o(h);v<r;++v)if(!((y=_*v)<c)){if(y>u)break;C.push(y)}}else for(;h<g;++h)for(v=r-1,_=o(h);v>=1;--v)if(!((y=_*v)<c)){if(y>u)break;C.push(y)}}else C=J1(h,g,Math.min(g-h,w)).map(o);return d?C.reverse():C},t.tickFormat=function(a,l){if(null==l&&(l=10===r?".0e":","),"function"!=typeof l&&(l=v_(l)),a===1/0)return l;null==a&&(a=10);var c=Math.max(1,r*a/t.ticks().length);return function(u){var d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},t.nice=function(){return n(QF(n(),{floor:function(a){return o(Math.floor(i(a)))},ceil:function(a){return o(Math.ceil(i(a)))}}))},t}function nP(){var e=dC(uv()).domain([1,10]);return e.copy=function(){return wh(e,nP()).base(e.base())},Bo.apply(e,arguments),e}function rP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function iP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fC(e){var t=1,n=e(rP(t),iP(t));return n.constant=function(r){return arguments.length?e(rP(t=+r),iP(t)):t},Vl(n)}function oP(){var e=fC(uv());return e.copy=function(){return wh(e,oP()).constant(e.constant())},Bo.apply(e,arguments)}function sP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cne(e){return e<0?-e*e:e*e}function hC(e){var t=e(Br,Br),n=1;return t.exponent=function(i){return arguments.length?(n=+i,function r(){return 1===n?e(Br,Br):.5===n?e(lne,cne):e(sP(n),sP(1/n))}()):n},Vl(t)}function pC(){var e=hC(uv());return e.copy=function(){return wh(e,pC()).exponent(e.exponent())},Bo.apply(e,arguments),e}function une(){return pC.apply(null,arguments).exponent(.5)}function aP(){var r,e=[],t=[],n=[];function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=Rf(e,s/a);return o}function o(s){return isNaN(s=+s)?r:t[bl(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(var c,a=0,l=s.length;a<l;++a)null!=(c=s[a])&&!isNaN(c=+c)&&e.push(c);return e.sort(Ea),i()},o.range=function(s){return arguments.length?(t=Ll.call(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return aP().domain(e).range(t).unknown(r)},Bo.apply(o,arguments)}function lP(){var o,e=0,t=1,n=1,r=[.5],i=[0,1];function s(l){return l<=l?i[bl(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?(e=+l[0],t=+l[1],a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Ll.call(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return lP().domain([e,t]).range(i).unknown(o)},Bo.apply(Vl(s),arguments)}function cP(){var n,e=[.5],t=[0,1],r=1;function i(o){return o<=o?t[bl(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Ll.call(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Ll.call(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return cP().domain(e).range(t).unknown(n)},Bo.apply(i,arguments)}var gC=new Date,mC=new Date;function Mr(e,t,n,r){function i(o){return e(o=0===arguments.length?new Date:new Date(+o)),o}return i.floor=function(o){return e(o=new Date(+o)),o},i.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},i.round=function(o){var s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=function(o,s){return t(o=new Date(+o),null==s?1:Math.floor(s)),o},i.range=function(o,s,a){var c,l=[];if(o=i.ceil(o),a=null==a?1:Math.floor(a),!(o<s&&a>0))return l;do{l.push(c=new Date(+o)),t(o,a),e(o)}while(c<o&&o<s);return l},i.filter=function(o){return Mr(function(s){if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},function(s,a){if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););})},n&&(i.count=function(o,s){return gC.setTime(+o),mC.setTime(+s),e(gC),e(mC),Math.floor(n(gC,mC))},i.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?i.filter(r?function(s){return r(s)%o==0}:function(s){return i.count(0,s)%o==0}):i:null}),i}var _C=Mr(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});_C.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Mr(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};const Bl=_C;var dne=_C.range,uP=Mr(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},function(e){return e.getMonth()});const dP=uP;var fne=uP.range,Hl=6e4,fv=36e5,hP=6048e5;function jl(e){return Mr(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Hl)/hP})}var Eh=jl(0),Ch=jl(1),pP=jl(2),gP=jl(3),Ul=jl(4),mP=jl(5),_P=jl(6),vP=Eh.range,hne=Ch.range,pne=pP.range,gne=gP.range,mne=Ul.range,_ne=mP.range,vne=_P.range,yP=Mr(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hl)/864e5},function(e){return e.getDate()-1});const hv=yP;var yne=yP.range,bP=Mr(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-e.getMinutes()*Hl)},function(e,t){e.setTime(+e+t*fv)},function(e,t){return(t-e)/fv},function(e){return e.getHours()});const wP=bP;var bne=bP.range,EP=Mr(function(e){e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())},function(e,t){e.setTime(+e+t*Hl)},function(e,t){return(t-e)/Hl},function(e){return e.getMinutes()});const CP=EP;var wne=EP.range,DP=Mr(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+1e3*t)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()});const pv=DP;var xP=DP.range,gv=Mr(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});gv.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?Mr(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):gv:null};const mv=gv;var MP=gv.range;function zl(e){return Mr(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/hP})}var Dh=zl(0),xh=zl(1),SP=zl(2),IP=zl(3),$l=zl(4),TP=zl(5),AP=zl(6),kP=Dh.range,Ene=xh.range,Cne=SP.range,Dne=IP.range,xne=$l.range,Mne=TP.range,Sne=AP.range,NP=Mr(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1});const _v=NP;var Ine=NP.range,vC=Mr(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});vC.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Mr(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};const Gl=vC;var Tne=vC.range;function yC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Mh(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function OP(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=Sh(i),u=Ih(i),d=Sh(o),h=Ih(o),g=Sh(s),_=Ih(s),v=Sh(a),y=Ih(a),w=Sh(l),C=Ih(l),D={a:function ct(L){return s[L.getDay()]},A:function at(L){return o[L.getDay()]},b:function gt(L){return l[L.getMonth()]},B:function Lt(L){return a[L.getMonth()]},c:null,d:BP,e:BP,f:Qne,g:lre,G:ure,H:Kne,I:Zne,j:Xne,L:HP,m:Jne,M:ere,p:function Vt(L){return i[+(L.getHours()>=12)]},q:function Dn(L){return 1+~~(L.getMonth()/3)},Q:WP,s:qP,S:tre,u:nre,U:rre,V:ire,w:ore,W:sre,x:null,X:null,y:are,Y:cre,Z:dre,"%":GP},S={a:function Tt(L){return s[L.getUTCDay()]},A:function Rt(L){return o[L.getUTCDay()]},b:function sr(L){return l[L.getUTCMonth()]},B:function Ri(L){return a[L.getUTCMonth()]},c:null,d:UP,e:UP,f:gre,g:xre,G:Sre,H:fre,I:hre,j:pre,L:zP,m:mre,M:_re,p:function Fi(L){return i[+(L.getUTCHours()>=12)]},q:function Pi(L){return 1+~~(L.getUTCMonth()/3)},Q:WP,s:qP,S:vre,u:yre,U:bre,V:wre,w:Ere,W:Cre,x:null,X:null,y:Dre,Y:Mre,Z:Ire,"%":GP},F={a:function de(L,Ne,Ge){var be=g.exec(Ne.slice(Ge));return be?(L.w=_[be[0].toLowerCase()],Ge+be[0].length):-1},A:function re(L,Ne,Ge){var be=d.exec(Ne.slice(Ge));return be?(L.w=h[be[0].toLowerCase()],Ge+be[0].length):-1},b:function T(L,Ne,Ge){var be=w.exec(Ne.slice(Ge));return be?(L.m=C[be[0].toLowerCase()],Ge+be[0].length):-1},B:function ne(L,Ne,Ge){var be=v.exec(Ne.slice(Ge));return be?(L.m=y[be[0].toLowerCase()],Ge+be[0].length):-1},c:function Te(L,Ne,Ge){return he(L,t,Ne,Ge)},d:LP,e:LP,f:Gne,g:PP,G:FP,H:VP,I:VP,j:jne,L:$ne,m:Hne,M:Une,p:function oe(L,Ne,Ge){var be=c.exec(Ne.slice(Ge));return be?(L.p=u[be[0].toLowerCase()],Ge+be[0].length):-1},q:Bne,Q:qne,s:Yne,S:zne,u:Rne,U:Fne,V:Pne,w:One,W:Lne,x:function ee(L,Ne,Ge){return he(L,n,Ne,Ge)},X:function De(L,Ne,Ge){return he(L,r,Ne,Ge)},y:PP,Y:FP,Z:Vne,"%":Wne};function V(L,Ne){return function(Ge){var Wt,Tr,bn,be=[],mt=-1,Ft=0,un=L.length;for(Ge instanceof Date||(Ge=new Date(+Ge));++mt<un;)37===L.charCodeAt(mt)&&(be.push(L.slice(Ft,mt)),null!=(Tr=RP[Wt=L.charAt(++mt)])?Wt=L.charAt(++mt):Tr="e"===Wt?" ":"0",(bn=Ne[Wt])&&(Wt=bn(Ge,Tr)),be.push(Wt),Ft=mt+1);return be.push(L.slice(Ft,mt)),be.join("")}}function K(L,Ne){return function(Ge){var Ft,un,be=Mh(1900,void 0,1);if(he(be,L,Ge+="",0)!=Ge.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(1e3*be.s+("L"in be?be.L:0));if(Ne&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+12*be.p),void 0===be.m&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(un=(Ft=bC(Mh(be.y,0,1))).getUTCDay(),Ft=un>4||0===un?xh.ceil(Ft):xh(Ft),Ft=_v.offset(Ft,7*(be.V-1)),be.y=Ft.getUTCFullYear(),be.m=Ft.getUTCMonth(),be.d=Ft.getUTCDate()+(be.w+6)%7):(un=(Ft=yC(Mh(be.y,0,1))).getDay(),Ft=un>4||0===un?Ch.ceil(Ft):Ch(Ft),Ft=hv.offset(Ft,7*(be.V-1)),be.y=Ft.getFullYear(),be.m=Ft.getMonth(),be.d=Ft.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),un="Z"in be?bC(Mh(be.y,0,1)).getUTCDay():yC(Mh(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+7*be.W-(un+5)%7:be.w+7*be.U-(un+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,bC(be)):yC(be)}}function he(L,Ne,Ge,be){for(var Wt,Tr,mt=0,Ft=Ne.length,un=Ge.length;mt<Ft;){if(be>=un)return-1;if(37===(Wt=Ne.charCodeAt(mt++))){if(Wt=Ne.charAt(mt++),!(Tr=F[Wt in RP?Ne.charAt(mt++):Wt])||(be=Tr(L,Ge,be))<0)return-1}else if(Wt!=Ge.charCodeAt(be++))return-1}return be}return D.x=V(n,D),D.X=V(r,D),D.c=V(t,D),S.x=V(n,S),S.X=V(r,S),S.c=V(t,S),{format:function(L){var Ne=V(L+="",D);return Ne.toString=function(){return L},Ne},parse:function(L){var Ne=K(L+="",!1);return Ne.toString=function(){return L},Ne},utcFormat:function(L){var Ne=V(L+="",S);return Ne.toString=function(){return L},Ne},utcParse:function(L){var Ne=K(L+="",!0);return Ne.toString=function(){return L},Ne}}}var ju,wC,YP,vv,EC,RP={"-":"",_:" ",0:"0"},Pr=/^\s*\d+/,Ane=/^%/,kne=/[\\^$*+?|[\]().{}]/g;function yn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Nne(e){return e.replace(kne,"\\$&")}function Sh(e){return new RegExp("^(?:"+e.map(Nne).join("|")+")","i")}function Ih(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function One(e,t,n){var r=Pr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Rne(e,t,n){var r=Pr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Fne(e,t,n){var r=Pr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Pne(e,t,n){var r=Pr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Lne(e,t,n){var r=Pr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function FP(e,t,n){var r=Pr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function PP(e,t,n){var r=Pr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Vne(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Bne(e,t,n){var r=Pr.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function Hne(e,t,n){var r=Pr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function LP(e,t,n){var r=Pr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function jne(e,t,n){var r=Pr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function VP(e,t,n){var r=Pr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Une(e,t,n){var r=Pr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function zne(e,t,n){var r=Pr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function $ne(e,t,n){var r=Pr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Gne(e,t,n){var r=Pr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Wne(e,t,n){var r=Ane.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function qne(e,t,n){var r=Pr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Yne(e,t,n){var r=Pr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function BP(e,t){return yn(e.getDate(),t,2)}function Kne(e,t){return yn(e.getHours(),t,2)}function Zne(e,t){return yn(e.getHours()%12||12,t,2)}function Xne(e,t){return yn(1+hv.count(Bl(e),e),t,3)}function HP(e,t){return yn(e.getMilliseconds(),t,3)}function Qne(e,t){return HP(e,t)+"000"}function Jne(e,t){return yn(e.getMonth()+1,t,2)}function ere(e,t){return yn(e.getMinutes(),t,2)}function tre(e,t){return yn(e.getSeconds(),t,2)}function nre(e){var t=e.getDay();return 0===t?7:t}function rre(e,t){return yn(Eh.count(Bl(e)-1,e),t,2)}function jP(e){var t=e.getDay();return t>=4||0===t?Ul(e):Ul.ceil(e)}function ire(e,t){return e=jP(e),yn(Ul.count(Bl(e),e)+(4===Bl(e).getDay()),t,2)}function ore(e){return e.getDay()}function sre(e,t){return yn(Ch.count(Bl(e)-1,e),t,2)}function are(e,t){return yn(e.getFullYear()%100,t,2)}function lre(e,t){return yn((e=jP(e)).getFullYear()%100,t,2)}function cre(e,t){return yn(e.getFullYear()%1e4,t,4)}function ure(e,t){var n=e.getDay();return yn((e=n>=4||0===n?Ul(e):Ul.ceil(e)).getFullYear()%1e4,t,4)}function dre(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+yn(t/60|0,"0",2)+yn(t%60,"0",2)}function UP(e,t){return yn(e.getUTCDate(),t,2)}function fre(e,t){return yn(e.getUTCHours(),t,2)}function hre(e,t){return yn(e.getUTCHours()%12||12,t,2)}function pre(e,t){return yn(1+_v.count(Gl(e),e),t,3)}function zP(e,t){return yn(e.getUTCMilliseconds(),t,3)}function gre(e,t){return zP(e,t)+"000"}function mre(e,t){return yn(e.getUTCMonth()+1,t,2)}function _re(e,t){return yn(e.getUTCMinutes(),t,2)}function vre(e,t){return yn(e.getUTCSeconds(),t,2)}function yre(e){var t=e.getUTCDay();return 0===t?7:t}function bre(e,t){return yn(Dh.count(Gl(e)-1,e),t,2)}function $P(e){var t=e.getUTCDay();return t>=4||0===t?$l(e):$l.ceil(e)}function wre(e,t){return e=$P(e),yn($l.count(Gl(e),e)+(4===Gl(e).getUTCDay()),t,2)}function Ere(e){return e.getUTCDay()}function Cre(e,t){return yn(xh.count(Gl(e)-1,e),t,2)}function Dre(e,t){return yn(e.getUTCFullYear()%100,t,2)}function xre(e,t){return yn((e=$P(e)).getUTCFullYear()%100,t,2)}function Mre(e,t){return yn(e.getUTCFullYear()%1e4,t,4)}function Sre(e,t){var n=e.getUTCDay();return yn((e=n>=4||0===n?$l(e):$l.ceil(e)).getUTCFullYear()%1e4,t,4)}function Ire(){return"+0000"}function GP(){return"%"}function WP(e){return+e}function qP(e){return Math.floor(+e/1e3)}function KP(e){return ju=OP(e),wC=ju.format,YP=ju.parse,vv=ju.utcFormat,EC=ju.utcParse,ju}KP({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Th=1e3,Ah=60*Th,kh=60*Ah,Nh=24*kh,Tre=7*Nh,ZP=30*Nh,CC=365*Nh;function Are(e){return new Date(e)}function kre(e){return e instanceof Date?+e:+new Date(+e)}function DC(e,t,n,r,i,o,s,a,l){var c=YF(Br,Br),u=c.invert,d=c.domain,h=l(".%L"),g=l(":%S"),_=l("%I:%M"),v=l("%I %p"),y=l("%a %d"),w=l("%b %d"),C=l("%B"),D=l("%Y"),S=[[s,1,Th],[s,5,5*Th],[s,15,15*Th],[s,30,30*Th],[o,1,Ah],[o,5,5*Ah],[o,15,15*Ah],[o,30,30*Ah],[i,1,kh],[i,3,3*kh],[i,6,6*kh],[i,12,12*kh],[r,1,Nh],[r,2,2*Nh],[n,1,Tre],[t,1,ZP],[t,3,3*ZP],[e,1,CC]];function F(K){return(s(K)<K?h:o(K)<K?g:i(K)<K?_:r(K)<K?v:t(K)<K?n(K)<K?y:w:e(K)<K?C:D)(K)}function V(K,he,oe,de){if(null==K&&(K=10),"number"==typeof K){var re=Math.abs(oe-he)/K,T=Y1(function(ne){return ne[2]}).right(S,re);T===S.length?(de=wl(he/CC,oe/CC,K),K=e):T?(de=(T=S[re/S[T-1][2]<S[T][2]/re?T-1:T])[1],K=T[0]):(de=Math.max(wl(he,oe,K),1),K=a)}return null==de?K:K.every(de)}return c.invert=function(K){return new Date(u(K))},c.domain=function(K){return arguments.length?d(cv.call(K,kre)):d().map(Are)},c.ticks=function(K,he){var ne,oe=d(),de=oe[0],re=oe[oe.length-1],T=re<de;return T&&(ne=de,de=re,re=ne),ne=(ne=V(K,de,re,he))?ne.range(de,re+1):[],T?ne.reverse():ne},c.tickFormat=function(K,he){return null==he?F:l(he)},c.nice=function(K,he){var oe=d();return(K=V(K,oe[0],oe[oe.length-1],he))?d(QF(oe,K)):c},c.copy=function(){return wh(c,DC(e,t,n,r,i,o,s,a,l))},c}function Nre(){return Bo.apply(DC(Bl,dP,Eh,hv,wP,CP,pv,mv,wC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var XP=Mr(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())},function(e){return e.getUTCMonth()});const QP=XP;var Ore=XP.range,JP=Mr(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*fv)},function(e,t){return(t-e)/fv},function(e){return e.getUTCHours()});const eL=JP;var Rre=JP.range,tL=Mr(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*Hl)},function(e,t){return(t-e)/Hl},function(e){return e.getUTCMinutes()});const nL=tL;var Fre=tL.range;function Pre(){return Bo.apply(DC(Gl,QP,Dh,_v,eL,nL,pv,mv,vv).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yv(){var n,r,i,o,l,e=0,t=1,s=Br,a=!1;function c(u){return isNaN(u=+u)?l:s(0===i?.5:(u=(o(u)-n)*i,a?Math.max(0,Math.min(1,u)):u))}return c.domain=function(u){return arguments.length?(n=o(e=+u[0]),r=o(t=+u[1]),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(u){return arguments.length?(a=!!u,c):a},c.interpolator=function(u){return arguments.length?(s=u,c):s},c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return o=u,n=u(e),r=u(t),i=n===r?0:1/(r-n),c}}function Oa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function rL(){var e=Vl(yv()(Br));return e.copy=function(){return Oa(e,rL())},Js.apply(e,arguments)}function iL(){var e=dC(yv()).domain([1,10]);return e.copy=function(){return Oa(e,iL()).base(e.base())},Js.apply(e,arguments)}function oL(){var e=fC(yv());return e.copy=function(){return Oa(e,oL()).constant(e.constant())},Js.apply(e,arguments)}function xC(){var e=hC(yv());return e.copy=function(){return Oa(e,xC()).exponent(e.exponent())},Js.apply(e,arguments)}function Lre(){return xC.apply(null,arguments).exponent(.5)}function sL(){var e=[],t=Br;function n(r){if(!isNaN(r=+r))return t((bl(e,r)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(var s,i=0,o=r.length;i<o;++i)null!=(s=r[i])&&!isNaN(s=+s)&&e.push(s);return e.sort(Ea),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return sL(t).domain(e)},Js.apply(n,arguments)}function bv(){var r,i,o,s,a,c,d,e=0,t=.5,n=1,l=Br,u=!1;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-i)*(g<i?s:a),l(u?Math.max(0,Math.min(1,g)):g))}return h.domain=function(g){return arguments.length?(r=c(e=+g[0]),i=c(t=+g[1]),o=c(n=+g[2]),s=r===i?0:.5/(i-r),a=i===o?0:.5/(o-i),h):[e,t,n]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l},h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,r=g(e),i=g(t),o=g(n),s=r===i?0:.5/(i-r),a=i===o?0:.5/(o-i),h}}function aL(){var e=Vl(bv()(Br));return e.copy=function(){return Oa(e,aL())},Js.apply(e,arguments)}function lL(){var e=dC(bv()).domain([.1,1,10]);return e.copy=function(){return Oa(e,lL()).base(e.base())},Js.apply(e,arguments)}function cL(){var e=fC(bv());return e.copy=function(){return Oa(e,cL()).constant(e.constant())},Js.apply(e,arguments)}function MC(){var e=hC(bv());return e.copy=function(){return Oa(e,MC()).exponent(e.exponent())},Js.apply(e,arguments)}function Vre(){return MC.apply(null,arguments).exponent(.5)}function Gt(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}const Bre=Gt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Hre=Gt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),jre=Gt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Ure=Gt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),zre=Gt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),$re=Gt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Gre=Gt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Wre=Gt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),qre=Gt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Yre=Gt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function Rn(e){return TN(e[e.length-1])}var uL=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Gt);const Kre=Rn(uL);var dL=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Gt);const Zre=Rn(dL);var fL=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Gt);const Xre=Rn(fL);var hL=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Gt);const Qre=Rn(hL);var pL=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Gt);const Jre=Rn(pL);var gL=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Gt);const eie=Rn(gL);var mL=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Gt);const tie=Rn(mL);var _L=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Gt);const nie=Rn(_L);var vL=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Gt);const rie=Rn(vL);var yL=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Gt);const iie=Rn(yL);var bL=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Gt);const oie=Rn(bL);var wL=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Gt);const sie=Rn(wL);var EL=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Gt);const aie=Rn(EL);var CL=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Gt);const lie=Rn(CL);var DL=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Gt);const cie=Rn(DL);var xL=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Gt);const uie=Rn(xL);var ML=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Gt);const die=Rn(ML);var SL=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Gt);const fie=Rn(SL);var IL=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Gt);const hie=Rn(IL);var TL=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Gt);const pie=Rn(TL);var AL=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Gt);const gie=Rn(AL);var kL=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Gt);const mie=Rn(kL);var NL=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Gt);const _ie=Rn(NL);var OL=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Gt);const vie=Rn(OL);var RL=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Gt);const yie=Rn(RL);var FL=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Gt);const bie=Rn(FL);var PL=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Gt);const wie=Rn(PL);function Eie(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}const Cie=lv(Fo(300,.5,0),Fo(-240,.5,1));var Die=lv(Fo(-100,.75,.35),Fo(80,1.5,.8)),xie=lv(Fo(260,.75,.35),Fo(80,1.5,.8)),wv=Fo();function Mie(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return wv.h=360*e-100,wv.s=1.5-1.5*t,wv.l=.8-.9*t,wv+""}var Ev=Eu(),Sie=Math.PI/3,Iie=2*Math.PI/3;function Tie(e){var t;return e=(.5-e)*Math.PI,Ev.r=255*(t=Math.sin(e))*t,Ev.g=255*(t=Math.sin(e+Sie))*t,Ev.b=255*(t=Math.sin(e+Iie))*t,Ev+""}function Aie(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function Cv(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const kie=Cv(Gt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Nie=Cv(Gt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Oie=Cv(Gt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Rie=Cv(Gt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Fie(e){return nn(Bm(e).call(document.documentElement))}var Pie=0;function LL(){return new SC}function SC(){this._="@"+(++Pie).toString(36)}function Ho(e){return"string"==typeof e?new pi([document.querySelectorAll(e)],[document.documentElement]):new pi([e??[]],uw)}function Lie(e,t){null==t&&(t=yw().touches);for(var n=0,r=t?t.length:0,i=new Array(r);n<r;++n)i[n]=Wm(e,t[n]);return i}function Xt(e){return function(){return e}}SC.prototype=LL.prototype={constructor:SC,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var VL=Math.abs,Zr=Math.atan2,Wl=Math.cos,Vie=Math.max,IC=Math.min,xs=Math.sin,Uu=Math.sqrt,Xr=1e-12,Ra=Math.PI,Dv=Ra/2,Fa=2*Ra;function BL(e){return e>=1?Dv:e<=-1?-Dv:Math.asin(e)}function Hie(e){return e.innerRadius}function jie(e){return e.outerRadius}function Uie(e){return e.startAngle}function zie(e){return e.endAngle}function $ie(e){return e&&e.padAngle}function xv(e,t,n,r,i,o,s){var a=e-n,l=t-r,c=(s?o:-o)/Uu(a*a+l*l),u=c*l,d=-c*a,h=e+u,g=t+d,_=n+u,v=r+d,y=(h+_)/2,w=(g+v)/2,C=_-h,D=v-g,S=C*C+D*D,F=i-o,V=h*v-_*g,K=(D<0?-1:1)*Uu(Vie(0,F*F*S-V*V)),he=(V*D-C*K)/S,oe=(-V*C-D*K)/S,de=(V*D+C*K)/S,re=(-V*C+D*K)/S,T=he-y,ne=oe-w,Te=de-y,ee=re-w;return T*T+ne*ne>Te*Te+ee*ee&&(he=de,oe=re),{cx:he,cy:oe,x01:-u,y01:-d,x11:he*(i/F-1),y11:oe*(i/F-1)}}function Wie(){var e=Hie,t=jie,n=Xt(0),r=null,i=Uie,o=zie,s=$ie,a=null;function l(){var c,u,d=+e.apply(this,arguments),h=+t.apply(this,arguments),g=i.apply(this,arguments)-Dv,_=o.apply(this,arguments)-Dv,v=VL(_-g),y=_>g;if(a||(a=c=Il()),h<d&&(u=h,h=d,d=u),h>Xr)if(v>Fa-Xr)a.moveTo(h*Wl(g),h*xs(g)),a.arc(0,0,h,g,_,!y),d>Xr&&(a.moveTo(d*Wl(_),d*xs(_)),a.arc(0,0,d,_,g,y));else{var T,ne,w=g,C=_,D=g,S=_,F=v,V=v,K=s.apply(this,arguments)/2,he=K>Xr&&(r?+r.apply(this,arguments):Uu(d*d+h*h)),oe=IC(VL(h-d)/2,+n.apply(this,arguments)),de=oe,re=oe;if(he>Xr){var Te=BL(he/d*xs(K)),ee=BL(he/h*xs(K));(F-=2*Te)>Xr?(D+=Te*=y?1:-1,S-=Te):(F=0,D=S=(g+_)/2),(V-=2*ee)>Xr?(w+=ee*=y?1:-1,C-=ee):(V=0,w=C=(g+_)/2)}var De=h*Wl(w),ct=h*xs(w),at=d*Wl(S),gt=d*xs(S);if(oe>Xr){var Rt,Lt=h*Wl(C),Vt=h*xs(C),Dn=d*Wl(D),Tt=d*xs(D);if(v<Ra&&(Rt=function Gie(e,t,n,r,i,o,s,a){var l=n-e,c=r-t,u=s-i,d=a-o,h=d*l-u*c;if(!(h*h<Xr))return[e+(h=(u*(t-o)-d*(e-i))/h)*l,t+h*c]}(De,ct,Dn,Tt,Lt,Vt,at,gt))){var sr=De-Rt[0],Ri=ct-Rt[1],Fi=Lt-Rt[0],Pi=Vt-Rt[1],L=1/xs(function Bie(e){return e>1?0:e<-1?Ra:Math.acos(e)}((sr*Fi+Ri*Pi)/(Uu(sr*sr+Ri*Ri)*Uu(Fi*Fi+Pi*Pi)))/2),Ne=Uu(Rt[0]*Rt[0]+Rt[1]*Rt[1]);de=IC(oe,(d-Ne)/(L-1)),re=IC(oe,(h-Ne)/(L+1))}}V>Xr?re>Xr?(T=xv(Dn,Tt,De,ct,h,re,y),ne=xv(Lt,Vt,at,gt,h,re,y),a.moveTo(T.cx+T.x01,T.cy+T.y01),re<oe?a.arc(T.cx,T.cy,re,Zr(T.y01,T.x01),Zr(ne.y01,ne.x01),!y):(a.arc(T.cx,T.cy,re,Zr(T.y01,T.x01),Zr(T.y11,T.x11),!y),a.arc(0,0,h,Zr(T.cy+T.y11,T.cx+T.x11),Zr(ne.cy+ne.y11,ne.cx+ne.x11),!y),a.arc(ne.cx,ne.cy,re,Zr(ne.y11,ne.x11),Zr(ne.y01,ne.x01),!y))):(a.moveTo(De,ct),a.arc(0,0,h,w,C,!y)):a.moveTo(De,ct),d>Xr&&F>Xr?de>Xr?(T=xv(at,gt,Lt,Vt,d,-de,y),ne=xv(De,ct,Dn,Tt,d,-de,y),a.lineTo(T.cx+T.x01,T.cy+T.y01),de<oe?a.arc(T.cx,T.cy,de,Zr(T.y01,T.x01),Zr(ne.y01,ne.x01),!y):(a.arc(T.cx,T.cy,de,Zr(T.y01,T.x01),Zr(T.y11,T.x11),!y),a.arc(0,0,d,Zr(T.cy+T.y11,T.cx+T.x11),Zr(ne.cy+ne.y11,ne.cx+ne.x11),y),a.arc(ne.cx,ne.cy,de,Zr(ne.y11,ne.x11),Zr(ne.y01,ne.x01),!y))):a.arc(0,0,d,S,D,y):a.lineTo(at,gt)}else a.moveTo(0,0);if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,u=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Ra/2;return[Wl(u)*c,xs(u)*c]},l.innerRadius=function(c){return arguments.length?(e="function"==typeof c?c:Xt(+c),l):e},l.outerRadius=function(c){return arguments.length?(t="function"==typeof c?c:Xt(+c),l):t},l.cornerRadius=function(c){return arguments.length?(n="function"==typeof c?c:Xt(+c),l):n},l.padRadius=function(c){return arguments.length?(r=null==c?null:"function"==typeof c?c:Xt(+c),l):r},l.startAngle=function(c){return arguments.length?(i="function"==typeof c?c:Xt(+c),l):i},l.endAngle=function(c){return arguments.length?(o="function"==typeof c?c:Xt(+c),l):o},l.padAngle=function(c){return arguments.length?(s="function"==typeof c?c:Xt(+c),l):s},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function HL(e){this._context=e}function Mv(e){return new HL(e)}function TC(e){return e[0]}function AC(e){return e[1]}function kC(){var e=TC,t=AC,n=Xt(!0),r=null,i=Mv,o=null;function s(a){var l,u,h,c=a.length,d=!1;for(null==r&&(o=i(h=Il())),l=0;l<=c;++l)!(l<c&&n(u=a[l],l,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(u,l,a),+t(u,l,a));if(h)return o=null,h+""||null}return s.x=function(a){return arguments.length?(e="function"==typeof a?a:Xt(+a),s):e},s.y=function(a){return arguments.length?(t="function"==typeof a?a:Xt(+a),s):t},s.defined=function(a){return arguments.length?(n="function"==typeof a?a:Xt(!!a),s):n},s.curve=function(a){return arguments.length?(i=a,null!=r&&(o=i(r)),s):i},s.context=function(a){return arguments.length?(null==a?r=o=null:o=i(r=a),s):r},s}function jL(){var e=TC,t=null,n=Xt(0),r=AC,i=Xt(!0),o=null,s=Mv,a=null;function l(u){var d,h,g,v,w,_=u.length,y=!1,C=new Array(_),D=new Array(_);for(null==o&&(a=s(w=Il())),d=0;d<=_;++d){if(!(d<_&&i(v=u[d],d,u))===y)if(y=!y)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=d-1;g>=h;--g)a.point(C[g],D[g]);a.lineEnd(),a.areaEnd()}y&&(C[d]=+e(v,d,u),D[d]=+n(v,d,u),a.point(t?+t(v,d,u):C[d],r?+r(v,d,u):D[d]))}if(w)return a=null,w+""||null}function c(){return kC().defined(i).curve(s).context(o)}return l.x=function(u){return arguments.length?(e="function"==typeof u?u:Xt(+u),t=null,l):e},l.x0=function(u){return arguments.length?(e="function"==typeof u?u:Xt(+u),l):e},l.x1=function(u){return arguments.length?(t=null==u?null:"function"==typeof u?u:Xt(+u),l):t},l.y=function(u){return arguments.length?(n="function"==typeof u?u:Xt(+u),r=null,l):n},l.y0=function(u){return arguments.length?(n="function"==typeof u?u:Xt(+u),l):n},l.y1=function(u){return arguments.length?(r=null==u?null:"function"==typeof u?u:Xt(+u),l):r},l.lineX0=l.lineY0=function(){return c().x(e).y(n)},l.lineY1=function(){return c().x(e).y(r)},l.lineX1=function(){return c().x(t).y(n)},l.defined=function(u){return arguments.length?(i="function"==typeof u?u:Xt(!!u),l):i},l.curve=function(u){return arguments.length?(s=u,null!=o&&(a=s(o)),l):s},l.context=function(u){return arguments.length?(null==u?o=a=null:a=s(o=u),l):o},l}function qie(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function Yie(e){return e}function Kie(){var e=Yie,t=qie,n=null,r=Xt(0),i=Xt(Fa),o=Xt(0);function s(a){var l,u,d,w,S,c=a.length,h=0,g=new Array(c),_=new Array(c),v=+r.apply(this,arguments),y=Math.min(Fa,Math.max(-Fa,i.apply(this,arguments)-v)),C=Math.min(Math.abs(y)/c,o.apply(this,arguments)),D=C*(y<0?-1:1);for(l=0;l<c;++l)(S=_[g[l]=l]=+e(a[l],l,a))>0&&(h+=S);for(null!=t?g.sort(function(F,V){return t(_[F],_[V])}):null!=n&&g.sort(function(F,V){return n(a[F],a[V])}),l=0,d=h?(y-c*D)/h:0;l<c;++l,v=w)_[u=g[l]]={data:a[u],index:l,value:S=_[u],startAngle:v,endAngle:w=v+(S>0?S*d:0)+D,padAngle:C};return _}return s.value=function(a){return arguments.length?(e="function"==typeof a?a:Xt(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,n=null,s):t},s.sort=function(a){return arguments.length?(n=a,t=null,s):n},s.startAngle=function(a){return arguments.length?(r="function"==typeof a?a:Xt(+a),s):r},s.endAngle=function(a){return arguments.length?(i="function"==typeof a?a:Xt(+a),s):i},s.padAngle=function(a){return arguments.length?(o="function"==typeof a?a:Xt(+a),s):o},s}HL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var UL=NC(Mv);function zL(e){this._curve=e}function NC(e){function t(n){return new zL(e(n))}return t._curve=e,t}function Oh(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(NC(n)):t()._curve},e}function $L(){return Oh(kC().curve(UL))}function GL(){var e=jL().curve(UL),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Oh(n())},delete e.lineX0,e.lineEndAngle=function(){return Oh(r())},delete e.lineX1,e.lineInnerRadius=function(){return Oh(i())},delete e.lineY0,e.lineOuterRadius=function(){return Oh(o())},delete e.lineY1,e.curve=function(s){return arguments.length?t(NC(s)):t()._curve},e}function Rh(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}zL.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var OC=Array.prototype.slice;function Zie(e){return e.source}function Xie(e){return e.target}function RC(e){var t=Zie,n=Xie,r=TC,i=AC,o=null;function s(){var a,l=OC.call(arguments),c=t.apply(this,l),u=n.apply(this,l);if(o||(o=a=Il()),e(o,+r.apply(this,(l[0]=c,l)),+i.apply(this,l),+r.apply(this,(l[0]=u,l)),+i.apply(this,l)),a)return o=null,a+""||null}return s.source=function(a){return arguments.length?(t=a,s):t},s.target=function(a){return arguments.length?(n=a,s):n},s.x=function(a){return arguments.length?(r="function"==typeof a?a:Xt(+a),s):r},s.y=function(a){return arguments.length?(i="function"==typeof a?a:Xt(+a),s):i},s.context=function(a){return arguments.length?(o=a??null,s):o},s}function Qie(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function Jie(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function eoe(e,t,n,r,i){var o=Rh(t,n),s=Rh(t,n=(n+i)/2),a=Rh(r,n),l=Rh(r,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}function toe(){return RC(Qie)}function noe(){return RC(Jie)}function roe(){var e=RC(eoe);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}const FC={draw:function(e,t){var n=Math.sqrt(t/Ra);e.moveTo(n,0),e.arc(0,0,n,0,Fa)}},WL={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};var qL=Math.sqrt(1/3),ioe=2*qL;const YL={draw:function(e,t){var n=Math.sqrt(t/ioe),r=n*qL;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}};var KL=Math.sin(Ra/10)/Math.sin(7*Ra/10),soe=Math.sin(Fa/10)*KL,aoe=-Math.cos(Fa/10)*KL;const ZL={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=soe*n,i=aoe*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var s=Fa*o/5,a=Math.cos(s),l=Math.sin(s);e.lineTo(l*n,-a*n),e.lineTo(a*r-l*i,l*r+a*i)}e.closePath()}},XL={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}};var PC=Math.sqrt(3);const QL={draw:function(e,t){var n=-Math.sqrt(t/(3*PC));e.moveTo(0,2*n),e.lineTo(-PC*n,-n),e.lineTo(PC*n,-n),e.closePath()}};var co=-.5,uo=Math.sqrt(3)/2,LC=1/Math.sqrt(12),loe=3*(LC/2+1);const JL={draw:function(e,t){var n=Math.sqrt(t/loe),r=n/2,i=n*LC,o=r,s=n*LC+n,a=-o,l=s;e.moveTo(r,i),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(co*r-uo*i,uo*r+co*i),e.lineTo(co*o-uo*s,uo*o+co*s),e.lineTo(co*a-uo*l,uo*a+co*l),e.lineTo(co*r+uo*i,co*i-uo*r),e.lineTo(co*o+uo*s,co*s-uo*o),e.lineTo(co*a+uo*l,co*l-uo*a),e.closePath()}};var coe=[FC,WL,YL,XL,ZL,QL,JL];function uoe(){var e=Xt(FC),t=Xt(64),n=null;function r(){var i;if(n||(n=i=Il()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return r.type=function(i){return arguments.length?(e="function"==typeof i?i:Xt(i),r):e},r.size=function(i){return arguments.length?(t="function"==typeof i?i:Xt(+i),r):t},r.context=function(i){return arguments.length?(n=i??null,r):n},r}function Pa(){}function Sv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Iv(e){this._context=e}function doe(e){return new Iv(e)}function e3(e){this._context=e}function foe(e){return new e3(e)}function t3(e){this._context=e}function hoe(e){return new t3(e)}function n3(e,t){this._basis=new Iv(e),this._beta=t}Iv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sv(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},e3.prototype={areaStart:Pa,areaEnd:Pa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sv(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},t3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Sv(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},n3.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var l,r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1;++a<=n;)this._basis.point(this._beta*e[a]+(1-this._beta)*(r+(l=a/n)*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const poe=function e(t){function n(r){return 1===t?new Iv(r):new n3(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Tv(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function VC(e,t){this._context=e,this._k=(1-t)/6}VC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Tv(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Tv(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const goe=function e(t){function n(r){return new VC(r,t)}return n.tension=function(r){return e(+r)},n}(0);function BC(e,t){this._context=e,this._k=(1-t)/6}BC.prototype={areaStart:Pa,areaEnd:Pa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Tv(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const moe=function e(t){function n(r){return new BC(r,t)}return n.tension=function(r){return e(+r)},n}(0);function HC(e,t){this._context=e,this._k=(1-t)/6}HC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Tv(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const _oe=function e(t){function n(r){return new HC(r,t)}return n.tension=function(r){return e(+r)},n}(0);function jC(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>Xr){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>Xr){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function r3(e,t){this._context=e,this._alpha=t}r3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:jC(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const voe=function e(t){function n(r){return t?new r3(r,t):new VC(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function i3(e,t){this._context=e,this._alpha=t}i3.prototype={areaStart:Pa,areaEnd:Pa,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:jC(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const yoe=function e(t){function n(r){return t?new i3(r,t):new BC(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function o3(e,t){this._context=e,this._alpha=t}o3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jC(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const boe=function e(t){function n(r){return t?new o3(r,t):new HC(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function s3(e){this._context=e}function woe(e){return new s3(e)}function a3(e){return e<0?-1:1}function l3(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(a3(o)+a3(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function c3(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function UC(e,t,n){var r=e._x0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,e._y0+a*t,o-a,s-a*n,o,s)}function Av(e){this._context=e}function u3(e){this._context=new d3(e)}function d3(e){this._context=e}function Eoe(e){return new Av(e)}function Coe(e){return new u3(e)}function f3(e){this._context=e}function h3(e){var t,r,n=e.length-1,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)o[t]-=r=i[t]/o[t-1],s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Doe(e){return new f3(e)}function kv(e,t){this._context=e,this._t=t}function xoe(e){return new kv(e,.5)}function Moe(e){return new kv(e,0)}function Soe(e){return new kv(e,1)}function zu(e,t){if((s=e.length)>1)for(var r,i,s,n=1,o=e[t[0]],a=o.length;n<s;++n)for(i=o,o=e[t[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function $u(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Ioe(e,t){return e[t]}function Toe(){var e=Xt([]),t=$u,n=zu,r=Ioe;function i(o){var a,d,s=e.apply(this,arguments),l=o.length,c=s.length,u=new Array(c);for(a=0;a<c;++a){for(var v,h=s[a],g=u[a]=new Array(l),_=0;_<l;++_)g[_]=v=[0,+r(o[_],h,_,o)],v.data=o[_];g.key=h}for(a=0,d=t(u);a<c;++a)u[d[a]].index=a;return n(u,d),u}return i.keys=function(o){return arguments.length?(e="function"==typeof o?o:Xt(OC.call(o)),i):e},i.value=function(o){return arguments.length?(r="function"==typeof o?o:Xt(+o),i):r},i.order=function(o){return arguments.length?(t=null==o?$u:"function"==typeof o?o:Xt(OC.call(o)),i):t},i.offset=function(o){return arguments.length?(n=o??zu,i):n},i}function Aoe(e,t){if((r=e.length)>0){for(var n,r,s,i=0,o=e[0].length;i<o;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}zu(e,t)}}function koe(e,t){if((l=e.length)>0)for(var n,i,o,s,a,l,r=0,c=e[t[0]].length;r<c;++r)for(s=a=0,n=0;n<l;++n)(o=(i=e[t[n]][r])[1]-i[0])>0?(i[0]=s,i[1]=s+=o):o<0?(i[1]=a,i[0]=a+=o):(i[0]=0,i[1]=o)}function Noe(e,t){if((i=e.length)>0){for(var i,n=0,r=e[t[0]],o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=e[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}zu(e,t)}}function Ooe(e,t){if((s=e.length)>0&&(o=(i=e[t[0]]).length)>0){for(var i,o,s,n=0,r=1;r<o;++r){for(var a=0,l=0,c=0;a<s;++a){for(var u=e[t[a]],d=u[r][1]||0,g=(d-(u[r-1][1]||0))/2,_=0;_<a;++_){var v=e[t[_]];g+=(v[r][1]||0)-(v[r-1][1]||0)}l+=d,c+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,zu(e,t)}}function p3(e){var t=e.map(Roe);return $u(e).sort(function(n,r){return t[n]-t[r]})}function Roe(e){for(var i,t=-1,n=0,r=e.length,o=-1/0;++t<r;)(i=+e[t][1])>o&&(o=i,n=t);return n}function g3(e){var t=e.map(m3);return $u(e).sort(function(n,r){return t[n]-t[r]})}function m3(e){for(var i,t=0,n=-1,r=e.length;++n<r;)(i=+e[n][1])&&(t+=i);return t}function Foe(e){return g3(e).reverse()}function Poe(e){var n,r,t=e.length,i=e.map(m3),o=p3(e),s=0,a=0,l=[],c=[];for(n=0;n<t;++n)r=o[n],s<a?(s+=i[r],l.push(r)):(a+=i[r],c.push(r));return c.reverse().concat(l)}function Loe(e){return $u(e).reverse()}s3.prototype={areaStart:Pa,areaEnd:Pa,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Av.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:UC(this,this._t0,c3(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,UC(this,c3(this,n=l3(this,e,t)),n);break;default:UC(this,this._t0,n=l3(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(u3.prototype=Object.create(Av.prototype)).point=function(e,t){Av.prototype.point.call(this,t,e)},d3.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},f3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=h3(e),i=h3(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var _3="%Y-%m-%dT%H:%M:%S.%LZ",Boe=Date.prototype.toISOString?function Voe(e){return e.toISOString()}:vv(_3);const Hoe=Boe;var Uoe=+new Date("2000-01-01T00:00:00.000Z")?function joe(e){var t=new Date(e);return isNaN(t)?null:t}:EC(_3);const zoe=Uoe;function $oe(e,t,n){var r=new qf,i=t;return null==t?(r.restart(e,t,n),r):(t=+t,n=null==n?Du():+n,r.restart(function o(s){s+=i,r.restart(o,i+=t,n),e(s)},t,n),r)}function v3(e){return function(){return e}}function Goe(e){return e[0]}function Woe(e){return e[1]}function zC(){this._=null}function Nv(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Fh(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ph(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function y3(e){for(;e.L;)e=e.L;return e}zC.prototype={constructor:zC,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=y3(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Fh(this,n),n=(e=n).U),n.C=!1,r.C=!0,Ph(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Ph(this,n),n=(e=n).U),n.C=!1,r.C=!0,Fh(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var n,o,s,t=e.U,r=e.L,i=e.R;if(o=r?i?y3(i):r:i,t?t.L===e?t.L=o:t.R=o:this._=o,r&&i?(s=o.C,o.C=e.C,o.L=r,r.U=o,o!==i?(t=o.U,o.U=e.U,t.L=e=o.R,o.R=i,i.U=o):(o.U=t,t=o,e=o.R)):(s=e.C,e=o),e&&(e.U=t),!s){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===t.L){if((n=t.R).C&&(n.C=!1,t.C=!0,Fh(this,t),n=t.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Ph(this,n),n=t.R),n.C=t.C,t.C=n.R.C=!1,Fh(this,t),e=this._;break}}else if((n=t.L).C&&(n.C=!1,t.C=!0,Ph(this,t),n=t.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,Fh(this,n),n=t.L),n.C=t.C,t.C=n.L.C=!1,Ph(this,t),e=this._;break}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};const b3=zC;function Lh(e,t,n,r){var i=[null,null],o=Qr.push(i)-1;return i.left=e,i.right=t,n&&Ov(i,e,t,n),r&&Ov(i,t,e,r),Zi[e.index].halfedges.push(o),Zi[t.index].halfedges.push(o),i}function Vh(e,t,n){var r=[t,n];return r.left=e,r}function Ov(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function qoe(e,t,n,r,i){var v,o=e[0],s=e[1],a=o[0],l=o[1],d=0,h=1,g=s[0]-a,_=s[1]-l;if(v=t-a,g||!(v>0)){if(v/=g,g<0){if(v<d)return;v<h&&(h=v)}else if(g>0){if(v>h)return;v>d&&(d=v)}if(v=r-a,g||!(v<0)){if(v/=g,g<0){if(v>h)return;v>d&&(d=v)}else if(g>0){if(v<d)return;v<h&&(h=v)}if(v=n-l,_||!(v>0)){if(v/=_,_<0){if(v<d)return;v<h&&(h=v)}else if(_>0){if(v>h)return;v>d&&(d=v)}if(v=i-l,_||!(v<0)){if(v/=_,_<0){if(v>h)return;v>d&&(d=v)}else if(_>0){if(v<d)return;v<h&&(h=v)}return!(d>0)&&!(h<1)||(d>0&&(e[0]=[a+d*g,l+d*_]),h<1&&(e[1]=[a+h*g,l+h*_])),!0}}}}}function Yoe(e,t,n,r,i){var o=e[1];if(o)return!0;var v,y,s=e[0],a=e.left,l=e.right,c=a[0],u=a[1],d=l[0],h=l[1],g=(c+d)/2;if(h===u){if(g<t||g>=r)return;if(c>d){if(s){if(s[1]>=i)return}else s=[g,n];o=[g,i]}else{if(s){if(s[1]<n)return}else s=[g,i];o=[g,n]}}else if(y=(u+h)/2-(v=(c-d)/(h-u))*g,v<-1||v>1)if(c>d){if(s){if(s[1]>=i)return}else s=[(n-y)/v,n];o=[(i-y)/v,i]}else{if(s){if(s[1]<n)return}else s=[(i-y)/v,i];o=[(n-y)/v,n]}else if(u<h){if(s){if(s[0]>=r)return}else s=[t,v*t+y];o=[r,v*r+y]}else{if(s){if(s[0]<t)return}else s=[r,v*r+y];o=[t,v*t+y]}return e[0]=s,e[1]=o,!0}function Xoe(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function w3(e,t){return t[+(t.left!==e.site)]}function Qoe(e,t){return t[+(t.left===e.site)]}var $C,E3=[];function tse(){Nv(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gu(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var s=i[0],a=i[1],l=r[0]-s,c=r[1]-a,u=o[0]-s,d=o[1]-a,h=2*(l*d-c*u);if(!(h>=-sse)){var g=l*l+c*c,_=u*u+d*d,v=(d*g-c*_)/h,y=(l*_-u*g)/h,w=E3.pop()||new tse;w.arc=e,w.site=i,w.x=v+s,w.y=(w.cy=y+a)+Math.sqrt(v*v+y*y),e.circle=w;for(var C=null,D=Bh._;D;)if(w.y<D.y||w.y===D.y&&w.x<=D.x){if(!D.L){C=D.P;break}D=D.L}else{if(!D.R){C=D;break}D=D.R}Bh.insert(C,w),C||($C=w)}}}}function Wu(e){var t=e.circle;t&&(t.P||($C=t.N),Bh.remove(t),E3.push(t),Nv(t),e.circle=null)}var C3=[];function nse(){Nv(this),this.edge=this.site=this.circle=null}function D3(e){var t=C3.pop()||new nse;return t.site=e,t}function GC(e){Wu(e),qu.remove(e),C3.push(e),Nv(e)}function rse(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,s=e.N,a=[e];GC(e);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<An&&Math.abs(r-l.circle.cy)<An;)o=l.P,a.unshift(l),GC(l),l=o;a.unshift(l),Wu(l);for(var c=s;c.circle&&Math.abs(n-c.circle.x)<An&&Math.abs(r-c.circle.cy)<An;)s=c.N,a.push(c),GC(c),c=s;a.push(c),Wu(c);var d,u=a.length;for(d=1;d<u;++d)Ov((c=a[d]).edge,(l=a[d-1]).site,c.site,i);(c=a[u-1]).edge=Lh((l=a[0]).site,c.site,null,i),Gu(l),Gu(c)}function ise(e){for(var r,i,o,s,t=e[0],n=e[1],a=qu._;a;)if((o=x3(a,n)-t)>An)a=a.L;else{if(!((s=t-ose(a,n))>An)){o>-An?(r=a.P,i=a):s>-An?(r=a,i=a.N):r=i=a;break}if(!a.R){r=a;break}a=a.R}!function Zoe(e){Zi[e.index]={site:e,halfedges:[]}}(e);var l=D3(e);if(qu.insert(r,l),r||i){if(r===i)return Wu(r),i=D3(r.site),qu.insert(l,i),l.edge=i.edge=Lh(r.site,l.site),Gu(r),void Gu(i);if(!i)return void(l.edge=Lh(r.site,l.site));Wu(r),Wu(i);var c=r.site,u=c[0],d=c[1],h=e[0]-u,g=e[1]-d,_=i.site,v=_[0]-u,y=_[1]-d,w=2*(h*y-g*v),C=h*h+g*g,D=v*v+y*y,S=[(y*C-g*D)/w+u,(h*D-v*C)/w+d];Ov(i.edge,c,_,S),l.edge=Lh(c,e,null,S),i.edge=Lh(e,_,null,S),Gu(r),Gu(i)}}function x3(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var s=e.P;if(!s)return-1/0;var a=(n=s.site)[0],l=n[1],c=l-t;if(!c)return a;var u=a-r,d=1/o-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+i-o/2)))/d+r:(r+a)/2}function ose(e,t){var n=e.N;if(n)return x3(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var qu,Zi,Bh,Qr,An=1e-6,sse=1e-12;function ase(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function lse(e,t){return t[1]-e[1]||t[0]-e[0]}function WC(e,t){var r,i,o,n=e.sort(lse).pop();for(Qr=[],Zi=new Array(e.length),qu=new b3,Bh=new b3;;)if(o=$C,n&&(!o||n[1]<o.y||n[1]===o.y&&n[0]<o.x))(n[0]!==r||n[1]!==i)&&(ise(n),r=n[0],i=n[1]),n=e.pop();else{if(!o)break;rse(o.arc)}if(function Joe(){for(var n,r,i,o,e=0,t=Zi.length;e<t;++e)if((n=Zi[e])&&(o=(r=n.halfedges).length)){var s=new Array(o),a=new Array(o);for(i=0;i<o;++i)s[i]=i,a[i]=Xoe(n,Qr[r[i]]);for(s.sort(function(l,c){return a[c]-a[l]}),i=0;i<o;++i)a[i]=r[s[i]];for(i=0;i<o;++i)r[i]=a[i]}}(),t){var s=+t[0][0],a=+t[0][1],l=+t[1][0],c=+t[1][1];(function Koe(e,t,n,r){for(var o,i=Qr.length;i--;)Yoe(o=Qr[i],e,t,n,r)&&qoe(o,e,t,n,r)&&(Math.abs(o[0][0]-o[1][0])>An||Math.abs(o[0][1]-o[1][1])>An)||delete Qr[i]})(s,a,l,c),function ese(e,t,n,r){var o,s,a,l,c,u,d,h,g,_,v,y,i=Zi.length,w=!0;for(o=0;o<i;++o)if(s=Zi[o]){for(a=s.site,l=(c=s.halfedges).length;l--;)Qr[c[l]]||c.splice(l,1);for(l=0,u=c.length;l<u;)v=(_=Qoe(s,Qr[c[l]]))[0],y=_[1],h=(d=w3(s,Qr[c[++l%u]]))[0],g=d[1],(Math.abs(v-h)>An||Math.abs(y-g)>An)&&(c.splice(l,0,Qr.push(Vh(a,_,Math.abs(v-e)<An&&r-y>An?[e,Math.abs(h-e)<An?g:r]:Math.abs(y-r)<An&&n-v>An?[Math.abs(g-r)<An?h:n,r]:Math.abs(v-n)<An&&y-t>An?[n,Math.abs(h-n)<An?g:t]:Math.abs(y-t)<An&&v-e>An?[Math.abs(g-t)<An?h:e,t]:null))-1),++u);u&&(w=!1)}if(w){var C,D,S,F=1/0;for(o=0,w=null;o<i;++o)(s=Zi[o])&&(S=(C=(a=s.site)[0]-e)*C+(D=a[1]-t)*D)<F&&(F=S,w=s);if(w){var V=[e,t],K=[e,r],he=[n,r],oe=[n,t];w.halfedges.push(Qr.push(Vh(a=w.site,V,K))-1,Qr.push(Vh(a,K,he))-1,Qr.push(Vh(a,he,oe))-1,Qr.push(Vh(a,oe,V))-1)}}for(o=0;o<i;++o)(s=Zi[o])&&(s.halfedges.length||delete Zi[o])}(s,a,l,c)}this.edges=Qr,this.cells=Zi,qu=Bh=Qr=Zi=null}function cse(){var e=Goe,t=Woe,n=null;function r(i){return new WC(i.map(function(o,s){var a=[Math.round(e(o,s,i)/An)*An,Math.round(t(o,s,i)/An)*An];return a.index=s,a.data=o,a}),n)}return r.polygons=function(i){return r(i).polygons()},r.links=function(i){return r(i).links()},r.triangles=function(i){return r(i).triangles()},r.x=function(i){return arguments.length?(e="function"==typeof i?i:v3(+i),r):e},r.y=function(i){return arguments.length?(t="function"==typeof i?i:v3(+i),r):t},r.extent=function(i){return arguments.length?(n=null==i?null:[[+i[0][0],+i[0][1]],[+i[1][0],+i[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(i){return arguments.length?(n=null==i?null:[[0,0],[+i[0],+i[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}function Rv(e){return function(){return e}}function use(e,t,n){this.target=e,this.type=t,this.transform=n}function ea(e,t,n){this.k=e,this.x=t,this.y=n}WC.prototype={constructor:WC,polygons:function(){var e=this.edges;return this.cells.map(function(t){var n=t.halfedges.map(function(r){return w3(t,e[r])});return n.data=t.site.data,n})},triangles:function(){var e=[],t=this.edges;return this.cells.forEach(function(n,r){if(a=(o=n.halfedges).length)for(var o,a,l,i=n.site,s=-1,c=t[o[a-1]],u=c.left===i?c.right:c.left;++s<a;)l=u,u=(c=t[o[s]]).left===i?c.right:c.left,l&&u&&r<l.index&&r<u.index&&ase(i,l,u)<0&&e.push([i.data,l.data,u.data])}),e},links:function(){return this.edges.filter(function(e){return e.right}).map(function(e){return{source:e.left.data,target:e.right.data}})},find:function(e,t,n){for(var i,a,r=this,o=r._found||0,s=r.cells.length;!(a=r.cells[o]);)if(++o>=s)return null;var l=e-a.site[0],c=t-a.site[1],u=l*l+c*c;do{a=r.cells[i=o],o=null,a.halfedges.forEach(function(d){var h=r.edges[d],g=h.left;if(g!==a.site&&g||(g=h.right)){var _=e-g[0],v=t-g[1],y=_*_+v*v;y<u&&(u=y,o=g.index)}})}while(null!==o);return r._found=i,null==n||u<=n*n?a.site:null}},ea.prototype={constructor:ea,scale:function(e){return 1===e?this:new ea(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ea(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Yu=new ea(1,0,0);function Fv(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Yu;return e.__zoom}function qC(){Qe.stopImmediatePropagation()}function Hh(){Qe.preventDefault(),Qe.stopImmediatePropagation()}function dse(){return!Qe.ctrlKey&&!Qe.button}function fse(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function M3(){return this.__zoom||Yu}function hse(){return-Qe.deltaY*(1===Qe.deltaMode?.05:Qe.deltaMode?1:.002)}function pse(){return navigator.maxTouchPoints||"ontouchstart"in this}function gse(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function S3(){var u,d,e=dse,t=fse,n=gse,r=hse,i=pse,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=LF,c=mu("start","zoom","end"),h=500,g=150,_=0;function v(T){T.property("__zoom",M3).on("wheel.zoom",V).on("mousedown.zoom",K).on("dblclick.zoom",he).filter(i).on("touchstart.zoom",oe).on("touchmove.zoom",de).on("touchend.zoom touchcancel.zoom",re).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(T,ne){return(ne=Math.max(o[0],Math.min(o[1],ne)))===T.k?T:new ea(ne,T.x,T.y)}function w(T,ne,Te){var ee=ne[0]-Te[0]*T.k,De=ne[1]-Te[1]*T.k;return ee===T.x&&De===T.y?T:new ea(T.k,ee,De)}function C(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function D(T,ne,Te){T.on("start.zoom",function(){S(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){S(this,arguments).end()}).tween("zoom",function(){var ee=this,De=arguments,ct=S(ee,De),at=t.apply(ee,De),gt=null==Te?C(at):"function"==typeof Te?Te.apply(ee,De):Te,Lt=Math.max(at[1][0]-at[0][0],at[1][1]-at[0][1]),Vt=ee.__zoom,Dn="function"==typeof ne?ne.apply(ee,De):ne,Tt=l(Vt.invert(gt).concat(Lt/Vt.k),Dn.invert(gt).concat(Lt/Dn.k));return function(Rt){if(1===Rt)Rt=Dn;else{var sr=Tt(Rt),Ri=Lt/sr[2];Rt=new ea(Ri,gt[0]-sr[0]*Ri,gt[1]-sr[1]*Ri)}ct.zoom(null,Rt)}})}function S(T,ne,Te){return!Te&&T.__zooming||new F(T,ne)}function F(T,ne){this.that=T,this.args=ne,this.active=0,this.extent=t.apply(T,ne),this.taps=0}function V(){if(e.apply(this,arguments)){var T=S(this,arguments),ne=this.__zoom,Te=Math.max(o[0],Math.min(o[1],ne.k*Math.pow(2,r.apply(this,arguments)))),ee=Dl(this);if(T.wheel)(T.mouse[0][0]!==ee[0]||T.mouse[0][1]!==ee[1])&&(T.mouse[1]=ne.invert(T.mouse[0]=ee)),clearTimeout(T.wheel);else{if(ne.k===Te)return;T.mouse=[ee,ne.invert(ee)],Ml(this),T.start()}Hh(),T.wheel=setTimeout(function De(){T.wheel=null,T.end()},g),T.zoom("mouse",n(w(y(ne,Te),T.mouse[0],T.mouse[1]),T.extent,s))}}function K(){if(!d&&e.apply(this,arguments)){var T=S(this,arguments,!0),ne=nn(Qe.view).on("mousemove.zoom",function ct(){if(Hh(),!T.moved){var gt=Qe.clientX-ee,Lt=Qe.clientY-De;T.moved=gt*gt+Lt*Lt>_}T.zoom("mouse",n(w(T.that.__zoom,T.mouse[0]=Dl(T.that),T.mouse[1]),T.extent,s))},!0).on("mouseup.zoom",function at(){ne.on("mousemove.zoom mouseup.zoom",null),jm(Qe.view,T.moved),Hh(),T.end()},!0),Te=Dl(this),ee=Qe.clientX,De=Qe.clientY;Hm(Qe.view),qC(),T.mouse=[Te,this.__zoom.invert(Te)],Ml(this),T.start()}}function he(){if(e.apply(this,arguments)){var T=this.__zoom,ne=Dl(this),Te=T.invert(ne),De=n(w(y(T,T.k*(Qe.shiftKey?.5:2)),ne,Te),t.apply(this,arguments),s);Hh(),a>0?nn(this).transition().duration(a).call(D,De,ne):nn(this).call(v.transform,De)}}function oe(){if(e.apply(this,arguments)){var ee,De,ct,at,T=Qe.touches,ne=T.length,Te=S(this,arguments,Qe.changedTouches.length===ne);for(qC(),De=0;De<ne;++De)at=[at=Uf(this,T,(ct=T[De]).identifier),this.__zoom.invert(at),ct.identifier],Te.touch0?!Te.touch1&&Te.touch0[2]!==at[2]&&(Te.touch1=at,Te.taps=0):(Te.touch0=at,ee=!0,Te.taps=1+!!u);u&&(u=clearTimeout(u)),ee&&(Te.taps<2&&(u=setTimeout(function(){u=null},h)),Ml(this),Te.start())}}function de(){if(this.__zooming){var ee,De,ct,at,T=S(this,arguments),ne=Qe.changedTouches,Te=ne.length;for(Hh(),u&&(u=clearTimeout(u)),T.taps=0,ee=0;ee<Te;++ee)ct=Uf(this,ne,(De=ne[ee]).identifier),T.touch0&&T.touch0[2]===De.identifier?T.touch0[0]=ct:T.touch1&&T.touch1[2]===De.identifier&&(T.touch1[0]=ct);if(De=T.that.__zoom,T.touch1){var gt=T.touch0[0],Lt=T.touch0[1],Vt=T.touch1[0],Dn=T.touch1[1],Tt=(Tt=Vt[0]-gt[0])*Tt+(Tt=Vt[1]-gt[1])*Tt,Rt=(Rt=Dn[0]-Lt[0])*Rt+(Rt=Dn[1]-Lt[1])*Rt;De=y(De,Math.sqrt(Tt/Rt)),ct=[(gt[0]+Vt[0])/2,(gt[1]+Vt[1])/2],at=[(Lt[0]+Dn[0])/2,(Lt[1]+Dn[1])/2]}else{if(!T.touch0)return;ct=T.touch0[0],at=T.touch0[1]}T.zoom("touch",n(w(De,ct,at),T.extent,s))}}function re(){if(this.__zooming){var ee,De,T=S(this,arguments),ne=Qe.changedTouches,Te=ne.length;for(qC(),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),ee=0;ee<Te;++ee)De=ne[ee],T.touch0&&T.touch0[2]===De.identifier?delete T.touch0:T.touch1&&T.touch1[2]===De.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),2===T.taps){var ct=nn(this).on("dblclick.zoom");ct&&ct.apply(this,arguments)}}}return v.transform=function(T,ne,Te){var ee=T.selection?T.selection():T;ee.property("__zoom",M3),T!==ee?D(T,ne,Te):ee.interrupt().each(function(){S(this,arguments).start().zoom(null,"function"==typeof ne?ne.apply(this,arguments):ne).end()})},v.scaleBy=function(T,ne,Te){v.scaleTo(T,function(){return this.__zoom.k*("function"==typeof ne?ne.apply(this,arguments):ne)},Te)},v.scaleTo=function(T,ne,Te){v.transform(T,function(){var ee=t.apply(this,arguments),De=this.__zoom,ct=null==Te?C(ee):"function"==typeof Te?Te.apply(this,arguments):Te,at=De.invert(ct),gt="function"==typeof ne?ne.apply(this,arguments):ne;return n(w(y(De,gt),ct,at),ee,s)},Te)},v.translateBy=function(T,ne,Te){v.transform(T,function(){return n(this.__zoom.translate("function"==typeof ne?ne.apply(this,arguments):ne,"function"==typeof Te?Te.apply(this,arguments):Te),t.apply(this,arguments),s)})},v.translateTo=function(T,ne,Te,ee){v.transform(T,function(){var De=t.apply(this,arguments),ct=this.__zoom,at=null==ee?C(De):"function"==typeof ee?ee.apply(this,arguments):ee;return n(Yu.translate(at[0],at[1]).scale(ct.k).translate("function"==typeof ne?-ne.apply(this,arguments):-ne,"function"==typeof Te?-Te.apply(this,arguments):-Te),De,s)},ee)},F.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,ne){return this.mouse&&"mouse"!==T&&(this.mouse[1]=ne.invert(this.mouse[0])),this.touch0&&"touch"!==T&&(this.touch0[1]=ne.invert(this.touch0[0])),this.touch1&&"touch"!==T&&(this.touch1[1]=ne.invert(this.touch1[0])),this.that.__zoom=ne,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){Lf(new use(v,T,this.that.__zoom),c.apply,c,[T,this.that,this.args])}},v.wheelDelta=function(T){return arguments.length?(r="function"==typeof T?T:Rv(+T),v):r},v.filter=function(T){return arguments.length?(e="function"==typeof T?T:Rv(!!T),v):e},v.touchable=function(T){return arguments.length?(i="function"==typeof T?T:Rv(!!T),v):i},v.extent=function(T){return arguments.length?(t="function"==typeof T?T:Rv([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),v):t},v.scaleExtent=function(T){return arguments.length?(o[0]=+T[0],o[1]=+T[1],v):[o[0],o[1]]},v.translateExtent=function(T){return arguments.length?(s[0][0]=+T[0][0],s[1][0]=+T[1][0],s[0][1]=+T[0][1],s[1][1]=+T[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(T){return arguments.length?(n=T,v):n},v.duration=function(T){return arguments.length?(a=+T,v):a},v.interpolate=function(T){return arguments.length?(l=T,v):l},v.on=function(){var T=c.on.apply(c,arguments);return T===c?v:T},v.clickDistance=function(T){return arguments.length?(_=(T=+T)*T,v):Math.sqrt(_)},v}Fv.prototype=ea.prototype;class mse extends Jt{constructor(t,n){super()}schedule(t,n=0){return this}}class Pv extends mse{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){if(this.closed)return this;this.state=t;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(t,n,r=0){return setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!==r&&this.delay===r&&!1===this.pending)return n;clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=!!o&&o||new Error(o)}if(r)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,n=this.scheduler,r=n.actions,i=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&r.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null}}let I3=(()=>{class e{constructor(n,r=e.now){this.SchedulerAction=n,this.now=r}schedule(n,r=0,i){return new this.SchedulerAction(this,n).schedule(i,r)}}return e.now=()=>Date.now(),e})();class jo extends I3{constructor(t,n=I3.now){super(t,()=>jo.delegate&&jo.delegate!==this?jo.delegate.now():n()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,n=0,r){return jo.delegate&&jo.delegate!==this?jo.delegate.schedule(t,n,r):super.schedule(t,n,r)}flush(t){const{actions:n}=this;if(this.active)return void n.push(t);let r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this.active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const yse=new class vse extends jo{}(class _se extends Pv{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!==r&&r>0||null===r&&this.delay>0?super.requestAsyncId(t,n,r):t.flush(this)}}),bse=new $n(e=>e.complete());function T3(e){return e?function wse(e){return new $n(t=>e.schedule(()=>t.complete()))}(e):bse}function jh(e){return e&&"function"==typeof e.schedule}const A3=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()};function YC(e,t){return new $n(n=>{const r=new Jt;let i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function k3(e,t){return t?YC(e,t):new $n(A3(e))}function Lv(...e){let t=e[e.length-1];return jh(t)?(e.pop(),YC(e,t)):k3(e)}function Cse({error:e,subscriber:t}){t.error(e)}class fo{constructor(t,n,r){this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,n,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return n&&n(this.error);case"C":return r&&r()}}accept(t,n,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,n,r)}toObservable(){switch(this.kind){case"N":return Lv(this.value);case"E":return function Ese(e,t){return new $n(t?n=>t.schedule(Cse,0,{error:e,subscriber:n}):n=>n.error(e))}(this.error);case"C":return T3()}throw new Error("unexpected notification kind value")}static createNext(t){return typeof t<"u"?new fo("N",t):fo.undefinedValueNotification}static createError(t){return new fo("E",void 0,t)}static createComplete(){return fo.completeNotification}}fo.completeNotification=new fo("C"),fo.undefinedValueNotification=new fo("N",void 0);class Vv extends Un{constructor(t,n,r=0){super(t),this.scheduler=n,this.delay=r}static dispatch(t){const{notification:n,destination:r}=t;n.observe(r),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Vv.dispatch,this.delay,new Mse(t,this.destination)))}_next(t){this.scheduleMessage(fo.createNext(t))}_error(t){this.scheduleMessage(fo.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(fo.createComplete()),this.unsubscribe()}}class Mse{constructor(t,n){this.notification=t,this.destination=n}}class Sse extends _n{constructor(t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Ise(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;let s;if(this.closed)throw new qo;if(this.isStopped||this.hasError?s=Jt.EMPTY:(this.observers.push(t),s=new oc(this,t)),i&&t.add(t=new Vv(t,i)),n)for(let a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(let a=0;a<o&&!t.closed;a++)t.next(r[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||yse).now()}_trimBufferThenGetEvents(){const t=this._getNow(),n=this._bufferSize,r=this._windowTime,i=this._events,o=i.length;let s=0;for(;s<o&&!(t-i[s].time<r);)s++;return o>n&&(s=Math.max(s,o-n)),s>0&&i.splice(0,s),i}}class Ise{constructor(t,n){this.time=t,this.value=n}}var KC=j(5505);const N3=Symbol.for("Dexie"),Bv=globalThis[N3]||(globalThis[N3]=KC);if(KC.semVer!==Bv.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${KC.semVer} and ${Bv.semVer}`);const Tse=Bv;let O3=(()=>{class e extends Tse{graphData;constructor(){super("GraphDatabase"),this.version(1).stores({graphData:"dataId"}),this.graphData=this.table("graphData")}saveGraphData(n){var r=this;return H(function*(){yield r.graphData.put(n)})()}getGraphData(n){var r=this;return H(function*(){return yield r.graphData.get(n)})()}deleteGraphData(n){var r=this;return H(function*(){yield r.graphData.delete(n)})()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ase=(()=>{class e{dexieService;constructor(n){this.dexieService=n}links=[];nodes=[];gBrush=null;brushMode=!1;brushing=!1;shiftKey;extent=null;zoom=!1;zoomToFit=!1;resetSearch;selectedNodesArray=new _n;dblClickNodePayload=new _n;dblClickLinkPayload=new _n;selectedLinkArray=new _n;saveGraphData=new Sse;update(n,r,i,o){const s=nn(r);return this.zoom=i,this.zoomToFit=o,this._update(fe,s,n)}ticked(n,r,i){n.each(function(o,s,a){let l=o.target.x-o.source.x,c=o.target.y-o.source.y,u=Math.sqrt(l*l+c*c),d=40*l/u,h=40*c/u;nn(a[s]).attr("x1",o.source.x+d).attr("y1",o.source.y+h).attr("x2",o.target.x-d).attr("y2",o.target.y-h)}),r.attr("transform",function(o){return`translate(${o.x}, ${o.y+50})`}),i.attr("d",function(o){return`M ${o.source.x} ${o.source.y} L ${o.target.x} ${o.target.y}`}),i.attr("transform",function(o){if(o.target.x<o.source.x){const s=this.getBBox();return`rotate(180 ${s.x+s.width/2} ${s.y+s.height/2})`}return"rotate(0)"})}initDefinitions(n){const r=n.append("defs");function i(o,s,a){r.append("marker").attr("id",o).attr("viewBox","-0 -5 10 10").attr("refX",s).attr("refY",0).attr("orient","auto").attr("markerWidth",8).attr("markerHeight",8).attr("xoverflow","visible").append("svg:path").attr("d",a).attr("fill","#b4b4b4").style("stroke","none")}return i("arrowheadTarget",0,"M 0,-5 L 10 ,0 L 0,5"),i("arrowheadSource",2,"M 10 -5 L 0 0 L 10 5"),n}forceSimulation(n,{width:r,height:i}){return n.forceSimulation().velocityDecay(.1).force("link",n.forceLink().id(function(o){return o.id}).distance(500).strength(1)).force("charge",n.forceManyBody().strength(.1)).force("center",n.forceCenter(r/2,i/2)).force("collision",n.forceCollide().radius(15))}compareAndMarkNodesNew(n,r){const i=r.reduce((o,s)=>(o[s.id]=s,o),{});return n.forEach(o=>{i[o.id]||(o.newItem=!0,o.fx=null,o.fy=null)}),n}removeNewItem(n){for(const r of n)r.hasOwnProperty("newItem")&&delete r.newItem;return n}randomiseNodePositions(n,r,i){let o=100;const s=r*i;let a=n.length*o*o;if(a>s){for(;a>s&&o>0;)o-=10,a=n.length*o*o;if(a>s)throw new Error("Not enough space to accommodate all nodes without a fixed position.")}return n.forEach(l=>{if(null===l.fx&&null===l.fy){let c=o,u=!1;for(;!u&&c>0;)l.fx=crypto.getRandomValues(new Uint32Array(1))[0]%r,l.fy=crypto.getRandomValues(new Uint32Array(1))[0]%i,u=!n.some(d=>{if(null===d.fx||null===d.fy||d===l)return!1;const h=d.fx-l.fx,g=d.fy-l.fy;return Math.sqrt(h*h+g*g)<c}),u||c--;if(!u)throw new Error("Not enough space to accommodate all nodes without a fixed position.")}}),n}_update(n,r,i){var o=this;return H(function*(){const{nodes:s,links:a}=i;o.nodes=s||[],o.links=a||[];let l=document.getElementById("reset_graph"),c=document.getElementById("save_graph");l&&(l.setAttribute("disabled","true"),c.setAttribute("disabled","true"));const u=n.select("svg").node().parentNode.clientWidth,d=n.select("svg").node().parentNode.clientHeight,h=yield o.dexieService.getGraphData("nodes"),g=h?h.nodes:[];Array.isArray(g)?(o.nodes=o.compareAndMarkNodesNew(s,g),yield o.dexieService.deleteGraphData("nodes"),yield o.dexieService.saveGraphData({dataId:"nodes",nodes:i.nodes,links:i.links})):yield o.dexieService.saveGraphData({dataId:"nodes",nodes:i.nodes,links:i.links}),o.nodes=o.randomiseNodePositions(o.nodes,u,d);const _=o.links.map(({lineStyle:L,targetArrow:Ne,sourceArrow:Ge,relationships:be})=>be.map(mt=>({parentLineStyle:L,parentSourceArrow:Ge,parentTargetArrow:Ne,...mt})));_.map(L=>{L.map((Ne,Ge)=>{Ne.dy=20+15*Ge})}),o.links=_.reduce((L,Ne)=>L.concat(Ne),[]),nn("svg").append("g");const v=n.select("svg g");let y=Fv(nn("svg").node());const w=()=>{const Ge=(y.k-.5)/(S.scaleExtent()[1]-.5)*200,be=document.getElementById("zoom_level"),mt=`Zoom: ${Ge.toFixed(0)}%`,Ft=document.getElementById("zoom_in"),un=document.getElementById("zoom_out"),Wt=document.getElementById("zoom_reset");Wt&&Wt.setAttribute("disabled","true"),be&&be.innerHTML!==mt&&(be.innerHTML=mt,be.style.opacity="1",setTimeout(()=>{be&&(be.style.opacity="0")},2e3)),Ft&&(200===Ge?Ft.setAttribute("disabled","true"):Ft.removeAttribute("disabled")),un&&(0===Ge?un.setAttribute("disabled","true"):un.removeAttribute("disabled")),Wt&&(100===Ge?Wt.setAttribute("disabled","true"):Wt.removeAttribute("disabled"))};let C;const S=S3().scaleExtent([.5,1.5]).on("start",function(){nn(this).style("cursor",this.zoom?null:"grabbing")}).on("zoom",o.zoom?()=>{const L=Qe.transform;v.attr("transform",`translate(${L.x}, ${L.y}) scale(${L.k})`),y=L,C=!0,w()}:null).on("end",function(){nn(this).style("cursor","grab")});r.call(S).style("cursor","grab").on(o.zoom?null:"wheel.zoom",null).on("dblclick.zoom",null),S.filter(()=>!Qe.shiftKey),nn("#zoom_in").on("click",function(){S.scaleBy(r.transition().duration(750),1.2),w()}),nn("#zoom_out").on("click",function(){S.scaleBy(r.transition().duration(750),.8),w()}),nn("#zoom_reset").on("click",function(){S.scaleTo(r.transition().duration(750),1),w()});const F=()=>{const L=v.node().getBBox(),mt=Math.min((u-60)/L.width,(d-60)/L.height,1),Ft=-L.x*mt+(u-L.width*mt)/2,un=-L.y*mt+(d-L.height*mt)/2,Tr=v.selectAll(".node-wrapper").nodes().reduce((bn,na)=>{const Is=na.getBBox();return bn.x=Math.min(bn.x,Is.x),bn.y=Math.min(bn.y,Is.y),bn.width=Math.max(bn.width,Is.x+Is.width),bn.height=Math.max(bn.height,Is.y+Is.height),bn},{x:1/0,y:1/0,width:-1/0,height:-1/0});Tr.x*mt>=0&&Tr.y*mt>=0&&Tr.width*mt<=u&&Tr.height*mt<=d||(v.transition().duration(750).attr("transform","translate(0, 0) scale(1)"),v.transition().duration(750).attr("transform",`translate(${Ft}, ${un}) scale(${mt})`),C&&(y.x=Ft,y.y=un,y.k=mt),w())};nn("#zoom_to_fit").on("click",F),r.on("wheel",()=>{const L=y.k,Ne=S.scaleExtent()[1],Ge=S.scaleExtent()[0];(L===Ne||L===Ge)&&Qe.preventDefault()});const V=document.getElementById("select_all");nn("#select_all").on("click",()=>{const L=Tt.size();L-Ho(".node-wrapper:not(.selected)").size()!==L?(V&&(V.innerHTML='<i class="bi bi-grid"></i>',V.style.opacity="0.65"),n.selectAll(".node-wrapper").classed("selected",function(mt){return mt.previouslySelected=mt.selected,mt.selected=!0}),Ho(".nodeText").style("fill",mt=>mt.selected?"blue":"#999").style("font-weight",mt=>mt.selected?700:400)):(V&&(V.innerHTML='<i class="bi bi-grid-fill"></i>',V.style.opacity="1"),n.selectAll(".node-wrapper").classed("selected",!1),n.selectAll(".node-wrapper").classed("selected",function(mt){return mt.selected=mt.previouslySelected=!1}),n.selectAll(".nodeText").style("font-weight",400).style("fill","#212529")),n.selectAll(".edgelabel").style("font-weight",400).style("fill","#212529")}),nn("#toggle_selection").on("click",()=>{const L=Tt.size(),Ne=Ho(".node-wrapper.selected"),Ge=Ho(".node-wrapper:not(.selected)"),be=Ne.size(),mt=Ge.size();if(be>0){if(Ne.classed("selected",function(Wt){return Wt.previouslySelected=Wt.selected,Wt.selected=!1}),Ge.classed("selected",function(Wt){return Wt.previouslySelected=Wt.selected,Wt.selected=!0}),r.selectAll(".selected").size()<=2){const Tr=n.selectAll(".selected").data().filter(bn=>bn);Rt.selectedNodesArray.next(Tr)}n.selectAll(".nodeText").style("fill",Wt=>Wt.selected?"blue":"#212529").style("font-weight",Wt=>Wt.selected?700:400)}else mt>0&&(n.selectAll(".node-wrapper").classed("selected",function(un){return un.previouslySelected=un.selected,un.selected=!0}),n.selectAll(".nodeText").style("font-weight",700).style("fill","blue"));(be>0?L-be:L)===L?V&&(V.innerHTML='<i class="bi bi-grid"></i>',V.style.opacity="0.65"):V&&(V.innerHTML='<i class="bi bi-grid-fill"></i>',V.style.opacity="1"),n.selectAll(".edgelabel").style("font-weight",400).style("fill","#212529")});const oe=document.getElementById("searchButton");if(oe){const L=document.getElementById("searchInput"),Ne=document.getElementById("clearButton"),Ge=Xi=>{"Enter"===Xi.key&&(Xi.preventDefault(),un())};let be=[],mt=-1;const Ft=()=>{Ho("circle.highlight-background").remove();const Xi=be[mt],ra=Ho(".node-wrapper").filter(function(){return nn(this).attr("id")===Xi.id}),ia=ra.node().getBBox(),Ts=ia.x+ia.width/2,zD=ia.y+ia.height/2,$D=Math.max(ia.width+30,ia.height)/2;ra.insert("circle",":first-child").attr("class","highlight-background").attr("fill","yellow").attr("opacity","0.3").attr("cx",Ts).attr("cy",zD).transition().duration(1e3).attr("r",$D).transition().duration(1e3).attr("r",$D/4).attr("opacity","0.5").transition().duration(1e3).attr("r",$D).attr("opacity","0.3");const Yfe=Fv(r.node()),{k:GD}=Yfe,{fx:Kfe,fy:Zfe}=Xi,Xfe=Yu.translate(-Kfe*GD+u/2,-Zfe*GD+d/2).scale(GD);v.transition().duration(750).call(S.transform,Xfe);const Qfe=document.getElementById("prevButton"),Jfe=document.getElementById("nextButton");Qfe.disabled=0===mt,Jfe.disabled=mt===be.length-1},un=()=>{Ho("circle.highlight-background").remove();const Xi=L.value.toLowerCase().trim();Xi.length>=3?(be=o.nodes.filter(ra=>ra.label.map(Ts=>Ts.toLowerCase()).some(Ts=>Ts.includes(Xi))||ra.label.some(Ts=>Object.values(Ts).some(zD=>String(zD).toLowerCase().includes(Xi)))),be.length>0?(mt=0,Ft()):(mt=-1,Wt())):(be=[],mt=-1,Wt()),Is()},Wt=()=>{const Xi=Yu.translate(0,0).scale(1);v.transition().duration(750).call(S.transform,Xi),w();const ra=document.getElementById("prevButton"),ia=document.getElementById("nextButton");ra.disabled=!0,ia.disabled=!0;const Ts=document.getElementById("noMatchesText");""!==L.value&&(Ts.classList.add("show"),setTimeout(()=>{Ts.classList.remove("show")},3e3))},Tr=()=>{mt<be.length-1&&(mt++,Ft())},bn=()=>{mt>0&&(mt--,Ft())},na=()=>{L.value="",L.focus(),Is(),be=[],mt=-1,Ho("circle.highlight-background").remove(),document.getElementById("nextButton").disabled=!0,document.getElementById("prevButton").disabled=!0},Is=()=>{Ne.disabled=0===L.value.trim().length};o.resetSearch&&(na(),o.resetSearch=!1),L.addEventListener("input",Is),oe.addEventListener("click",un),Ne.addEventListener("click",na),document.getElementById("searchInput").addEventListener("keydown",Ge),document.getElementById("nextButton").addEventListener("click",Tr),document.getElementById("prevButton").addEventListener("click",bn)}o.initDefinitions(r);const de=o.forceSimulation(n,{width:+r.attr("width"),height:+r.attr("height")});let re=r.append("g"),T=eO().on("start",()=>{o.brushing=!0,Tt.each(L=>{L.previouslySelected=o.shiftKey&&L.selected}),n.selectAll(".edgelabel").style("font-weight",400).style("fill","#212529")}).on("brush",()=>{o.extent=Qe.selection,Qe.sourceEvent&&o.extent&&o.brushMode&&y&&(Tt.classed("selected",L=>L.selected=L.previouslySelected^(Qe.selection[0][0]<=L.x*y.k+y.x&&L.x*y.k+y.x<Qe.selection[1][0]&&Qe.selection[0][1]<=L.y*y.k+y.y&&L.y*y.k+y.y<Qe.selection[1][1])).select(".nodeText").classed("selected",L=>L.selected).style("fill",L=>L.selected?"blue":"#999").style("font-weight",L=>L.selected?700:400),o.extent=Qe.selection)}).on("end",()=>{if(!Qe.sourceEvent||!o.extent||!o.gBrush)return;o.gBrush.call(T.move,null),o.brushMode||(o.gBrush.remove(),o.gBrush=null),o.brushing=!1,Tt.select(".nodeText").filter(function(){return!nn(this.parentNode).classed("selected")}).style("fill","#212529").style("font-weight",400);const L=Tt.size();if(L-Ho(".node-wrapper:not(.selected)").size()===L?V&&(V.innerHTML='<i class="bi bi-grid"></i>',V.style.opacity="0.65"):V&&(V.innerHTML='<i class="bi bi-grid-fill"></i>',V.style.opacity="1"),Tt.selectAll(".selected").size()<=2){const un=Tt.selectAll(".selected").data().filter(Wt=>Wt);return Rt.selectedNodesArray.next(un),un}Rt.selectedNodesArray.next([])});nn("body").on("keydown",()=>{T.filter(()=>Qe.shiftKey),T.keyModifiers(!1),16===Qe.keyCode&&(o.shiftKey=!0,o.gBrush||(o.brushMode=!0,o.gBrush=re.append("g").attr("class","brush"),o.gBrush.call(T)))}).on("keyup",()=>{o.shiftKey=!1,o.brushMode=!1,o.gBrush&&!o.brushing&&(o.gBrush.remove(),o.gBrush=null)});const ee=o.links.filter(({source:L,target:Ne},Ge,be)=>Ge===be.findIndex(mt=>mt.source===L&&mt.target===Ne)),De=v.selectAll().data(ee,function(L){return L.id});v.selectAll("line").data(De).exit().remove();const ct=De.join("line").style("stroke",function(L){return"Solid"===L.parentLineStyle?"#777":"#b4b4b4"}).style("stroke-opacity",".6").style("stroke-dasharray",function(L){return"Dotted"===L.parentLineStyle?"8,5":null}).style("stroke-width","2px").attr("class","link").attr("id",function(L){return`${L.source?L.source:""}_${L.target?L.target:""}_line`}).attr("marker-end",function(L){return!0===L.parentTargetArrow?"url(#arrowheadTarget)":null}).attr("marker-start",function(L){return!0===L.parentSourceArrow?"url(#arrowheadSource)":null});De.append("title").text(function(L){return L.label});const at=v.selectAll().data(o.links,function(L){return L.id});v.selectAll("path").data(at).exit().remove();const gt=at.join("svg:path").attr("class","edgepath").attr("fill-opacity",0).attr("stroke-opacity",0).attr("id",function(L,Ne){return"edgepath"+Ne}),Lt=v.selectAll().data(o.links,function(L){return L.id});v.selectAll("text").data(Lt).exit().remove();const Vt=Lt.enter().append("text").attr("class","edgelabel").attr("id",function(L){return`${L.source?L.source:""}_${L.target?L.target:""}_text`}).style("text-anchor","middle").attr("font-size",14).attr("dy",function(L){return L.dy});r.selectAll(".edgelabel").on("dblclick",function(){const L=nn(this).data();Rt.dblClickLinkPayload.next(L)}),Vt.append("textPath").attr("xlink:href",function(L,Ne){return"#edgepath"+Ne}).style("cursor","pointer").attr("dominant-baseline","bottom").attr("startOffset","50%").text(function(L){return L.label}),Vt.selectAll("textPath").filter(function(L){return L.linkIcon}).append("tspan").style("fill","#856404").style("font-weight","700").attr("class","fa").text(" \uf0c1"),r.selectAll(".edgelabel").on("click",function(L){n.event.stopPropagation(),Tt.each(function(Ne){Ne.selected=!1,Ne.previouslySelected=!1}),Dn.classed("selected",!1),V&&(V.innerHTML='<i class="bi bi-grid-fill"></i>',V.style.opacity="1"),n.selectAll(".nodeText").style("fill","#212529").style("font-weight",400),n.selectAll(".edgelabel").style("font-weight",400).style("fill","#212529"),n.select(this).style("fill","blue").style("font-weight",700),Rt.selectedNodesArray.next([])}),r.selectAll(".edgelabel").on("contextmenu",function(L){Rt.selectedNodesArray.next([]),n.selectAll(".nodeText").style("fill","#212529").style("font-weight",400),n.selectAll(".edgelabel").style("font-weight",400).style("fill","#212529"),n.select(this).style("fill","blue").style("font-weight",700);const Ne=nn(this).data();Rt.selectedLinkArray.next(Ne)});const Dn=v.selectAll().data(o.nodes,function(L){return L.id});v.selectAll("g").data(Dn).exit().remove();const Tt=Dn.join("g").call(n.drag().on("start",function(Ne){l&&(document.getElementById("reset_graph").removeAttribute("disabled"),document.getElementById("save_graph").removeAttribute("disabled")),n.event.active||de.alphaTarget(.9).restart(),!Ne.selected&&!this.shiftKey&&(Tt.classed("selected",function(Ge){return Ge.selected=Ge.previouslySelected=!1}),n.selectAll(".edgelabel").style("fill","#212529").style("font-weight",400),n.selectAll(".nodeText").style("font-weight",400).style("fill","#212529")),n.select(this).classed("selected",function(Ge){return Ne.previouslySelected=Ne.selected,Ne.selected=!0}),Tt.filter(function(Ge){return Ge.selected}).each(function(Ge){Ge.fx=Ge.x,Ge.fy=Ge.y})}).on("drag",function(Ne){Tt.filter(function(Ge){return Ge.selected}).each(function(Ge){Ge.fx+=n.event.dx,Ge.fy+=n.event.dy})}).on("end",function(Ne){n.event.active||de.alphaTarget(.3).restart(),Ne.fx=Ne.x,Ne.fy=Ne.y,Rt.saveGraphData.next(i)})).attr("class","node-wrapper").attr("id",function(L){return L.id}),Rt=o;r.selectAll(".node-wrapper").on("dblclick",function(){const L=nn(this).data();Rt.dblClickNodePayload.next(L)}),r.selectAll(".node-wrapper").on("click",function(L){if(n.event.stopPropagation(),L.selected=!0,V&&(V.innerHTML='<i class="bi bi-grid-fill"></i>',V.style.opacity="1"),n.event.ctrlKey){const Ne=nn(this),Ge=Ne.classed("selected");Ne.classed("selected",!Ge),L.selected=!Ge,L.previouslySelected=!Ge;const be=Tt.size();if(be-Ho(".node-wrapper:not(.selected)").size()===be&&V&&(V.innerHTML='<i class="bi bi-grid"></i>',V.style.opacity="0.65"),n.selectAll(".edgelabel").style("fill","#212529").style("font-weight",400),n.selectAll(".nodeText").style("font-weight",400).style("fill","#212529"),r.selectAll(".selected").selectAll(".nodeText").style("fill","blue").style("font-weight",700),r.selectAll(".selected").size()<=2){n.selectAll(".selected").attr("selected",!0).each(function(na){na&&(na.selected=!0)});const bn=n.selectAll(".selected").data().filter(na=>na);return Rt.selectedNodesArray.next(bn),bn}return null}return r.selectAll(".node-wrapper").classed("selected",!1),nn(this).classed("selected",!0),Tt.each(function(Ne){Ne.selected=!1,Ne.previouslySelected=!1}),n.selectAll(".selected").selectAll(".nodeText").style("fill","#212529"),n.selectAll(".edgelabel").style("fill","#212529"),n.selectAll(".nodeText").style("fill","#212529").style("font-weight",400),n.select(this).select(".nodeText").style("fill","blue").style("font-weight",700),Rt.selectedNodesArray.next([]),null}),r.selectAll(".node-wrapper").on("contextmenu",function(L){2!==r.selectAll(".selected").selectAll(".nodeText").size()&&(r.selectAll(".selected").classed("selected",!1),Rt.selectedNodesArray.next([]),n.selectAll(".edgelabel").style("fill","#212529").style("font-weight",400),n.selectAll(".nodeText").style("fill","#212529").style("font-weight",400),n.select(this).select(".nodeText").style("fill","blue").style("font-weight",700))}),n.select("svg").on("click",()=>{Tt.each(function(L){L.selected=!1,L.previouslySelected=!1}),Dn.classed("selected",!1),n.selectAll(".selected").selectAll(".nodeText").style("fill","#212529").style("font-weight",400),n.selectAll(".selected").classed("selected",!1),n.selectAll(".edgelabel").style("fill","#212529").style("font-weight",400),Rt.selectedNodesArray.next([]),V&&(V.innerHTML='<i class="bi bi-grid-fill"></i>',V.style.opacity="1")}),Tt.filter(function(L){return!(!L.imageUrl||""===L.imageUrl)||null}).append("image").attr("xlink:href",function(L){return L.imageUrl}).attr("x",-15).attr("y",-60).attr("class",function(L){return`${L.id?L.id:""}_image`}).attr("id",function(L){return`${L.id?L.id:""}`}).attr("width",32).attr("height",32).attr("class","image").style("cursor","pointer"),Tt.filter(function(L){return!(!L.icon||""===L.icon)||null}).append("text").text(function(L){return L.icon}).attr("x",-18).attr("y",-30).attr("class",function(L){return`${L.id?L.id:""}_icon fa`}).attr("id",function(L){return`${L.id?L.id:""}`}).style("font-size","35px").style("cursor","pointer"),Tt.append("text").attr("id","nodeText").attr("class","nodeText").style("text-anchor","middle").style("cursor","pointer").attr("dy",-3).attr("y",-25).attr("testhook",function(L){return`${L.id?L.id:""}_text`}).selectAll("tspan.text").data(L=>L.label).enter().append("tspan").attr("class","nodeTextTspan").text(L=>L).style("font-size","14px").attr("x",-10).attr("dx",10).attr("dy",15),Tt.filter(function(L){return!!L.additionalIcon||null}).append("text").attr("id",function(L){return`${L.id?L.id:""}_additionalIcon`}).attr("width",100).attr("height",25).attr("x",30).attr("y",-50).attr("class","fa").style("fill","#856404").text(function(L){return L.additionalIcon}),Tt.filter(function(L){return!!L.newItem||null}).select("text").transition().duration(1e3).attr("fill","blue").attr("font-weight",700).attr("fill-opacity",1).transition().duration(1e3).attr("fill","blue").attr("font-weight",700).attr("fill-opacity",.1).transition().duration(1e3).attr("fill","blue").attr("font-weight",700).attr("fill-opacity",1).transition().duration(1e3).attr("fill","blue").attr("font-weight",700).attr("fill-opacity",.1).transition().duration(1e3).attr("fill","blue").attr("font-weight",700).attr("fill-opacity",1).transition().duration(1e3).attr("fill","#212529").attr("font-weight",400).attr("fill-opacity",1).on("end",function(){return nn(this).call(n.transition)}),Tt.filter(function(L){return!!L.newItem||null}).select("image").transition().duration(1e3).attr("width",45).attr("height",45).transition().duration(1e3).attr("width",32).attr("height",32).transition().duration(1e3).attr("width",45).attr("height",45).transition().duration(1e3).attr("width",32).attr("height",32).transition().duration(1e3).attr("width",45).attr("height",45).transition().duration(1e3).attr("width",32).attr("height",32).on("end",function(){return nn(this).call(Tw)}),o.nodes=o.removeNewItem(o.nodes),Tt.append("title").text(function(L){return L.label});let Fi=0,Pi=!1;de.nodes(o.nodes).on("tick",()=>{o.zoomToFit&&Fi>=30&&!Pi?(de.stop(),F(),Pi=!0):(o.ticked(ct,Tt,gt),Fi++)}),de.force("link").links(o.links),Rt.saveGraphData.next(i)})()}resetGraph(n,r,i,o){this.resetSearch=!0,this.nodes=[],this.links=[],this.update(n,r,i,o)}static \u0275fac=function(r){return new(r||e)(Fe(O3))};static \u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ZC=j(1060),R3=function(e){return e.LEFT_TO_RIGHT="LR",e.RIGHT_TO_LEFT="RL",e.TOP_TO_BOTTOM="TB",e.BOTTOM_TO_TOP="BT",e}(R3||{}),F3=function(e){return e.CENTER="C",e.UP_LEFT="UL",e.UP_RIGHT="UR",e.DOWN_LEFT="DL",e.DOWN_RIGHT="DR",e}(F3||{});let kse=(()=>{class e{defaultSettings={orientation:R3.LEFT_TO_RIGHT,marginX:70,marginY:70,edgePadding:200,rankPadding:300,nodePadding:100,curveDistance:20,multigraph:!0,compound:!0,align:F3.UP_RIGHT,acyclicer:void 0,ranker:"network-simplex"};dagreGraph;dagreNodes;dagreEdges;renderLayout(n){this.createDagreGraph(n),ZC.layout(this.dagreGraph);for(const r in this.dagreGraph._nodes){const i=this.dagreGraph._nodes[r],o=n.nodes.find(s=>s.id===i.id);null===o.fx&&null===o.fy&&n.links.some(a=>a.source===i.id||a.target===i.id)&&(o.fx=i.x,o.fy=i.y),o.dimension={width:i.width,height:i.height}}return n}initRenderLayout(n){this.createDagreGraph(n),ZC.layout(this.dagreGraph);let r=1/0;for(const i in this.dagreGraph._nodes){const o=this.dagreGraph._nodes[i],s=n.nodes.find(l=>l.id===o.id);n.links.some(l=>l.source===o.id||l.target===o.id)?(s.fx=o.x,s.fy=o.y,r=Math.min(r,o.y-this.defaultSettings.marginY)):(s.fx=null,s.fy=null),s.dimension={width:o.width,height:o.height}}if(r!==1/0)for(const i of n.nodes)null!==i.fy&&(i.fy-=r);return n}createDagreGraph(n){const r=Object.assign({},this.defaultSettings);this.dagreGraph=new ZC.graphlib.Graph({compound:r.compound,multigraph:r.multigraph}),this.dagreGraph.setGraph({rankdir:r.orientation,marginx:r.marginX,marginy:r.marginY,edgesep:r.edgePadding,ranksep:r.rankPadding,nodesep:r.nodePadding,align:r.align,acyclicer:r.acyclicer,ranker:r.ranker,multigraph:r.multigraph,compound:r.compound}),this.dagreNodes=n.nodes.map(i=>{const o=Object.assign({},i);return o.width=20,o.height=20,o.x=i.fx,o.y=i.fy,o}),this.dagreEdges=n.links.map(i=>Object.assign({},i));for(const i of this.dagreNodes)i.width||(i.width=20),i.height||(i.height=30),this.dagreGraph.setNode(i.id,i);for(const i of this.dagreEdges)r.multigraph?this.dagreGraph.setEdge(i.source,i.target,i,i.linkId):this.dagreGraph.setEdge(i.source,i.target);return this.dagreGraph}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function P3(e){return Array.isArray(e)?e:[e]}function yr(e){return null==e?"":"string"==typeof e?e:`${e}px`}function La(e,t,n,r){return er(n)&&(r=n,n=void 0),r?La(e,t,n).pipe(xi(i=>oa(i)?r(...i):r(i))):new $n(i=>{L3(e,t,function o(s){i.next(arguments.length>1?Array.prototype.slice.call(arguments):s)},i,n)})}function L3(e,t,n,r,i){let o;if(function Pse(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const s=e;e.addEventListener(t,n,i),o=()=>s.removeEventListener(t,n,i)}else if(function Fse(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const s=e;e.on(t,n),o=()=>s.off(t,n)}else if(function Rse(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const s=e;e.addListener(t,n),o=()=>s.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)L3(e[s],t,n,r,i)}r.add(o)}const XC=new class Vse extends jo{flush(t){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let r,i=-1,o=n.length;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while(++i<o&&(t=n.shift()));if(this.active=!1,r){for(;++i<o&&(t=n.shift());)t.unsubscribe();throw r}}}(class Lse extends Pv{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,n,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)}});let Bse=1;const Hse=Promise.resolve(),Hv={};function V3(e){return e in Hv&&(delete Hv[e],!0)}const B3={setImmediate(e){const t=Bse++;return Hv[t]=!0,Hse.then(()=>V3(t)&&e()),t},clearImmediate(e){V3(e)}},H3=new class Use extends jo{flush(t){this.active=!0,this.scheduled=void 0;const{actions:n}=this;let r,i=-1,o=n.length;t=t||n.shift();do{if(r=t.execute(t.state,t.delay))break}while(++i<o&&(t=n.shift()));if(this.active=!1,r){for(;++i<o&&(t=n.shift());)t.unsubscribe();throw r}}}(class jse extends Pv{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return null!==r&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=B3.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,n,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,n,r);0===t.actions.length&&(B3.clearImmediate(n),t.scheduled=void 0)}}),QC=new jo(Pv),jv=function $se(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),j3=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function U3(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const z3=e=>{if(e&&"function"==typeof e[Di])return(e=>t=>{const n=e[Di]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)})(e);if(j3(e))return A3(e);if(U3(e))return(e=>t=>(e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Vi),t))(e);if(e&&"function"==typeof e[jv])return(e=>t=>{const n=e[jv]();for(;;){let r;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t})(e);{const n=`You provided ${As(e)?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};class JC extends Un{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class eD extends Un{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function tD(e,t){if(t.closed)return;if(e instanceof $n)return e.subscribe(t);let n;try{n=z3(e)(t)}catch(r){t.error(r)}return n}class Yse{constructor(t){this.durationSelector=t}call(t,n){return n.subscribe(new Kse(t,this.durationSelector))}}class Kse extends eD{constructor(t,n){super(t),this.durationSelector=n,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:i}=this;n=i(t)}catch(i){return this.destination.error(i)}const r=tD(n,new JC(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:n,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),n&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function $3(e){return!oa(e)&&e-parseFloat(e)+1>=0}function Xse(e){const{index:t,period:n,subscriber:r}=e;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}function nD(e,t=QC){return function qse(e){return function(n){return n.lift(new Yse(e))}}(()=>function Zse(e=0,t,n){let r=-1;return $3(t)?r=Number(t)<1?1:Number(t):jh(t)&&(n=t),jh(n)||(n=QC),new $n(i=>{const o=$3(e)?e:+e-n.now();return n.schedule(Xse,o,{index:0,period:r,subscriber:i})})}(e,t))}function Uh(e,t){return function(r){return r.lift(new Qse(e,t))}}class Qse{constructor(t,n){this.predicate=t,this.thisArg=n}call(t,n){return n.subscribe(new Jse(t,this.predicate,this.thisArg))}}class Jse extends Un{constructor(t,n,r){super(t),this.predicate=n,this.thisArg=r,this.count=0}_next(t){let n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}n&&this.destination.next(t)}}let rD;try{rD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{rD=!1}let ql,Ku=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?B1(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!rD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(Fe(Hs))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tae(){if(null==ql){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ql=!1,ql;if("scrollBehavior"in document.documentElement.style)ql=!0;else{const e=Element.prototype.scrollTo;ql=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return ql}function q3(e){return e.composedPath?e.composedPath()[0]:e.target}function Y3(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const rae=new st("cdk-dir-doc",{providedIn:"root",factory:function iae(){return xt(Wn)}}),oae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let aae=(()=>{class e{constructor(n){this.value="ltr",this.change=new yt,n&&(this.value=function sae(e){const t=e?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?oae.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((n.body?n.body.dir:null)||(n.documentElement?n.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(r){return new(r||e)(Fe(rae,8))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),oD=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({})}}return e})(),cae=(()=>{class e{constructor(n,r,i){this._ngZone=n,this._platform=r,this._scrolled=new _n,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new $n(r=>{this._globalSubscription||this._addGlobalListener();const i=n>0?this._scrolled.pipe(nD(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Lv()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){const i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Uh(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(n){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,n)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let i=function Ose(e){return e instanceof Sn?e.nativeElement:e}(r),o=n.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>La(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(r){return new(r||e)(Fe(pn),Fe(Ku),Fe(Wn,8))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),K3=(()=>{class e{constructor(n,r,i){this._platform=n,this._change=new _n,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(n.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,r=this._getWindow(),i=n.documentElement,o=i.getBoundingClientRect();return{top:-o.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(n=20){return n>0?this._change.pipe(nD(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(r){return new(r||e)(Fe(Ku),Fe(pn),Fe(Wn,8))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Z3=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({})}}return e})(),X3=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({imports:[oD,Z3,oD,Z3]})}}return e})();const dae=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function zv(e){return t=>0===e?T3():t.lift(new fae(e))}class fae{constructor(t){if(this.total=t,this.total<0)throw new dae}call(t,n){return n.subscribe(new hae(t,this.total))}}class hae extends Un{constructor(t,n){super(t),this.total=n,this.count=0}_next(t){const n=this.total,r=++this.count;r<=n&&(this.destination.next(t),r===n&&(this.destination.complete(),this.unsubscribe()))}}function Yl(e){return t=>t.lift(new pae(e))}class pae{constructor(t){this.notifier=t}call(t,n){const r=new gae(t),i=tD(this.notifier,new JC(r));return i&&!r.seenValue?(r.add(i),n.subscribe(r)):r}}class gae extends eD{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class sD{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Q3 extends sD{constructor(t,n,r,i,o){super(),this.component=t,this.viewContainerRef=n,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=o}}class mae extends sD{constructor(t,n,r,i){super(),this.templateRef=t,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class _ae extends sD{constructor(t){super(),this.element=t instanceof Sn?t.nativeElement:t}}class vae{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Q3?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof mae?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof _ae?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class yae extends vae{constructor(t,n,r,i,o){super(),this.outletElement=t,this._componentFactoryResolver=n,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||Rr.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);-1!==i&&n.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let bae=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({})}}return e})();function aD(e,t){return t?function Mae(e,t){if(null!=e){if(function Dae(e){return e&&"function"==typeof e[Di]}(e))return function wae(e,t){return new $n(n=>{const r=new Jt;return r.add(t.schedule(()=>{const i=e[Di]();r.add(i.subscribe({next(o){r.add(t.schedule(()=>n.next(o)))},error(o){r.add(t.schedule(()=>n.error(o)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if(U3(e))return function Eae(e,t){return new $n(n=>{const r=new Jt;return r.add(t.schedule(()=>e.then(i=>{r.add(t.schedule(()=>{n.next(i),r.add(t.schedule(()=>n.complete()))}))},i=>{r.add(t.schedule(()=>n.error(i)))}))),r})}(e,t);if(j3(e))return YC(e,t);if(function xae(e){return e&&"function"==typeof e[jv]}(e)||"string"==typeof e)return function Cae(e,t){if(!e)throw new Error("Iterable cannot be null");return new $n(n=>{const r=new Jt;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[jv](),r.add(t.schedule(function(){if(n.closed)return;let o,s;try{const a=i.next();o=a.value,s=a.done}catch(a){return void n.error(a)}s?n.complete():(n.next(o),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof $n?e:new $n(z3(e))}function J3(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?r=>r.pipe(J3((i,o)=>aD(e(i,o)).pipe(xi((s,a)=>t(i,s,o,a))),n)):("number"==typeof t&&(n=t),r=>r.lift(new Sae(e,n)))}class Sae{constructor(t,n=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=n}call(t,n){return n.subscribe(new Iae(t,this.project,this.concurrent))}}class Iae extends eD{constructor(t,n,r=Number.POSITIVE_INFINITY){super(t),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let n;const r=this.index++;try{n=this.project(t,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(t){const n=new JC(this),r=this.destination;r.add(n);const i=tD(t,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function e8(e=Number.POSITIVE_INFINITY){return J3(_t,e)}function Gh(...e){let t=Number.POSITIVE_INFINITY,n=null,r=e[e.length-1];return jh(r)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof r&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof $n?e[0]:e8(t)(k3(e,n))}const t8=tae();class Tae{constructor(t,n){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=yr(-this._previousScrollPosition.left),t.style.top=yr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),t8&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t8&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}}class Aae{constructor(t,n,r,i){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Uh(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class n8{enable(){}disable(){}attach(){}}function lD(e,t){return t.some(n=>e.bottom<n.top||e.top>n.bottom||e.right<n.left||e.left>n.right)}function r8(e,t){return t.some(n=>e.top<n.top||e.bottom>n.bottom||e.left<n.left||e.right>n.right)}class kae{constructor(t,n,r,i){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();lD(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let i8=(()=>{class e{constructor(n,r,i,o){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new n8,this.close=s=>new Aae(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Tae(this._viewportRuler,this._document),this.reposition=s=>new kae(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static{this.\u0275fac=function(r){return new(r||e)(Fe(cae),Fe(K3),Fe(pn),Fe(Wn))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class Nae{constructor(t){if(this.scrollStrategy=new n8,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const n=Object.keys(t);for(const r of n)void 0!==t[r]&&(this[r]=t[r])}}}class Oae{constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}}let o8=(()=>{class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){const r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(r){return new(r||e)(Fe(Wn))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Rae=(()=>{class e extends o8{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(i)):a.next(i);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(r){return new(r||e)(Fe(Wn),Fe(pn,8))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Fae=(()=>{class e extends o8{constructor(n,r,i){super(n),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=q3(o)},this._clickListener=o=>{const s=q3(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(n){if(super.add(n),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(r){return new(r||e)(Fe(Wn),Fe(Ku),Fe(pn,8))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$v=(()=>{class e{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n="cdk-overlay-container";if(this._platform.isBrowser||Y3()){const i=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(n),Y3()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static{this.\u0275fac=function(r){return new(r||e)(Fe(Wn),Fe(Ku))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class Pae{constructor(t,n,r,i,o,s,a,l,c,u=!1){this._portalOutlet=t,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new _n,this._attachments=new _n,this._detachments=new _n,this._locationChanges=Jt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new _n,this._outsidePointerEvents=new _n,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const n=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(zv(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof n?.onDestroy&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=yr(this._config.width),t.height=yr(this._config.height),t.minWidth=yr(this._config.minWidth),t.minHeight=yr(this._config.minHeight),t.maxWidth=yr(this._config.maxWidth),t.maxHeight=yr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,n,r){const i=P3(n||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Yl(Gh(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const s8="cdk-overlay-connected-position-bounding-box",Lae=/([A-Za-z%]+)$/;class Vae{get positions(){return this._preferredPositions}constructor(t,n,r,i,o){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _n,this._resizeSubscription=Jt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(s8),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,i,a),c=this._getOverlayPoint(l,n,a),u=this._getOverlayFit(c,n,r,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,r)?o.push({position:a,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:n})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Kl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(s8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,n)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,n,r){let i,o;if("center"==r.originX)i=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;i="start"==r.originX?s:a}return n.left<0&&(i-=n.left),o="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,n.top<0&&(o-=n.top),{x:i,y:o}}_getOverlayPoint(t,n,r){let i,o;return i="center"==r.overlayX?-n.width/2:"start"===r.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,o="center"==r.overlayY?-n.height/2:"top"==r.overlayY?0:-n.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,n,r,i){const o=l8(n);let{x:s,y:a}=t,l=this._getOffset(i,"x"),c=this._getOffset(i,"y");l&&(s+=l),c&&(a+=c);let h=0-a,g=a+o.height-r.height,_=this._subtractOverflows(o.width,0-s,s+o.width-r.width),v=this._subtractOverflows(o.height,h,g),y=_*v;return{visibleArea:y,isCompletelyWithinViewport:o.width*o.height===y,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:_==o.width}}_canFitWithFlexibleDimensions(t,n,r){if(this._hasFlexibleDimensions){const i=r.bottom-n.y,o=r.right-n.x,s=a8(this._overlayRef.getConfig().minHeight),a=a8(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=i)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=l8(n),o=this._viewportRect,s=Math.max(t.x+i.width-o.width,0),a=Math.max(t.y+i.height-o.height,0),l=Math.max(o.top-r.top-t.y,0),c=Math.max(o.left-r.left-t.x,0);let u=0,d=0;return u=i.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-r.left-t.x:0,d=i.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-r.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function Bae(e,t){return e===t||e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new Oae(t,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,n){const r=this._viewportRect,i=this._isRtl();let o,s,a,u,d,h;if("top"===n.overlayY)s=t.y,o=r.height-s+this._viewportMargin;else if("bottom"===n.overlayY)a=r.height-t.y+2*this._viewportMargin,o=r.height-a+this._viewportMargin;else{const g=Math.min(r.bottom-t.y+r.top,t.y),_=this._lastBoundingBoxSize.height;o=2*g,s=t.y-g,o>_&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-_/2)}if("end"===n.overlayX&&!i||"start"===n.overlayX&&i)h=r.width-t.x+2*this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===n.overlayX&&!i||"end"===n.overlayX&&i)d=t.x,u=r.right-t.x;else{const g=Math.min(r.right-t.x+r.left,t.x),_=this._lastBoundingBoxSize.width;u=2*g,d=t.x-g,u>_&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-_/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(t,n){const r=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=yr(r.height),i.top=yr(r.top),i.bottom=yr(r.bottom),i.width=yr(r.width),i.left=yr(r.left),i.right=yr(r.right),i.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",i.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=yr(o)),s&&(i.maxWidth=yr(s))}this._lastBoundingBoxSize=r,Kl(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Kl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Kl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const u=this._viewportRuler.getViewportScrollPosition();Kl(r,this._getExactOverlayY(n,t,u)),Kl(r,this._getExactOverlayX(n,t,u))}else r.position="static";let a="",l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=yr(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=yr(s.maxWidth):o&&(r.maxWidth="")),Kl(this._pane.style,r)}_getExactOverlayY(t,n,r){let i={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=yr(o.y),i}_getExactOverlayX(t,n,r){let s,i={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=yr(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:r8(t,r),isOriginOutsideView:lD(t,r),isOverlayClipped:r8(n,r),isOverlayOutsideView:lD(n,r)}}_subtractOverflows(t,...n){return n.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+n-this._viewportMargin,width:t-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return"x"===n?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&P3(t).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Sn)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const n=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+n,height:r,width:n}}}function Kl(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a8(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(Lae);return n&&"px"!==n?null:parseFloat(t)}return e||null}function l8(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const c8="cdk-global-overlay-wrapper";class Hae{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(c8),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,l=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let g="",_="",v="";l?v="flex-start":"center"===u?(v="center",h?_=d:g=d):h?"left"===u||"end"===u?(v="flex-end",g=d):("right"===u||"start"===u)&&(v="flex-start",_=d):"left"===u||"start"===u?(v="flex-start",g=d):("right"===u||"end"===u)&&(v="flex-end",_=d),t.position=this._cssPosition,t.marginLeft=l?"0":g,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":_,n.justifyContent=v,n.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(c8),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let jae=(()=>{class e{constructor(n,r,i,o){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new Hae}flexibleConnectedTo(n){return new Vae(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(r){return new(r||e)(Fe(K3),Fe(Wn),Fe(Ku),Fe($v))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Uae=0,Gv=(()=>{class e{constructor(n,r,i,o,s,a,l,c,u,d,h,g){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=g}create(n){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),s=new Nae(n);return s.direction=s.direction||this._directionality.value,new Pae(o,r,i,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(n){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Uae++,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){const n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get($s)),new yae(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(r){return new(r||e)(Fe(i8),Fe($v),Fe(Gc),Fe(jae),Fe(Rae),Fe(Rr),Fe(pn),Fe(Wn),Fe(aae),Fe(r2),Fe(Fae),Fe(t6,8))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const zae=new st("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const e=xt(Gv);return()=>e.scrollStrategies.reposition()}}),Gae={provide:zae,deps:[Gv],useFactory:function $ae(e){return()=>e.scrollStrategies.reposition()}};let Wae=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({providers:[Gv,Gae],imports:[oD,bae,X3,X3]})}}return e})(),qae=(()=>{class e extends $v{constructor(n,r){super(n,r)}ngOnDestroy(){super.ngOnDestroy(),this._fullScreenEventName&&this._fullScreenListener&&this._document.removeEventListener(this._fullScreenEventName,this._fullScreenListener)}_createContainer(){super._createContainer(),this._adjustParentForFullscreenChange(),this._addFullscreenChangeListener(()=>this._adjustParentForFullscreenChange())}_adjustParentForFullscreenChange(){this._containerElement&&(this.getFullscreenElement()||this._document.body).appendChild(this._containerElement)}_addFullscreenChangeListener(n){const r=this._getEventName();r&&(this._fullScreenListener&&this._document.removeEventListener(r,this._fullScreenListener),this._document.addEventListener(r,n),this._fullScreenListener=n)}_getEventName(){if(!this._fullScreenEventName){const n=this._document;n.fullscreenEnabled?this._fullScreenEventName="fullscreenchange":n.webkitFullscreenEnabled?this._fullScreenEventName="webkitfullscreenchange":n.mozFullScreenEnabled?this._fullScreenEventName="mozfullscreenchange":n.msFullscreenEnabled&&(this._fullScreenEventName="MSFullscreenChange")}return this._fullScreenEventName}getFullscreenElement(){const n=this._document;return n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||null}static{this.\u0275fac=function(r){return new(r||e)(Fe(Wn),Fe(Ku))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Va(){}function u8(e,t,n){return function(i){return i.lift(new hle(e,t,n))}}class hle{constructor(t,n,r){this.nextOrObserver=t,this.error=n,this.complete=r}call(t,n){return n.subscribe(new ple(t,this.nextOrObserver,this.error,this.complete))}}class ple extends Un{constructor(t,n,r,i){super(t),this._tapNext=Va,this._tapError=Va,this._tapComplete=Va,this._tapError=r||Va,this._tapComplete=i||Va,er(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||Va,this._tapError=n.error||Va,this._tapComplete=n.complete||Va)}_next(t){try{this._tapNext.call(this._context,t)}catch(n){return void this.destination.error(n)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(n){return void this.destination.error(n)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function d8(e,t=QC){return n=>n.lift(new gle(e,t))}class gle{constructor(t,n){this.dueTime=t,this.scheduler=n}call(t,n){return n.subscribe(new mle(t,this.dueTime,this.scheduler))}}class mle extends Un{constructor(t,n,r){super(t),this.dueTime=n,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_le,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function _le(e){e.debouncedNext()}class p8{constructor(t,n){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new _n,this._typeaheadSubscription=Jt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this._pressedLetters=[],this.tabOut=new _n,this.change=new _n,t instanceof Fc?this._itemChangesSubscription=t.changes.subscribe(r=>this._itemsChanged(r.toArray())):Dg(t)&&(this._effectRef=Qk(()=>this._itemsChanged(t()),{injector:n}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(u8(n=>this._pressedLetters.push(n)),d8(t),Uh(()=>this._pressedLetters.length>0),xi(()=>this._pressedLetters.join(""))).subscribe(n=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,s=r[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(n)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,n=10){return this._pageUpAndDown={enabled:t,delta:n},this}setActiveItem(t){const n=this._activeItem;this.updateActiveItem(t),this._activeItem!==n&&this.change.next(this._activeItemIndex)}onKeydown(t){const n=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(n){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((i||function fle(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(n>=65&&n<=90||n>=48&&n<=57)&&this._letterKeyStream.next(String.fromCharCode(n))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const n=this._getItemsArray(),r="number"==typeof t?t:n.indexOf(t);this._activeItem=n[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const n=this._getItemsArray();for(let r=1;r<=n.length;r++){const i=(this._activeItemIndex+t*r+n.length)%n.length;if(!this._skipPredicateFn(n[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,n){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=n])return;this.setActiveItem(t)}}_getItemsArray(){return Dg(this._items)?this._items():this._items instanceof Fc?this._items.toArray():this._items}_itemsChanged(t){if(this._activeItem){const n=t.indexOf(this._activeItem);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n)}}}class ble extends p8{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}const m8=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();class kle{constructor(t){this.defaultValue=t}call(t,n){return n.subscribe(new Nle(t,this.defaultValue))}}class Nle extends Un{constructor(t,n){super(t),this.defaultValue=n,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ole(e=Ple){return t=>t.lift(new Rle(e))}class Rle{constructor(t){this.errorFactory=t}call(t,n){return n.subscribe(new Fle(t,this.errorFactory))}}class Fle extends Un{constructor(t,n){super(t),this.errorFactory=n,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(n){t=n}this.destination.error(t)}}}function Ple(){return new m8}const _8=["menu"],Vle=["li"],v8=e=>({$implicit:e});function Ble(e,t){}function Hle(e,t){if(1&e){const n=Kn();le(0,"a",7),ft("click",function(i){rt(n);const o=Ve().$implicit;return it(Ve().onMenuItemSelect(o,i))})("mouseenter",function(i){rt(n);const o=Ve().$implicit;return it(Ve().onOpenSubMenu(o,i))}),Ht(1,Ble,0,0,"ng-template",8),ye()}if(2&e){const n=Ve().$implicit,r=Ve();ai("dropdown-item",r.useBootstrap4)("active",n.isActive&&r.isMenuItemEnabled(n))("disabled",r.useBootstrap4&&!r.isMenuItemEnabled(n))("hasSubMenu",!!n.subMenu),ke(),nt("ngTemplateOutlet",n.template)("ngTemplateOutletContext",zs(10,v8,r.item))}}function jle(e,t){}function Ule(e,t){if(1&e){const n=Kn();le(0,"span",10),ft("click",function(i){return rt(n),it(Ve(3).stopEvent(i))})("contextmenu",function(i){return rt(n),it(Ve(3).stopEvent(i))}),Ht(1,jle,0,0,"ng-template",8),ye()}if(2&e){const n=Ve(2).$implicit,r=Ve();ai("dropdown-item",r.useBootstrap4)("disabled",r.useBootstrap4&&!r.isMenuItemEnabled(n)),ke(),nt("ngTemplateOutlet",n.template)("ngTemplateOutletContext",zs(6,v8,r.item))}}function zle(e,t){if(1&e&&Ht(0,Ule,2,8,"span",9),2&e){const n=Ve().$implicit;nt("ngIf",!n.divider&&n.passive)}}function $le(e,t){if(1&e&&(le(0,"li",null,1),Ht(2,Hle,2,12,"a",5)(3,zle,1,1,"span",6),ye()),2&e){const n=t.$implicit,r=Ve();ai("disabled",!r.isMenuItemEnabled(n))("divider",n.divider)("dropdown-divider",r.useBootstrap4&&n.divider)("active",n.isActive&&r.isMenuItemEnabled(n)),si("role",n.divider?"separator":void 0),ke(2),li(2,n.divider||n.passive?-1:2),ke(),li(3,!n.divider&&n.passive?3:-1)}}const cD=new st("CONTEXT_MENU_OPTIONS");function Wh(e,t){return e instanceof Function?e(t):e}let Wle=(()=>{class e{constructor(n){this.menuItems=[],this.isLeaf=!1,this.execute=new yt,this.openSubMenu=new yt,this.closeLeafMenu=new yt,this.closeAllMenus=new yt,this.autoFocus=!1,this.useBootstrap4=!1,this.subscription=new Jt,n&&(this.autoFocus=n.autoFocus,this.useBootstrap4=n.useBootstrap4)}ngOnInit(){this.menuItems.forEach(r=>{r.currentItem=this.item,this.subscription.add(r.execute.subscribe(i=>this.execute.emit({...i,menuItem:r})))});const n=new Fc;n.reset(this.menuItems),this._keyManager=new ble(n).withWrap()}ngAfterViewInit(){this.autoFocus&&setTimeout(()=>this.focus()),this.overlay.updatePosition()}ngOnDestroy(){this.subscription.unsubscribe()}focus(){this.autoFocus&&this.menuElement.nativeElement.focus()}stopEvent(n){n.stopPropagation()}isMenuItemEnabled(n){return Wh(n?.enabled,this.item)}isMenuItemVisible(n){return Wh(n?.visible,this.item)}isDisabled(n){return n.enabled&&!n.enabled(this.item)}onKeyEvent(n){this.isLeaf&&this._keyManager.onKeydown(n)}keyboardOpenSubMenu(n){if(!this.isLeaf)return;this.cancelEvent(n);const r=this.menuItems[this._keyManager.activeItemIndex];r&&this.onOpenSubMenu(r)}keyboardMenuItemSelect(n){if(!this.isLeaf)return;this.cancelEvent(n);const r=this.menuItems[this._keyManager.activeItemIndex];r&&this.onMenuItemSelect(r,n)}onCloseLeafMenu(n){this.isLeaf&&(this.cancelEvent(n),this.closeLeafMenu.emit({exceptRootMenu:37===n.keyCode,event:n}))}closeMenu(n){"click"===n.type&&2===n.button||this.closeAllMenus.emit({event:n})}onOpenSubMenu(n,r){const i=this.menuItemElements.toArray()[this._keyManager.activeItemIndex];this.openSubMenu.emit({anchorElement:i&&i.nativeElement,contextMenu:n.subMenu,event:r,item:this.item,parentContextMenu:this})}onMenuItemSelect(n,r){r.preventDefault(),r.stopPropagation(),this.onOpenSubMenu(n,r),n.subMenu||n.triggerExecute(this.item,r)}cancelEvent(n){if(!n)return;const r=n.target;["INPUT","TEXTAREA","SELECT"].indexOf(r.tagName)>-1||r.isContentEditable||(n.preventDefault(),n.stopPropagation())}static{this.\u0275fac=function(r){return new(r||e)(ve(cD,8))}}static{this.\u0275cmp=$e({type:e,selectors:[["context-menu-content"]],viewQuery:function(r,i){if(1&r&&(hr(_8,7),hr(Vle,5)),2&r){let o;an(o=ln())&&(i.menuElement=o.first),an(o=ln())&&(i.menuItemElements=o)}},hostBindings:function(r,i){1&r&&ft("keydown.ArrowDown",function(s){return i.onKeyEvent(s)},0,Mo)("keydown.ArrowUp",function(s){return i.onKeyEvent(s)},!1,Mo)("keydown.ArrowRight",function(s){return i.keyboardOpenSubMenu(s)},!1,Mo)("keydown.Enter",function(s){return i.keyboardMenuItemSelect(s)},!1,Mo)("keydown.Space",function(s){return i.keyboardMenuItemSelect(s)},!1,Mo)("keydown.Escape",function(s){return i.onCloseLeafMenu(s)},!1,Mo)("keydown.ArrowLeft",function(s){return i.onCloseLeafMenu(s)},!1,Mo)("click",function(s){return i.closeMenu(s)},!1,O0)("contextmenu",function(s){return i.closeMenu(s)},!1,O0)},inputs:{menuItems:"menuItems",item:"item",event:"event",parentContextMenu:"parentContextMenu",menuClass:"menuClass",overlay:"overlay",isLeaf:"isLeaf"},outputs:{execute:"execute",openSubMenu:"openSubMenu",closeLeafMenu:"closeLeafMenu",closeAllMenus:"closeAllMenus"},decls:5,vars:1,consts:[["menu",""],["li",""],["tabindex","0",1,"dropdown","open","show","ngx-contextmenu",3,"ngClass"],["tabindex","0",1,"dropdown-menu","show",2,"position","static","float","none"],[3,"disabled","divider","dropdown-divider","active"],["href","",3,"dropdown-item","active","disabled","hasSubMenu"],[1,"passive",3,"dropdown-item","disabled"],["href","",3,"click","mouseenter"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","passive",3,"dropdown-item","disabled","click","contextmenu",4,"ngIf"],[1,"passive",3,"click","contextmenu"]],template:function(r,i){1&r&&(le(0,"div",2)(1,"ul",3,0),Vg(3,$le,4,11,"li",4,CT),ye()()),2&r&&(nt("ngClass",i.menuClass),ke(3),Bg(i.menuItems))},dependencies:[Mm,Sm,Im],styles:['@charset "UTF-8";.passive[_ngcontent-%COMP%]{display:block;padding:3px 20px;clear:both;font-weight:400;white-space:nowrap}.hasSubMenu[_ngcontent-%COMP%]:before{content:"\\25b6";float:right}'],changeDetection:0})}}return e})(),y8=(()=>{class e{get disabled(){return this.passive||this.divider||!Wh(this.enabled,this.currentItem)}constructor(n,r){this.template=n,this.elementRef=r,this.divider=!1,this.enabled=!0,this.passive=!1,this.visible=!0,this.execute=new yt,this.isActive=!1}setActiveStyles(){this.isActive=!0}setInactiveStyles(){this.isActive=!1}triggerExecute(n,r){Wh(this.enabled,n)&&this.execute.emit({event:r,item:n})}static{this.\u0275fac=function(r){return new(r||e)(ve(sn),ve(Sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","contextMenuItem",""]],inputs:{subMenu:"subMenu",divider:"divider",enabled:"enabled",passive:"passive",visible:"visible"},outputs:{execute:"execute"}})}}return e})(),uD=(()=>{class e{constructor(n,r){this.overlay=n,this.scrollStrategy=r,this.isDestroyingLeafMenu=!1,this.show=new _n,this.close=new _n,this.overlays=[],this.fakeElement={getBoundingClientRect:()=>new DOMRect(0,0,0,0)},this.rootMenuPositionsFor=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"end",originY:"center",overlayX:"start",overlayY:"center"},{originX:"start",originY:"center",overlayX:"end",overlayY:"center"}],this.subMenuPositions=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"start",originY:"bottom",overlayX:"end",overlayY:"bottom"}]}openContextMenu(n){const{anchorElement:r,event:i,parentContextMenu:o}=n;if(o){const s=this.overlay.position().flexibleConnectedTo(new Sn(i?.target??r)).withPositions(this.subMenuPositions).withFlexibleDimensions(!1),a=this.overlay.create({positionStrategy:s,panelClass:"ngx-contextmenu",scrollStrategy:this.scrollStrategy.close()});this.destroySubMenus(o),this.overlays=this.overlays.concat(a),this.attachContextMenu(a,n)}else{const s=i;this.fakeElement.getBoundingClientRect=()=>new DOMRect(s.clientX,s.clientY,0,0),this.closeAllContextMenus({eventType:"cancel",event:i});const a=this.overlay.position().flexibleConnectedTo(new Sn(r??this.fakeElement)).withPositions(this.rootMenuPositionsFor).withFlexibleDimensions(!1);this.overlays=[this.overlay.create({positionStrategy:a,panelClass:"ngx-contextmenu",scrollStrategy:this.scrollStrategy.close()})],this.attachContextMenu(this.overlays[0],n)}}attachContextMenu(n,r){const{event:i,item:o,menuItems:s,menuClass:a}=r,l=n.attach(new Q3(Wle)),c=l.instance;c.event=i,c.item=o,c.menuItems=s,c.overlay=n,c.isLeaf=!0,c.menuClass=a,n.contextMenu=c;const u=new Jt;u.add(c.execute.subscribe(d=>this.closeAllContextMenus({eventType:"execute",...d}))),u.add(c.closeAllMenus.subscribe(d=>this.closeAllContextMenus({eventType:"cancel",...d}))),u.add(c.closeLeafMenu.subscribe(d=>this.destroyLeafMenu(d))),u.add(c.openSubMenu.subscribe(d=>{this.destroySubMenus(c),d.contextMenu?(c.isLeaf=!1,this.show.next(d)):c.isLeaf=!0})),l.onDestroy(()=>{s.forEach(d=>d.isActive=!1),u.unsubscribe()}),l.changeDetectorRef.detectChanges()}closeAllContextMenus(n){this.overlays?.length&&(this.close.next(n),this.overlays.forEach(r=>this.destroyOverlay(r))),this.overlays=[]}getLastAttachedOverlay(){let n=this.overlays.at(-1);for(;this.overlays.length>1&&n&&!n.hasAttached();)this.destroyOverlay(n),this.overlays=this.overlays.slice(0,-1),n=this.overlays.at(-1);return n}destroyLeafMenu({exceptRootMenu:n,event:r}={}){this.isDestroyingLeafMenu||(this.isDestroyingLeafMenu=!0,setTimeout(()=>{const i=this.getLastAttachedOverlay();this.overlays.length>1&&i&&this.destroyOverlay(i),!n&&this.overlays.length>0&&i&&(this.close.next({eventType:"cancel",event:r}),this.destroyOverlay(i));const o=this.getLastAttachedOverlay();o&&(o.contextMenu.isLeaf=!0),this.isDestroyingLeafMenu=!1}))}destroySubMenus(n){const i=this.overlays.indexOf(n.overlay);this.overlays.slice(i+1).forEach(o=>{this.destroyOverlay(o)})}isLeafMenu(n){const r=this.getLastAttachedOverlay();return n.overlay===r}destroyOverlay(n){n.detach(),n.dispose()}static{this.\u0275fac=function(r){return new(r||e)(Fe(Gv),Fe(i8))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac})}}return e})(),qle=(()=>{class e{constructor(n,r){this.contextMenuService=n,this.menuClass="",this.autoFocus=!1,this.useBootstrap4=!1,this.disabled=!1,this.close=new yt,this.open=new yt,this.visibleMenuItems=[],this.links=[],this.subscription=new Jt,r&&(this.autoFocus=r.autoFocus,this.useBootstrap4=r.useBootstrap4),this.subscription.add(n.show.subscribe(i=>{this.onMenuEvent(i)}))}ngOnDestroy(){this.subscription.unsubscribe()}onMenuEvent(n){if(this.disabled)return;const{contextMenu:r,event:i,item:o}=n;r&&r!==this||(this.event=i,this.item=o,this.setVisibleMenuItems(),this.contextMenuService.openContextMenu({...n,menuItems:this.visibleMenuItems,menuClass:this.menuClass}),this.contextMenuService.close.pipe(function Lle(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Uh((i,o)=>e(i,o,r)):_t,zv(1),n?function Ale(e=null){return t=>t.lift(new kle(e))}(t):Ole(()=>new m8))}()).subscribe(s=>this.close.emit(s)),this.open.next(n))}isMenuItemVisible(n){return Wh(n.visible,this.item)}setVisibleMenuItems(){this.visibleMenuItems=this.menuItems.filter(n=>this.isMenuItemVisible(n))}static{this.\u0275fac=function(r){return new(r||e)(ve(uD),ve(cD,8))}}static{this.\u0275cmp=$e({type:e,selectors:[["context-menu"]],contentQueries:function(r,i,o){if(1&r&&ui(o,y8,4),2&r){let s;an(s=ln())&&(i.menuItems=s)}},viewQuery:function(r,i){if(1&r&&hr(_8,5),2&r){let o;an(o=ln())&&(i.menuElement=o.first)}},inputs:{menuClass:"menuClass",autoFocus:"autoFocus",useBootstrap4:"useBootstrap4",disabled:"disabled"},outputs:{close:"close",open:"open"},decls:0,vars:0,template:function(r,i){},styles:[".cdk-overlay-container{position:fixed;z-index:1000;pointer-events:none;top:0;left:0;width:100%;height:100%}.ngx-contextmenu.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box}\n"],encapsulation:2,changeDetection:0})}}return e})(),Yle=(()=>{class e{static forRoot(n){return{ngModule:e,providers:[uD,{provide:cD,useValue:n},{provide:$v,useClass:qae}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({imports:[V1,Wae]})}}return e})();const Kle=["editNodeContextMenu"],Zle=["findCreateNodesContextMenu"],Xle=["createEditLinkContextMenu"],Qle=["editLinkLabelContextMenu"];function Jle(e,t){1&e&&Ye(0," Edit Node... ")}function ece(e,t){1&e&&Ye(0," Search Nodes... ")}function tce(e,t){1&e&&Ye(0," Create Node... ")}function nce(e,t){1&e&&Ye(0," Create Link... ")}function rce(e,t){1&e&&Ye(0," Edit Links... ")}function ice(e,t){1&e&&Ye(0," Edit Link label... ")}let b8=(()=>{class e{editNodeContextMenu;findCreateNodesContextMenu;createEditLinkContextMenu;editLinkLabelContextMenu;editNodeContextMenuEvent=new yt;findCreateNodesContextMenuEvent=new yt;createLinkContextMenuEvent=new yt;editLinkLabelContextMenuEvent=new yt;editLinksContextMenuEvent=new yt;currentMatchingLink=null;editNode(){this.editNodeContextMenuEvent.emit(!0)}findNodes(){this.findCreateNodesContextMenuEvent.emit("findNodes")}createNode(){this.findCreateNodesContextMenuEvent.emit("createNode")}createLink(){this.createLinkContextMenuEvent.emit(!0)}editLinkLabel(){this.editLinkLabelContextMenuEvent.emit(!0)}editLinks(){this.currentMatchingLink?this.editLinksContextMenuEvent.emit({open:!0,data:this.currentMatchingLink}):console.warn("No matching link to edit.")}linksExist=n=>{const r=this.checkLinkBetweenSelectedNodes(n);return r?(this.currentMatchingLink=r,!0):(this.currentMatchingLink=null,!1)};linksDoNotExist=n=>!this.checkLinkBetweenSelectedNodes(n);checkLinkBetweenSelectedNodes(n){if(!n||!n.selectedNodes)return console.warn("Payload or selectedNodes is undefined."),null;const r=n.selectedNodes,o=r[0].id,s=r[1].id;return n.graphData.links.find(l=>l.source===o&&l.target===s||l.source===s&&l.target===o)||null}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=$e({type:e,selectors:[["app-context-menus"]],viewQuery:function(r,i){if(1&r&&(hr(Kle,5),hr(Zle,5),hr(Xle,5),hr(Qle,5)),2&r){let o;an(o=ln())&&(i.editNodeContextMenu=o.first),an(o=ln())&&(i.findCreateNodesContextMenu=o.first),an(o=ln())&&(i.createEditLinkContextMenu=o.first),an(o=ln())&&(i.editLinkLabelContextMenu=o.first)}},outputs:{editNodeContextMenuEvent:"editNodeContextMenuEvent",findCreateNodesContextMenuEvent:"findCreateNodesContextMenuEvent",createLinkContextMenuEvent:"createLinkContextMenuEvent",editLinkLabelContextMenuEvent:"editLinkLabelContextMenuEvent",editLinksContextMenuEvent:"editLinksContextMenuEvent"},decls:14,vars:2,consts:[["editNodeContextMenu",""],["findCreateNodesContextMenu",""],["createEditLinkContextMenu",""],["editLinkLabelContextMenu",""],["contextMenuItem","",3,"execute"],["contextMenuItem","",3,"execute","visible"]],template:function(r,i){if(1&r){const o=Kn();le(0,"context-menu",null,0),Ht(2,Jle,1,0,"ng-template",4),ft("execute",function(){return rt(o),it(i.editNode())}),ye(),le(3,"context-menu",null,1),Ht(5,ece,1,0,"ng-template",4),ft("execute",function(){return rt(o),it(i.findNodes())}),Ht(6,tce,1,0,"ng-template",4),ft("execute",function(){return rt(o),it(i.createNode())}),ye(),le(7,"context-menu",null,2),Ht(9,nce,1,0,"ng-template",5),ft("execute",function(){return rt(o),it(i.createLink())}),Ht(10,rce,1,0,"ng-template",5),ft("execute",function(){return rt(o),it(i.editLinks())}),ye(),le(11,"context-menu",null,3),Ht(13,ice,1,0,"ng-template",4),ft("execute",function(){return rt(o),it(i.editLinkLabel())}),ye()}2&r&&(ke(9),nt("visible",i.linksDoNotExist),ke(),nt("visible",i.linksExist))},dependencies:[qle,y8],encapsulation:2})}return e})();function Wv(e,t){return new $n(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const l=aD(e[a]);let c=!1;n.add(l.subscribe({next:u=>{c||(c=!0,s++),i[a]=u},error:u=>n.error(u),complete:()=>{o++,(o===r||!c)&&(s===r&&n.next(t?t.reduce((u,d,h)=>(u[d]=i[h],u),{}):i),n.complete())}}))}})}let w8=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(ve(ds),ve(Sn))}}static{this.\u0275dir=Le({type:e})}}return e})(),Zl=(()=>{class e extends w8{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yr(e)))(i||e)}})()}static{this.\u0275dir=Le({type:e,features:[xn]})}}return e})();const Uo=new st(""),sce={provide:Uo,useExisting:rn(()=>dD),multi:!0};let dD=(()=>{class e extends Zl{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yr(e)))(i||e)}})()}static{this.\u0275dir=Le({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&ft("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[zn([sce]),xn]})}}return e})();const ace={provide:Uo,useExisting:rn(()=>qv),multi:!0},cce=new st("");let qv=(()=>{class e extends w8{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function lce(){const e=wa()?wa().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(ve(ds),ve(Sn),ve(cce,8))}}static{this.\u0275dir=Le({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ft("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[zn([ace]),xn]})}}return e})();function Ba(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function E8(e){return null!=e&&"number"==typeof e.length}const Jr=new st(""),Ha=new st(""),uce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ja{static min(t){return function C8(e){return t=>{if(Ba(t.value)||Ba(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function D8(e){return t=>{if(Ba(t.value)||Ba(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function x8(e){return Ba(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function M8(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function S8(e){return Ba(e.value)||uce.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function I8(e){return t=>Ba(t.value)||!E8(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function T8(e){return t=>E8(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function A8(e){if(!e)return Yv;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Ba(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return P8(t)}static composeAsync(t){return L8(t)}}function Yv(e){return null}function k8(e){return null!=e}function N8(e){return nm(e)?aD(e):e}function O8(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function R8(e,t){return t.map(n=>n(e))}function F8(e){return e.map(t=>function dce(e){return!e.validate}(t)?t:n=>t.validate(n))}function P8(e){if(!e)return null;const t=e.filter(k8);return 0==t.length?null:function(n){return O8(R8(n,t))}}function fD(e){return null!=e?P8(F8(e)):null}function L8(e){if(!e)return null;const t=e.filter(k8);return 0==t.length?null:function(n){return function oce(...e){if(1===e.length){const t=e[0];if(oa(t))return Wv(t,null);if(As(t)&&Object.getPrototypeOf(t)===Object.prototype){const n=Object.keys(t);return Wv(n.map(r=>t[r]),n)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Wv(e=1===e.length&&oa(e[0])?e[0]:e,null).pipe(xi(n=>t(...n)))}return Wv(e,null)}(R8(n,t).map(N8)).pipe(xi(O8))}}function hD(e){return null!=e?L8(F8(e)):null}function V8(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function B8(e){return e._rawValidators}function H8(e){return e._rawAsyncValidators}function pD(e){return e?Array.isArray(e)?e:[e]:[]}function Kv(e,t){return Array.isArray(e)?e.includes(t):e===t}function j8(e,t){const n=pD(t);return pD(e).forEach(i=>{Kv(n,i)||n.push(i)}),n}function U8(e,t){return pD(t).filter(n=>!Kv(e,n))}class z8{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=fD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=hD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Ci extends z8{get formDirective(){return null}get path(){return null}}class Ua extends z8{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $8{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let G8=(()=>{class e extends $8{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(ve(Ua,2))}}static{this.\u0275dir=Le({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&ai("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[xn]})}}return e})(),W8=(()=>{class e extends $8{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(ve(Ci,10))}}static{this.\u0275dir=Le({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&ai("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[xn]})}}return e})();const qh="VALID",Xv="INVALID",Xu="PENDING",Yh="DISABLED";function _D(e){return(Qv(e)?e.validators:e)||null}function vD(e,t){return(Qv(t)?t.asyncValidators:e)||null}function Qv(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function Y8(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new Me(1e3,"");if(!r[n])throw new Me(1001,"")}function K8(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new Me(1002,"")})}class Jv{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===qh}get invalid(){return this.status===Xv}get pending(){return this.status==Xu}get disabled(){return this.status===Yh}get enabled(){return this.status!==Yh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(j8(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(j8(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(U8(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(U8(t,this._rawAsyncValidators))}hasValidator(t){return Kv(this._rawValidators,t)}hasAsyncValidator(t){return Kv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Yh,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=qh,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qh||this.status===Xu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yh:qh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xu,this._hasOwnPendingAsyncValidator=!0;const n=N8(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new yt,this.statusChanges=new yt}_calculateStatus(){return this._allControlsDisabled()?Yh:this.errors?Xv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xu)?Xu:this._anyControlsHaveStatus(Xv)?Xv:qh}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Qv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function gce(e){return Array.isArray(e)?fD(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function mce(e){return Array.isArray(e)?hD(e):e||null}(this._rawAsyncValidators)}}class Kh extends Jv{constructor(t,n,r){super(_D(n),vD(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){K8(this,0,t),Object.keys(t).forEach(r=>{Y8(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class Z8 extends Kh{}const Xl=new st("CallSetDisabledState",{providedIn:"root",factory:()=>Zh}),Zh="always";function ey(e,t){return[...t.path,e]}function Xh(e,t,n=Zh){yD(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function vce(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&X8(e,t)})}(e,t),function bce(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function yce(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&X8(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function _ce(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function ty(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),ry(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function ny(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function yD(e,t){const n=B8(e);null!==t.validator?e.setValidators(V8(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=H8(e);null!==t.asyncValidator?e.setAsyncValidators(V8(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();ny(t._rawValidators,i),ny(t._rawAsyncValidators,i)}function ry(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=B8(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=H8(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return ny(t._rawValidators,r),ny(t._rawAsyncValidators,r),n}function X8(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function e5(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function t5(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const Jh=class extends Jv{constructor(t=null,n,r){super(_D(n),vD(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qv(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=t5(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){e5(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){e5(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){t5(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let n5=(()=>{class e extends Ci{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return ey(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yr(e)))(i||e)}})()}static{this.\u0275dir=Le({type:e,features:[xn]})}}return e})();Promise.resolve();let a5=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Le({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();const Ace={provide:Uo,useExisting:rn(()=>DD),multi:!0};let kce=(()=>{class e{constructor(){this._accessors=[]}add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n)return void this._accessors.splice(r,1)}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return!!n[0].control&&n[0]._parent===r._control._parent&&n[1].name===r.name}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),DD=(()=>{class e extends Zl{constructor(n,r,i,o){super(n,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=xt(Xl,{optional:!0})??Zh}ngOnInit(){this._control=this._injector.get(Ua),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||e)(ve(ds),ve(Sn),ve(kce),ve(Rr))}}static{this.\u0275dir=Le({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){1&r&&ft("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[zn([Ace]),xn]})}}return e})();const xD=new st(""),Rce={provide:Ci,useExisting:rn(()=>iy)};let iy=(()=>{class e extends Ci{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new yt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ry(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Xh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){ty(n.control||null,n,!1),function Dce(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function J8(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(ty(r||null,n),(e=>e instanceof Jh)(i)&&(Xh(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function Q8(e,t){yD(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function wce(e,t){return ry(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yD(this.form,this),this._oldForm&&ry(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||e)(ve(Jr,10),ve(Ha,10),ve(Xl,8))}}static{this.\u0275dir=Le({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&ft("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[m.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[zn([Rce]),xn,ri]})}}return e})();const Fce={provide:Ci,useExisting:rn(()=>oy)};let oy=(()=>{class e extends n5{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){d5(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(ve(Ci,13),ve(Jr,10),ve(Ha,10))}}static{this.\u0275dir=Le({type:e,selectors:[["","formGroupName",""]],inputs:{name:[m.None,"formGroupName","name"]},features:[zn([Fce]),xn]})}}return e})();const Pce={provide:Ci,useExisting:rn(()=>sy)};let sy=(()=>{class e extends Ci{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return ey(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){d5(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(ve(Ci,13),ve(Jr,10),ve(Ha,10))}}static{this.\u0275dir=Le({type:e,selectors:[["","formArrayName",""]],inputs:{name:[m.None,"formArrayName","name"]},features:[zn([Pce]),xn]})}}return e})();function d5(e){return!(e instanceof oy||e instanceof iy||e instanceof sy)}const Lce={provide:Ua,useExisting:rn(()=>MD)};let MD=(()=>{class e extends Ua{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new yt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ED(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===qv?n=o:function Cce(e){return Object.getPrototypeOf(e.constructor)===Zl}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function wD(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return ey(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(ve(Ci,13),ve(Jr,10),ve(Ha,10),ve(Uo,10),ve(xD,8))}}static{this.\u0275dir=Le({type:e,selectors:[["","formControlName",""]],inputs:{name:[m.None,"formControlName","name"],isDisabled:[m.None,"disabled","isDisabled"],model:[m.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[zn([Lce]),xn,ri]})}}return e})();const Vce={provide:Uo,useExisting:rn(()=>ay),multi:!0};function f5(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let ay=(()=>{class e extends Zl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const i=f5(this._getOptionId(n),n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function Bce(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yr(e)))(i||e)}})()}static{this.\u0275dir=Le({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&ft("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[zn([Vce]),xn]})}}return e})(),h5=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(f5(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(ve(Sn),ve(ds),ve(ay,9))}}static{this.\u0275dir=Le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();const Hce={provide:Uo,useExisting:rn(()=>SD),multi:!0};function p5(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let SD=(()=>{class e extends Zl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);i.push(c)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function jce(e){return e.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Yr(e)))(i||e)}})()}static{this.\u0275dir=Le({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&ft("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[zn([Hce]),xn]})}}return e})(),g5=(()=>{class e{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(p5(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(p5(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||e)(ve(Sn),ve(ds),ve(SD,9))}}static{this.\u0275dir=Le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),x5=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({})}}return e})();class TD extends Jv{constructor(t,n,r){super(_D(n),vD(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){K8(this,0,t),t.forEach((r,i)=>{Y8(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function M5(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let Zce=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return M5(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Kh(i,o)}record(n,r=null){const i=this._reduceControls(n);return new Z8(i,r)}control(n,r,i){let o={};return this.useNonNullable?(M5(r)?o=r:(o.validators=r,o.asyncValidators=i),new Jh(n,{...o,nonNullable:!0})):new Jh(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new TD(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Jh||n instanceof Jv?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Xce=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Xl,useValue:n.callSetDisabledState??Zh}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({imports:[x5]})}}return e})(),Qce=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:xD,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Xl,useValue:n.callSetDisabledState??Zh}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({imports:[x5]})}}return e})();const S5=[{id:1,name:"Address book",icon:"\uf2b9"},{id:2,name:"Address card",icon:"\uf2bb"},{id:3,name:"Anchor",icon:"\uf13d"},{id:4,name:"Apple Whole",icon:"\uf5d1"},{id:5,name:"Atom",icon:"\uf5d2"},{id:6,name:"Award",icon:"\uf559"},{id:7,name:"Baby",icon:"\uf77c"},{id:8,name:"Bacon",icon:"\uf7e5"},{id:9,name:"Balance Scale",icon:"\uf24e"},{id:10,name:"Bank",icon:"\uf19c"},{id:11,name:"Battery Full",icon:"\uf240"},{id:12,name:"Beer",icon:"\uf0fc"},{id:13,name:"Bell",icon:"\uf0f3"},{id:14,name:"Bell slash",icon:"\uf1f6"},{id:15,name:"Bicycle",icon:"\uf206"},{id:16,name:"Binoculars",icon:"\uf1e5"},{id:17,name:"Birthday Cake",icon:"\uf1fd"},{id:18,name:"Blender",icon:"\uf517"},{id:19,name:"Bolt",icon:"\uf0e7"},{id:20,name:"Bomb",icon:"\uf1e2"},{id:21,name:"Bone",icon:"\uf5d7"},{id:22,name:"Book",icon:"\uf02d"},{id:23,name:"Bookmark",icon:"\uf02e"},{id:24,name:"Bowling Ball",icon:"\uf436"},{id:25,name:"Box",icon:"\uf466"},{id:26,name:"Brain",icon:"\uf5dc"},{id:27,name:"Bread Slice",icon:"\uf7ec"},{id:28,name:"Briefcase",icon:"\uf0b1"},{id:29,name:"Bug",icon:"\uf188"},{id:30,name:"Building",icon:"\uf1ad"},{id:31,name:"Bus",icon:"\uf207"},{id:32,name:"Calculator",icon:"\uf1ec"},{id:33,name:"Calendar",icon:"\uf133"},{id:34,name:"Calendar check",icon:"\uf274"},{id:35,name:"Calendar days",icon:"\uf073"},{id:36,name:"Calendar minus",icon:"\uf272"},{id:37,name:"Calendar plus",icon:"\uf271"},{id:38,name:"Calendar xmark",icon:"\uf273"},{id:39,name:"Camera",icon:"\uf030"},{id:40,name:"Candy Cane",icon:"\uf786"},{id:41,name:"Car",icon:"\uf1b9"},{id:42,name:"Cat",icon:"\uf6be"},{id:43,name:"Chair",icon:"\uf6c0"},{id:44,name:"Charging Station",icon:"\uf5e7"},{id:45,name:"Chart bar",icon:"\uf080"},{id:46,name:"Chess",icon:"\uf439"},{id:47,name:"Chess bishop",icon:"\uf43a"},{id:48,name:"Chess king",icon:"\uf43f"},{id:49,name:"Chess knight",icon:"\uf441"},{id:50,name:"Chess pawn",icon:"\uf443"},{id:51,name:"Chess queen",icon:"\uf445"},{id:52,name:"Chess rook",icon:"\uf447"},{id:53,name:"Church",icon:"\uf51d"},{id:54,name:"Circle",icon:"\uf111"},{id:55,name:"Circle check",icon:"\uf058"},{id:56,name:"Circle dot",icon:"\uf192"},{id:57,name:"Circle down",icon:"\uf358"},{id:58,name:"Circle left",icon:"\uf359"},{id:59,name:"Circle pause",icon:"\uf28b"},{id:60,name:"Circle play",icon:"\uf144"},{id:61,name:"Circle question",icon:"\uf059"},{id:62,name:"Circle right",icon:"\uf35a"},{id:63,name:"Circle stop",icon:"\uf28d"},{id:64,name:"Circle up",icon:"\uf35b"},{id:65,name:"Circle user",icon:"\uf2bd"},{id:66,name:"Circle xmark",icon:"\uf057"},{id:67,name:"Clipboard",icon:"\uf328"},{id:68,name:"Clock",icon:"\uf017"},{id:69,name:"Clone",icon:"\uf24d"},{id:70,name:"Closed captioning",icon:"\uf20a"},{id:71,name:"Cloud",icon:"\uf0c2"},{id:72,name:"Cloud download",icon:"\uf0ed"},{id:73,name:"Cloud upload",icon:"\uf0ee"},{id:74,name:"Comment",icon:"\uf075"},{id:75,name:"Comment dots",icon:"\uf4ad"},{id:76,name:"Comments",icon:"\uf086"},{id:77,name:"Compass",icon:"\uf14e"},{id:78,name:"Copyright",icon:"\uf1f9"},{id:79,name:"Copy",icon:"\uf0c5"},{id:80,name:"Credit card",icon:"\uf09d"},{id:81,name:"Envelope",icon:"\uf0e0"},{id:82,name:"Envelope open",icon:"\uf2b6"},{id:83,name:"Eye",icon:"\uf06e"},{id:84,name:"Eye slash",icon:"\uf070"},{id:85,name:"Face angry",icon:"\uf556"},{id:86,name:"Face dizzy",icon:"\uf567"},{id:87,name:"Face flushed",icon:"\uf579"},{id:88,name:"Face frown",icon:"\uf119"},{id:89,name:"Face frown open",icon:"\uf57a"},{id:90,name:"Face grimace",icon:"\uf57f"},{id:91,name:"Face grin",icon:"\uf580"},{id:92,name:"Face grin beam",icon:"\uf582"},{id:93,name:"Face grin beam sweat",icon:"\uf583"},{id:94,name:"Face grin hearts",icon:"\uf584"},{id:95,name:"Face grin squint",icon:"\uf585"},{id:96,name:"Face grin squint tears",icon:"\uf586"},{id:97,name:"Face grin stars",icon:"\uf587"},{id:98,name:"Face grin tongue",icon:"\uf589"},{id:99,name:"Face grin tongue squint",icon:"\uf58a"},{id:100,name:"Face grin tongue wink",icon:"\uf58b"},{id:101,name:"Face grin wide",icon:"\uf581"},{id:102,name:"Face grin wink",icon:"\uf58c"},{id:103,name:"Face kiss",icon:"\uf596"},{id:104,name:"Face kiss beam",icon:"\uf597"},{id:105,name:"Face kiss wink heart",icon:"\uf598"},{id:106,name:"Face laugh",icon:"\uf599"},{id:107,name:"Face laugh beam",icon:"\uf59a"},{id:108,name:"Face laugh squint",icon:"\uf59b"},{id:109,name:"Face laugh wink",icon:"\uf59c"},{id:110,name:"Face meh",icon:"\uf11a"},{id:111,name:"Face meh blank",icon:"\uf5a4"},{id:112,name:"Face rolling eyes",icon:"\uf5a5"},{id:113,name:"Face sad cry",icon:"\uf5b3"},{id:114,name:"Face sad tear",icon:"\uf5b4"},{id:115,name:"Face smile",icon:"\uf118"},{id:116,name:"Face smile beam",icon:"\uf5b8"},{id:117,name:"Face smile wink",icon:"\uf4da"},{id:118,name:"Face surprise",icon:"\uf5c2"},{id:119,name:"Face tired",icon:"\uf5c8"},{id:120,name:"File",icon:"\uf15b"},{id:121,name:"File audio",icon:"\uf1c7"},{id:122,name:"File code",icon:"\uf1c9"},{id:123,name:"File excel",icon:"\uf1c3"},{id:124,name:"File image",icon:"\uf1c5"},{id:125,name:"File lines",icon:"\uf15c"},{id:126,name:"File pdf",icon:"\uf1c1"},{id:127,name:"File powerpoint",icon:"\uf1c4"},{id:128,name:"File video",icon:"\uf1c8"},{id:129,name:"File word",icon:"\uf1c2"},{id:130,name:"File zipper",icon:"\uf1c6"},{id:131,name:"Flag",icon:"\uf024"},{id:132,name:"Flask",icon:"\uf0c3"},{id:133,name:"Floppy disk",icon:"\uf0c7"},{id:134,name:"Folder",icon:"\uf07b"},{id:135,name:"Folder closed",icon:"\uf07b"},{id:136,name:"Folder open",icon:"\uf07c"},{id:137,name:"Font awesome",icon:"\uf2b4"},{id:138,name:"Futbol",icon:"\uf1e3"},{id:139,name:"Gem",icon:"\uf3a5"},{id:140,name:"Hand",icon:"\uf256"},{id:141,name:"Hand back fist",icon:"\uf255"},{id:142,name:"Hand lizard",icon:"\uf258"},{id:143,name:"Hand peace",icon:"\uf25b"},{id:144,name:"Hand point down",icon:"\uf0a7"},{id:145,name:"Hand point left",icon:"\uf0a5"},{id:146,name:"Hand point right",icon:"\uf0a4"},{id:147,name:"Hand point up",icon:"\uf0a6"},{id:148,name:"Hand pointer",icon:"\uf25a"},{id:149,name:"Hand rock",icon:"\uf255"},{id:150,name:"Hand scissors",icon:"\uf257"},{id:151,name:"Handshake",icon:"\uf2b5"},{id:152,name:"Hard drive",icon:"\uf0a0"},{id:153,name:"Heart",icon:"\uf004"},{id:154,name:"Hospital",icon:"\uf0f8"},{id:155,name:"Hourglass",icon:"\uf254"},{id:156,name:"Hourglass half",icon:"\uf252"},{id:157,name:"Id badge",icon:"\uf2c1"},{id:158,name:"Id card",icon:"\uf2c2"},{id:159,name:"Image",icon:"\uf03e"},{id:160,name:"Images",icon:"\uf302"},{id:161,name:"Keyboard",icon:"\uf11c"},{id:162,name:"Lemon",icon:"\uf094"},{id:163,name:"Life ring",icon:"\uf1cd"},{id:164,name:"Lightbulb",icon:"\uf0eb"},{id:165,name:"Map",icon:"\uf279"},{id:166,name:"Message",icon:"\uf27a"},{id:167,name:"Money bill 1",icon:"\uf3d1"},{id:168,name:"Moon",icon:"\uf186"},{id:169,name:"Music",icon:"\uf001"},{id:170,name:"Newspaper",icon:"\uf1ea"},{id:171,name:"Note sticky",icon:"\uf249"},{id:172,name:"Object group",icon:"\uf247"},{id:173,name:"Object ungroup",icon:"\uf248"},{id:174,name:"Paper plane",icon:"\uf1d8"},{id:175,name:"Paste",icon:"\uf0ea"},{id:176,name:"Pen to square",icon:"\uf044"},{id:177,name:"Phone",icon:"\uf095"},{id:178,name:"Phone flip",icon:"\uf879"},{id:179,name:"Phone slash",icon:"\uf3dd"},{id:180,name:"Procedures",icon:"\uf487"},{id:181,name:"Rectangle list",icon:"\uf022"},{id:182,name:"Rectangle xmark",icon:"\uf410"},{id:183,name:"Registered",icon:"\uf25d"},{id:184,name:"Share from square",icon:"\uf14d"},{id:185,name:"Snowflake",icon:"\uf2dc"},{id:186,name:"Square",icon:"\uf0c8"},{id:187,name:"Square caret down",icon:"\uf150"},{id:188,name:"Square caret left",icon:"\uf191"},{id:189,name:"Square caret right",icon:"\uf152"},{id:190,name:"Square caret up",icon:"\uf151"},{id:191,name:"Square check",icon:"\uf14a"},{id:192,name:"Square full",icon:"\uf45c"},{id:193,name:"Square minus",icon:"\uf146"},{id:194,name:"Square plus",icon:"\uf0fe"},{id:195,name:"Star",icon:"\uf005"},{id:196,name:"Star half",icon:"\uf089"},{id:197,name:"Star half stroke",icon:"\uf5c0"},{id:198,name:"Sun",icon:"\uf185"},{id:199,name:"Thumbs down",icon:"\uf165"},{id:200,name:"Thumbs up",icon:"\uf164"},{id:201,name:"Trash can",icon:"\uf2ed"},{id:202,name:"User",icon:"\uf007"},{id:203,name:"Window maximize",icon:"\uf2d0"},{id:204,name:"Window minimize",icon:"\uf2d1"},{id:205,name:"Window restore",icon:"\uf2d2"},{id:206,name:"Yin Yang",icon:"\uf6ad"}];class Jce{fb;createLinkForm;createNodeForm;fontAwesomeIcons=S5;constructor(t){this.fb=t,this.createLinkForm=this.fb.group({lineStyle:["Dotted",ja.required],sourceArrow:[!1],targetArrow:[!1],label:this.fb.array([],ja.required)}),this.createNodeForm=this.fb.group({id:"",label:this.fb.array([],[ja.required,this.minLengthArray(1)]),imageUrl:[""],icon:[""],fx:[null],fy:[null],additionalIcon:[""],iconType:["select"]},{validators:this.iconOrImageValidator})}get labelArray(){return this.createLinkForm.get("label")}get nodeLabelArray(){return this.createNodeForm.get("label")}addLabel(){const t=this.fb.group({label:["",ja.required],linkIcon:[!1]});this.labelArray.push(t)}addNodeLabel(){const t=this.fb.group({label:["",ja.required]});this.nodeLabelArray.push(t)}removeLabel(t){this.labelArray.length>1&&this.labelArray.removeAt(t)}removeNodeLabel(t){this.nodeLabelArray.length>1&&this.nodeLabelArray.removeAt(t)}resetLinksForm(){this.createLinkForm.reset({lineStyle:"Dotted",sourceArrow:!1,targetArrow:!1,label:this.fb.array([])}),this.labelArray.clear()}resetNodeForm(){this.createNodeForm.reset({label:this.fb.array([]),imageUrl:"",icon:"",additionalIcon:"",iconType:"select"}),this.nodeLabelArray.clear()}populateEditLinkForm(t){this.createLinkForm.patchValue({lineStyle:t.lineStyle,sourceArrow:t.sourceArrow,targetArrow:t.targetArrow}),t.relationships&&Array.isArray(t.relationships)&&t.relationships.forEach(n=>{const r=this.fb.group({labelIndex:[n.labelIndex,ja.required],label:[n.label,ja.required],linkIcon:[n.linkIcon]});this.labelArray.push(r)})}populateEditNodeForm(t){this.createNodeForm.patchValue({id:t.id,imageUrl:t.imageUrl,icon:t.icon,fx:t.fx,fy:t.fy,additionalIcon:t.additionalIcon,iconType:t.imageUrl?"url":"select"}),this.createNodeForm.setControl("label",this.fb.array(t.label.map(n=>this.fb.group({label:[n,ja.required]}))))}iconOrImageValidator(t){const n=t.get("imageUrl").value,r=t.get("icon").value;return n&&r||!n&&!r?{iconOrImage:!0}:null}minLengthArray(t){return n=>n instanceof TD?n.length>=t?null:{minLengthArray:!0}:null}}class eue{constructor(t,n){this.open=t,this.close=n||t}isManual(){return"manual"===this.open||"manual"===this.close}}const tue={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const Sr=typeof window<"u"&&window||{},Ir=Sr.document;var T5=function(e){return e.isBs4="bs4",e.isBs5="bs5",e}(T5||{});let ta;function A5(){const e=Sr.document.createElement("span");e.innerText="testing bs version",e.classList.add("d-none"),e.classList.add("pl-1"),Sr.document.head.appendChild(e);const t=Sr.getComputedStyle(e).paddingLeft;return t&&parseFloat(t)?(Sr.document.head.removeChild(e),"bs4"):(Sr.document.head.removeChild(e),"bs5")}function ep(){return{isBs4:(ta||(ta=A5()),"bs4"===ta),isBs5:(ta||(ta=A5()),"bs5"===ta)}}class lue{static reflow(t){}static getStyles(t){let n=t.ownerDocument.defaultView;return(!n||!n.opener)&&(n=Sr),n.getComputedStyle(t)}static stackOverflowConfig(){const t=function aue(){const e=ep(),t=Object.keys(e).find(n=>e[n]);return T5[t]}();return{crossorigin:"anonymous",integrity:"bs5"===t?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===t?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;let AD,uue=(()=>{class e{constructor(){this._focusTrapStack=[]}register(n){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==n);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(n),n._enable()}deregister(n){n._disable();const r=this._focusTrapStack,i=r.indexOf(n);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();try{AD=typeof Intl<"u"&&Intl.v8BreakIterator}catch{AD=!1}let N5=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?B1(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!AD)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(r){return new(r||e)(Fe(Hs))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),O5=(()=>{class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return function fue(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(n)&&"visible"===getComputedStyle(n).visibility}isTabbable(n){if(!this._platform.isBrowser)return!1;const r=function due(e){try{return e.frameElement}catch{return null}}(function bue(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(n));if(r&&(-1===F5(r)||!this.isVisible(r)))return!1;let i=n.nodeName.toLowerCase(),o=F5(n);return n.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function vue(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(n))&&("audio"===i?!!n.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||n.hasAttribute("controls")):n.tabIndex>=0)}isFocusable(n,r){return function yue(e){return!function pue(e){return function mue(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function hue(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function gue(e){return function _ue(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||R5(e))}(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}static{this.\u0275fac=function(r){return new(r||e)(Fe(N5))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function R5(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function F5(e){if(!R5(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function P5(e){return null!=e&&"false"!=`${e}`}class wue{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,n,r,i,o=!1){this._element=t,this._checker=n,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),n&&(n.removeEventListener("focus",this.endAnchorListener),n.parentNode&&n.parentNode.removeChild(n)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<n.length;r++)n[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,n[r]):n[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,n[r]);return"start"==t?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const n=this._getFirstTabbableElement(t);return n?.focus(),!!n}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children||t.childNodes;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children||t.childNodes;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(zv(1)).subscribe(t)}}let Eue=(()=>{class e{constructor(n,r,i){this._checker=n,this._ngZone=r,this._document=i}create(n,r=!1){return new wue(n,this._checker,this._ngZone,this._document,r)}static{this.\u0275fac=function(r){return new(r||e)(Fe(O5),Fe(pn),Fe(Wn))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Cue=(()=>{class e{get enabled(){return this.focusTrap.enabled}set enabled(n){this.focusTrap.enabled=P5(n)}get autoCapture(){return this._autoCapture}set autoCapture(n){this._autoCapture=P5(n)}constructor(n,r,i){this._elementRef=n,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(n){const r=n.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(r){return new(r||e)(ve(Sn),ve(Eue),ve(Wn))}}static{this.\u0275dir=Le({type:e,selectors:[["","focusTrap",""]],inputs:{enabled:[m.None,"cdkTrapFocus","enabled"],autoCapture:[m.None,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[ri]})}}return e})(),L5=(()=>{class e{static forRoot(){return{ngModule:e,providers:[uue,N5,O5]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({imports:[V1]})}}return e})();var V5=function(e){return e.top="top",e.bottom="bottom",e.left="left",e.right="right",e.auto="auto",e.end="right",e.start="left",e["top left"]="top left",e["top right"]="top right",e["right top"]="right top",e["right bottom"]="right bottom",e["bottom right"]="bottom right",e["bottom left"]="bottom left",e["left bottom"]="left bottom",e["left top"]="left top",e["top start"]="top left",e["top end"]="top right",e["end top"]="right top",e["end bottom"]="right bottom",e["bottom end"]="bottom right",e["bottom start"]="bottom left",e["start bottom"]="start bottom",e["start top"]="left top",e}(V5||{}),kD=function(e){return e.top="top",e.bottom="bottom",e.left="start",e.right="end",e.auto="auto",e.end="end",e.start="start",e["top left"]="top start",e["top right"]="top end",e["right top"]="end top",e["right bottom"]="end bottom",e["bottom right"]="bottom end",e["bottom left"]="bottom start",e["left bottom"]="start bottom",e["left top"]="start top",e["top start"]="top start",e["top end"]="top end",e["end top"]="end top",e["end bottom"]="end bottom",e["bottom end"]="bottom end",e["bottom start"]="bottom start",e["start bottom"]="start bottom",e["start top"]="start top",e}(kD||{});function Jl(e,t){if(1!==e.nodeType)return[];const r=e.ownerDocument.defaultView?.getComputedStyle(e,null);return t?r&&r[t]:r}function ND(e){if(!e)return document.documentElement;let r,n=e?.offsetParent;for(;null===n&&e.nextElementSibling&&r!==e.nextElementSibling;)r=e.nextElementSibling,n=r.offsetParent;const i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?n&&-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===Jl(n,"position")?ND(n):n:r?r.ownerDocument.documentElement:document.documentElement}function OD(e){return null!==e.parentNode?OD(e.parentNode):e}function ly(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;const n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);const s=o.commonAncestorContainer;if(e!==s&&t!==s||r.contains(i))return function Due(e){const{nodeName:t}=e;return"BODY"!==t&&("HTML"===t||ND(e.firstElementChild)===e)}(s)?s:ND(s);const a=OD(e);return a.host?ly(a.host,t):ly(e,OD(t).host)}function B5(e){if(!e||!e.parentElement)return document.documentElement;let t=e.parentElement;for(;t?.parentElement&&"none"===Jl(t,"transform");)t=t.parentElement;return t||document.documentElement}function H5(e,t){const n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e[`border${n}Width`])+parseFloat(e[`border${r}Width`])}function j5(e,t,n,r){return Math.max(t[`offset${e}`],t[`scroll${e}`],n[`client${e}`],n[`offset${e}`],n[`scroll${e}`],0)}function U5(e){const t=e.body,n=e.documentElement;return{height:j5("Height",t,n),width:j5("Width",t,n)}}function tp(e){return{...e,right:(e.left||0)+e.width,bottom:(e.top||0)+e.height}}function qn(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function z5(e){const t=e.getBoundingClientRect();if(!(t&&qn(t.top)&&qn(t.left)&&qn(t.bottom)&&qn(t.right)))return t;const n={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},r="HTML"===e.nodeName?U5(e.ownerDocument):void 0,i=r?.width||e.clientWidth||qn(t.right)&&qn(n.left)&&t.right-n.left||0,o=r?.height||e.clientHeight||qn(t.bottom)&&qn(n.top)&&t.bottom-n.top||0;let s=e.offsetWidth-i,a=e.offsetHeight-o;if(s||a){const l=Jl(e);s-=H5(l,"x"),a-=H5(l,"y"),n.width-=s,n.height-=a}return tp(n)}function RD(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function FD(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}const{overflow:t,overflowX:n,overflowY:r}=Jl(e);return/(auto|scroll|overlay)/.test(String(t)+String(r)+String(n))?e:FD(RD(e))}function PD(e,t,n=!1){const r="HTML"===t.nodeName,i=z5(e),o=z5(t),a=(FD(e),Jl(t)),l=parseFloat(a.borderTopWidth),c=parseFloat(a.borderLeftWidth);n&&r&&(o.top=Math.max(o.top??0,0),o.left=Math.max(o.left??0,0));const u=tp({top:(i.top??0)-(o.top??0)-l,left:(i.left??0)-(o.left??0)-c,width:i.width,height:i.height});if(u.marginTop=0,u.marginLeft=0,r){const d=parseFloat(a.marginTop),h=parseFloat(a.marginLeft);qn(u.top)&&(u.top-=l-d),qn(u.bottom)&&(u.bottom-=l-d),qn(u.left)&&(u.left-=c-h),qn(u.right)&&(u.right-=c-h),u.marginTop=d,u.marginLeft=h}return u}function $5(e,t="top"){const n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;return"BODY"===r||"HTML"===r?(e.ownerDocument.scrollingElement||e.ownerDocument.documentElement)[n]:e[n]}function G5(e){const t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===Jl(e,"position")||G5(RD(e)))}function LD(e,t,n=0,r,i=!1){let o={top:0,left:0};const s=i?B5(e):ly(e,t);if("viewport"===r)o=function Mue(e,t=!1){const n=e.ownerDocument.documentElement,r=PD(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:$5(n),a=t?0:$5(n,"left");return tp({top:s-Number(r?.top)+Number(r?.marginTop),left:a-Number(r?.left)+Number(r?.marginLeft),width:i,height:o})}(s,i);else{let a;"scrollParent"===r?(a=FD(RD(t)),"BODY"===a.nodeName&&(a=e.ownerDocument.documentElement)):a="window"===r?e.ownerDocument.documentElement:r;const l=PD(a,s,i);if(l&&"HTML"===a.nodeName&&!G5(s)){const{height:c,width:u}=U5(e.ownerDocument);qn(o.top)&&qn(l.top)&&qn(l.marginTop)&&(o.top+=l.top-l.marginTop),qn(o.top)&&(o.bottom=Number(c)+Number(l.top)),qn(o.left)&&qn(l.left)&&qn(l.marginLeft)&&(o.left+=l.left-l.marginLeft),qn(o.top)&&(o.right=Number(u)+Number(l.left))}else l&&(o=l)}return qn(o.left)&&(o.left+=n),qn(o.top)&&(o.top+=n),qn(o.right)&&(o.right-=n),qn(o.bottom)&&(o.bottom-=n),o}function Sue({width:e,height:t}){return e*t}function W5(e,t,n,r,i=["top","bottom","right","left"],o="viewport",s=0){if(-1===e.indexOf("auto"))return e;const a=LD(n,r,s,o),l={top:{width:a?.width??0,height:(t?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(t?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(t?.bottom??0)},left:{width:(t.left??0)-(a?.left??0),height:a?.height??0}},c=Object.keys(l).map(g=>({position:g,...l[g],area:Sue(l[g])})).sort((g,_)=>_.area-g.area);let u=c.filter(({width:g,height:_})=>g>=n.clientWidth&&_>=n.clientHeight);u=u.filter(({position:g})=>i.some(_=>_===g));const d=u.length>0?u[0].position:c[0].position,h=e.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${ep().isBs5?kD[d]:d}`),d+(h?`-${h}`:"")}const cy=(e,t=0)=>e?parseFloat(e):t;function q5(e){const n=e.ownerDocument.defaultView?.getComputedStyle(e),r=cy(n?.marginTop)+cy(n?.marginBottom),i=cy(n?.marginLeft)+cy(n?.marginRight);return{width:Number(e.offsetWidth)+i,height:Number(e.offsetHeight)+r}}function Y5(e,t,n){return PD(t,n?B5(e):ly(e,t),n)}function VD(e,t,n){const r=n.split(" ")[0],i=q5(e),o={width:i.width,height:i.height},s=-1!==["right","left"].indexOf(r),a=s?"top":"left",l=s?"left":"top",c=s?"height":"width",u=s?"width":"height";return o[a]=(t[a]??0)+t[c]/2-i[c]/2,o[l]=r===l?(t[l]??0)-i[u]:t[function Tue(e){const t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,n=>t[n])}(l)]??0,o}function K5(e,t){return!!e.modifiers[t]?.enabled}const kue={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function uy(e,t){return!!ep().isBs5&&kue[t].includes(e)}function Z5(e,t,n){!e||!t||Object.keys(t).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function xue(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(Number(e))}(t[r])&&(i="px"),n?n.setStyle(e,r,`${String(t[r])}${i}`):e.style[r]=String(t[r])+i})}function Rue(e){let t=e.offsets.target;const n=e.instance.target.querySelector(".arrow");if(!n)return e;const r=-1!==["left","right"].indexOf(e.placement.split(" ")[0]),i=r?"height":"width",o=r?"Top":"Left",s=o.toLowerCase(),a=r?"left":"top",l=r?"bottom":"right",c=q5(n)[i],u=e.placement.split(" ")[1];(e.offsets.host[l]??0)-c<(t[s]??0)&&(t[s]-=(t[s]??0)-((e.offsets.host[l]??0)-c)),Number(e.offsets.host[s])+Number(c)>(t[l]??0)&&(t[s]+=Number(e.offsets.host[s])+Number(c)-Number(t[l])),t=tp(t);const d=Jl(e.instance.target),h=parseFloat(d[`margin${o}`])||0,g=parseFloat(d[`border${o}Width`])||0;let _;if(u){const y=parseFloat(d.borderRadius)||0,w=Number(h+g+y);_=s===u?Number(e.offsets.host[s])+w:Number(e.offsets.host[s])+Number(e.offsets.host[i]-w)}else _=Number(e.offsets.host[s])+Number(e.offsets.host[i]/2-c/2);let v=_-(t[s]??0)-h-g;return v=Math.max(Math.min(t[i]-(c+5),v),0),e.offsets.arrow={[s]:Math.round(v),[a]:""},e.instance.arrow=n,e}function Fue(e){if(e.offsets.target=tp(e.offsets.target),!K5(e.options,"flip"))return e.offsets.target={...e.offsets.target,...VD(e.instance.target,e.offsets.host,e.placement)},e;const t=LD(e.instance.target,e.instance.host,0,"viewport",!1);let n=e.placement.split(" ")[0],r=e.placement.split(" ")[1]||"";const a=W5("auto",e.offsets.host,e.instance.target,e.instance.host,e.options.allowedPositions),l=[n,a];return l.forEach((c,u)=>{if(n!==c||l.length===u+1)return;n=e.placement.split(" ")[0];const d="left"===n&&Math.floor(e.offsets.target.right??0)>Math.floor(e.offsets.host.left??0)||"right"===n&&Math.floor(e.offsets.target.left??0)<Math.floor(e.offsets.host.right??0)||"top"===n&&Math.floor(e.offsets.target.bottom??0)>Math.floor(e.offsets.host.top??0)||"bottom"===n&&Math.floor(e.offsets.target.top??0)<Math.floor(e.offsets.host.bottom??0),h=Math.floor(e.offsets.target.left??0)<Math.floor(t.left??0),g=Math.floor(e.offsets.target.right??0)>Math.floor(t.right??0),_=Math.floor(e.offsets.target.top??0)<Math.floor(t.top??0),v=Math.floor(e.offsets.target.bottom??0)>Math.floor(t.bottom??0),y="left"===n&&h||"right"===n&&g||"top"===n&&_||"bottom"===n&&v,w=-1!==["top","bottom"].indexOf(n),C=w&&"left"===r&&h||w&&"right"===r&&g||!w&&"left"===r&&_||!w&&"right"===r&&v;(d||y||C)&&((d||y)&&(n=l[u+1]),C&&(r=function Aue(e){return"right"===e?"left":"left"===e?"right":e}(r)),e.placement=n+(r?` ${r}`:""),e.offsets.target={...e.offsets.target,...VD(e.instance.target,e.offsets.host,e.placement)})}),e}function Lue(e){if(!K5(e.options,"preventOverflow"))return e;const t="transform",n=e.instance.target.style,{top:r,left:i,[t]:o}=n;n.top="",n.left="",n[t]="";const s=LD(e.instance.target,e.instance.host,0,e.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);n.top=r,n.left=i,n[t]=o;const l={primary(c){let u=e.offsets.target[c];return(e.offsets.target[c]??0)<(s[c]??0)&&(u=Math.max(e.offsets.target[c]??0,s[c]??0)),{[c]:u}},secondary(c){const u="right"===c,d=u?"left":"top";let g=e.offsets.target[d];return(e.offsets.target[c]??0)>(s[c]??0)&&(g=Math.min(e.offsets.target[d]??0,(s[c]??0)-e.offsets.target[u?"width":"height"])),{[d]:g}}};return["left","right","top","bottom"].forEach(c=>{const u=-1!==["left","top","start"].indexOf(c)?l.primary:l.secondary;e.offsets.target={...e.offsets.target,...u(c)}}),e}function Vue(e){const t=e.placement,n=t.split(" ")[0],r=t.split(" ")[1];if(r){const{host:i,target:o}=e.offsets,s=-1!==["bottom","top"].indexOf(n),a=s?"left":"top",l=s?"width":"height",c={start:{[a]:i[a]},end:{[a]:(i[a]??0)+i[l]-o[l]}};e.offsets.target={...o,[a]:a===r?c.start[a]:c.end[a]}}return e}const Hue=new class Bue{position(t,n){return this.offset(t,n)}offset(t,n){return Y5(n,t)}positionElements(t,n,r,i,o){const s=[Fue,Vue,Lue,Rue],l=function Pue(e,t,n,r){if(!e||!t)return;const i=Y5(e,t);!n.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!n.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(n="auto");const o=!!n.match(/auto/g);let s=n.match(/auto\s(left|right|top|bottom|start|end)/)?n.split(" ")[1]||"auto":n;const a=s.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(s=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(s)&&(s="auto"),s=W5(s,i,e,t,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:e,host:t,arrow:void 0},offsets:{target:VD(e,i,s),host:i,arrow:void 0},positionFixed:!1,placement:s,placementAuto:o}}(n,t,V5[r],o);if(l)return s.reduce((c,u)=>u(c),l)}};function jue(e,t,n,r,i,o){const s=Hue.positionElements(e,t,n,r,i);if(!s)return;const a=function Iue(e){return{width:e.offsets.target.width,height:e.offsets.target.height,left:Math.floor(e.offsets.target.left??0),top:Math.round(e.offsets.target.top??0),bottom:Math.round(e.offsets.target.bottom??0),right:Math.floor(e.offsets.target.right??0)}}(s);Z5(t,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},o),s.instance.arrow&&Z5(s.instance.arrow,s.offsets.arrow,o),function Oue(e,t){const n=e.instance.target;let r=n.className;const i=ep().isBs5?kD[e.placement]:e.placement;e.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function Nue(e){return ep().isBs5?uy(e,"end")?"ms-2":uy(e,"start")?"me-2":uy(e,"top")?"mb-2":uy(e,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),t?t.setAttribute(n,"class",r):n.className=r}(s,o)}let BD=(()=>{class e{constructor(n,r,i){this.update$$=new _n,this.positionElements=new Map,this.isDisabled=!1,B1(i)&&n.runOutsideAngular(()=>{this.triggerEvent$=Gh(La(window,"scroll",{passive:!0}),La(window,"resize",{passive:!0}),Lv(0,XC),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(o=>{jue(dy(o.target),dy(o.element),o.attachment,o.appendToBody,this.options,r.createRenderer(null,null))})})})}position(n){this.addPositionElement(n)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(n){this.positionElements.set(dy(n.element),n)}calcPosition(){this.update$$.next(null)}deletePositionElement(n){this.positionElements.delete(dy(n))}setOptions(n){this.options=n}static{this.\u0275fac=function(r){return new(r||e)(Fe(pn),Fe(bg),Fe(Hs))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function dy(e){return"string"==typeof e?document.querySelector(e):e instanceof Sn?e.nativeElement:e??null}class np{constructor(t,n,r){this.nodes=t,this.viewRef=n,this.componentRef=r}}class Uue{constructor(t,n,r,i,o,s,a,l,c){this._viewContainerRef=t,this._renderer=n,this._elementRef=r,this._injector=i,this._componentFactoryResolver=o,this._ngZone=s,this._applicationRef=a,this._posService=l,this._document=c,this.onBeforeShow=new yt,this.onShown=new yt,this.onBeforeHide=new yt,this.onHidden=new yt,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}to(t){return this.container=t||this.container,this}position(t){return t?(this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this):this}provide(t){return this._providers.push(t),this}show(t={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);const n=Rr.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(n,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof Sn&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const r=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(t.id?{id:t.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(t){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const n=this._componentRef.location.nativeElement;return n.parentNode?.removeChild(n),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(t?{id:t}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(t){this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef?.nativeElement;const n=this._listenOpts.hide=()=>t.hide?t.hide():void this.hide(),r=this._listenOpts.show=o=>{t.show?t.show(o):this.show(o),o()};return this._renderer&&(this._unregisterListenersFn=function nue(e,t){const n=function I5(e,t=tue){const n=(e||"").trim();if(0===n.length)return[];const r=n.split(/\s+/).map(o=>o.split(":")).map(o=>{const s=t[o[0]]||o;return new eue(s[0],s[1])}),i=r.filter(o=>o.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(t.triggers),r=t.target;if(1===n.length&&n[0].isManual())return Function.prototype;const i=[],o=[],s=()=>{o.forEach(a=>i.push(a())),o.length=0};return n.forEach(a=>{const l=a.open===a.close,c=l?t.toggle:t.show;if(!l&&a.close&&t.hide){const u=a.close,d=t.hide;o.push(()=>e.listen(r,u,d))}c&&i.push(e.listen(r,a.open,()=>c(s)))}),()=>{i.forEach(a=>a())}}(this._renderer,{target:t.target,triggers:t.triggers,show:r,hide:n,toggle:o=>{this.isShown?n():r(o)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(t,n){return t&&n&&(this._inlineViewRef=t.createEmbeddedView(n)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const t=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function rue(e,t){return t.outsideClick?e.listen("document","click",n=>{t.target&&t.target.contains(n.target)||t.targets&&t.targets.some(r=>r.contains(n.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[t,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function iue(e,t){return t.outsideEsc?e.listen("document","keyup.esc",n=>{t.target&&t.target.contains(n.target)||t.targets&&t.targets.some(r=>r.contains(n.target))||t.hide&&t.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(t,n,r){if(!t)return new np([]);if(t instanceof sn){if(this._viewContainerRef){const s=this._viewContainerRef.createEmbeddedView(t,n);return s.markForCheck(),new np([s.rootNodes],s)}const o=t.createEmbeddedView({});return this._applicationRef.attachView(o),new np([o.rootNodes],o)}if("function"==typeof t){const o=this._componentFactoryResolver.resolveComponentFactory(t),s=Rr.create({providers:this._providers,parent:this._injector}),a=o.create(s);return Object.assign(a.instance,r),this._applicationRef.attachView(a.hostView),new np([[a.location.nativeElement]],a.hostView,a)}const i=this._renderer?[this._renderer.createText(`${t}`)]:[];return new np([i])}}let HD=(()=>{class e{constructor(n,r,i,o,s,a){this._componentFactoryResolver=n,this._ngZone=r,this._injector=i,this._posService=o,this._applicationRef=s,this._document=a}createLoader(n,r,i){return new Uue(r,i,n,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(r){return new(r||e)(Fe(Gc),Fe(pn),Fe(Rr),Fe(BD),Fe($s),Fe(Wn))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const zue=["*"];let X5=(()=>{class e{constructor(){this.hide=()=>{},this.setClass=()=>{}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Q5=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const fy={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},$ue=new st("override-default-config");let Gue=(()=>{class e{constructor(n,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},n)}ngOnInit(){this._focusEl=Ir.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),Ir&&Ir.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(Ir.body,"modal-open"),this._renderer.setStyle(Ir.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(n){this.clickStartedInContent=n.target!==this._element.nativeElement}onClickStop(n){this.config.ignoreBackdropClick||"static"===this.config.backdrop||n.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(n){this.isShown&&((27===n.keyCode||"Escape"===n.key)&&n.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,Ir&&Ir.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(Ir.body,"modal-open"),this._renderer.setStyle(Ir.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static{this.\u0275fac=function(r){return new(r||e)(ve(Q5),ve(Sn),ve(ds))}}static{this.\u0275cmp=$e({type:e,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(r,i){1&r&&ft("mousedown",function(s){return i.onClickStarted(s)})("click",function(s){return i.onClickStop(s)})("popstate",function(){return i.onPopState()},!1,Mo)("keydown.esc",function(s){return i.onEsc(s)},!1,Mo),2&r&&si("aria-modal",!0)("aria-labelledby",i.config.ariaLabelledBy)("aria-describedby",i.config.ariaDescribedby)},ngContentSelectors:zue,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(r,i){1&r&&(qg(),le(0,"div",0)(1,"div",1),Yg(2),ye()()),2&r&&hT("modal-dialog"+(i.config.class?" "+i.config.class:""))},dependencies:[Cue],encapsulation:2})}}return e})(),Wue=(()=>{class e{get isAnimated(){return this._isAnimated}set isAnimated(n){this._isAnimated=n}get isShown(){return this._isShown}set isShown(n){this._isShown=n,n?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(n,r){this._isAnimated=!1,this._isShown=!1,this.element=n,this.renderer=r}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),lue.reflow(this.element.nativeElement)),this.isShown=!0}static{this.\u0275fac=function(r){return new(r||e)(ve(Sn),ve(ds))}}static{this.\u0275cmp=$e({type:e,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return e})(),que=1,UD=(()=>{class e{constructor(n,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new yt,this.onShown=new yt,this.onHide=new yt,this.onHidden=new yt,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=n.createRenderer(null,null),this.config=i?Object.assign({},fy,i):fy}show(n,r){this._focusEl=Ir.activeElement,this.modalsCount++,this._createLoaders();const i=r?.id||que++;return this.config=this.modalDefaultOption?Object.assign({},fy,this.modalDefaultOption,r):Object.assign({},fy,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(n)}hide(n){(1===this.modalsCount||null==n)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=n?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(n),this.removeLoaders(n)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const n=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),n&&r&&(this._backdropLoader.attach(Wue).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(n){const r=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const s of this.config.providers)r.provide(s);const i=new X5,o=r.provide({provide:Q5,useValue:this.config}).provide({provide:X5,useValue:i}).attach(Gue).to("body");return i.hide=()=>this.hide(i.id),i.setClass=s=>{o.instance&&(o.instance.config.class=s)},i.onHidden=new yt,i.onHide=new yt,this.copyEvent(r.onBeforeHide,i.onHide),this.copyEvent(r.onHidden,i.onHidden),o.show({content:n,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),o.instance&&(o.instance.level=this.getModalsCount(),i.content=r.getInnerComponent(),i.id=o.instance.config?.id),i}_hideModal(n){if(null!=n){const r=this.loaders.findIndex(o=>o.instance?.config.id===n),i=this.loaders[r];i&&i.hide(n)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(n){this.lastDismissReason=n}removeBackdrop(){this._renderer.removeClass(Ir.body,"modal-open"),this._renderer.setStyle(Ir.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=Ir.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){Ir&&(this.originalBodyPadding=parseInt(window.getComputedStyle(Ir.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(Ir.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){Ir.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const n=this._renderer.createElement("div");this._renderer.addClass(n,"modal-scrollbar-measure"),this._renderer.appendChild(Ir.body,n);const r=n.offsetWidth-n.clientWidth;return this._renderer.removeChild(Ir.body,n),r}_createLoaders(){const n=this.clf.createLoader();this.copyEvent(n.onBeforeShow,this.onShow),this.copyEvent(n.onShown,this.onShown),this.copyEvent(n.onBeforeHide,this.onHide),this.copyEvent(n.onHidden,this.onHidden),this.loaders.push(n)}removeLoaders(n){if(null!=n){const r=this.loaders.findIndex(i=>i.instance?.config.id===n);r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,o)=>{i.instance&&(i.instance.level=o+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(n,r){n.subscribe(i=>{r.emit(this.lastDismissReason||i)})}static{this.\u0275fac=function(r){return new(r||e)(Fe(bg),Fe(HD),Fe($ue,8))}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();L5.forRoot();let Yue=(()=>{class e{static forRoot(){return{ngModule:e,providers:[UD,HD,BD]}}static forChild(){return{ngModule:e,providers:[UD,HD,BD]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({imports:[L5]})}}return e})();function J5(...e){return function Kue(){return e8(1)}()(Lv(...e))}const Xue=["content"],Que=["scroll"],Jue=["padding"],e4=["*"],rp=e=>({searchTerm:e});function ede(e,t){if(1&e&&(le(0,"div",3),Ug(1,6),ye()),2&e){const n=Ve();ke(),nt("ngTemplateOutlet",n.headerTemplate)("ngTemplateOutletContext",zs(2,rp,n.filterValue))}}function tde(e,t){if(1&e&&(le(0,"div",5),Ug(1,6),ye()),2&e){const n=Ve();ke(),nt("ngTemplateOutlet",n.footerTemplate)("ngTemplateOutletContext",zs(2,rp,n.filterValue))}}const nde=["searchInput"],rde=["clearButton"],ide=(e,t,n)=>({item:e,clear:t,label:n}),ode=(e,t)=>({items:e,clear:t}),sde=(e,t,n,r)=>({item:e,item$:t,index:n,searchTerm:r});function ade(e,t){if(1&e&&(le(0,"div",20),Ye(1),ye()),2&e){const n=Ve(2);ke(),di(n.placeholder)}}function lde(e,t){}function cde(e,t){if(1&e&&Ht(0,ade,2,1,"ng-template",null,1,Gi)(2,lde,0,0,"ng-template",19),2&e){const n=Ao(1),r=Ve();ke(2),nt("ngTemplateOutlet",r.placeholderTemplate||n)}}function ude(e,t){if(1&e){const n=Kn();le(0,"span",23),ft("click",function(){rt(n);const i=Ve().$implicit;return it(Ve(2).unselect(i))}),Ye(1,"\xd7"),ye(),qt(2,"span",24)}if(2&e){const n=Ve().$implicit,r=Ve(2);ke(2),nt("ngItemLabel",n.label)("escape",r.escapeHTML)}}function dde(e,t){}function fde(e,t){if(1&e&&(le(0,"div",22),Ht(1,ude,3,2,"ng-template",null,2,Gi)(3,dde,0,0,"ng-template",12),ye()),2&e){const n=t.$implicit,r=Ao(2),i=Ve(2);ai("ng-value-disabled",n.disabled),ke(3),nt("ngTemplateOutlet",i.labelTemplate||r)("ngTemplateOutletContext",RA(4,ide,n.value,i.clearItem,n.label))}}function hde(e,t){1&e&&Vg(0,fde,4,8,"div",21,Ub().trackByOption,!0),2&e&&Bg(Ve().selectedItems)}function pde(e,t){}function gde(e,t){if(1&e&&Ht(0,pde,0,0,"ng-template",12),2&e){const n=Ve();nt("ngTemplateOutlet",n.multiLabelTemplate)("ngTemplateOutletContext",n1(2,ode,n.selectedValues,n.clearItem))}}function mde(e,t){1&e&&qt(0,"div",25)}function _de(e,t){}function vde(e,t){if(1&e&&Ht(0,mde,1,0,"ng-template",null,3,Gi)(2,_de,0,0,"ng-template",19),2&e){const n=Ao(1),r=Ve();ke(2),nt("ngTemplateOutlet",r.loadingSpinnerTemplate||n)}}function yde(e,t){1&e&&(le(0,"span",15,4)(2,"span",26),Ye(3,"\xd7"),ye()()),2&e&&Zb("title",Ve().clearAllText)}function bde(e,t){if(1&e&&qt(0,"span",31),2&e){const n=Ve().$implicit,r=Ve(2);nt("ngItemLabel",n.label)("escape",r.escapeHTML)}}function wde(e,t){}function Ede(e,t){if(1&e){const n=Kn();le(0,"div",30),ft("click",function(){const i=rt(n).$implicit;return it(Ve(2).toggleItem(i))})("mouseover",function(){const i=rt(n).$implicit;return it(Ve(2).onItemHover(i))}),Ht(1,bde,1,2,"ng-template",null,5,Gi)(3,wde,0,0,"ng-template",12),ye()}if(2&e){const n=t.$implicit,r=Ao(2),i=Ve(2);ai("ng-option-disabled",n.disabled)("ng-option-selected",n.selected)("ng-optgroup",n.children)("ng-option",!n.children)("ng-option-child",!!n.parent)("ng-option-marked",n===i.itemsList.markedItem),si("role",n.children?"group":"option")("aria-selected",n.selected)("id",null==n?null:n.htmlId),ke(3),nt("ngTemplateOutlet",n.children?i.optgroupTemplate||r:i.optionTemplate||r)("ngTemplateOutletContext",FA(17,sde,n.value,n,n.index,i.searchTerm))}}function Cde(e,t){if(1&e&&(le(0,"span")(1,"span",33),Ye(2),ye(),Ye(3),ye()),2&e){const n=Ve(3);ke(2),di(n.addTagText),ke(),Kg('"',n.searchTerm,'"')}}function Dde(e,t){}function xde(e,t){if(1&e){const n=Kn();le(0,"div",32),ft("mouseover",function(){return rt(n),it(Ve(2).itemsList.unmarkItem())})("click",function(){return rt(n),it(Ve(2).selectTag())}),Ht(1,Cde,4,2,"ng-template",null,6,Gi)(3,Dde,0,0,"ng-template",12),ye()}if(2&e){const n=Ao(2),r=Ve(2);ai("ng-option-marked",!r.itemsList.markedItem),ke(3),nt("ngTemplateOutlet",r.tagTemplate||n)("ngTemplateOutletContext",zs(4,rp,r.searchTerm))}}function Mde(e,t){if(1&e&&(le(0,"div",34),Ye(1),ye()),2&e){const n=Ve(3);ke(),di(n.notFoundText)}}function Sde(e,t){}function Ide(e,t){if(1&e&&Ht(0,Mde,2,1,"ng-template",null,7,Gi)(2,Sde,0,0,"ng-template",12),2&e){const n=Ao(1),r=Ve(2);ke(2),nt("ngTemplateOutlet",r.notFoundTemplate||n)("ngTemplateOutletContext",zs(2,rp,r.searchTerm))}}function Tde(e,t){if(1&e&&(le(0,"div",34),Ye(1),ye()),2&e){const n=Ve(3);ke(),di(n.typeToSearchText)}}function Ade(e,t){}function kde(e,t){if(1&e&&Ht(0,Tde,2,1,"ng-template",null,8,Gi)(2,Ade,0,0,"ng-template",19),2&e){const n=Ao(1),r=Ve(2);ke(2),nt("ngTemplateOutlet",r.typeToSearchTemplate||n)}}function Nde(e,t){if(1&e&&(le(0,"div",34),Ye(1),ye()),2&e){const n=Ve(3);ke(),di(n.loadingText)}}function Ode(e,t){}function Rde(e,t){if(1&e&&Ht(0,Nde,2,1,"ng-template",null,9,Gi)(2,Ode,0,0,"ng-template",12),2&e){const n=Ao(1),r=Ve(2);ke(2),nt("ngTemplateOutlet",r.loadingTextTemplate||n)("ngTemplateOutletContext",zs(2,rp,r.searchTerm))}}function Fde(e,t){if(1&e){const n=Kn();le(0,"ng-dropdown-panel",27),ft("update",function(i){return rt(n),it(Ve().viewPortItems=i)})("scroll",function(i){return rt(n),it(Ve().scroll.emit(i))})("scrollToEnd",function(i){return rt(n),it(Ve().scrollToEnd.emit(i))})("outsideClick",function(){return rt(n),it(Ve().close())}),Hg(1),Vg(2,Ede,4,22,"div",28,Ub().trackByOption,!0),Ht(4,xde,4,6,"div",29),jg(),Ht(5,Ide,3,4)(6,kde,3,1)(7,Rde,3,4),ye()}if(2&e){const n=Ve();ai("ng-select-multiple",n.multiple),nt("virtualScroll",n.virtualScroll)("bufferAmount",n.bufferAmount)("appendTo",n.appendTo)("position",n.dropdownPosition)("headerTemplate",n.headerTemplate)("footerTemplate",n.footerTemplate)("filterValue",n.searchTerm)("items",n.itemsList.filteredItems)("markedItem",n.itemsList.markedItem)("ngClass",n.appendTo?n.ngClass?n.ngClass:n.classes:null)("id",n.dropdownId),si("aria-label",n.ariaLabelDropdown),ke(2),Bg(n.viewPortItems),ke(2),li(4,n.showAddTag?4:-1),ke(),li(5,n.showNoItemsFound()?5:-1),ke(),li(6,n.showTypeToSearch()?6:-1),ke(),li(7,n.loading&&0===n.itemsList.filteredItems.length?7:-1)}}const t4=/[&<>"']/g,Pde=RegExp(t4.source),Lde={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Qn(e){return null!=e}function ip(e){return"object"==typeof e&&Qn(e)}function py(e){return e instanceof Function}let Hde=(()=>{class e{constructor(n){this.element=n,this.escape=!0}ngOnChanges(n){this.element.nativeElement.innerHTML=this.escape?function Vde(e){return e&&Pde.test(e)?e.replace(t4,t=>Lde[t]):e}(this.ngItemLabel):this.ngItemLabel}static{this.\u0275fac=function(r){return new(r||e)(ve(Sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},standalone:!0,features:[ri]})}}return e})(),n4=(()=>{class e{constructor(n){this.template=n}static{this.\u0275fac=function(r){return new(r||e)(ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ng-option-tmp",""]],standalone:!0})}}return e})(),jde=(()=>{class e{constructor(n){this.template=n}static{this.\u0275fac=function(r){return new(r||e)(ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ng-optgroup-tmp",""]],standalone:!0})}}return e})(),Ude=(()=>{class e{constructor(n){this.template=n}static{this.\u0275fac=function(r){return new(r||e)(ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ng-label-tmp",""]],standalone:!0})}}return e})(),zde=(()=>{class e{constructor(n){this.template=n}static{this.\u0275fac=function(r){return new(r||e)(ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ng-multi-label-tmp",""]],standalone:!0})}}return e})(),r4=(()=>{class e{constructor(n){this.template=n}static{this.\u0275fac=function(r){return new(r||e)(ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ng-header-tmp",""]],standalone:!0})}}return e})(),$de=(()=>{class e{constructor(n){this.template=n}static{this.\u0275fac=function(r){return new(r||e)(ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ng-footer-tmp",""]],standalone:!0})}}return e})(),Gde=(()=>{class e{constructor(n){this.template=n}static{this.\u0275fac=function(r){return new(r||e)(ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ng-notfound-tmp",""]],standalone:!0})}}return e})(),Wde=(()=>{class e{constructor(n){this.template=n}static{this.\u0275fac=function(r){return new(r||e)(ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ng-placeholder-tmp",""]],standalone:!0})}}return e})(),qde=(()=>{class e{constructor(n){this.template=n}static{this.\u0275fac=function(r){return new(r||e)(ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ng-typetosearch-tmp",""]],standalone:!0})}}return e})(),Yde=(()=>{class e{constructor(n){this.template=n}static{this.\u0275fac=function(r){return new(r||e)(ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ng-loadingtext-tmp",""]],standalone:!0})}}return e})(),Kde=(()=>{class e{constructor(n){this.template=n}static{this.\u0275fac=function(r){return new(r||e)(ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ng-tag-tmp",""]],standalone:!0})}}return e})(),Zde=(()=>{class e{constructor(n){this.template=n}static{this.\u0275fac=function(r){return new(r||e)(ve(sn))}}static{this.\u0275dir=Le({type:e,selectors:[["","ng-loadingspinner-tmp",""]],standalone:!0})}}return e})();function i4(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const Xde={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function gy(e){return e.replace(/[^\u0000-\u007E]/g,n=>Xde[n]||n)}class Qde{constructor(t,n){this._ngSelect=t,this._selectionModel=n,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let t=this.selectedItems.length-1;for(;t>=0;t--){const n=this.selectedItems[t];if(!n.disabled)return n}return null}setItems(t){this._items=t.map((n,r)=>this.mapItem(n,r)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(t){if(t.selected||this.maxItemsSelected)return;const n=this._ngSelect.multiple;n||this.clearSelected(),this._selectionModel.select(t,n,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(t)}unselect(t){t.selected&&(this._selectionModel.unselect(t,this._ngSelect.multiple),this._ngSelect.hideSelected&&Qn(t.index)&&this._ngSelect.multiple&&this._showSelected(t))}findItem(t){let n;return n=this._ngSelect.compareWith?r=>this._ngSelect.compareWith(r.value,t):this._ngSelect.bindValue?r=>!r.children&&this.resolveNested(r.value,this._ngSelect.bindValue)===t:r=>r.value===t||!r.children&&r.label&&r.label===this.resolveNested(t,this._ngSelect.bindLabel),this._items.find(r=>n(r))}addItem(t){const n=this.mapItem(t,this._items.length);return this._items.push(n),this._filteredItems.push(n),n}clearSelected(t=!1){this._selectionModel.clear(t),this._items.forEach(n=>{n.selected=t&&n.selected&&n.disabled,n.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(t){return t=gy(t).toLocaleLowerCase(),this.filteredItems.find(n=>gy(n.label).toLocaleLowerCase().substr(0,t.length)===t)}filter(t){if(!t)return void this.resetFilteredItems();this._filteredItems=[],t=this._ngSelect.searchFn?t:gy(t).toLocaleLowerCase();const n=this._ngSelect.searchFn||this._defaultSearchFn,r=this._ngSelect.hideSelected;for(const i of Array.from(this._groups.keys())){const o=[];for(const s of this._groups.get(i))r&&(s.parent&&s.parent.selected||s.selected)||n(t,this._ngSelect.searchFn?s.value:s)&&o.push(s);if(o.length>0){const[s]=o.slice(-1);if(s.parent){const a=this._items.find(l=>l===s.parent);this._filteredItems.push(a)}this._filteredItems.push(...o)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(t=>!t.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(t){this._markedIndex=this._filteredItems.indexOf(t)}markSelectedOrDefault(t){if(0===this._filteredItems.length)return;const n=this._getLastMarkedIndex();this._markedIndex=n>-1?n:t?this.filteredItems.findIndex(r=>!r.disabled):-1}resolveNested(t,n){if(!ip(t))return t;if(-1===n.indexOf("."))return t[n];{const r=n.split(".");let i=t;for(let o=0,s=r.length;o<s;++o){if(null==i)return null;i=i[r[o]]}return i}}mapItem(t,n){const r=Qn(t.$ngOptionLabel)?t.$ngOptionLabel:this.resolveNested(t,this._ngSelect.bindLabel),i=Qn(t.$ngOptionValue)?t.$ngOptionValue:t;return{index:n,label:Qn(r)?r.toString():"",value:i,disabled:t.disabled,htmlId:`${this._ngSelect.dropdownId}-${n}`}}mapSelectedItems(){const t=this._ngSelect.multiple;for(const n of this.selectedItems){const r=this._ngSelect.bindValue?this.resolveNested(n.value,this._ngSelect.bindValue):n.value,i=Qn(r)?this.findItem(r):null;this._selectionModel.unselect(n,t),this._selectionModel.select(i||n,t,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(n=>-1===this.selectedItems.indexOf(n)))}_showSelected(t){if(this._filteredItems.push(t),t.parent){const n=t.parent;this._filteredItems.find(i=>i===n)||this._filteredItems.push(n)}else if(t.children)for(const n of t.children)n.selected=!1,this._filteredItems.push(n);this._filteredItems=[...this._filteredItems.sort((n,r)=>n.index-r.index)]}_hideSelected(t){this._filteredItems=this._filteredItems.filter(n=>n!==t),t.parent?t.parent.children.every(r=>r.selected)&&(this._filteredItems=this._filteredItems.filter(r=>r!==t.parent)):t.children&&(this._filteredItems=this.filteredItems.filter(n=>n.parent!==t))}_defaultSearchFn(t,n){return gy(n.label).toLocaleLowerCase().indexOf(t)>-1}_getNextItemIndex(t){return t>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(t){0===this._filteredItems.length||this._filteredItems.every(n=>n.disabled)||(this._markedIndex=this._getNextItemIndex(t),this.markedItem.disabled&&this._stepToItem(t))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const t=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&t<0?-1:Math.max(this.markedIndex,t)}_groupBy(t,n){const r=new Map;if(0===t.length)return r;if(Array.isArray(t[0].value[n])){for(const s of t){const a=(s.value[n]||[]).map((l,c)=>this.mapItem(l,c));r.set(s,a)}return r}const i=py(this._ngSelect.groupBy),o=s=>{const a=i?n(s.value):s.value[n];return Qn(a)?a:void 0};for(const s of t){const a=o(s),l=r.get(a);l?l.push(s):r.set(a,[s])}return r}_flatten(t){const n=py(this._ngSelect.groupBy),r=[];for(const i of Array.from(t.keys())){let o=r.length;if(void 0===i){const d=t.get(void 0)||[];r.push(...d.map(h=>(h.index=o++,h)));continue}const s=ip(i),a={label:s?"":String(i),children:void 0,parent:null,index:o++,disabled:!this._ngSelect.selectableGroup,htmlId:i4()},l=n?this._ngSelect.bindLabel:this._ngSelect.groupBy,c=this._ngSelect.groupValue||(()=>s?i.value:{[l]:i}),u=t.get(i).map(d=>(d.parent=a,d.children=void 0,d.index=o++,d));a.children=u,a.value=c(i,u.map(d=>d.value)),r.push(a),r.push(...u)}return r}}let o4=(()=>{class e{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(n,r,i){const o=this._dimensions,s=o.itemHeight*r,l=Math.max(0,n)/s*r;let c=Math.min(r,Math.ceil(l)+(o.itemsPerViewport+1));const d=Math.max(0,c-o.itemsPerViewport);let h=Math.min(d,Math.floor(l)),g=o.itemHeight*Math.ceil(h)-o.itemHeight*Math.min(h,i);return g=isNaN(g)?0:g,h=isNaN(h)?-1:h,c=isNaN(c)?-1:c,h-=i,h=Math.max(0,h),c+=i,c=Math.min(r,c),{topPadding:g,scrollHeight:s,start:h,end:c}}setDimensions(n,r){const i=Math.max(1,Math.floor(r/n));this._dimensions={itemHeight:n,panelHeight:r,itemsPerViewport:i}}getScrollTo(n,r,i){const{panelHeight:o}=this.dimensions,s=n+r,l=i+o;return o>=s&&i===n?null:s>l?i+s-l:n<=i?n:null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac})}}return e})();const s4=["top","right","bottom","left"],Jde=typeof requestAnimationFrame<"u"?XC:H3;let a4=(()=>{class e{constructor(n,r,i,o,s){this._renderer=n,this._zone=r,this._panelService=i,this._document=s,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new yt,this.scroll=new yt,this.scrollToEnd=new yt,this.outsideClick=new yt,this._destroy$=new _n,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=o.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(n){n!==this._itemsLength&&(this._itemsLength=n,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:n,panelHeight:r}=this._panelService.dimensions,i=this.markedItem.index*n;return r>i?0:i}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(n){if(n.items){const r=n.items;this._onItemsChange(r.currentValue,r.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(n,r=!1){if(!n)return;const i=this.items.indexOf(n);if(i<0||i>=this.itemsLength)return;let o;if(this.virtualScroll){const s=this._panelService.dimensions.itemHeight;o=this._panelService.getScrollTo(i*s,s,this._lastScrollPosition)}else{const s=this._dropdown.querySelector(`#${n.htmlId}`);o=this._panelService.getScrollTo(s.offsetTop,s.clientHeight,r?s.offsetTop:this._lastScrollPosition)}Qn(o)&&(this._scrollablePanel.scrollTop=o)}scrollToTag(){const n=this._scrollablePanel;n.scrollTop=n.scrollHeight-n.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),s4.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(n){s4.forEach(i=>{const o=`ng-select-${i}`;this._renderer.removeClass(this._dropdown,o),this._renderer.removeClass(this._select,o)});const r=`ng-select-${n}`;this._renderer.addClass(this._dropdown,r),this._renderer.addClass(this._select,r)}_handleScroll(){this._zone.runOutsideAngular(()=>{La(this.scrollElementRef.nativeElement,"scroll").pipe(Yl(this._destroy$),nD(0,Jde)).subscribe(n=>{const r=n.path||n.composedPath&&n.composedPath();r&&(0!==r.length||n.target)&&this._onContentScrolled(r&&0!==r.length?r[0].scrollTop:n.target.scrollTop)})})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{Gh(La(this._document,"touchstart",{capture:!0}),La(this._document,"click",{capture:!0})).pipe(Yl(this._destroy$)).subscribe(n=>this._checkToClose(n))})}_checkToClose(n){if(this._select.contains(n.target)||this._dropdown.contains(n.target))return;const r=n.path||n.composedPath&&n.composedPath();n.target&&n.target.shadowRoot&&r&&r[0]&&this._select.contains(r[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(n,r){this.items=n||[],this._scrollToEndFired=!1,this.itemsLength=n.length,this.virtualScroll?this._updateItemsRange(r):(this._setVirtualHeight(),this._updateItems(r))}_updateItems(n){this.update.emit(this.items),!1!==n&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,n)})})}_updateItemsRange(n){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{n?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(n){this.virtualScroll&&this._renderItemsRange(n),this._lastScrollPosition=n,this._fireScrollToEnd(n)}_updateVirtualHeight(n){this._updateScrollHeight&&(this._virtualPadding.style.height=`${n}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){this._virtualPadding&&(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(n=null){if(n&&this._lastScrollPosition===n)return;const r=this._panelService.calculateItems(n=n||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(r.scrollHeight),this._contentPanel.style.transform=`translateY(${r.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(r.start,r.end)),this.scroll.emit({start:r.start,end:r.end})}),Qn(n)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=n,this._lastScrollPosition=n)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[n]=this.items;return this.update.emit([n]),Promise.resolve().then(()=>{const i=this._dropdown.querySelector(`#${n.htmlId}`).clientHeight;return this._virtualPadding.style.height=i*this.itemsLength+"px",this._panelService.setDimensions(i,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(n){this._scrollToEndFired||0===n||n+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(n){if("auto"!==this.position)return this.position;const r=this._select.getBoundingClientRect(),i=document.documentElement.scrollTop||document.body.scrollTop;return r.top+window.pageYOffset+r.height+n.getBoundingClientRect().height>i+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const n=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect();this._dropdown.style.left=n.left-r.left+"px",this._dropdown.style.width=n.width+"px",this._dropdown.style.minWidth=n.width+"px"}_updateYPosition(){const n=this._select.getBoundingClientRect(),r=this._parent.getBoundingClientRect(),i=n.height;"top"===this._currentPosition?(this._dropdown.style.bottom=r.bottom-n.bottom+i+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=n.top-r.top+i+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{La(this._dropdown,"mousedown").pipe(Yl(this._destroy$)).subscribe(n=>{"INPUT"!==n.target.tagName&&n.preventDefault()})})}static{this.\u0275fac=function(r){return new(r||e)(ve(ds),ve(pn),ve(o4),ve(Sn),ve(Wn,8))}}static{this.\u0275cmp=$e({type:e,selectors:[["ng-dropdown-panel"]],viewQuery:function(r,i){if(1&r&&(hr(Xue,7,Sn),hr(Que,7,Sn),hr(Jue,7,Sn)),2&r){let o;an(o=ln())&&(i.contentElementRef=o.first),an(o=ln())&&(i.scrollElementRef=o.first),an(o=ln())&&(i.paddingElementRef=o.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:[m.HasDecoratorInputTransform,"virtualScroll","virtualScroll",pr],headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},standalone:!0,features:[Sg,ri,Zg],ngContentSelectors:e4,decls:9,vars:6,consts:[["scroll",""],["padding",""],["content",""],[1,"ng-dropdown-header"],["role","listbox",1,"ng-dropdown-panel-items","scroll-host"],[1,"ng-dropdown-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){1&r&&(qg(),Ht(0,ede,2,4,"div",3),le(1,"div",4,0),qt(3,"div",null,1),le(5,"div",null,2),Yg(7),ye()(),Ht(8,tde,2,4,"div",5)),2&r&&(li(0,i.headerTemplate?0:-1),ke(3),ai("total-padding",i.virtualScroll),ke(2),ai("scrollable-content",i.virtualScroll&&i.items.length),ke(3),li(8,i.footerTemplate?8:-1))},dependencies:[Im],encapsulation:2,changeDetection:0})}}return e})(),efe=(()=>{class e{constructor(n){this.elementRef=n,this.disabled=!1,this.stateChange$=new _n}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(n){n.disabled&&this.stateChange$.next({value:this.value,disabled:this.disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this.disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}static{this.\u0275fac=function(r){return new(r||e)(ve(Sn))}}static{this.\u0275cmp=$e({type:e,selectors:[["ng-option"]],inputs:{value:"value",disabled:[m.HasDecoratorInputTransform,"disabled","disabled",pr]},standalone:!0,features:[Sg,ri,Zg],ngContentSelectors:e4,decls:1,vars:0,template:function(r,i){1&r&&(qg(),Yg(0))},encapsulation:2,changeDetection:0})}}return e})();var Ss=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowDown=40]="ArrowDown",e[e.Backspace=8]="Backspace",e}(Ss||{});function l4(){return new tfe}class tfe{constructor(){this._selected=[]}get value(){return this._selected}select(t,n,r){if(t.selected=!0,(!t.children||!n&&r)&&this._selected.push(t),n)if(t.parent){const i=t.parent.children.length,o=t.parent.children.filter(s=>s.selected).length;t.parent.selected=i===o}else t.children&&(this._setChildrenSelectedState(t.children,!0),this._removeChildren(t),this._selected=r&&this._activeChildren(t)?[...this._selected.filter(i=>i.parent!==t),t]:[...this._selected,...t.children.filter(i=>!i.disabled)])}unselect(t,n){if(this._selected=this._selected.filter(r=>r!==t),t.selected=!1,n)if(t.parent&&t.parent.selected){const r=t.parent.children;this._removeParent(t.parent),this._removeChildren(t.parent),this._selected.push(...r.filter(i=>i!==t&&!i.disabled)),t.parent.selected=!1}else t.children&&(this._setChildrenSelectedState(t.children,!1),this._removeChildren(t))}clear(t){this._selected=t?this._selected.filter(n=>n.disabled):[]}_setChildrenSelectedState(t,n){for(const r of t)r.disabled||(r.selected=n)}_removeChildren(t){this._selected=[...this._selected.filter(n=>n.parent!==t),...t.children.filter(n=>n.parent===t&&n.disabled&&n.selected)]}_removeParent(t){this._selected=this._selected.filter(n=>n!==t)}_activeChildren(t){return t.children.every(n=>!n.disabled||n.selected)}}let nfe=(()=>{class e{constructor(){this.fixedPlaceholder=!0,this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rfe=(()=>{class e{warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ot({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const c4=new st("ng-select-selection-model");let ife=(()=>{class e{constructor(n,r,i,o,s,a,l){this.classes=n,this.autoFocus=r,this.config=i,this._cd=a,this._console=l,this.ariaLabelDropdown="Options List",this.markFirst=!0,this.fixedPlaceholder=!0,this.preventToggleOnRightClick=!1,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.ngClass=null,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new yt,this.focusEvent=new yt,this.changeEvent=new yt,this.openEvent=new yt,this.closeEvent=new yt,this.searchEvent=new yt,this.clearEvent=new yt,this.addEvent=new yt,this.removeEvent=new yt,this.scroll=new yt,this.scrollToEnd=new yt,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=i4(),this.escapeHTML=!0,this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new _n,this._keyPress$=new _n,this._items=[],this.keyDownFn=c=>!0,this.clearItem=c=>{const u=this.selectedItems.find(d=>d.value===c);this.unselect(u)},this.trackByOption=(c,u)=>this.trackByFn?this.trackByFn(u.value):u,this._onChange=c=>{},this._onTouched=()=>{},this._mergeGlobalConfig(i),this.itemsList=new Qde(this,o?o():l4()),this.element=s.nativeElement}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get items(){return this._items}set items(n){this._itemsAreUsed=!0,this._items=n??[]}get disabled(){return this.readonly||this._disabled}get compareWith(){return this._compareWith}set compareWith(n){if(null!=n&&!py(n))throw Error("`compareWith` must be a function.");this._compareWith=n}get clearSearchOnAdd(){return Qn(this._clearSearchOnAdd)?this._clearSearchOnAdd:Qn(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(n){this._clearSearchOnAdd=n}get deselectOnClick(){return Qn(this._deselectOnClick)?this._deselectOnClick:Qn(this.config.deselectOnClick)?this.config.deselectOnClick:this.multiple}set deselectOnClick(n){this._deselectOnClick=n}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(n=>n.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}get showAddTag(){if(!this._validTerm)return!1;const n=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(r=>r.label.toLowerCase()===n)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(r=>r.label.toLowerCase()===n))&&!this.loading}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const n=this.searchTerm&&this.searchTerm.trim();return n&&n.length>=this.minTermLength}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(n){n.multiple&&this.itemsList.clearSelected(),n.items&&this._setItems(n.items.currentValue||[]),n.isOpen&&(this._manualOpen=Qn(n.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Qn(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(n){if(Ss[n.which]){if(!1===this.keyDownFn(n))return;this.handleKeyCode(n)}else n.key&&1===n.key.length&&this._keyPress$.next(n.key.toLocaleLowerCase())}handleKeyCode(n){this.clearButton&&this.clearButton.nativeElement===n.target?this.handleKeyCodeClear(n):this.handleKeyCodeInput(n)}handleKeyCodeInput(n){switch(n.which){case Ss.ArrowDown:this._handleArrowDown(n);break;case Ss.ArrowUp:this._handleArrowUp(n);break;case Ss.Space:this._handleSpace(n);break;case Ss.Enter:this._handleEnter(n);break;case Ss.Tab:this._handleTab(n);break;case Ss.Esc:this.close(),n.preventDefault();break;case Ss.Backspace:this._handleBackspace()}}handleKeyCodeClear(n){n.which===Ss.Enter&&(this.handleClearClick(),n.preventDefault())}handleMousedown(n){if(this.preventToggleOnRightClick&&2===n.button)return!1;const r=n.target;"INPUT"!==r.tagName&&n.preventDefault(),r.classList.contains("ng-clear-wrapper")?this.handleClearClick():r.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():r.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(n){this.itemsList.clearSelected(),this._handleWriteValue(n),this._cd.markForCheck()}registerOnChange(n){this._onChange=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this._disabled=n,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(n){!n||n.disabled||this.disabled||(this.deselectOnClick&&n.selected?this.unselect(n):this.select(n),this._editableSearchTerm&&this._setSearchTermFromItems())}select(n){n.selected||(this.itemsList.select(n),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(n.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close(),this._onSelectionChanged()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(n){n&&(this.itemsList.unselect(n),this.focus(),this._updateNgModel(),this.removeEvent.emit(n.value),this._onSelectionChanged())}selectTag(){let n;n=py(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const r=i=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(i,null):this.itemsList.addItem(i);!function Bde(e){return e instanceof Promise}(n)?n&&this.select(r(n)):n.then(i=>this.select(r(i))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}focusOnClear(){this.blur(),this.clearButton&&this.clearButton.nativeElement.focus()}showNoItemsFound(){const n=0===this.itemsList.filteredItems.length;return(n&&!this._isTypeahead&&!this.loading||n&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(n){this._isComposing=!1,!this.searchWhileComposing&&this.filter(n)}filter(n){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=n,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(n),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:n,items:this.itemsList.filteredItems.map(r=>r.value)}),this.open())}onInputFocus(n){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(n),this.focused=!0)}onInputBlur(n){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(n),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(n){n.disabled||this.itemsList.markItem(n)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const n=this.selectedItems&&this.selectedItems[0];this.searchTerm=n&&n.label||null}_setItems(n){const r=n[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Qn(r)?!ip(r):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(n),n.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Qn(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const n=i=>{this.items=i.map(o=>({$ngOptionValue:o.value,$ngOptionLabel:o.elementRef.nativeElement.innerHTML,disabled:o.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},r=()=>{const i=Gh(this.ngOptions.changes,this._destroy$);Gh(...this.ngOptions.map(o=>o.stateChange$)).pipe(Yl(i)).subscribe(o=>{const s=this.itemsList.findItem(o.value);s.disabled=o.disabled,s.label=o.label||s.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe(function Zue(...e){const t=e[e.length-1];return jh(t)?(e.pop(),n=>J5(e,n,t)):n=>J5(e,n)}(this.ngOptions),Yl(this._destroy$)).subscribe(i=>{this.bindLabel=this._defaultLabel,n(i),r()})}_isValidWriteValue(n){if(!Qn(n)||this.multiple&&""===n||Array.isArray(n)&&0===n.length)return!1;const r=i=>!(!Qn(this.compareWith)&&ip(i)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(i)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(n)?n.every(i=>r(i)):(this._console.warn("Multiple select ngModel should be array."),!1):r(n)}_handleWriteValue(n){if(!this._isValidWriteValue(n))return;const r=i=>{let o=this.itemsList.findItem(i);if(o)this.itemsList.select(o);else{const s=ip(i);s||!s&&!this.bindValue?this.itemsList.select(this.itemsList.mapItem(i,null)):this.bindValue&&(o={[this.bindLabel]:null,[this.bindValue]:i},this.itemsList.select(this.itemsList.mapItem(o,null)))}};this.multiple?n.forEach(i=>r(i)):r(n)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(Yl(this._destroy$),u8(n=>this._pressedKeys.push(n)),d8(200),Uh(()=>this._pressedKeys.length>0),xi(()=>this._pressedKeys.join(""))).subscribe(n=>{const r=this.itemsList.findByLabel(n);r&&(this.isOpen?(this.itemsList.markItem(r),this._scrollToMarked(),this._cd.markForCheck()):this.select(r)),this._pressedKeys=[]})}_setInputAttributes(){const n=this.searchInput.nativeElement,r={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const i of Object.keys(r))n.setAttribute(i,r[i])}_updateNgModel(){const n=[];for(const i of this.selectedItems)if(this.bindValue){let o=null;o=i.children?i.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(i.value,this.bindValue),n.push(o)}else n.push(i.value);const r=this.selectedItems.map(i=>i.value);this.multiple?(this._onChange(n),this.changeEvent.emit(r)):(this._onChange(Qn(n[0])?n[0]:null),this.changeEvent.emit(r[0])),this._cd.markForCheck()}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(n){this.searchTerm=n,this._isTypeahead&&this.typeahead.next(n)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.deselectOnClick&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(n){if(!1===this.isOpen)if(this.showClear()&&!n.shiftKey)this.focusOnClear(),n.preventDefault();else if(!this.addTag)return;this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),n.preventDefault()):this.showAddTag?(this.selectTag(),n.preventDefault()):this.close():this.close()}_handleEnter(n){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}n.preventDefault()}_handleSpace(n){this.isOpen||this._manualOpen||(this.open(),n.preventDefault())}_handleArrowDown(n){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),n.preventDefault()}_handleArrowUp(n){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),n.preventDefault())}_nextItemIsTag(n){const r=this.itemsList.markedIndex+n;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(r<0||r===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}_mergeGlobalConfig(n){this.placeholder=this.placeholder||n.placeholder,this.fixedPlaceholder=this.fixedPlaceholder||n.fixedPlaceholder,this.notFoundText=this.notFoundText||n.notFoundText,this.typeToSearchText=this.typeToSearchText||n.typeToSearchText,this.addTagText=this.addTagText||n.addTagText,this.loadingText=this.loadingText||n.loadingText,this.clearAllText=this.clearAllText||n.clearAllText,this.virtualScroll=Qn(this.virtualScroll)?this.virtualScroll:!!Qn(n.disableVirtualScroll)&&!n.disableVirtualScroll,this.openOnEnter=Qn(this.openOnEnter)?this.openOnEnter:n.openOnEnter,this.appendTo=this.appendTo||n.appendTo,this.bindValue=this.bindValue||n.bindValue,this.bindLabel=this.bindLabel||n.bindLabel,this.appearance=this.appearance||n.appearance}static{this.\u0275fac=function(r){return new(r||e)(Nc("class"),Nc("autofocus"),ve(nfe),ve(c4,8),ve(Sn),ve(om),ve(rfe))}}static{this.\u0275cmp=$e({type:e,selectors:[["ng-select"]],contentQueries:function(r,i,o){if(1&r&&(ui(o,n4,5,sn),ui(o,jde,5,sn),ui(o,Ude,5,sn),ui(o,zde,5,sn),ui(o,r4,5,sn),ui(o,$de,5,sn),ui(o,Gde,5,sn),ui(o,Wde,5,sn),ui(o,qde,5,sn),ui(o,Yde,5,sn),ui(o,Kde,5,sn),ui(o,Zde,5,sn),ui(o,efe,5)),2&r){let s;an(s=ln())&&(i.optionTemplate=s.first),an(s=ln())&&(i.optgroupTemplate=s.first),an(s=ln())&&(i.labelTemplate=s.first),an(s=ln())&&(i.multiLabelTemplate=s.first),an(s=ln())&&(i.headerTemplate=s.first),an(s=ln())&&(i.footerTemplate=s.first),an(s=ln())&&(i.notFoundTemplate=s.first),an(s=ln())&&(i.placeholderTemplate=s.first),an(s=ln())&&(i.typeToSearchTemplate=s.first),an(s=ln())&&(i.loadingTextTemplate=s.first),an(s=ln())&&(i.tagTemplate=s.first),an(s=ln())&&(i.loadingSpinnerTemplate=s.first),an(s=ln())&&(i.ngOptions=s)}},viewQuery:function(r,i){if(1&r&&(hr(a4,5),hr(nde,7),hr(rde,5)),2&r){let o;an(o=ln())&&(i.dropdownPanel=o.first),an(o=ln())&&(i.searchInput=o.first),an(o=ln())&&(i.clearButton=o.first)}},hostVars:20,hostBindings:function(r,i){1&r&&ft("keydown",function(s){return i.handleKeyDown(s)}),2&r&&ai("ng-select-typeahead",i.typeahead)("ng-select-multiple",i.multiple)("ng-select-taggable",i.addTag)("ng-select-searchable",i.searchable)("ng-select-clearable",i.clearable)("ng-select-opened",i.isOpen)("ng-select",i.useDefaultClass)("ng-select-filtered",i.filtered)("ng-select-single",i.single)("ng-select-disabled",i.disabled)},inputs:{ariaLabelDropdown:"ariaLabelDropdown",bindLabel:"bindLabel",bindValue:"bindValue",ariaLabel:"ariaLabel",markFirst:[m.HasDecoratorInputTransform,"markFirst","markFirst",pr],placeholder:"placeholder",fixedPlaceholder:"fixedPlaceholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",preventToggleOnRightClick:"preventToggleOnRightClick",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:[m.HasDecoratorInputTransform,"loading","loading",pr],closeOnSelect:[m.HasDecoratorInputTransform,"closeOnSelect","closeOnSelect",pr],hideSelected:[m.HasDecoratorInputTransform,"hideSelected","hideSelected",pr],selectOnTab:[m.HasDecoratorInputTransform,"selectOnTab","selectOnTab",pr],openOnEnter:[m.HasDecoratorInputTransform,"openOnEnter","openOnEnter",pr],maxSelectedItems:[m.HasDecoratorInputTransform,"maxSelectedItems","maxSelectedItems",pm],groupBy:"groupBy",groupValue:"groupValue",bufferAmount:[m.HasDecoratorInputTransform,"bufferAmount","bufferAmount",pm],virtualScroll:[m.HasDecoratorInputTransform,"virtualScroll","virtualScroll",pr],selectableGroup:[m.HasDecoratorInputTransform,"selectableGroup","selectableGroup",pr],selectableGroupAsModel:[m.HasDecoratorInputTransform,"selectableGroupAsModel","selectableGroupAsModel",pr],searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:[m.HasDecoratorInputTransform,"clearOnBackspace","clearOnBackspace",pr],labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:[m.HasDecoratorInputTransform,"tabIndex","tabIndex",pm],readonly:[m.HasDecoratorInputTransform,"readonly","readonly",pr],searchWhileComposing:[m.HasDecoratorInputTransform,"searchWhileComposing","searchWhileComposing",pr],minTermLength:[m.HasDecoratorInputTransform,"minTermLength","minTermLength",pm],editableSearchTerm:[m.HasDecoratorInputTransform,"editableSearchTerm","editableSearchTerm",pr],ngClass:"ngClass",typeahead:"typeahead",multiple:[m.HasDecoratorInputTransform,"multiple","multiple",pr],addTag:"addTag",searchable:[m.HasDecoratorInputTransform,"searchable","searchable",pr],clearable:[m.HasDecoratorInputTransform,"clearable","clearable",pr],isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd",deselectOnClick:"deselectOnClick",keyDownFn:"keyDownFn"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},standalone:!0,features:[zn([{provide:Uo,useExisting:rn(()=>e),multi:!0},o4]),Sg,ri,Zg],decls:13,vars:19,consts:[["searchInput",""],["defaultPlaceholderTemplate",""],["defaultLabelTemplate",""],["defaultLoadingSpinnerTemplate",""],["clearButton",""],["defaultOptionTemplate",""],["defaultTagTemplate",""],["defaultNotFoundTemplate",""],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""],[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-input"],["aria-autocomplete","list","role","combobox",3,"blur","change","compositionend","compositionstart","focus","input","disabled","readOnly","value"],["role","button","tabindex","0",1,"ng-clear-wrapper",3,"title"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["role","listbox",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id"],[3,"ngTemplateOutlet"],[1,"ng-placeholder"],[1,"ng-value",3,"ng-value-disabled"],[1,"ng-value"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],[1,"ng-spinner-loader"],["aria-hidden","true",1,"ng-clear"],["role","listbox",1,"ng-dropdown-panel",3,"update","scroll","scrollToEnd","outsideClick","virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id"],[1,"ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked"],["role","option",1,"ng-option",3,"ng-option-marked"],[1,"ng-option",3,"click","mouseover"],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],[1,"ng-tag-label"],[1,"ng-option","ng-option-disabled"]],template:function(r,i){if(1&r){const o=Kn();le(0,"div",10),ft("mousedown",function(a){return rt(o),it(i.handleMousedown(a))}),le(1,"div",11),Ht(2,cde,3,1)(3,hde,2,0)(4,gde,1,5,null,12),le(5,"div",13)(6,"input",14,0),ft("blur",function(a){return rt(o),it(i.onInputBlur(a))})("change",function(a){return rt(o),it(a.stopPropagation())})("compositionend",function(){rt(o);const a=Ao(7);return it(i.onCompositionEnd(a.value))})("compositionstart",function(){return rt(o),it(i.onCompositionStart())})("focus",function(a){return rt(o),it(i.onInputFocus(a))})("input",function(){rt(o);const a=Ao(7);return it(i.filter(a.value))}),ye()()(),Ht(8,vde,3,1)(9,yde,4,1,"span",15),le(10,"span",16),qt(11,"span",17),ye()(),Ht(12,Fde,8,18,"ng-dropdown-panel",18)}2&r&&(ai("ng-appearance-outline","outline"===i.appearance)("ng-has-value",i.hasValue),ke(2),li(2,0===i.selectedItems.length&&!i.searchTerm||!0===i.fixedPlaceholder?2:-1),ke(),li(3,i.multiLabelTemplate&&i.multiple||!(i.selectedItems.length>0)?-1:3),ke(),li(4,i.multiple&&i.multiLabelTemplate&&i.selectedValues.length>0?4:-1),ke(2),nt("disabled",i.disabled)("readOnly",!i.searchable||i.itemsList.maxItemsSelected)("value",i.searchTerm?i.searchTerm:""),si("aria-activedescendant",i.isOpen?null==i.itemsList||null==i.itemsList.markedItem?null:i.itemsList.markedItem.htmlId:null)("aria-controls",i.isOpen?i.dropdownId:null)("aria-expanded",i.isOpen)("aria-label",i.ariaLabel)("id",i.labelForId)("tabindex",i.tabIndex),ke(2),li(8,i.loading?8:-1),ke(),li(9,i.showClear()?9:-1),ke(3),li(12,i.isOpen?12:-1))},dependencies:[Im,Hde,a4,Mm],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:unset;user-select:unset;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0})}}return e})(),ofe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=vt({type:e})}static{this.\u0275inj=ar({providers:[{provide:c4,useValue:l4}]})}}return e})();const sfe=["editNodeModal"],afe=["createNodeModal"],lfe=["createLinkModal"],cfe=["editLinksModal"];function ufe(e,t){if(1&e){const n=Kn();le(0,"div",10)(1,"label",28),Ye(2,"Image URL"),ye(),le(3,"div",29),qt(4,"input",30),le(5,"button",31),ft("click",function(){return rt(n),it(Ve(2).clearImageUrl())}),Ye(6,"Clear"),ye()()()}}function dfe(e,t){if(1&e&&(le(0,"small",34),Ye(1),ye()),2&e){const n=Ve(3);ke(),du("Loaded ",n.iconsBuffer.length," of ",n.fontAwesomeIcons.length,"")}}function ffe(e,t){if(1&e&&(le(0,"i",35),Ye(1),ye(),le(2,"span",36),Ye(3),ye()),2&e){const n=t.item;ke(),di(n.icon),ke(2),di(n.name)}}function hfe(e,t){if(1&e){const n=Kn();le(0,"div",10)(1,"label",32),Ye(2,"Choose Icon"),ye(),le(3,"ng-select",33),ft("scroll",function(i){return rt(n),it(Ve(2).onScroll(i))})("scrollToEnd",function(){return rt(n),it(Ve(2).onScrollToEnd())}),Ht(4,dfe,2,2,"ng-template",22)(5,ffe,4,2,"ng-template",23),ye()()}if(2&e){const n=Ve(2);ke(3),nt("items",n.iconsBuffer)("virtualScroll",!0)("loading",n.loading)("editableSearchTerm",!0)("trackByFn",n.trackByFn)}}function pfe(e,t){1&e&&(le(0,"div",37),Ye(1," Please provide either an Image URL or choose an Icon, but not both. "),ye())}function gfe(e,t){if(1&e){const n=Kn();le(0,"div",38)(1,"div",39),qt(2,"input",40),le(3,"button",41),ft("click",function(){const i=rt(n).index;return it(Ve(2).removeNodeLabel(i))}),Ye(4,"Remove"),ye()()()}if(2&e){const n=t.index,r=Ve(2);nt("formGroupName",n),ke(2),nt("id","node-label-"+n),ke(),nt("disabled",r.nodeLabelArray.length<=1)}}function mfe(e,t){if(1&e&&(le(0,"small",34),Ye(1),ye()),2&e){const n=Ve(2);ke(),du("Loaded ",n.iconsBuffer.length," of ",n.fontAwesomeIcons.length,"")}}function _fe(e,t){if(1&e&&(le(0,"i",35),Ye(1),ye(),le(2,"span",36),Ye(3),ye()),2&e){const n=t.item;ke(),di(n.icon),ke(2),di(n.name)}}function vfe(e,t){if(1&e){const n=Kn();le(0,"div",4)(1,"h4",5),Ye(2,"Edit Node"),ye(),le(3,"button",6),ft("click",function(){return rt(n),it(Ve().closeModal("modalRef"))}),le(4,"span",7),Ye(5,"\xd7"),ye()()(),le(6,"div",8)(7,"form",9)(8,"div",10)(9,"label",11),Ye(10,"Icon Type"),ye(),le(11,"div"),qt(12,"input",12),Ye(13," Image URL "),qt(14,"input",13),Ye(15," Choose Icon "),ye()(),Ht(16,ufe,7,0,"div",14)(17,hfe,6,5,"div",14)(18,pfe,2,0,"div",15),le(19,"div",10)(20,"label",16),Ye(21,"Labels"),ye(),le(22,"div",17),Ht(23,gfe,5,3,"div",18),ye(),le(24,"button",19),ft("click",function(){return rt(n),it(Ve().addNodeLabel())}),Ye(25,"Add Label"),ye()(),le(26,"div",10)(27,"label",20),Ye(28,"Additional icon"),ye(),le(29,"ng-select",21),ft("scroll",function(i){return rt(n),it(Ve().onScroll(i))})("scrollToEnd",function(){return rt(n),it(Ve().onScrollToEnd())}),Ht(30,mfe,2,2,"ng-template",22)(31,_fe,4,2,"ng-template",23),ye()()()(),le(32,"div",24)(33,"button",25),ft("click",function(){return rt(n),it(Ve().closeModal("modalRef"))}),Ye(34,"Cancel"),ye(),le(35,"button",26),ft("click",function(){return rt(n),it(Ve().createNode())}),Ye(36,"Save Changes"),ye(),le(37,"button",27),ft("click",function(){return rt(n),it(Ve().deleteNode())}),Ye(38,"Delete Node"),ye()()}if(2&e){const n=Ve();ke(7),nt("formGroup",n.createNodeForm),ke(9),nt("ngIf","url"===n.createNodeForm.get("iconType").value),ke(),nt("ngIf","select"===n.createNodeForm.get("iconType").value),ke(),nt("ngIf",null==n.createNodeForm.errors?null:n.createNodeForm.errors.iconOrImage),ke(5),nt("ngForOf",n.nodeLabelArray.controls),ke(6),nt("items",n.iconsBuffer)("virtualScroll",!0)("loading",n.loading)("editableSearchTerm",!0)("trackByFn",n.trackByFn),ke(6),nt("disabled",!n.createNodeForm.valid)}}function yfe(e,t){if(1&e){const n=Kn();le(0,"div",10)(1,"label",28),Ye(2,"Image URL"),ye(),le(3,"div",29),qt(4,"input",30),le(5,"button",31),ft("click",function(){return rt(n),it(Ve(2).clearImageUrl())}),Ye(6,"Clear"),ye()()()}}function bfe(e,t){if(1&e&&(le(0,"small",34),Ye(1),ye()),2&e){const n=Ve(3);ke(),du("Loaded ",n.iconsBuffer.length," of ",n.fontAwesomeIcons.length,"")}}function wfe(e,t){if(1&e&&(le(0,"i",35),Ye(1),ye(),le(2,"span",36),Ye(3),ye()),2&e){const n=t.item;ke(),di(n.icon),ke(2),di(n.name)}}function Efe(e,t){if(1&e){const n=Kn();le(0,"div",10)(1,"label",32),Ye(2,"Choose Icon"),ye(),le(3,"ng-select",33),ft("scroll",function(i){return rt(n),it(Ve(2).onScroll(i))})("scrollToEnd",function(){return rt(n),it(Ve(2).onScrollToEnd())}),Ht(4,bfe,2,2,"ng-template",22)(5,wfe,4,2,"ng-template",23),ye()()}if(2&e){const n=Ve(2);ke(3),nt("items",n.iconsBuffer)("virtualScroll",!0)("loading",n.loading)("editableSearchTerm",!0)("trackByFn",n.trackByFn)}}function Cfe(e,t){1&e&&(le(0,"div",37),Ye(1," Please provide either an Image URL or choose an Icon, but not both. "),ye())}function Dfe(e,t){if(1&e){const n=Kn();le(0,"div",38)(1,"div",39),qt(2,"input",40),le(3,"button",41),ft("click",function(){const i=rt(n).index;return it(Ve(2).removeNodeLabel(i))}),Ye(4,"Remove"),ye()()()}if(2&e){const n=t.index,r=Ve(2);nt("formGroupName",n),ke(2),nt("id","node-label-"+n),ke(),nt("disabled",r.nodeLabelArray.length<=1)}}function xfe(e,t){if(1&e&&(le(0,"small",34),Ye(1),ye()),2&e){const n=Ve(2);ke(),du("Loaded ",n.iconsBuffer.length," of ",n.fontAwesomeIcons.length,"")}}function Mfe(e,t){if(1&e&&(le(0,"i",35),Ye(1),ye(),le(2,"span",36),Ye(3),ye()),2&e){const n=t.item;ke(),di(n.icon),ke(2),di(n.name)}}function Sfe(e,t){if(1&e){const n=Kn();le(0,"div",4)(1,"h4",5),Ye(2,"Create Node"),ye(),le(3,"button",6),ft("click",function(){return rt(n),it(Ve().closeModal("modalRef"))}),le(4,"span",7),Ye(5,"\xd7"),ye()()(),le(6,"div",8)(7,"form",9)(8,"div",10)(9,"label",11),Ye(10,"Icon Type"),ye(),le(11,"div"),qt(12,"input",12),Ye(13," Image URL "),qt(14,"input",13),Ye(15," Choose Icon "),ye()(),Ht(16,yfe,7,0,"div",14)(17,Efe,6,5,"div",14)(18,Cfe,2,0,"div",15),le(19,"div",10)(20,"label",16),Ye(21,"Labels"),ye(),le(22,"div",17),Ht(23,Dfe,5,3,"div",18),ye(),le(24,"button",19),ft("click",function(){return rt(n),it(Ve().addNodeLabel())}),Ye(25,"Add Label"),ye()(),le(26,"div",10)(27,"label",20),Ye(28,"Additional icon"),ye(),le(29,"ng-select",21),ft("scroll",function(i){return rt(n),it(Ve().onScroll(i))})("scrollToEnd",function(){return rt(n),it(Ve().onScrollToEnd())}),Ht(30,xfe,2,2,"ng-template",22)(31,Mfe,4,2,"ng-template",23),ye()()()(),le(32,"div",24)(33,"button",25),ft("click",function(){return rt(n),it(Ve().closeModal("modalRef"))}),Ye(34,"Cancel"),ye(),le(35,"button",26),ft("click",function(){return rt(n),it(Ve().createNode())}),Ye(36,"Create Node"),ye()()}if(2&e){const n=Ve();ke(7),nt("formGroup",n.createNodeForm),ke(9),nt("ngIf","url"===n.createNodeForm.get("iconType").value),ke(),nt("ngIf","select"===n.createNodeForm.get("iconType").value),ke(),nt("ngIf",null==n.createNodeForm.errors?null:n.createNodeForm.errors.iconOrImage),ke(5),nt("ngForOf",n.nodeLabelArray.controls),ke(6),nt("items",n.iconsBuffer)("virtualScroll",!0)("loading",n.loading)("editableSearchTerm",!0)("trackByFn",n.trackByFn),ke(6),nt("disabled",!n.createNodeForm.valid)}}function Ife(e,t){if(1&e){const n=Kn();le(0,"div",38)(1,"div",39),qt(2,"input",51),le(3,"button",41),ft("click",function(){const i=rt(n).index;return it(Ve(2).removeLabel(i))}),Ye(4,"Remove"),ye()(),le(5,"div",46),qt(6,"input",52),le(7,"label",53),Ye(8,"Link Icon?"),ye()()()}if(2&e){const n=t.index,r=Ve(2);nt("formGroupName",n),ke(2),nt("id","label-"+n),ke(),nt("disabled",r.labelArray.length<=1),ke(3),nt("id","linkIcon-"+n),ke(),nt("for","linkIcon-"+n)}}function Tfe(e,t){if(1&e){const n=Kn();le(0,"div",4)(1,"h4",5),Ye(2,"Edit Links"),ye(),le(3,"button",6),ft("click",function(){return rt(n),it(Ve().closeModal("modalRef"))}),le(4,"span",7),Ye(5,"\xd7"),ye()()(),le(6,"div",8)(7,"form",9)(8,"div",10)(9,"label",42),Ye(10,"Line Style"),ye(),le(11,"select",43)(12,"option",44),Ye(13,"Solid"),ye(),le(14,"option",45),Ye(15,"Dotted"),ye()()(),le(16,"div",46),qt(17,"input",47),le(18,"label",48),Ye(19,"Source Arrow"),ye()(),le(20,"div",46),qt(21,"input",49),le(22,"label",50),Ye(23,"Target Arrow"),ye()(),le(24,"div",10)(25,"label",16),Ye(26,"Labels"),ye(),le(27,"div",17),Ht(28,Ife,9,5,"div",18),ye(),le(29,"button",19),ft("click",function(){return rt(n),it(Ve().addLabel())}),Ye(30,"Add Label"),ye()()()(),le(31,"div",24)(32,"button",25),ft("click",function(){return rt(n),it(Ve().closeModal("modalRef"))}),Ye(33,"Cancel"),ye(),le(34,"button",26),ft("click",function(){return rt(n),it(Ve().createLink())}),Ye(35,"Save Changes"),ye(),le(36,"button",27),ft("click",function(){return rt(n),it(Ve().deleteLink())}),Ye(37,"Delete Link"),ye()()}if(2&e){const n=Ve();ke(7),nt("formGroup",n.createLinkForm),ke(21),nt("ngForOf",n.labelArray.controls),ke(6),nt("disabled",!n.createLinkForm.valid)}}function Afe(e,t){if(1&e){const n=Kn();le(0,"div",38)(1,"div",39),qt(2,"input",51),le(3,"button",41),ft("click",function(){const i=rt(n).index;return it(Ve(2).removeLabel(i))}),Ye(4,"Remove"),ye()(),le(5,"div",46),qt(6,"input",52),le(7,"label",53),Ye(8,"Link Icon?"),ye()()()}if(2&e){const n=t.index,r=Ve(2);nt("formGroupName",n),ke(2),nt("id","label-"+n),ke(),nt("disabled",r.labelArray.length<=1),ke(3),nt("id","linkIcon-"+n),ke(),nt("for","linkIcon-"+n)}}function kfe(e,t){if(1&e){const n=Kn();le(0,"div",4)(1,"h4",5),Ye(2,"Create Link"),ye(),le(3,"button",6),ft("click",function(){return rt(n),it(Ve().closeModal("modalRef"))}),le(4,"span",7),Ye(5,"\xd7"),ye()()(),le(6,"div",8)(7,"form",9)(8,"div",10)(9,"label",42),Ye(10,"Line Style"),ye(),le(11,"select",43)(12,"option",44),Ye(13,"Solid"),ye(),le(14,"option",45),Ye(15,"Dotted"),ye()()(),le(16,"div",46),qt(17,"input",47),le(18,"label",48),Ye(19,"Source Arrow"),ye()(),le(20,"div",46),qt(21,"input",49),le(22,"label",50),Ye(23,"Target Arrow"),ye()(),le(24,"div",10)(25,"label",16),Ye(26,"Labels"),ye(),le(27,"div",17),Ht(28,Afe,9,5,"div",18),ye(),le(29,"button",19),ft("click",function(){return rt(n),it(Ve().addLabel())}),Ye(30,"Add Label"),ye()()()(),le(31,"div",24)(32,"button",25),ft("click",function(){return rt(n),it(Ve().closeModal("modalRef"))}),Ye(33,"Cancel"),ye(),le(34,"button",26),ft("click",function(){return rt(n),it(Ve().createLink())}),Ye(35,"Create Link"),ye()()}if(2&e){const n=Ve();ke(7),nt("formGroup",n.createLinkForm),ke(21),nt("ngForOf",n.labelArray.controls),ke(6),nt("disabled",!n.createLinkForm.valid)}}let u4=(()=>{class e extends Jce{modalService;editNodeData;editLinksData;closeModalEvent=new yt;createLinkEvent=new yt;createNodeEvent=new yt;deleteLinkEvent=new yt;deleteNodeEvent=new yt;editNodeModal;createNodeModal;createLinkModal;editLinksModal;modalRef;defaultModalConfig={class:"modal-xl"};fontAwesomeIcons=S5;loading=!1;iconsBuffer=[];numberOfItemsFromEndBeforeFetchingMore=10;bufferSize=50;constructor(n,r){super(r),this.modalService=n}ngOnChanges(n){n.editLinksData&&this.editLinksData&&(this.resetLinksForm(),this.populateEditLinkForm(this.editLinksData)),n.editNodeData&&this.editNodeData&&(this.resetNodeForm(),this.populateEditNodeForm(this.editNodeData))}openModal(n){if(!n)return console.error("Template is required to open a modal."),null;n===this.editLinksModal&&this.editLinksData&&this.populateEditLinkForm(this.editLinksData),this.resetLinksForm(),this.resetNodeForm(),this.modalRef=this.modalService.show(n,this.defaultModalConfig)}closeModal(n){this[n]&&this[n].hide()}createLink(){this.createLinkForm.valid&&(this.createLinkEvent.emit(this.createLinkForm.value),this.resetLinksForm(),this.closeModal("modalRef"))}createNode(){if(this.createNodeForm.valid){const n=this.createNodeForm.value,r={id:n.id,label:n.label.map(i=>i.label),imageUrl:n.imageUrl,icon:n.icon,fx:n.fx,fy:n.fy,additionalIcon:n.additionalIcon};this.createNodeEvent.emit(r),this.resetNodeForm(),this.closeModal("modalRef")}}deleteNode(){this.deleteNodeEvent.emit(!0),this.resetNodeForm(),this.closeModal("modalRef")}deleteLink(){this.deleteLinkEvent.emit(this.editLinksData.linkId),this.resetLinksForm(),this.closeModal("modalRef")}clearImageUrl(){this.createNodeForm.get("imageUrl").setValue("")}trackByFn(n){return n.id}onScrollToEnd(){this.fetchMore()}onScroll({end:n}){this.loading||this.fontAwesomeIcons.length<=this.iconsBuffer.length||n+this.numberOfItemsFromEndBeforeFetchingMore>=this.iconsBuffer.length&&this.fetchMore()}fetchMore(){const n=this.iconsBuffer.length,r=this.fontAwesomeIcons.slice(n,this.bufferSize+n);this.loading=!0,this.loading=!1,this.iconsBuffer=this.iconsBuffer.concat(r)}static \u0275fac=function(r){return new(r||e)(ve(UD),ve(Zce))};static \u0275cmp=$e({type:e,selectors:[["app-modals"]],viewQuery:function(r,i){if(1&r&&(hr(sfe,5),hr(afe,5),hr(lfe,5),hr(cfe,5)),2&r){let o;an(o=ln())&&(i.editNodeModal=o.first),an(o=ln())&&(i.createNodeModal=o.first),an(o=ln())&&(i.createLinkModal=o.first),an(o=ln())&&(i.editLinksModal=o.first)}},inputs:{editNodeData:"editNodeData",editLinksData:"editLinksData"},outputs:{closeModalEvent:"closeModalEvent",createLinkEvent:"createLinkEvent",createNodeEvent:"createNodeEvent",deleteLinkEvent:"deleteLinkEvent",deleteNodeEvent:"deleteNodeEvent"},features:[xn,ri],decls:8,vars:0,consts:[["editNodeModal",""],["createNodeModal",""],["editLinksModal",""],["createLinkModal",""],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[3,"formGroup"],[1,"form-group"],["for","iconType"],["type","radio","id","imageUrl","formControlName","iconType","value","url"],["type","radio","id","iconTypeSelect","formControlName","iconType","value","select",1,"ml-5"],["class","form-group",4,"ngIf"],["class","text-danger",4,"ngIf"],["for","label"],["formArrayName","label"],["class","d-flex flex-column align-items-start",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-secondary","mt-2",3,"click"],["for","nodeAdditionalIcon"],["formControlName","additionalIcon","bindLabel","name","bindValue","icon","placeholder","Select icon","appendTo","body",3,"scroll","scrollToEnd","items","virtualScroll","loading","editableSearchTerm","trackByFn"],["ng-header-tmp",""],["ng-option-tmp",""],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["type","button",1,"btn","btn-danger",3,"click"],["for","imageUrl"],[1,"input-group"],["type","text","id","imageUrl","formControlName","imageUrl","placeholder","Image URL",1,"form-control"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["for","nodeIcon"],["formControlName","icon","bindLabel","name","bindValue","icon","placeholder","Select icon","appendTo","body",3,"scroll","scrollToEnd","items","virtualScroll","loading","editableSearchTerm","trackByFn"],[1,"form-text","text-muted"],[1,"fa","fa-light"],[1,"ml-3"],[1,"text-danger"],[1,"d-flex","flex-column","align-items-start",3,"formGroupName"],[1,"d-flex","align-items-center","w-100"],["formControlName","label","placeholder","Label",1,"form-control","mb-2",3,"id"],["type","button",1,"btn","btn-danger","ml-2",3,"click","disabled"],["for","lineStyle"],["id","lineStyle","formControlName","lineStyle",1,"form-control"],["value","Solid"],["value","Dotted"],[1,"form-group","form-check"],["type","checkbox","id","sourceArrow","formControlName","sourceArrow",1,"form-check-input"],["for","sourceArrow"],["type","checkbox","id","targetArrow","formControlName","targetArrow",1,"form-check-input"],["for","targetArrow"],["formControlName","label","placeholder","Label",1,"form-control",3,"id"],["type","checkbox","formControlName","linkIcon",1,"form-check-input",3,"id"],[3,"for"]],template:function(r,i){1&r&&Ht(0,vfe,39,11,"ng-template",null,0,Gi)(2,Sfe,37,11,"ng-template",null,1,Gi)(4,Tfe,38,3,"ng-template",null,2,Gi)(6,kfe,36,3,"ng-template",null,3,Gi)},dependencies:[m2,Sm,a5,h5,g5,qv,dD,ay,DD,G8,W8,iy,MD,oy,sy,ife,n4,r4],encapsulation:2})}return e})();const Nfe=["svgId"],Ofe=(e,t)=>({searchButtonActive:e,searchButtonInactive:t}),Rfe=e=>({"fade-out":e});function Ffe(e,t){1&e&&(le(0,"button",38),qt(1,"i",39),ye())}function Pfe(e,t){1&e&&(le(0,"button",40),qt(1,"i",41),ye())}function Lfe(e,t){1&e&&(le(0,"button",42),qt(1,"i",43),ye())}function Vfe(e,t){1&e&&(le(0,"button",44),qt(1,"i",45),ye())}function Bfe(e,t){1&e&&(le(0,"button",46),qt(1,"i",47),ye())}function Hfe(e,t){1&e&&(le(0,"button",48),qt(1,"i",49),ye())}function jfe(e,t){if(1&e){const n=Kn();le(0,"div")(1,"div",10)(2,"div",11)(3,"button",12),qt(4,"i",13),ye(),le(5,"button",14),ft("click",function(){return rt(n),it(Ve().applyLayout())}),qt(6,"i",15),ye(),le(7,"button",16),ft("click",function(){return rt(n),it(Ve().onConfirmSave())}),qt(8,"i",17),ye(),le(9,"button",18),ft("click",function(){return rt(n),it(Ve().resetGraph())}),qt(10,"i",19),ye(),Ht(11,Ffe,2,0,"button",20)(12,Pfe,2,0,"button",21)(13,Lfe,2,0,"button",22)(14,Vfe,2,0,"button",23)(15,Bfe,2,0,"button",24)(16,Hfe,2,0,"button",25),le(17,"button",26),ft("click",function(){return rt(n),it(Ve().toggleSearch())}),qt(18,"i",27),ye()()(),le(19,"div",28)(20,"div",29)(21,"button",30),qt(22,"i",31),ye(),le(23,"button",32),qt(24,"i",33),ye()(),qt(25,"input",34),le(26,"div",35)(27,"button",36),qt(28,"i",27),ye()(),le(29,"div",35)(30,"button",37),Ye(31," clear "),ye()()()()}if(2&e){const n=Ve();ke(11),nt("ngIf",n.zoom),ke(),nt("ngIf",n.zoom),ke(),nt("ngIf",n.zoom),ke(),nt("ngIf",n.zoom),ke(),nt("ngIf",n.zoom),ke(),nt("ngIf",n.zoom),ke(),nt("ngClass",n1(8,Ofe,n.showSearch,!n.showSearch)),ke(2),nt("hidden",!n.showSearch)}}function Ufe(e,t){1&e&&(le(0,"div",50),qt(1,"span",51),ye())}function zfe(e,t){if(1&e&&(le(0,"div",52)(1,"div",53),Ye(2," Saved "),qt(3,"i",54),ye()()),2&e){const n=Ve();ke(),nt("ngClass",zs(1,Rfe,!n.showConfirmation))}}let $fe=(()=>{class e{visualiserGraphService;contextMenuService;dagreNodesOnlyLayout;dexieService;graphElement;contextMenu;saveGraphDataEvent=new yt;selectedNodesArray;selectedNodeId;selectedLinkArray;saveGraphData;width;showSearch=!1;savedGraphData;showConfirmation=!1;buttonBarRightPosition;editLinksData=null;editNodeData=null;readOnly=!0;zoom=!0;controls=!1;zoomToFit=!1;modalsComponent;constructor(n,r,i,o){this.visualiserGraphService=n,this.contextMenuService=r,this.dagreNodesOnlyLayout=i,this.dexieService=o}set data(n){var r=this;n&&n.dataId?(this.savedGraphData=n,setTimeout(H(function*(){r.dagreNodesOnlyLayout.renderLayout(n),yield r.dexieService.saveGraphData(n),r.visualiserGraphService.update(n,r.graphElement.nativeElement,r.zoom,r.zoomToFit)}),500)):console.error("Invalid data input")}ngOnInit(){this.buttonBarRightPosition="0",this.updateWidth(),this.savedGraphData||(console.warn("No data provided, using empty data set"),this.data={dataId:"1",nodes:[],links:[]}),this.visualiserGraphService.selectedNodesArray.subscribe(n=>{this.selectedNodesArray=n}),this.visualiserGraphService.dblClickNodePayload.subscribe(n=>{this.selectedNodeId=n[0].id,this.readOnly||this.handleEditNodesEvent(!0)}),this.visualiserGraphService.dblClickLinkPayload.subscribe(n=>{this.selectedLinkArray=n,this.readOnly||this.onEditLinkLabel()}),this.visualiserGraphService.selectedLinkArray.subscribe(n=>{this.selectedLinkArray=n})}toggleSearch(){this.showSearch=!this.showSearch,this.showSearch&&setTimeout(()=>{const n=document.querySelector("#searchInput");n?(n.focus(),n.setSelectionRange(0,0)):console.error("Search input not found.")},0)}onResize(n){this.updateWidth()}updateWidth(){this.width=document.getElementById("pageId").offsetWidth}visualiserContextMenus(n){var r=this;return H(function*(){if(r.readOnly)return;if(!r.savedGraphData)return void console.error("savedGraphData is not set");let i,o;const s=n.target,a=s.localName,l=s.parentNode.id,c=s.parentNode.__data__;r.selectedNodeId=s.id||c&&c.id,2===r.selectedNodesArray?.length?(i=r.contextMenu.createEditLinkContextMenu,o={graphData:r.savedGraphData,selectedNodes:r.selectedNodesArray}):"text"===a||"image"===a||"nodeText"===l?(i=r.contextMenu.editNodeContextMenu,o=r.selectedNodeId):"textPath"===a?(i=r.contextMenu.editLinkLabelContextMenu,o=r.selectedLinkArray):"svg"===a&&(i=r.contextMenu.findCreateNodesContextMenu,o="item"),r.contextMenuService.show.next({contextMenu:i,event:n,item:o}),n.stopPropagation(),n.preventDefault();const u=yield r.dexieService.getGraphData(r.savedGraphData.dataId);2===r.selectedNodesArray?.length&&(o.graphData=u)})()}findCreateNodesEvent(n){"findNodes"===n?this.toggleSearch():"createNode"===n&&this.opencreateNodeModal()}opencreateNodeModal(){this.modalsComponent.openModal(this.modalsComponent.createNodeModal)}onConfirmSave(){var n=this;return H(function*(){var r;n.savedGraphData?bootbox.confirm({title:"Save Graph",centerVertical:!0,message:"Are you sure you want to save the graph?",buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},callback:(r=H(function*(i){i&&(n.visualiserGraphService.saveGraphData.subscribe(o=>{n.saveGraphData=o}),n.saveGraphDataEvent.emit(n.saveGraphData),n.disableButtons(!0),n.data=n.saveGraphData,n.showConfirmationMessage())}),function(o){return r.apply(this,arguments)})}):console.error("savedGraphData is not set")})()}onCreateNode(n){var r=this;return H(function*(){if(!r.savedGraphData)return void console.error("savedGraphData is not set");const i=yield r.dexieService.getGraphData(r.savedGraphData.dataId),o=i.nodes.findIndex(s=>s.id===n.id);if(-1===o){let s;do{s=crypto.getRandomValues(new Uint32Array(1))[0]}while(i.nodes.some(a=>a.id===s.toString()));n.id=s.toString()}var s;bootbox.confirm({title:"Creating node",centerVertical:!0,message:"Creating a node will save graph data, are you sure?",buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},callback:(s=H(function*(a){a&&(-1!==o?i.nodes[o]=n:i.nodes.push(n),r.data=i,r.saveGraphDataEvent.emit(i))}),function(l){return s.apply(this,arguments)})})})()}onCreateLink(n){var r=this;return H(function*(){var d;if(r.savedGraphData)if(2===r.selectedNodesArray.length){const i=r.selectedNodesArray[0],o=r.selectedNodesArray[1],s=yield r.dexieService.getGraphData(r.savedGraphData.dataId),a=s.links.reduce((d,h)=>d.concat(h.relationships.map(g=>g.labelIndex)),[]);let l=Math.max(...a,0)+1;const c=n.label.map(d=>({labelIndex:void 0!==d.labelIndex?d.labelIndex:l++,label:d.label,source:i.id,target:o.id,linkIcon:d.linkIcon})),u={source:i.id,target:o.id,lineStyle:n.lineStyle,sourceArrow:n.sourceArrow,targetArrow:n.targetArrow,linkId:`${i.id}_${o.id}`,relationships:c};bootbox.confirm({title:"Creating link",centerVertical:!0,message:"Creating a link will save graph data, are you sure?",buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},callback:(d=H(function*(h){if(h){const g=s.links.findIndex(_=>_.linkId===`${i.id}_${o.id}`||_.linkId===`${o.id}_${i.id}`);-1!==g?s.links[g]=u:s.links.push(u),r.data=s,r.saveGraphDataEvent.emit(s)}}),function(g){return d.apply(this,arguments)})})}else console.error("Please select exactly two nodes to create a link.");else console.error("savedGraphData is not set")})()}onDeleteNode(){var n=this;return H(function*(){var r;n.savedGraphData?bootbox.confirm({title:"Deleting node",centerVertical:!0,message:"Deleting a node will save graph data, are you sure? This will also delete all links associated with this node.",buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},callback:(r=H(function*(i){if(i){const o=yield n.dexieService.getGraphData(n.savedGraphData.dataId);o.nodes=o.nodes.filter(s=>s.id!==n.selectedNodeId),o.links=o.links.filter(s=>s.source!==n.selectedNodeId&&s.target!==n.selectedNodeId),n.data=o,n.saveGraphDataEvent.emit(o)}}),function(o){return r.apply(this,arguments)})}):console.error("savedGraphData is not set")})()}onDeleteLink(n){var r=this;return H(function*(){var i;r.savedGraphData?bootbox.confirm({title:"Deleting link",centerVertical:!0,message:"Deleting a link will save graph data, are you sure?",buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},callback:(i=H(function*(o){if(o){const s=yield r.dexieService.getGraphData(r.savedGraphData.dataId),a=s.links.findIndex(l=>l.linkId===n);-1!==a&&(s.links.splice(a,1),r.data=s,r.saveGraphDataEvent.emit(s))}}),function(s){return i.apply(this,arguments)})}):console.error("savedGraphData is not set")})()}onEditLinkLabel(){var n=this;return H(function*(){var r;n.savedGraphData?bootbox.prompt({title:"Editing a link label will save graph data, are you sure?",centerVertical:!0,value:n.selectedLinkArray[0].label,callback:(r=H(function*(i){if(i){n.selectedLinkArray[0].label=i;const o=yield n.dexieService.getGraphData(n.savedGraphData.dataId),s=o.links.find(a=>a.source===n.selectedLinkArray[0].source.id&&a.target===n.selectedLinkArray[0].target.id||a.source===n.selectedLinkArray[0].target.id&&a.target===n.selectedLinkArray[0].source.id);if(s){const a=s.relationships.find(l=>l.labelIndex===n.selectedLinkArray[0].labelIndex);a&&(a.label=i),n.data=o,n.saveGraphDataEvent.emit(o)}else console.error("Link not found.")}}),function(o){return r.apply(this,arguments)})}):console.error("savedGraphData is not set")})()}handleEditLinksEvent(n){n.open&&(this.modalsComponent.openModal(this.modalsComponent.editLinksModal),this.editLinksData=n.data)}handleEditNodesEvent(n){var r=this;return H(function*(){if(n){r.modalsComponent.openModal(r.modalsComponent.editNodeModal);const i=yield r.dexieService.getGraphData(r.savedGraphData.dataId);r.editNodeData=i.nodes.find(o=>o.id===r.selectedNodeId)}})()}resetGraph(){var n=this;return H(function*(){if(!n.savedGraphData)return void console.error("savedGraphData is not set");const r=yield n.dexieService.getGraphData(n.savedGraphData.dataId);n.disableButtons(!0),n.visualiserGraphService.resetGraph(r,n.graphElement.nativeElement,n.zoom,n.zoomToFit)})()}applyLayout(){var n=this;return H(function*(){if(!n.savedGraphData)return void console.error("savedGraphData is not set");const r=yield n.dexieService.getGraphData(n.savedGraphData.dataId),i=n.dagreNodesOnlyLayout.initRenderLayout(r);n.visualiserGraphService.resetGraph(i,n.graphElement.nativeElement,n.zoom,n.zoomToFit),n.enableButtons()})()}disableButtons(n){document.querySelectorAll("#save_graph, #reset_graph").forEach(r=>{r.setAttribute("disabled",String(n))})}showConfirmationMessage(){this.showConfirmation=!0,setTimeout(()=>{this.showConfirmation=!1},3e3)}enableButtons(){const n=document.getElementById("save_graph"),r=document.getElementById("reset_graph");n.removeAttribute("disabled"),r.removeAttribute("disabled")}ngAfterViewInit(){this.registerDragElement()}registerDragElement(){const n=document.getElementById("draggable");let r=0,i=0,o=0,s=0;const a=u=>{u.preventDefault(),o=u.clientX,s=u.clientY,document.onmouseup=c,document.onmousemove=l},l=u=>{this.buttonBarRightPosition=null,r=o-u.clientX,i=s-u.clientY,o=u.clientX,s=u.clientY;const h=window.innerHeight-n.offsetHeight;let g=n.offsetLeft-r,_=n.offsetTop-i;g=Math.max(0,Math.min(g,this.width-n.offsetWidth)),_=Math.max(0,Math.min(_,h)),n.style.left=`${g}px`,n.style.top=`${_}px`},c=()=>{document.onmouseup=null,document.onmousemove=null};document.getElementById(n.id+"Handle")?document.getElementById(n.id+"Handle").onmousedown=a:n.onmousedown=a}openModal(n){const r=this.modalsComponent[n];r?this.modalsComponent.openModal(r):console.error(`Modal template ${n} is not available.`)}static \u0275fac=function(r){return new(r||e)(ve(Ase),ve(uD),ve(kse),ve(O3))};static \u0275cmp=$e({type:e,selectors:[["visualiser-graph"]],viewQuery:function(r,i){if(1&r&&(hr(Nfe,5),hr(b8,5),hr(u4,5)),2&r){let o;an(o=ln())&&(i.graphElement=o.first),an(o=ln())&&(i.contextMenu=o.first),an(o=ln())&&(i.modalsComponent=o.first)}},inputs:{zoom:"zoom",zoomToFit:"zoomToFit",data:"data"},outputs:{saveGraphDataEvent:"saveGraphDataEvent"},decls:11,vars:9,consts:[["svgId",""],["id","pageId",1,"page",3,"resize"],["id","draggable",1,"buttonBar"],[4,"ngIf"],["id","noMatchesText",1,"noMatchesText","float-right",3,"hidden"],["class","zoomIndicator",4,"ngIf"],["class","confirmation-message-container",4,"ngIf"],[3,"editNodeContextMenuEvent","findCreateNodesContextMenuEvent","createLinkContextMenuEvent","editLinkLabelContextMenuEvent","editLinksContextMenuEvent"],[3,"createLinkEvent","createNodeEvent","deleteLinkEvent","deleteNodeEvent","editNodeData","editLinksData"],["height","780",3,"contextmenu"],[1,"d-flex","justify-content-end"],["role","group","aria-label","Controls",1,"btn-group"],["type","button","id","draggableHandle","data-toggle","tooltip","data-placement","top","title","Move toolbar",1,"btn","btn-light"],[1,"bi","bi-grip-vertical"],["type","button","id","dagre_layout","data-toggle","tooltip","data-placement","top","title","Dagre layout",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-diagram-3"],["type","button","id","save_graph","data-toggle","tooltip","data-placement","top","title","Save data",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-save"],["type","button","id","reset_graph","data-toggle","tooltip","data-placement","top","title","Reset data",1,"btn","btn-secondary",3,"click"],[1,"bi","bi-skip-backward"],["type","button","class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","Zoom in","id","zoom_in",4,"ngIf"],["type","button","class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","Zoom out","id","zoom_out",4,"ngIf"],["type","button","class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","Zoom reset","id","zoom_reset","disabled","true",4,"ngIf"],["type","button","class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","Zoom to fit","id","zoom_to_fit",4,"ngIf"],["type","button","class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","Select all","id","select_all",4,"ngIf"],["type","button","class","btn btn-secondary","data-toggle","tooltip","data-placement","top","title","Invert selection","id","toggle_selection",4,"ngIf"],["type","button","data-toggle","tooltip","data-placement","top","title","Toggle search","id","toggle_search",1,"btn","btn-secondary",3,"click","ngClass"],[1,"bi","bi-search"],[1,"search","float-right","input-group","mt-3","pr-0",3,"hidden"],[1,"input-group-prepend"],["type","button","id","prevButton","data-toggle","tooltip","data-placement","top","title","Previous","disabled","",1,"btn","btn-secondary"],[1,"bi","bi-arrow-left-square"],["type","button","id","nextButton","data-toggle","tooltip","data-placement","top","title","Next","disabled","",1,"btn","btn-secondary"],[1,"bi","bi-arrow-right-square"],["type","text","id","searchInput","placeholder","Search","aria-label","Search","aria-describedby","search",1,"form-control"],[1,"input-group-append"],["type","button","id","searchButton","data-toggle","tooltip","data-placement","top","title","Search",1,"btn","btn-outline-secondary"],["type","button","id","clearButton","data-toggle","tooltip","data-placement","top","title","Clear","disabled","",1,"btn","btn-outline-secondary"],["type","button","data-toggle","tooltip","data-placement","top","title","Zoom in","id","zoom_in",1,"btn","btn-secondary"],[1,"bi","bi-zoom-in"],["type","button","data-toggle","tooltip","data-placement","top","title","Zoom out","id","zoom_out",1,"btn","btn-secondary"],[1,"bi","bi-zoom-out"],["type","button","data-toggle","tooltip","data-placement","top","title","Zoom reset","id","zoom_reset","disabled","true",1,"btn","btn-secondary"],[1,"bi","bi-arrow-counterclockwise"],["type","button","data-toggle","tooltip","data-placement","top","title","Zoom to fit","id","zoom_to_fit",1,"btn","btn-secondary"],[1,"bi","bi-arrows-fullscreen"],["type","button","data-toggle","tooltip","data-placement","top","title","Select all","id","select_all",1,"btn","btn-secondary"],[1,"bi","bi-grid-fill"],["type","button","data-toggle","tooltip","data-placement","top","title","Invert selection","id","toggle_selection",1,"btn","btn-secondary"],[1,"bi","bi-ui-checks-grid"],[1,"zoomIndicator"],["id","zoom_level"],[1,"confirmation-message-container"],["role","alert",1,"alert","alert-success","confirmation-message",3,"ngClass"],[1,"bi","bi-check-circle"]],template:function(r,i){if(1&r){const o=Kn();le(0,"div",1),ft("resize",function(a){return rt(o),it(i.onResize(a))},0,Mo),le(1,"div",2),Ht(2,jfe,32,11,"div",3),le(3,"div",4),Ye(4,"No matches found"),ye()(),Ht(5,Ufe,2,0,"div",5)(6,zfe,4,3,"div",6),le(7,"app-context-menus",7),ft("editNodeContextMenuEvent",function(a){return rt(o),it(i.handleEditNodesEvent(a))})("findCreateNodesContextMenuEvent",function(a){return rt(o),it(i.findCreateNodesEvent(a))})("createLinkContextMenuEvent",function(){return rt(o),it(i.openModal("createLinkModal"))})("editLinkLabelContextMenuEvent",function(){return rt(o),it(i.onEditLinkLabel())})("editLinksContextMenuEvent",function(a){return rt(o),it(i.handleEditLinksEvent(a))}),ye(),le(8,"app-modals",8),ft("createLinkEvent",function(a){return rt(o),it(i.onCreateLink(a))})("createNodeEvent",function(a){return rt(o),it(i.onCreateNode(a))})("deleteLinkEvent",function(a){return rt(o),it(i.onDeleteLink(a))})("deleteNodeEvent",function(){return rt(o),it(i.onDeleteNode())}),ye(),function Tx(){Ot.lFrame.currentNamespace="svg"}(),le(9,"svg",9,0),ft("contextmenu",function(a){return rt(o),it(i.visualiserContextMenus(a))}),ye()()}2&r&&(ke(),Hb("right",i.buttonBarRightPosition),ke(),nt("ngIf",i.controls),ke(),nt("hidden",!i.showSearch),ke(2),nt("ngIf",i.zoom),ke(),nt("ngIf",i.showConfirmation),ke(2),nt("editNodeData",i.editNodeData)("editLinksData",i.editLinksData),ke(),si("width",i.width))},dependencies:[Mm,Sm,b8,u4],styles:["#zoom_level[_ngcontent-%COMP%]{position:relative;background-color:#000c;color:#fff;padding:5px;border-radius:5px;opacity:0;transition:opacity 1s ease-in-out}.buttonBar[_ngcontent-%COMP%]{position:absolute;padding:10px}.zoomIndicator[_ngcontent-%COMP%]{position:absolute;left:0;padding:10px}.noMatchesText[_ngcontent-%COMP%]{opacity:0;transition:opacity .5s;color:red}.noMatchesText.show[_ngcontent-%COMP%]{opacity:1}@keyframes _ngcontent-%COMP%_floatInFromTop{0%{opacity:0;transform:translateY(-100%)}to{opacity:1;transform:translateY(0)}}.input-group[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_floatInFromTop;animation-duration:.3s;animation-fill-mode:forwards;position:relative;width:407px}.searchButtonActive[_ngcontent-%COMP%]{outline:none;box-shadow:inset 0 0 5px #323232}.searchButtonActive[_ngcontent-%COMP%]:focus, .searchButtonActive[_ngcontent-%COMP%]:active{outline:none;box-shadow:inset 0 0 5px #323232}.searchButtonInactive[_ngcontent-%COMP%]{opacity:1;outline:none;box-shadow:none;background-color:#6c757d!important;border-color:#6c757d!important}.confirmation-message-container[_ngcontent-%COMP%]{position:absolute;left:50%;transform:translate(-50%)}.confirmation-message[_ngcontent-%COMP%]{position:relative;top:60px;opacity:0;animation:_ngcontent-%COMP%_fade-in .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.fade-out[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-out .5s ease-in-out forwards}@keyframes _ngcontent-%COMP%_fade-out{0%{opacity:1}to{opacity:0}}#draggableHandle[_ngcontent-%COMP%]{cursor:move}"]})}return e})(),Gfe=(()=>{class e{title="ngx-relationship-visualiser";mockedData=gq;saveGraphData(n){console.log("saved Data",n)}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=$e({type:e,selectors:[["app-root"]],decls:1,vars:3,consts:[[3,"saveGraphDataEvent","data","zoom","zoomToFit"]],template:function(r,i){1&r&&(le(0,"visualiser-graph",0),ft("saveGraphDataEvent",function(s){return i.saveGraphData(s)}),ye()),2&r&&nt("data",i.mockedData)("zoom",!0)("zoomToFit",!1)},dependencies:[$fe],encapsulation:2})}return e})(),Wfe=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=vt({type:e});static \u0275inj=ar({imports:[$2,Qce,Yue.forRoot(),Yle.forRoot({useBootstrap4:!0}),ofe,Xce]})}return e})(),qfe=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=vt({type:e,bootstrap:[Gfe]});static \u0275inj=ar({imports:[$2,Wfe]})}return e})();uq().bootstrapModule(qfe).catch(e=>console.error(e))},5505:function(Pe){Pe.exports=function(){"use strict";var ht=function(f,p){return(ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,b){m.__proto__=b}||function(m,b){for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(m[E]=b[E])})(f,p)},j=function(){return(j=Object.assign||function(f){for(var p,m=1,b=arguments.length;m<b;m++)for(var E in p=arguments[m])Object.prototype.hasOwnProperty.call(p,E)&&(f[E]=p[E]);return f}).apply(this,arguments)};function fe(f,p,m){if(m||2===arguments.length)for(var b,E=0,M=p.length;E<M;E++)!b&&E in p||((b=b||Array.prototype.slice.call(p,0,E))[E]=p[E]);return f.concat(b||Array.prototype.slice.call(p))}var J=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,H=Object.keys,W=Array.isArray;function R(f,p){return"object"!=typeof p||H(p).forEach(function(m){f[m]=p[m]}),f}typeof Promise>"u"||J.Promise||(J.Promise=Promise);var B=Object.getPrototypeOf,I={}.hasOwnProperty;function N(f,p){return I.call(f,p)}function x(f,p){"function"==typeof p&&(p=p(B(f))),(typeof Reflect>"u"?H:Reflect.ownKeys)(p).forEach(function(m){U(f,m,p[m])})}var k=Object.defineProperty;function U(f,p,m,b){k(f,p,R(m&&N(m,"get")&&"function"==typeof m.get?{get:m.get,set:m.set,configurable:!0}:{value:m,configurable:!0,writable:!0},b))}function z(f){return{from:function(p){return f.prototype=Object.create(p.prototype),U(f.prototype,"constructor",f),{extend:x.bind(null,f.prototype)}}}}var ge=Object.getOwnPropertyDescriptor,we=[].slice;function Re(f,p,m){return we.call(f,p,m)}function pt(f,p){return p(f)}function Ie(f){if(!f)throw new Error("Assertion Failed")}function ze(f){J.setImmediate?setImmediate(f):setTimeout(f,0)}function pe(f,p){if("string"==typeof p&&N(f,p))return f[p];if(!p)return f;if("string"!=typeof p){for(var m=[],b=0,E=p.length;b<E;++b){var M=pe(f,p[b]);m.push(M)}return m}var A=p.indexOf(".");if(-1!==A){var O=f[p.substr(0,A)];return null==O?void 0:pe(O,p.substr(A+1))}}function xe(f,p,m){if(f&&void 0!==p&&(!("isFrozen"in Object)||!Object.isFrozen(f)))if("string"!=typeof p&&"length"in p){Ie("string"!=typeof m&&"length"in m);for(var b=0,E=p.length;b<E;++b)xe(f,p[b],m[b])}else{var M,A,O=p.indexOf(".");-1!==O?(M=p.substr(0,O),""===(A=p.substr(O+1))?void 0===m?W(f)&&!isNaN(parseInt(M))?f.splice(M,1):delete f[M]:f[M]=m:xe(O=(O=f[M])&&N(f,M)?O:f[M]={},A,m)):void 0===m?W(f)&&!isNaN(parseInt(p))?f.splice(p,1):delete f[p]:f[p]=m}}function Be(f){var p,m={};for(p in f)N(f,p)&&(m[p]=f[p]);return m}var Je=[].concat;function et(f){return Je.apply([],f)}var Yo="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(et([8,16,32,64].map(function(f){return["Int","Uint","Float"].map(function(p){return p+f+"Array"})}))).filter(function(f){return J[f]}),wt=new Set(Yo.map(function(f){return J[f]})),se=null;function me(f){return se=new WeakMap,f=function p(m){if(!m||"object"!=typeof m)return m;var b=se.get(m);if(b)return b;if(W(m)){se.set(m,b=[]);for(var E=0,M=m.length;E<M;++E)b.push(p(m[E]))}else if(wt.has(m.constructor))b=m;else{var A,O=B(m);for(A in b=O===Object.prototype?{}:Object.create(O),se.set(m,b),m)N(m,A)&&(b[A]=p(m[A]))}return b}(f),se=null,f}var Se={}.toString;function Ae(f){return Se.call(f).slice(8,-1)}var je=typeof Symbol<"u"?Symbol.iterator:"@@iterator",At="symbol"==typeof je?function(f){var p;return null!=f&&(p=f[je])&&p.apply(f)}:function(){return null};function kt(f,p){return 0<=(p=f.indexOf(p))&&f.splice(p,1),0<=p}var dn={};function Jn(f){var p,m,b,E;if(1===arguments.length){if(W(f))return f.slice();if(this===dn&&"string"==typeof f)return[f];if(E=At(f)){for(m=[];!(b=E.next()).done;)m.push(b.value);return m}if(null==f)return[f];if("number"!=typeof(p=f.length))return[f];for(m=new Array(p);p--;)m[p]=f[p];return m}for(p=arguments.length,m=new Array(p);p--;)m[p]=arguments[p];return m}var Li=typeof Symbol<"u"?function(f){return"AsyncFunction"===f[Symbol.toStringTag]}:function(){return!1},br=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(zo=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),ec={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ho(f,p){this.name=f,this.message=p}function tc(f,p){return f+". Errors: "+Object.keys(p).map(function(m){return p[m].toString()}).filter(function(m,b,E){return E.indexOf(m)===b}).join("\n")}function Qi(f,p,m,b){this.failures=p,this.failedKeys=b,this.successCount=m,this.message=tc(f,p)}function po(f,p){this.name="BulkError",this.failures=Object.keys(p).map(function(m){return p[m]}),this.failuresByPos=p,this.message=tc(f,this.failures)}z(ho).from(Error).extend({toString:function(){return this.name+": "+this.message}}),z(Qi).from(ho),z(po).from(ho);var Ee=br.reduce(function(f,p){return f[p]=p+"Error",f},{}),Oe=ho,ae=br.reduce(function(f,p){var m=p+"Error";function b(E,M){this.name=m,E?"string"==typeof E?(this.message="".concat(E).concat(M?"\n "+M:""),this.inner=M||null):"object"==typeof E&&(this.message="".concat(E.name," ").concat(E.message),this.inner=E):(this.message=ec[p]||m,this.inner=null)}return z(b).from(Oe),f[p]=b,f},{});ae.Syntax=SyntaxError,ae.Type=TypeError,ae.Range=RangeError;var dt=zo.reduce(function(f,p){return f[p+"Error"]=ae[p],f},{}),Ut=br.reduce(function(f,p){return-1===["Syntax","Type","Range"].indexOf(p)&&(f[p+"Error"]=ae[p]),f},{});function Et(){}function wn(f){return f}function Ar(f,p){return null==f||f===wn?p:function(m){return p(f(m))}}function Ji(f,p){return function(){f.apply(this,arguments),p.apply(this,arguments)}}function ei(f,p){return f===Et?p:function(){var m=f.apply(this,arguments);void 0!==m&&(arguments[0]=m);var b=this.onsuccess,E=this.onerror;this.onsuccess=null,this.onerror=null;var M=p.apply(this,arguments);return b&&(this.onsuccess=this.onsuccess?Ji(b,this.onsuccess):b),E&&(this.onerror=this.onerror?Ji(E,this.onerror):E),void 0!==M?M:m}}function er(f,p){return f===Et?p:function(){f.apply(this,arguments);var m=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,p.apply(this,arguments),m&&(this.onsuccess=this.onsuccess?Ji(m,this.onsuccess):m),b&&(this.onerror=this.onerror?Ji(b,this.onerror):b)}}function go(f,p){return f===Et?p:function(m){var b=f.apply(this,arguments);R(m,b);var E=this.onsuccess,M=this.onerror;return this.onsuccess=null,this.onerror=null,m=p.apply(this,arguments),E&&(this.onsuccess=this.onsuccess?Ji(E,this.onsuccess):E),M&&(this.onerror=this.onerror?Ji(M,this.onerror):M),void 0===b?void 0===m?void 0:m:R(b,m)}}function Hr(f,p){return f===Et?p:function(){return!1!==p.apply(this,arguments)&&f.apply(this,arguments)}}function Vi(f,p){return f===Et?p:function(){var m=f.apply(this,arguments);if(m&&"function"==typeof m.then){for(var b=this,E=arguments.length,M=new Array(E);E--;)M[E]=arguments[E];return m.then(function(){return p.apply(b,M)})}return p.apply(this,arguments)}}Ut.ModifyError=Qi,Ut.DexieError=ho,Ut.BulkError=po;var ti=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function oa(f){ti=f}var zo,As={},my=100,Jt=(br=(br=(Yo=typeof Promise>"u"?[]:function(){var f=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[f,B(f),f];var p=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[p,B(p),f]}())[1])&&br.then,(zo=Yo[0])&&zo.constructor),nc=!!(Yo=Yo[2]),$o=function(f,p){ic.push([f,p]),Un&&(queueMicrotask(_y),Un=!1)},op=!0,Un=!0,Go=[],rc=[],Qu=wn,Di={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Et,pgp:!1,env:{},finalize:Et},_t=Di,ic=[],Wo=0,$n=[];function tt(f){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var p=this._PSD=_t;if("function"!=typeof f){if(f!==As)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&oc(this,this._value))}this._state=null,this._value=null,++p.ref,function m(b,E){try{E(function(M){if(null===b._state){if(M===b)throw new TypeError("A promise cannot be resolved with itself.");var A=b._lib&&xi();M&&"function"==typeof M.then?m(b,function(O,$){M instanceof tt?M._then(O,$):M.then(O,$)}):(b._state=!0,b._value=M,ap(b)),A&&sa()}},oc.bind(null,b))}catch(M){oc(b,M)}}(this,f)}var sp={get:function(){var f=_t,p=td;function m(b,E){var M=this,A=!f.global&&(f!==_t||p!==td),O=A&&!ni(),$=new tt(function(q,X){_n(M,new qo(vy(b,f,A,O),vy(E,f,A,O),q,X,f))});return this._consoleTask&&($._consoleTask=this._consoleTask),$}return m.prototype=As,m},set:function(f){U(this,"then",f&&f.prototype===As?sp:{get:function(){return f},set:sp.set})}};function qo(f,p,m,b,E){this.onFulfilled="function"==typeof f?f:null,this.onRejected="function"==typeof p?p:null,this.resolve=m,this.reject=b,this.psd=E}function oc(f,p){var m,b;rc.push(p),null===f._state&&(m=f._lib&&xi(),p=Qu(p),f._state=!1,f._value=p,b=f,Go.some(function(E){return E._value===b._value})||Go.push(b),ap(f),m&&sa())}function ap(f){var p=f._listeners;f._listeners=[];for(var m=0,b=p.length;m<b;++m)_n(f,p[m]);var E=f._PSD;--E.ref||E.finalize(),0===Wo&&(++Wo,$o(function(){0==--Wo&&Ju()},[]))}function _n(f,p){if(null!==f._state){var m=f._state?p.onFulfilled:p.onRejected;if(null===m)return(f._state?p.resolve:p.reject)(f._value);++p.psd.ref,++Wo,$o(lp,[m,f,p])}else f._listeners.push(p)}function lp(f,p,m){try{var b,E=p._value;!p._state&&rc.length&&(rc=[]),b=ti&&p._consoleTask?p._consoleTask.run(function(){return f(E)}):f(E),p._state||-1!==rc.indexOf(E)||function(M){for(var A=Go.length;A;)if(Go[--A]._value===M._value)return Go.splice(A,1)}(p),m.resolve(b)}catch(M){m.reject(M)}finally{0==--Wo&&Ju(),--m.psd.ref||m.psd.finalize()}}function _y(){Mi(Di,function(){xi()&&sa()})}function xi(){var f=op;return Un=op=!1,f}function sa(){var f,p,m;do{for(;0<ic.length;)for(f=ic,ic=[],m=f.length,p=0;p<m;++p){var b=f[p];b[0].apply(null,b[1])}}while(0<ic.length);Un=op=!0}function Ju(){var f=Go;Go=[],f.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)});for(var p=$n.slice(0),m=p.length;m;)p[--m]()}function ed(f){return new tt(As,!1,f)}function kn(f,p){var m=_t;return function(){var b=xi(),E=_t;try{return vo(m,!0),f.apply(this,arguments)}catch(M){p&&p(M)}finally{vo(E,!1),b&&sa()}}}x(tt.prototype,{then:sp,_then:function(f,p){_n(this,new qo(null,null,f,p,_t))},catch:function(f){if(1===arguments.length)return this.then(null,f);var p=f,m=arguments[1];return this.then(null,"function"==typeof p?function(b){return(b instanceof p?m:ed)(b)}:function(b){return(b&&b.name===p?m:ed)(b)})},finally:function(f){return this.then(function(p){return tt.resolve(f()).then(function(){return p})},function(p){return tt.resolve(f()).then(function(){return ed(p)})})},timeout:function(f,p){var m=this;return f<1/0?new tt(function(b,E){var M=setTimeout(function(){return E(new ae.Timeout(p))},f);m.then(b,E).finally(clearTimeout.bind(null,M))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&U(tt.prototype,Symbol.toStringTag,"Dexie.Promise"),Di.env=sc(),x(tt,{all:function(){var f=Jn.apply(null,arguments).map(_o);return new tt(function(p,m){0===f.length&&p([]);var b=f.length;f.forEach(function(E,M){return tt.resolve(E).then(function(A){f[M]=A,--b||p(f)},m)})})},resolve:function(f){return f instanceof tt?f:f&&"function"==typeof f.then?new tt(function(p,m){f.then(p,m)}):new tt(As,!0,f)},reject:ed,race:function(){var f=Jn.apply(null,arguments).map(_o);return new tt(function(p,m){f.map(function(b){return tt.resolve(b).then(p,m)})})},PSD:{get:function(){return _t},set:function(f){return _t=f}},totalEchoes:{get:function(){return td}},newPSD:mo,usePSD:Mi,scheduler:{get:function(){return $o},set:function(f){$o=f}},rejectionMapper:{get:function(){return Qu},set:function(f){Qu=f}},follow:function(f,p){return new tt(function(m,b){return mo(function(E,M){var A=_t;A.unhandleds=[],A.onunhandled=M,A.finalize=Ji(function(){var O,$=this;O=function(){0===$.unhandleds.length?E():M($.unhandleds[0])},$n.push(function q(){O(),$n.splice($n.indexOf(q),1)}),++Wo,$o(function(){0==--Wo&&Ju()},[])},A.finalize),f()},p,m,b)})}}),Jt&&(Jt.allSettled&&U(tt,"allSettled",function(){var f=Jn.apply(null,arguments).map(_o);return new tt(function(p){0===f.length&&p([]);var m=f.length,b=new Array(m);f.forEach(function(E,M){return tt.resolve(E).then(function(A){return b[M]={status:"fulfilled",value:A}},function(A){return b[M]={status:"rejected",reason:A}}).then(function(){return--m||p(b)})})})}),Jt.any&&typeof AggregateError<"u"&&U(tt,"any",function(){var f=Jn.apply(null,arguments).map(_o);return new tt(function(p,m){0===f.length&&m(new AggregateError([]));var b=f.length,E=new Array(b);f.forEach(function(M,A){return tt.resolve(M).then(function(O){return p(O)},function(O){E[A]=O,--b||m(new AggregateError(E))})})})}),Jt.withResolvers&&(tt.withResolvers=Jt.withResolvers));var Me={awaits:0,echoes:0,id:0},aa=0,ks=[],za=0,td=0,WD=0;function mo(f,p,m,b){var E=_t,M=Object.create(E);return M.parent=E,M.ref=0,M.global=!1,M.id=++WD,M.env=nc?{Promise:tt,PromiseProp:{value:tt,configurable:!0,writable:!0},all:tt.all,race:tt.race,allSettled:tt.allSettled,any:tt.any,resolve:tt.resolve,reject:tt.reject}:{},p&&R(M,p),++E.ref,M.finalize=function(){--this.parent.ref||this.parent.finalize()},b=Mi(M,f,m,b),0===M.ref&&M.finalize(),b}function jr(){return Me.id||(Me.id=++aa),++Me.awaits,Me.echoes+=my,Me.id}function ni(){return!!Me.awaits&&(0==--Me.awaits&&(Me.id=0),Me.echoes=Me.awaits*my,!0)}function _o(f){return Me.echoes&&f&&f.constructor===Jt?(jr(),f.then(function(p){return ni(),p},function(p){return ni(),tr(p)})):f}function la(){var f=ks[ks.length-1];ks.pop(),vo(f,!1)}function vo(f,p){var m,b=_t;(p?!Me.echoes||za++&&f===_t:!za||--za&&f===_t)||queueMicrotask(p?function(E){++td,Me.echoes&&0!=--Me.echoes||(Me.echoes=Me.awaits=Me.id=0),ks.push(_t),vo(E,!0)}.bind(null,f):la),f!==_t&&(_t=f,b===Di&&(Di.env=sc()),nc&&(m=Di.env.Promise,p=f.env,(b.global||f.global)&&(Object.defineProperty(J,"Promise",p.PromiseProp),m.all=p.all,m.race=p.race,m.resolve=p.resolve,m.reject=p.reject,p.allSettled&&(m.allSettled=p.allSettled),p.any&&(m.any=p.any))))}function sc(){var f=J.Promise;return nc?{Promise:f,PromiseProp:Object.getOwnPropertyDescriptor(J,"Promise"),all:f.all,race:f.race,allSettled:f.allSettled,any:f.any,resolve:f.resolve,reject:f.reject}:{}}function Mi(f,p,m,b,E){var M=_t;try{return vo(f,!0),p(m,b,E)}finally{vo(M,!1)}}function vy(f,p,m,b){return"function"!=typeof f?f:function(){var E=_t;m&&jr(),vo(p,!0);try{return f.apply(this,arguments)}finally{vo(E,!1),b&&queueMicrotask(ni)}}}function fn(f){Promise===Jt&&0===Me.echoes?0===za?f():enqueueNativeMicroTask(f):setTimeout(f,0)}-1===(""+br).indexOf("[native code]")&&(jr=ni=Et);var tr=tt.reject,Yt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",cp="String expected.",Fn=[],ua="__dbnames",up="readonly",nd="readwrite";function rn(f,p){return f?p?function(){return f.apply(this,arguments)&&p.apply(this,arguments)}:f:p}var It={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ns(f){return"string"!=typeof f||/\./.test(f)?function(p){return p}:function(p){return void 0===p[f]&&f in p&&delete(p=me(p))[f],p}}function Ur(){throw ae.Type()}function en(f,p){try{var m=dp(f),b=dp(p);if(m!==b)return"Array"===m?1:"Array"===b?-1:"binary"===m?1:"binary"===b?-1:"string"===m?1:"string"===b?-1:"Date"===m?1:"Date"!==b?NaN:-1;switch(m){case"number":case"Date":case"string":return p<f?1:f<p?-1:0;case"binary":return function(E,M){for(var A=E.length,O=M.length,$=A<O?A:O,q=0;q<$;++q)if(E[q]!==M[q])return E[q]<M[q]?-1:1;return A===O?0:A<O?-1:1}(yy(f),yy(p));case"Array":return function(E,M){for(var A=E.length,O=M.length,$=A<O?A:O,q=0;q<$;++q){var X=en(E[q],M[q]);if(0!==X)return X}return A===O?0:A<O?-1:1}(f,p)}}catch{}return NaN}function dp(f){var p=typeof f;return"object"!=p?p:ArrayBuffer.isView(f)||"ArrayBuffer"===(f=Ae(f))?"binary":f}function yy(f){return f instanceof Uint8Array?f:ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength):new Uint8Array(f)}var yo=(Pn.prototype._trans=function(f,p,m){var b=this._tx||_t.trans,E=this.name,M=ti&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===f?"read":"write"," ").concat(this.name));function A(q,X,P){if(!P.schema[E])throw new ae.NotFound("Table "+E+" not part of transaction");return p(P.idbtrans,P)}var O=xi();try{var $=b&&b.db._novip===this.db._novip?b===_t.trans?b._promise(f,A,m):mo(function(){return b._promise(f,A,m)},{trans:b,transless:_t.transless||_t}):function q(X,P,te,G){if(X.idbdb&&(X._state.openComplete||_t.letThrough||X._vip)){var Y=X._createTransaction(P,te,X._dbSchema);try{Y.create(),X._state.PR1398_maxLoop=3}catch(Q){return Q.name===Ee.InvalidState&&X.isOpen()&&0<--X._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),X.close({disableAutoOpen:!1}),X.open().then(function(){return q(X,P,te,G)})):tr(Q)}return Y._promise(P,function(Q,Z){return mo(function(){return _t.trans=Y,G(Q,Z,Y)})}).then(function(Q){if("readwrite"===P)try{Y.idbtrans.commit()}catch{}return"readonly"===P?Q:Y._completion.then(function(){return Q})})}if(X._state.openComplete)return tr(new ae.DatabaseClosed(X._state.dbOpenError));if(!X._state.isBeingOpened){if(!X._state.autoOpen)return tr(new ae.DatabaseClosed);X.open().catch(Et)}return X._state.dbReadyPromise.then(function(){return q(X,P,te,G)})}(this.db,f,[this.name],A);return M&&($._consoleTask=M,$=$.catch(function(q){return console.trace(q),tr(q)})),$}finally{O&&sa()}},Pn.prototype.get=function(f,p){var m=this;return f&&f.constructor===Object?this.where(f).first(p):null==f?tr(new ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return m.core.get({trans:b,key:f}).then(function(E){return m.hook.reading.fire(E)})}).then(p)},Pn.prototype.where=function(f){if("string"==typeof f)return new this.db.WhereClause(this,f);if(W(f))return new this.db.WhereClause(this,"[".concat(f.join("+"),"]"));var p=H(f);if(1===p.length)return this.where(p[0]).equals(f[p[0]]);var m=this.schema.indexes.concat(this.schema.primKey).filter(function(O){if(O.compound&&p.every(function(q){return 0<=O.keyPath.indexOf(q)})){for(var $=0;$<p.length;++$)if(-1===p.indexOf(O.keyPath[$]))return!1;return!0}return!1}).sort(function(O,$){return O.keyPath.length-$.keyPath.length})[0];if(m&&"\uffff"!==this.db._maxKey){var M=m.keyPath.slice(0,p.length);return this.where(M).equals(M.map(function($){return f[$]}))}!m&&ti&&console.warn("The query ".concat(JSON.stringify(f)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(p.join("+"),"]"));var b=this.schema.idxByName;function E(O,$){return 0===en(O,$)}M=(A=p.reduce(function(P,$){var q=P[0],X=P[1],te=(P=b[$],f[$]);return[q||P,q||!P?rn(X,P&&P.multi?function(G){return G=pe(G,$),W(G)&&G.some(function(Y){return E(te,Y)})}:function(G){return E(te,pe(G,$))}):X]},[null,null]))[0];var A=A[1];return M?this.where(M.name).equals(f[M.keyPath]).filter(A):m?this.filter(A):this.where(p).equals("")},Pn.prototype.filter=function(f){return this.toCollection().and(f)},Pn.prototype.count=function(f){return this.toCollection().count(f)},Pn.prototype.offset=function(f){return this.toCollection().offset(f)},Pn.prototype.limit=function(f){return this.toCollection().limit(f)},Pn.prototype.each=function(f){return this.toCollection().each(f)},Pn.prototype.toArray=function(f){return this.toCollection().toArray(f)},Pn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Pn.prototype.orderBy=function(f){return new this.db.Collection(new this.db.WhereClause(this,W(f)?"[".concat(f.join("+"),"]"):f))},Pn.prototype.reverse=function(){return this.toCollection().reverse()},Pn.prototype.mapToClass=function(f){var p,m=this.db,b=this.name;function E(){return null!==p&&p.apply(this,arguments)||this}(this.schema.mappedClass=f).prototype instanceof Ur&&(function($,q){if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function X(){this.constructor=$}ht($,q),$.prototype=null===q?Object.create(q):(X.prototype=q.prototype,new X)}(E,p=f),Object.defineProperty(E.prototype,"db",{get:function(){return m},enumerable:!1,configurable:!0}),E.prototype.table=function(){return b},f=E);for(var M=new Set,A=f.prototype;A;A=B(A))Object.getOwnPropertyNames(A).forEach(function($){return M.add($)});function O($){if(!$)return $;var q,X=Object.create(f.prototype);for(q in $)if(!M.has(q))try{X[q]=$[q]}catch{}return X}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=O,this.hook("reading",O),f},Pn.prototype.defineClass=function(){return this.mapToClass(function(f){R(this,f)})},Pn.prototype.add=function(f,p){var m=this,b=this.schema.primKey,M=b.keyPath,A=f;return M&&b.auto&&(A=Ns(M)(f)),this._trans("readwrite",function(O){return m.core.mutate({trans:O,type:"add",keys:null!=p?[p]:null,values:[A]})}).then(function(O){return O.numFailures?tt.reject(O.failures[0]):O.lastResult}).then(function(O){if(M)try{xe(f,M,O)}catch{}return O})},Pn.prototype.update=function(f,p){return"object"!=typeof f||W(f)?this.where(":id").equals(f).modify(p):void 0===(f=pe(f,this.schema.primKey.keyPath))?tr(new ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(f).modify(p)},Pn.prototype.put=function(f,p){var m=this,b=this.schema.primKey,M=b.keyPath,A=f;return M&&b.auto&&(A=Ns(M)(f)),this._trans("readwrite",function(O){return m.core.mutate({trans:O,type:"put",values:[A],keys:null!=p?[p]:null})}).then(function(O){return O.numFailures?tt.reject(O.failures[0]):O.lastResult}).then(function(O){if(M)try{xe(f,M,O)}catch{}return O})},Pn.prototype.delete=function(f){var p=this;return this._trans("readwrite",function(m){return p.core.mutate({trans:m,type:"delete",keys:[f]})}).then(function(m){return m.numFailures?tt.reject(m.failures[0]):void 0})},Pn.prototype.clear=function(){var f=this;return this._trans("readwrite",function(p){return f.core.mutate({trans:p,type:"deleteRange",range:It})}).then(function(p){return p.numFailures?tt.reject(p.failures[0]):void 0})},Pn.prototype.bulkGet=function(f){var p=this;return this._trans("readonly",function(m){return p.core.getMany({keys:f,trans:m}).then(function(b){return b.map(function(E){return p.hook.reading.fire(E)})})})},Pn.prototype.bulkAdd=function(f,p,m){var b=this,E=Array.isArray(p)?p:void 0,M=(m=m||(E?void 0:p))?m.allKeys:void 0;return this._trans("readwrite",function(A){var O=(q=b.schema.primKey).auto;if((q=q.keyPath)&&E)throw new ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(E&&E.length!==f.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var $=f.length,q=q&&O?f.map(Ns(q)):f;return b.core.mutate({trans:A,type:"add",keys:E,values:q,wantResults:M}).then(function(Y){var P=Y.numFailures,te=Y.results,G=Y.lastResult;if(Y=Y.failures,0===P)return M?te:G;throw new po("".concat(b.name,".bulkAdd(): ").concat(P," of ").concat($," operations failed"),Y)})})},Pn.prototype.bulkPut=function(f,p,m){var b=this,E=Array.isArray(p)?p:void 0,M=(m=m||(E?void 0:p))?m.allKeys:void 0;return this._trans("readwrite",function(A){var O=(q=b.schema.primKey).auto;if((q=q.keyPath)&&E)throw new ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(E&&E.length!==f.length)throw new ae.InvalidArgument("Arguments objects and keys must have the same length");var $=f.length,q=q&&O?f.map(Ns(q)):f;return b.core.mutate({trans:A,type:"put",keys:E,values:q,wantResults:M}).then(function(Y){var P=Y.numFailures,te=Y.results,G=Y.lastResult;if(Y=Y.failures,0===P)return M?te:G;throw new po("".concat(b.name,".bulkPut(): ").concat(P," of ").concat($," operations failed"),Y)})})},Pn.prototype.bulkUpdate=function(f){var p=this,m=this.core,b=f.map(function(A){return A.key}),E=f.map(function(A){return A.changes}),M=[];return this._trans("readwrite",function(A){return m.getMany({trans:A,keys:b,cache:"clone"}).then(function(O){var $=[],q=[];f.forEach(function(P,te){var G=P.key,Y=P.changes,Q=O[te];if(Q){for(var Z=0,ie=Object.keys(Y);Z<ie.length;Z++){var ce=ie[Z],ue=Y[ce];if(ce===p.schema.primKey.keyPath){if(0!==en(ue,G))throw new ae.Constraint("Cannot update primary key in bulkUpdate()")}else xe(Q,ce,ue)}M.push(te),$.push(G),q.push(Q)}});var X=$.length;return m.mutate({trans:A,type:"put",keys:$,values:q,updates:{keys:b,changeSpecs:E}}).then(function(P){var te=P.numFailures,G=P.failures;if(0===te)return X;for(var Y=0,Q=Object.keys(G);Y<Q.length;Y++){var Z,ie=Q[Y],ce=M[Number(ie)];null!=ce&&(Z=G[ie],delete G[ie],G[ce]=Z)}throw new po("".concat(p.name,".bulkUpdate(): ").concat(te," of ").concat(X," operations failed"),G)})})})},Pn.prototype.bulkDelete=function(f){var p=this,m=f.length;return this._trans("readwrite",function(b){return p.core.mutate({trans:b,type:"delete",keys:f})}).then(function(A){var E=A.numFailures,M=A.lastResult;if(A=A.failures,0===E)return M;throw new po("".concat(p.name,".bulkDelete(): ").concat(E," of ").concat(m," operations failed"),A)})},Pn);function Pn(){}function ac(f){function p(A,O){if(O){for(var $=arguments.length,q=new Array($-1);--$;)q[$-1]=arguments[$];return m[A].subscribe.apply(null,q),f}if("string"==typeof A)return m[A]}var m={};p.addEventType=M;for(var b=1,E=arguments.length;b<E;++b)M(arguments[b]);return p;function M(A,O,$){if("object"!=typeof A){var q;O=O||Hr;var X={subscribers:[],fire:$=$||Et,subscribe:function(P){-1===X.subscribers.indexOf(P)&&(X.subscribers.push(P),X.fire=O(X.fire,P))},unsubscribe:function(P){X.subscribers=X.subscribers.filter(function(te){return te!==P}),X.fire=X.subscribers.reduce(O,$)}};return m[A]=p[A]=X}H(q=A).forEach(function(P){var te=q[P];if(W(te))M(P,q[P][0],q[P][1]);else{if("asap"!==te)throw new ae.InvalidArgument("Invalid event config");var G=M(P,wn,function(){for(var Y=arguments.length,Q=new Array(Y);Y--;)Q[Y]=arguments[Y];G.subscribers.forEach(function(Z){ze(function(){Z.apply(null,Q)})})})}})}}function lc(f,p){return z(p).from({prototype:f}),p}function $a(f,p){return!(f.filter||f.algorithm||f.or)&&(p?f.justLimit:!f.replayFilter)}function rd(f,p){f.filter=rn(f.filter,p)}function fp(f,p,m){var b=f.replayFilter;f.replayFilter=b?function(){return rn(b(),p())}:p,f.justLimit=m&&!b}function cc(f,p){if(f.isPrimKey)return p.primaryKey;var m=p.getIndexByKeyPath(f.index);if(!m)throw new ae.Schema("KeyPath "+f.index+" on object store "+p.name+" is not indexed");return m}function by(f,p,m){var b=cc(f,p.schema);return p.openCursor({trans:m,values:!f.keysOnly,reverse:"prev"===f.dir,unique:!!f.unique,query:{index:b,range:f.range}})}function kr(f,p,m,b){var E=f.replayFilter?rn(f.filter,f.replayFilter()):f.filter;if(f.or){var M={},A=function(O,$,q){var X,P;E&&!E($,q,function(te){return $.stop(te)},function(te){return $.fail(te)})||("[object ArrayBuffer]"==(P=""+(X=$.primaryKey))&&(P=""+new Uint8Array(X)),N(M,P)||(M[P]=!0,p(O,$,q)))};return Promise.all([f.or._iterate(A,m),Mt(by(f,b,m),f.algorithm,A,!f.keysOnly&&f.valueMapper)])}return Mt(by(f,b,m),rn(f.algorithm,E),p,!f.keysOnly&&f.valueMapper)}function Mt(f,p,m,b){var E=kn(b?function(M,A,O){return m(b(M),A,O)}:m);return f.then(function(M){if(M)return M.start(function(){var A=function(){return M.continue()};p&&!p(M,function(O){return A=O},function(O){M.stop(O),A=Et},function(O){M.fail(O),A=Et})||E(M.value,M,function(O){return A=O}),A()})})}Yo=Symbol();var uc=(wy.prototype.execute=function(f){if(void 0!==this.add){var p=this.add;if(W(p))return fe(fe([],W(f)?f:[],!0),p,!0).sort();if("number"==typeof p)return(Number(f)||0)+p;if("bigint"==typeof p)try{return BigInt(f)+p}catch{return BigInt(0)+p}throw new TypeError("Invalid term ".concat(p))}if(void 0!==this.remove){var m=this.remove;if(W(m))return W(f)?f.filter(function(b){return!m.includes(b)}).sort():[];if("number"==typeof m)return Number(f)-m;if("bigint"==typeof m)try{return BigInt(f)-m}catch{return BigInt(0)-m}throw new TypeError("Invalid subtrahend ".concat(m))}return(p=null===(p=this.replacePrefix)||void 0===p?void 0:p[0])&&"string"==typeof f&&f.startsWith(p)?this.replacePrefix[1]+f.substring(p.length):f},wy);function wy(f){Object.assign(this,f)}var qD=(gn.prototype._read=function(f,p){var m=this._ctx;return m.error?m.table._trans(null,tr.bind(null,m.error)):m.table._trans("readonly",f).then(p)},gn.prototype._write=function(f){var p=this._ctx;return p.error?p.table._trans(null,tr.bind(null,p.error)):p.table._trans("readwrite",f,"locked")},gn.prototype._addAlgorithm=function(f){var p=this._ctx;p.algorithm=rn(p.algorithm,f)},gn.prototype._iterate=function(f,p){return kr(this._ctx,f,p,this._ctx.table.core)},gn.prototype.clone=function(f){var p=Object.create(this.constructor.prototype),m=Object.create(this._ctx);return f&&R(m,f),p._ctx=m,p},gn.prototype.raw=function(){return this._ctx.valueMapper=null,this},gn.prototype.each=function(f){var p=this._ctx;return this._read(function(m){return kr(p,f,m,p.table.core)})},gn.prototype.count=function(f){var p=this;return this._read(function(m){var b=p._ctx,E=b.table.core;if($a(b,!0))return E.count({trans:m,query:{index:cc(b,E.schema),range:b.range}}).then(function(A){return Math.min(A,b.limit)});var M=0;return kr(b,function(){return++M,!1},m,E).then(function(){return M})}).then(f)},gn.prototype.sortBy=function(f,p){var m=f.split(".").reverse(),b=m[0],E=m.length-1;function M($,q){return q?M($[m[q]],q-1):$[b]}var A="next"===this._ctx.dir?1:-1;function O($,q){return en(M($,E),M(q,E))*A}return this.toArray(function($){return $.sort(O)}).then(p)},gn.prototype.toArray=function(f){var p=this;return this._read(function(m){var b=p._ctx;if("next"===b.dir&&$a(b,!0)&&0<b.limit){var E=b.valueMapper,M=cc(b,b.table.core.schema);return b.table.core.query({trans:m,limit:b.limit,values:!0,query:{index:M,range:b.range}}).then(function(O){return O=O.result,E?O.map(E):O})}var A=[];return kr(b,function(O){return A.push(O)},m,b.table.core).then(function(){return A})},f)},gn.prototype.offset=function(f){var p=this._ctx;return f<=0||(p.offset+=f,$a(p)?fp(p,function(){var m=f;return function(b,E){return 0===m||(1===m?--m:E(function(){b.advance(m),m=0}),!1)}}):fp(p,function(){var m=f;return function(){return--m<0}})),this},gn.prototype.limit=function(f){return this._ctx.limit=Math.min(this._ctx.limit,f),fp(this._ctx,function(){var p=f;return function(m,b,E){return--p<=0&&b(E),0<=p}},!0),this},gn.prototype.until=function(f,p){return rd(this._ctx,function(m,b,E){return!f(m.value)||(b(E),p)}),this},gn.prototype.first=function(f){return this.limit(1).toArray(function(p){return p[0]}).then(f)},gn.prototype.last=function(f){return this.reverse().first(f)},gn.prototype.filter=function(f){var p;return rd(this._ctx,function(m){return f(m.value)}),(p=this._ctx).isMatch=rn(p.isMatch,f),this},gn.prototype.and=function(f){return this.filter(f)},gn.prototype.or=function(f){return new this.db.WhereClause(this._ctx.table,f,this)},gn.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},gn.prototype.desc=function(){return this.reverse()},gn.prototype.eachKey=function(f){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(m,b){f(b.key,b)})},gn.prototype.eachUniqueKey=function(f){return this._ctx.unique="unique",this.eachKey(f)},gn.prototype.eachPrimaryKey=function(f){var p=this._ctx;return p.keysOnly=!p.isMatch,this.each(function(m,b){f(b.primaryKey,b)})},gn.prototype.keys=function(f){var p=this._ctx;p.keysOnly=!p.isMatch;var m=[];return this.each(function(b,E){m.push(E.key)}).then(function(){return m}).then(f)},gn.prototype.primaryKeys=function(f){var p=this._ctx;if("next"===p.dir&&$a(p,!0)&&0<p.limit)return this._read(function(b){var E=cc(p,p.table.core.schema);return p.table.core.query({trans:b,values:!1,limit:p.limit,query:{index:E,range:p.range}})}).then(function(b){return b.result}).then(f);p.keysOnly=!p.isMatch;var m=[];return this.each(function(b,E){m.push(E.primaryKey)}).then(function(){return m}).then(f)},gn.prototype.uniqueKeys=function(f){return this._ctx.unique="unique",this.keys(f)},gn.prototype.firstKey=function(f){return this.limit(1).keys(function(p){return p[0]}).then(f)},gn.prototype.lastKey=function(f){return this.reverse().firstKey(f)},gn.prototype.distinct=function(){var f;if(!(f=(f=this._ctx).index&&f.table.schema.idxByName[f.index])||!f.multi)return this;var p={};return rd(this._ctx,function(E){var b=E.primaryKey.toString();return E=N(p,b),p[b]=!0,!E}),this},gn.prototype.modify=function(f){var p=this,m=this._ctx;return this._write(function(b){var E,M,A;A="function"==typeof f?f:(E=H(f),M=E.length,function(Z){for(var ie=!1,ce=0;ce<M;++ce){var ue=E[ce],Ce=f[ue],He=pe(Z,ue);Ce instanceof uc?(xe(Z,ue,Ce.execute(He)),ie=!0):He!==Ce&&(xe(Z,ue,Ce),ie=!0)}return ie});var P,O=m.table.core,$=(P=O.schema.primaryKey).outbound,q=P.extractKey,X=200;function te(Z,ue){var ce=ue.failures;Y+=Z-(ue=ue.numFailures);for(var Ce=0,He=H(ce);Ce<He.length;Ce++)G.push(ce[He[Ce]])}(P=p.db._options.modifyChunkSize)&&(X="object"==typeof P?P[O.name]||P["*"]||200:P);var G=[],Y=0,Q=[];return p.clone().primaryKeys().then(function(Z){var ce=$a(m)&&m.limit===1/0&&("function"!=typeof f||f===ot)&&{index:m.index,range:m.range};return function ie(ue){var Ce=Math.min(X,Z.length-ue);return O.getMany({trans:b,keys:Z.slice(ue,ue+Ce),cache:"immutable"}).then(function(He){for(var Ze=[],Ue=[],qe=$?[]:null,$e=[],Ke=0;Ke<Ce;++Ke){var lt=He[Ke],vt={value:me(lt),primKey:Z[ue+Ke]};!1!==A.call(vt,vt.value,vt)&&(null==vt.value?$e.push(Z[ue+Ke]):$||0===en(q(lt),q(vt.value))?(Ue.push(vt.value),$&&qe.push(Z[ue+Ke])):($e.push(Z[ue+Ke]),Ze.push(vt.value)))}return Promise.resolve(0<Ze.length&&O.mutate({trans:b,type:"add",values:Ze}).then(function($t){for(var Le in $t.failures)$e.splice(parseInt(Le),1);te(Ze.length,$t)})).then(function(){return(0<Ue.length||ce&&"object"==typeof f)&&O.mutate({trans:b,type:"put",keys:qe,values:Ue,criteria:ce,changeSpec:"function"!=typeof f&&f,isAdditionalChunk:0<ue}).then(function($t){return te(Ue.length,$t)})}).then(function(){return(0<$e.length||ce&&f===ot)&&O.mutate({trans:b,type:"delete",keys:$e,criteria:ce,isAdditionalChunk:0<ue}).then(function($t){return te($e.length,$t)})}).then(function(){return Z.length>ue+Ce&&ie(ue+X)})})}(0).then(function(){if(0<G.length)throw new Qi("Error modifying one or more objects",G,Y,Q);return Z.length})})})},gn.prototype.delete=function(){var f=this._ctx,p=f.range;return $a(f)&&(f.isPrimKey||3===p.type)?this._write(function(m){var E=p;return f.table.core.count({trans:m,query:{index:f.table.core.schema.primaryKey,range:E}}).then(function(M){return f.table.core.mutate({trans:m,type:"deleteRange",range:E}).then(function(A){var O=A.failures;if(A=A.numFailures)throw new Qi("Could not delete some values",Object.keys(O).map(function($){return O[$]}),M-A);return M-A})})}):this.modify(ot)},gn);function gn(){}var ot=function(f,p){return p.value=null};function YD(f,p){return f<p?-1:f===p?0:1}function ar(f,p){return p<f?-1:f===p?0:1}function Nr(f,p,m){return(f=f instanceof Ya?new f.Collection(f):f)._ctx.error=new(m||TypeError)(p),f}function Ga(f){return new f.Collection(f,function(){return qa("")}).limit(0)}function Wa(f,p,m,b){var E,M,A,O,$,q,X,P=m.length;if(!m.every(function(Y){return"string"==typeof Y}))return Nr(f,cp);function te(Y){E="next"===Y?function(Z){return Z.toUpperCase()}:function(Z){return Z.toLowerCase()},M="next"===Y?function(Z){return Z.toLowerCase()}:function(Z){return Z.toUpperCase()},A="next"===Y?YD:ar;var Q=m.map(function(Z){return{lower:M(Z),upper:E(Z)}}).sort(function(Z,ie){return A(Z.lower,ie.lower)});O=Q.map(function(Z){return Z.upper}),$=Q.map(function(Z){return Z.lower}),X="next"===(q=Y)?"":b}te("next"),(f=new f.Collection(f,function(){return Ko(O[0],$[P-1]+b)}))._ondirectionchange=function(Y){te(Y)};var G=0;return f._addAlgorithm(function(Y,Q,Z){var ie=Y.key;if("string"!=typeof ie)return!1;var ce=M(ie);if(p(ce,$,G))return!0;for(var ue=null,Ce=G;Ce<P;++Ce){var He=function(Ze,Ue,qe,$e,Ke,lt){for(var vt=Math.min(Ze.length,$e.length),$t=-1,Le=0;Le<vt;++Le){var In=Ue[Le];if(In!==$e[Le])return Ke(Ze[Le],qe[Le])<0?Ze.substr(0,Le)+qe[Le]+qe.substr(Le+1):Ke(Ze[Le],$e[Le])<0?Ze.substr(0,Le)+$e[Le]+qe.substr(Le+1):0<=$t?Ze.substr(0,$t)+Ue[$t]+qe.substr($t+1):null;Ke(Ze[Le],In)<0&&($t=Le)}return vt<$e.length&&"next"===lt?Ze+qe.substr(Ze.length):vt<Ze.length&&"prev"===lt?Ze.substr(0,qe.length):$t<0?null:Ze.substr(0,$t)+$e[$t]+qe.substr($t+1)}(ie,ce,O[Ce],$[Ce],A,q);null===He&&null===ue?G=Ce+1:(null===ue||0<A(ue,He))&&(ue=He)}return Q(null!==ue?function(){Y.continue(ue+X)}:Z),!1}),f}function Ko(f,p,m,b){return{type:2,lower:f,upper:p,lowerOpen:m,upperOpen:b}}function qa(f){return{type:1,lower:f,upper:f}}var Ya=(Object.defineProperty(nr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),nr.prototype.between=function(f,p,m,b){m=!1!==m,b=!0===b;try{return 0<this._cmp(f,p)||0===this._cmp(f,p)&&(m||b)&&(!m||!b)?Ga(this):new this.Collection(this,function(){return Ko(f,p,!m,!b)})}catch{return Nr(this,Yt)}},nr.prototype.equals=function(f){return null==f?Nr(this,Yt):new this.Collection(this,function(){return qa(f)})},nr.prototype.above=function(f){return null==f?Nr(this,Yt):new this.Collection(this,function(){return Ko(f,void 0,!0)})},nr.prototype.aboveOrEqual=function(f){return null==f?Nr(this,Yt):new this.Collection(this,function(){return Ko(f,void 0,!1)})},nr.prototype.below=function(f){return null==f?Nr(this,Yt):new this.Collection(this,function(){return Ko(void 0,f,!1,!0)})},nr.prototype.belowOrEqual=function(f){return null==f?Nr(this,Yt):new this.Collection(this,function(){return Ko(void 0,f)})},nr.prototype.startsWith=function(f){return"string"!=typeof f?Nr(this,cp):this.between(f,f+"\uffff",!0,!0)},nr.prototype.startsWithIgnoreCase=function(f){return""===f?this.startsWith(f):Wa(this,function(p,m){return 0===p.indexOf(m[0])},[f],"\uffff")},nr.prototype.equalsIgnoreCase=function(f){return Wa(this,function(p,m){return p===m[0]},[f],"")},nr.prototype.anyOfIgnoreCase=function(){var f=Jn.apply(dn,arguments);return 0===f.length?Ga(this):Wa(this,function(p,m){return-1!==m.indexOf(p)},f,"")},nr.prototype.startsWithAnyOfIgnoreCase=function(){var f=Jn.apply(dn,arguments);return 0===f.length?Ga(this):Wa(this,function(p,m){return m.some(function(b){return 0===p.indexOf(b)})},f,"\uffff")},nr.prototype.anyOf=function(){var f=this,p=Jn.apply(dn,arguments),m=this._cmp;try{p.sort(m)}catch{return Nr(this,Yt)}if(0===p.length)return Ga(this);var b=new this.Collection(this,function(){return Ko(p[0],p[p.length-1])});b._ondirectionchange=function(M){p.sort(m="next"===M?f._ascending:f._descending)};var E=0;return b._addAlgorithm(function(M,A,O){for(var $=M.key;0<m($,p[E]);)if(++E===p.length)return A(O),!1;return 0===m($,p[E])||(A(function(){M.continue(p[E])}),!1)}),b},nr.prototype.notEqual=function(f){return this.inAnyRange([[-1/0,f],[f,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},nr.prototype.noneOf=function(){var f=Jn.apply(dn,arguments);if(0===f.length)return new this.Collection(this);try{f.sort(this._ascending)}catch{return Nr(this,Yt)}var p=f.reduce(function(m,b){return m?m.concat([[m[m.length-1][1],b]]):[[-1/0,b]]},null);return p.push([f[f.length-1],this.db._maxKey]),this.inAnyRange(p,{includeLowers:!1,includeUppers:!1})},nr.prototype.inAnyRange=function(ie,p){var m=this,b=this._cmp,E=this._ascending,M=this._descending,A=this._min,O=this._max;if(0===ie.length)return Ga(this);if(!ie.every(function(ce){return void 0!==ce[0]&&void 0!==ce[1]&&E(ce[0],ce[1])<=0}))return Nr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",ae.InvalidArgument);var X,$=!p||!1!==p.includeLowers,q=p&&!0===p.includeUppers,P=E;function te(ce,ue){return P(ce[0],ue[0])}try{(X=ie.reduce(function(ce,ue){for(var Ce=0,He=ce.length;Ce<He;++Ce){var Ze=ce[Ce];if(b(ue[0],Ze[1])<0&&0<b(ue[1],Ze[0])){Ze[0]=A(Ze[0],ue[0]),Ze[1]=O(Ze[1],ue[1]);break}}return Ce===He&&ce.push(ue),ce},[])).sort(te)}catch{return Nr(this,Yt)}var G=0,Y=q?function(ce){return 0<E(ce,X[G][1])}:function(ce){return 0<=E(ce,X[G][1])},Q=$?function(ce){return 0<M(ce,X[G][0])}:function(ce){return 0<=M(ce,X[G][0])},Z=Y;return(ie=new this.Collection(this,function(){return Ko(X[0][0],X[X.length-1][1],!$,!q)}))._ondirectionchange=function(ce){P="next"===ce?(Z=Y,E):(Z=Q,M),X.sort(te)},ie._addAlgorithm(function(ce,ue,Ce){for(var He,Ze=ce.key;Z(Ze);)if(++G===X.length)return ue(Ce),!1;return!Y(He=Ze)&&!Q(He)||(0===m._cmp(Ze,X[G][1])||0===m._cmp(Ze,X[G][0])||ue(function(){ce.continue(P===E?X[G][0]:X[G][1])}),!1)}),ie},nr.prototype.startsWithAnyOf=function(){var f=Jn.apply(dn,arguments);return f.every(function(p){return"string"==typeof p})?0===f.length?Ga(this):this.inAnyRange(f.map(function(p){return[p,p+"\uffff"]})):Nr(this,"startsWithAnyOf() only works with strings")},nr);function nr(){}function Bi(f){return kn(function(p){return Ka(p),f(p.target.error),!1})}function Ka(f){f.stopPropagation&&f.stopPropagation(),f.preventDefault&&f.preventDefault()}var st="storagemutated",Za="x-storagemutated-1",eo=ac(null,st),hp=(Si.prototype._lock=function(){return Ie(!_t.global),++this._reculock,1!==this._reculock||_t.global||(_t.lockOwnerFor=this),this},Si.prototype._unlock=function(){if(Ie(!_t.global),0==--this._reculock)for(_t.global||(_t.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var f=this._blockedFuncs.shift();try{Mi(f[1],f[0])}catch{}}return this},Si.prototype._locked=function(){return this._reculock&&_t.lockOwnerFor!==this},Si.prototype.create=function(f){var p=this;if(!this.mode)return this;var m=this.db.idbdb,b=this.db._state.dbOpenError;if(Ie(!this.idbtrans),!f&&!m)switch(b&&b.name){case"DatabaseClosedError":throw new ae.DatabaseClosed(b);case"MissingAPIError":throw new ae.MissingAPI(b.message,b);default:throw new ae.OpenFailed(b)}if(!this.active)throw new ae.TransactionInactive;return Ie(null===this._completion._state),(f=this.idbtrans=f||(this.db.core||m).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=kn(function(E){Ka(E),p._reject(f.error)}),f.onabort=kn(function(E){Ka(E),p.active&&p._reject(new ae.Abort(f.error)),p.active=!1,p.on("abort").fire(E)}),f.oncomplete=kn(function(){p.active=!1,p._resolve(),"mutatedParts"in f&&eo.storagemutated.fire(f.mutatedParts)}),this},Si.prototype._promise=function(f,p,m){var b=this;if("readwrite"===f&&"readwrite"!==this.mode)return tr(new ae.ReadOnly("Transaction is readonly"));if(!this.active)return tr(new ae.TransactionInactive);if(this._locked())return new tt(function(M,A){b._blockedFuncs.push([function(){b._promise(f,p,m).then(M,A)},_t])});if(m)return mo(function(){var M=new tt(function(A,O){b._lock();var $=p(A,O,b);$&&$.then&&$.then(A,O)});return M.finally(function(){return b._unlock()}),M._lib=!0,M});var E=new tt(function(M,A){var O=p(M,A,b);O&&O.then&&O.then(M,A)});return E._lib=!0,E},Si.prototype._root=function(){return this.parent?this.parent._root():this},Si.prototype.waitFor=function(f){var p,m=this._root(),b=tt.resolve(f);m._waitingFor?m._waitingFor=m._waitingFor.then(function(){return b}):(m._waitingFor=b,m._waitingQueue=[],p=m.idbtrans.objectStore(m.storeNames[0]),function M(){for(++m._spinCount;m._waitingQueue.length;)m._waitingQueue.shift()();m._waitingFor&&(p.get(-1/0).onsuccess=M)}());var E=m._waitingFor;return new tt(function(M,A){b.then(function(O){return m._waitingQueue.push(kn(M.bind(null,O)))},function(O){return m._waitingQueue.push(kn(A.bind(null,O)))}).finally(function(){m._waitingFor===E&&(m._waitingFor=null)})})},Si.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new ae.Abort))},Si.prototype.table=function(f){var p=this._memoizedTables||(this._memoizedTables={});if(N(p,f))return p[f];var m=this.schema[f];if(!m)throw new ae.NotFound("Table "+f+" not part of transaction");return(m=new this.db.Table(f,m,this)).core=this.db.core.table(f),p[f]=m},Si);function Si(){}function id(f,p,m,b,E,M,A){return{name:f,keyPath:p,unique:m,multi:b,auto:E,compound:M,src:(m&&!A?"&":"")+(b?"*":"")+(E?"++":"")+dc(p)}}function dc(f){return"string"==typeof f?f:f?"["+[].join.call(f,"+")+"]":""}function pp(f,p,m){return{name:f,primKey:p,indexes:m,mappedClass:null,idxByName:(b=function(E){return[E.name,E]},m.reduce(function(E,M,A){return(A=b(M))&&(E[A[0]]=A[1]),E},{}))};var b}var fc=function(f){try{return f.only([[]]),fc=function(){return[[]]},[[]]}catch{return fc=function(){return"\uffff"},"\uffff"}};function gp(f){return null==f?function(){}:"string"==typeof f?1===(p=f).split(".").length?function(m){return m[p]}:function(m){return pe(m,p)}:function(m){return pe(m,f)};var p}function Ey(f){return[].slice.call(f)}var od=0;function bo(f){return null==f?":id":"string"==typeof f?f:"[".concat(f.join("+"),"]")}function sd(f,p,$){function b(Z){if(3===Z.type)return null;if(4===Z.type)throw new Error("Cannot convert never type to IDBKeyRange");var G=Z.lower,Y=Z.upper,Q=Z.lowerOpen;return Z=Z.upperOpen,void 0===G?void 0===Y?null:p.upperBound(Y,!!Z):void 0===Y?p.lowerBound(G,!!Q):p.bound(G,Y,!!Q,!!Z)}var M,A,O,q=(A=$,O=Ey((M=f).objectStoreNames),X={schema:{name:M.name,tables:O.map(function(te){return A.objectStore(te)}).map(function(te){var G=te.keyPath,Z=te.autoIncrement,Y=W(G),Q={};return Z={name:te.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==G,compound:Y,keyPath:G,autoIncrement:Z,unique:!0,extractKey:gp(G)},indexes:Ey(te.indexNames).map(function(ie){return te.index(ie)}).map(function(Ce){var ue=Ce.unique,He=Ce.multiEntry;return He={name:Ce.name,compound:W(Ce=Ce.keyPath),keyPath:Ce,unique:ue,multiEntry:He,extractKey:gp(Ce)},Q[bo(Ce)]=He}),getIndexByKeyPath:function(ie){return Q[bo(ie)]}},Q[":id"]=Z.primaryKey,null!=G&&(Q[bo(G)]=Z.primaryKey),Z})},hasGetAll:0<O.length&&"getAll"in A.objectStore(O[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,X=($=X.schema).tables.map(function E(te){var G,Y=te.name;return{name:Y,schema:te,mutate:function(Q){var Z=Q.trans,ie=Q.type,ce=Q.keys,ue=Q.values,Ce=Q.range;return new Promise(function(He,Ze){He=kn(He);var Ue=Z.objectStore(Y),qe=null==Ue.keyPath,$e="put"===ie||"add"===ie;if(!$e&&"delete"!==ie&&"deleteRange"!==ie)throw new Error("Invalid operation type: "+ie);var Ke,lt=(ce||ue||{length:1}).length;if(ce&&ue&&ce.length!==ue.length)throw new Error("Given keys array must have same length as given values array.");if(0===lt)return He({numFailures:0,failures:{},results:[],lastResult:void 0});function vt(vn){++In,Ka(vn)}var $t=[],Le=[],In=0;if("deleteRange"===ie){if(4===Ce.type)return He({numFailures:In,failures:Le,results:[],lastResult:void 0});$t.push(Ke=3===Ce.type?Ue.clear():Ue.delete(b(Ce)))}else{var Xe=(qe=$e?qe?[ue,ce]:[ue,null]:[ce,null])[0],tn=qe[1];if($e)for(var hn=0;hn<lt;++hn)$t.push(Ke=tn&&void 0!==tn[hn]?Ue[ie](Xe[hn],tn[hn]):Ue[ie](Xe[hn])),Ke.onerror=vt;else for(hn=0;hn<lt;++hn)$t.push(Ke=Ue[ie](Xe[hn])),Ke.onerror=vt}function no(vn){vn=vn.target.result,$t.forEach(function(ts,yc){return null!=ts.error&&(Le[yc]=ts.error)}),He({numFailures:In,failures:Le,results:"delete"===ie?ce:$t.map(function(ts){return ts.result}),lastResult:vn})}Ke.onerror=function(vn){vt(vn),no(vn)},Ke.onsuccess=no})},getMany:function(Q){var Z=Q.trans,ie=Q.keys;return new Promise(function(ce,ue){ce=kn(ce);for(var Ce,He=Z.objectStore(Y),Ze=ie.length,Ue=new Array(Ze),qe=0,$e=0,Ke=function($t){Ue[($t=$t.target)._pos]=$t.result,++$e===qe&&ce(Ue)},lt=Bi(ue),vt=0;vt<Ze;++vt)null!=ie[vt]&&((Ce=He.get(ie[vt]))._pos=vt,Ce.onsuccess=Ke,Ce.onerror=lt,++qe);0===qe&&ce(Ue)})},get:function(Q){var Z=Q.trans,ie=Q.key;return new Promise(function(ce,ue){ce=kn(ce);var Ce=Z.objectStore(Y).get(ie);Ce.onsuccess=function(He){return ce(He.target.result)},Ce.onerror=Bi(ue)})},query:(G=q,function(Q){return new Promise(function(Z,ie){Z=kn(Z);var ce,ue,Ce,He=Q.values,Ze=Q.limit,Ue=Ze===1/0?void 0:Ze,$e=(Ke=Q.query).index,Ke=Ke.range,qe=(qe=Q.trans).objectStore(Y);if($e=$e.isPrimaryKey?qe:qe.index($e.name),Ke=b(Ke),0===Ze)return Z({result:[]});G?((Ue=He?$e.getAll(Ke,Ue):$e.getAllKeys(Ke,Ue)).onsuccess=function(lt){return Z({result:lt.target.result})},Ue.onerror=Bi(ie)):(ce=0,ue=!He&&"openKeyCursor"in $e?$e.openKeyCursor(Ke):$e.openCursor(Ke),Ce=[],ue.onsuccess=function(lt){var vt=ue.result;return vt?(Ce.push(He?vt.value:vt.primaryKey),++ce===Ze?Z({result:Ce}):void vt.continue()):Z({result:Ce})},ue.onerror=Bi(ie))})}),openCursor:function(Q){var Z=Q.trans,ie=Q.values,ce=Q.query,ue=Q.reverse,Ce=Q.unique;return new Promise(function(He,Ze){He=kn(He);var $e=ce.index,Ue=ce.range,qe=Z.objectStore(Y),Ke=(qe=$e.isPrimaryKey?qe:qe.index($e.name),$e=ue?Ce?"prevunique":"prev":Ce?"nextunique":"next",!ie&&"openKeyCursor"in qe?qe.openKeyCursor(b(Ue),$e):qe.openCursor(b(Ue),$e));Ke.onerror=Bi(Ze),Ke.onsuccess=kn(function(lt){var vt,$t,Le,In,Xe=Ke.result;Xe?(Xe.___id=++od,Xe.done=!1,vt=Xe.continue.bind(Xe),$t=($t=Xe.continuePrimaryKey)&&$t.bind(Xe),Le=Xe.advance.bind(Xe),In=function(){throw new Error("Cursor not stopped")},Xe.trans=Z,Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=function(){throw new Error("Cursor not started")},Xe.fail=kn(Ze),Xe.next=function(){var tn=this,hn=1;return this.start(function(){return hn--?tn.continue():tn.stop()}).then(function(){return tn})},Xe.start=function(tn){function hn(){if(Ke.result)try{tn()}catch(vn){Xe.fail(vn)}else Xe.done=!0,Xe.start=function(){throw new Error("Cursor behind last entry")},Xe.stop()}var no=new Promise(function(vn,ts){vn=kn(vn),Ke.onerror=Bi(ts),Xe.fail=ts,Xe.stop=function(yc){Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=In,vn(yc)}});return Ke.onsuccess=kn(function(vn){Ke.onsuccess=hn,hn()}),Xe.continue=vt,Xe.continuePrimaryKey=$t,Xe.advance=Le,hn(),no},He(Xe)):He(null)},Ze)})},count:function(Q){var Z=Q.query,ie=Q.trans,ce=Z.index,ue=Z.range;return new Promise(function(Ce,He){var Ze=ie.objectStore(Y),Ue=ce.isPrimaryKey?Ze:Ze.index(ce.name);(Ue=(Ze=b(ue))?Ue.count(Ze):Ue.count()).onsuccess=kn(function(qe){return Ce(qe.target.result)}),Ue.onerror=Bi(He)})}}}),P={};return X.forEach(function(te){return P[te.name]=te}),{stack:"dbcore",transaction:f.transaction.bind(f),table:function(te){if(!P[te])throw new Error("Table '".concat(te,"' not found"));return P[te]},MIN_KEY:-1/0,MAX_KEY:fc(p),schema:$}}function Xa(f,b){b=function ad(f,p,m,b){return{dbcore:(b=sd(p,m.IDBKeyRange,b),f.dbcore.reduce(function(M,A){return A=A.create,j(j({},M),A(M))},b))}}(f._middlewares,b.db,f._deps,b),f.core=b.dbcore,f.tables.forEach(function(E){var M=E.name;f.core.schema.tables.some(function(A){return A.name===M})&&(E.core=f.core.table(M),f[M]instanceof f.Table&&(f[M].core=E.core))})}function Ii(f,p,m,b){m.forEach(function(E){var M=b[E];p.forEach(function(A){var O=function $(q,X){return ge(q,X)||(q=B(q))&&$(q,X)}(A,E);(!O||"value"in O&&void 0===O.value)&&(A===f.Transaction.prototype||A instanceof f.Transaction?U(A,E,{get:function(){return this.table(E)},set:function($){k(this,E,{value:$,writable:!0,configurable:!0,enumerable:!0})}}):A[E]=new f.Table(E,M))})})}function Os(f,p){p.forEach(function(m){for(var b in m)m[b]instanceof f.Table&&delete m[b]})}function mp(f,p){return f._cfg.version-p._cfg.version}function _p(f,p){var m,b={del:[],add:[],change:[]};for(m in f)p[m]||b.del.push(m);for(m in p){var E=f[m],M=p[m];if(E){var A={name:m,def:M,recreate:!1,del:[],add:[],change:[]};if(""+(E.primKey.keyPath||"")!=""+(M.primKey.keyPath||"")||E.primKey.auto!==M.primKey.auto)A.recreate=!0,b.change.push(A);else{var O=E.idxByName,$=M.idxByName,q=void 0;for(q in O)$[q]||A.del.push(q);for(q in $){var X=O[q],P=$[q];X?X.src!==P.src&&A.change.push(P):A.add.push(P)}(0<A.del.length||0<A.add.length||0<A.change.length)&&b.change.push(A)}}else b.add.push([m,M])}return b}function ld(f,p,m,b){var E=f.db.createObjectStore(p,m.keyPath?{keyPath:m.keyPath,autoIncrement:m.auto}:{autoIncrement:m.auto});return b.forEach(function(M){return cd(E,M)}),E}function vp(f,p){H(f).forEach(function(m){p.db.objectStoreNames.contains(m)||(ti&&console.debug("Dexie: Creating missing table",m),ld(p,m,f[m].primKey,f[m].indexes))})}function cd(f,p){f.createIndex(p.name,p.keyPath,{unique:p.unique,multiEntry:p.multi})}function hc(f,p,m){var b={};return Re(p.objectStoreNames,0).forEach(function(E){for(var M=m.objectStore(E),A=id(dc(q=M.keyPath),q||"",!0,!1,!!M.autoIncrement,q&&"string"!=typeof q,!0),O=[],$=0;$<M.indexNames.length;++$){var q=(X=M.index(M.indexNames[$])).keyPath,X=id(X.name,q,!!X.unique,!!X.multiEntry,!1,q&&"string"!=typeof q,!1);O.push(X)}b[E]=pp(E,A,O)}),b}function da(f,p,m){for(var b=m.db.objectStoreNames,E=0;E<b.length;++E){var M=b[E],A=m.objectStore(M);f._hasGetAll="getAll"in A;for(var O=0;O<A.indexNames.length;++O){var $=A.indexNames[O],q=A.index($).keyPath,X="string"==typeof q?q:"["+Re(q).join("+")+"]";!p[M]||(q=p[M].idxByName[X])&&(q.name=$,delete p[M].idxByName[X],p[M].idxByName[$]=q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&J.WorkerGlobalScope&&J instanceof J.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(f._hasGetAll=!1)}function Zt(f){return f.split(",").map(function(p,m){var b=(p=p.trim()).replace(/([&*]|\+\+)/g,""),E=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return id(b,E||null,/\&/.test(p),/\*/.test(p),/\+\+/.test(p),W(E),0===m)})}var ud=(Qa.prototype._parseStoresSpec=function(f,p){H(f).forEach(function(m){if(null!==f[m]){var b=Zt(f[m]),E=b.shift();if(E.unique=!0,E.multi)throw new ae.Schema("Primary key cannot be multi-valued");b.forEach(function(M){if(M.auto)throw new ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!M.keyPath)throw new ae.Schema("Index must have a name and cannot be an empty string")}),p[m]=pp(m,E,b)}})},Qa.prototype.stores=function(m){var p=this.db;this._cfg.storesSource=this._cfg.storesSource?R(this._cfg.storesSource,m):m;var b={},E={};return(m=p._versions).forEach(function(M){R(b,M._cfg.storesSource),E=M._cfg.dbschema={},M._parseStoresSpec(b,E)}),p._dbSchema=E,Os(p,[p._allTables,p,p.Transaction.prototype]),Ii(p,[p._allTables,p,p.Transaction.prototype,this._cfg.tables],H(E),E),p._storeNames=H(E),this},Qa.prototype.upgrade=function(f){return this._cfg.contentUpgrade=Vi(this._cfg.contentUpgrade||Et,f),this},Qa);function Qa(){}function Or(f,p){var m=f._dbNamesDB;return m||(m=f._dbNamesDB=new Jo(ua,{addons:[],indexedDB:f,IDBKeyRange:p})).version(1).stores({dbnames:"name"}),m.table("dbnames")}function pc(f){return f&&"function"==typeof f.databases}function yp(f){return mo(function(){return _t.letThrough=!0,f()})}function bp(f){return!("from"in f)}var rr=function(f,p){if(!this){var m=new rr;return f&&"d"in f&&R(m,f),m}R(this,arguments.length?{d:1,from:f,to:1<arguments.length?p:f}:{d:0})};function Rs(f,p,m){var b=en(p,m);if(!isNaN(b)){if(0<b)throw RangeError();if(bp(f))return R(f,{from:p,to:m,d:1});var E=f.l;if(b=f.r,en(m,f.from)<0)return E?Rs(E,p,m):f.l={from:p,to:m,d:1,l:null,r:null},Ep(f);if(0<en(p,f.to))return b?Rs(b,p,m):f.r={from:p,to:m,d:1,l:null,r:null},Ep(f);en(p,f.from)<0&&(f.from=p,f.l=null,f.d=b?b.d+1:1),0<en(m,f.to)&&(f.to=m,f.r=null,f.d=f.l?f.l.d+1:1),m=!f.r,E&&!f.l&&Zo(f,E),b&&m&&Zo(f,b)}}function Zo(f,p){bp(p)||function m(b,$){var M=$.from,A=$.to,O=$.l;$=$.r,Rs(b,M,A),O&&m(b,O),$&&m(b,$)}(f,p)}function wp(f,p){var m=gc(p),b=m.next();if(b.done)return!1;for(var E=b.value,M=gc(f),A=M.next(E.from),O=A.value;!b.done&&!A.done;){if(en(O.from,E.to)<=0&&0<=en(O.to,E.from))return!0;en(E.from,O.from)<0?E=(b=m.next(O.from)).value:O=(A=M.next(E.from)).value}return!1}function gc(f){var p=bp(f)?null:{s:0,n:f};return{next:function(m){for(var b=0<arguments.length;p;)switch(p.s){case 0:if(p.s=1,b)for(;p.n.l&&en(m,p.n.from)<0;)p={up:p,n:p.n.l,s:1};else for(;p.n.l;)p={up:p,n:p.n.l,s:1};case 1:if(p.s=2,!b||en(m,p.n.to)<=0)return{value:p.n,done:!1};case 2:if(p.n.r){p.s=3,p={up:p,n:p.n.r,s:0};continue}case 3:p=p.up}return{done:!0}}}}function Ep(f){var p,m,b=((null===(p=f.r)||void 0===p?void 0:p.d)||0)-((null===(m=f.l)||void 0===m?void 0:m.d)||0),E=1<b?"r":b<-1?"l":"";E&&(p="r"==E?"l":"r",m=j({},f),f.from=(b=f[E]).from,f.to=b.to,f[E]=b[E],m[E]=b[p],(f[p]=m).d=dd(m)),f.d=dd(f)}function dd(m){var p=m.r;return m=m.l,(p?m?Math.max(p.d,m.d):p.d:m?m.d:0)+1}function wo(f,p){return H(p).forEach(function(m){f[m]?Zo(f[m],p[m]):f[m]=function b(E){var M,A,O={};for(M in E)N(E,M)&&(O[M]=!(A=E[M])||"object"!=typeof A||wt.has(A.constructor)?A:b(A));return O}(p[m])}),f}function fd(f,p){return f.all||p.all||Object.keys(f).some(function(m){return p[m]&&wp(p[m],f[m])})}x(rr.prototype,((br={add:function(f){return Zo(this,f),this},addKey:function(f){return Rs(this,f,f),this},addKeys:function(f){var p=this;return f.forEach(function(m){return Rs(p,m,m)}),this},hasKey:function(f){var p=gc(this).next(f).value;return p&&en(p.from,f)<=0&&0<=en(p.to,f)}})[je]=function(){return gc(this)},br));var zr={},hd={},Fe=!1;function Ja(f){wo(hd,f),Fe||(Fe=!0,setTimeout(function(){Fe=!1,xt(hd,!(hd={}))},0))}function xt(f,p){void 0===p&&(p=!1);var m=new Set;if(f.all)for(var b=0,E=Object.values(zr);b<E.length;b++)el(A=E[b],f,m,p);else for(var M in f){var A,O=/^idb\:\/\/(.*)\/(.*)\//.exec(M);O&&(M=O[1],O=O[2],(A=zr["idb://".concat(M,"/").concat(O)])&&el(A,f,m,p))}m.forEach(function($){return $()})}function el(f,p,m,b){for(var E=[],M=0,A=Object.entries(f.queries.query);M<A.length;M++){for(var O=A[M],$=O[0],q=[],X=0,P=O[1];X<P.length;X++){var te=P[X];fd(p,te.obsSet)?te.subscribers.forEach(function(Z){return m.add(Z)}):b&&q.push(te)}b&&E.push([$,q])}if(b)for(var G=0,Y=E;G<Y.length;G++){var Q=Y[G];f.queries.query[$=Q[0]]=q=Q[1]}}function pd(f){var p=f._state,m=f._deps.indexedDB;if(p.isBeingOpened||f.idbdb)return p.dbReadyPromise.then(function(){return p.dbOpenError?tr(p.dbOpenError):f});p.isBeingOpened=!0,p.dbOpenError=null,p.openComplete=!1;var b=p.openCanceller,E=Math.round(10*f.verno),M=!1;function A(){if(p.openCanceller!==b)throw new ae.DatabaseClosed("db.open() was cancelled")}var $,q=p.dbReadyResolve,X=null,P=!1;return tt.race([b,(typeof navigator>"u"?tt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(te){function G(){return indexedDB.databases().finally(te)}$=setInterval(G,100),G()}).finally(function(){return clearInterval($)}):Promise.resolve()).then(function O(){return new tt(function(te,G){if(A(),!m)throw new ae.MissingAPI;var Y=f.name,Q=p.autoSchema||!E?m.open(Y):m.open(Y,E);if(!Q)throw new ae.MissingAPI;Q.onerror=Bi(G),Q.onblocked=kn(f._fireOnBlocked),Q.onupgradeneeded=kn(function(Z){var ie;X=Q.transaction,p.autoSchema&&!f._options.allowEmptyDB?(Q.onerror=Ka,X.abort(),Q.result.close(),(ie=m.deleteDatabase(Y)).onsuccess=ie.onerror=kn(function(){G(new ae.NoSuchDatabase("Database ".concat(Y," doesnt exist")))})):(X.onerror=Bi(G),Z=Z.oldVersion>Math.pow(2,62)?0:Z.oldVersion,P=Z<1,f.idbdb=Q.result,M&&function mn(f,p){vp(f._dbSchema,p),p.db.version%10!=0||p.objectStoreNames.contains("$meta")||p.db.createObjectStore("$meta").add(Math.ceil(p.db.version/10-1),"version");var m=hc(0,f.idbdb,p);da(f,f._dbSchema,p);for(var b=0,E=_p(m,f._dbSchema).change;b<E.length;b++){var M=function(A){if(A.change.length||A.recreate)return console.warn("Unable to patch indexes of table ".concat(A.name," because it has changes on the type of index or primary key.")),{value:void 0};var O=p.objectStore(A.name);A.add.forEach(function($){ti&&console.debug("Dexie upgrade patch: Creating missing index ".concat(A.name,".").concat($.src)),cd(O,$)})}(E[b]);if("object"==typeof M)return M.value}}(f,X),function Pt(f,p,m,b){var E=f._dbSchema;m.objectStoreNames.contains("$meta")&&!E.$meta&&(E.$meta=pp("$meta",Zt("")[0],[]),f._storeNames.push("$meta"));var M=f._createTransaction("readwrite",f._storeNames,E);M.create(m),M._completion.catch(b);var A=M._reject.bind(M),O=_t.transless||_t;mo(function(){return _t.trans=M,_t.transless=O,0!==p?(Xa(f,m),q=p,(($=M).storeNames.includes("$meta")?$.table("$meta").get("version").then(function(X){return X??q}):tt.resolve(q)).then(function(X){return te=X,G=M,Q=[],X=(P=f)._versions,Z=P._dbSchema=hc(0,P.idbdb,Y=m),0!==(X=X.filter(function(ie){return ie._cfg.version>=te})).length?(X.forEach(function(ie){Q.push(function(){var ce=Z,ue=ie._cfg.dbschema;da(P,ce,Y),da(P,ue,Y),Z=P._dbSchema=ue;var Ce=_p(ce,ue);Ce.add.forEach(function($e){ld(Y,$e[0],$e[1].primKey,$e[1].indexes)}),Ce.change.forEach(function($e){if($e.recreate)throw new ae.Upgrade("Not yet support for changing primary key");var Ke=Y.objectStore($e.name);$e.add.forEach(function(lt){return cd(Ke,lt)}),$e.change.forEach(function(lt){Ke.deleteIndex(lt.name),cd(Ke,lt)}),$e.del.forEach(function(lt){return Ke.deleteIndex(lt)})});var He=ie._cfg.contentUpgrade;if(He&&ie._cfg.version>te){Xa(P,Y),G._memoizedTables={};var Ze=Be(ue);Ce.del.forEach(function($e){Ze[$e]=ce[$e]}),Os(P,[P.Transaction.prototype]),Ii(P,[P.Transaction.prototype],H(Ze),Ze),G.schema=Ze;var Ue,qe=Li(He);return qe&&jr(),Ce=tt.follow(function(){var $e;(Ue=He(G))&&qe&&($e=ni.bind(null,null),Ue.then($e,$e))}),Ue&&"function"==typeof Ue.then?tt.resolve(Ue):Ce.then(function(){return Ue})}}),Q.push(function(ce){var ue,Ce;ue=ie._cfg.dbschema,[].slice.call((Ce=ce).db.objectStoreNames).forEach(function(Ze){return null==ue[Ze]&&Ce.db.deleteObjectStore(Ze)}),Os(P,[P.Transaction.prototype]),Ii(P,[P.Transaction.prototype],P._storeNames,P._dbSchema),G.schema=P._dbSchema}),Q.push(function(ce){P.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(P.idbdb.version/10)===ie._cfg.version?(P.idbdb.deleteObjectStore("$meta"),delete P._dbSchema.$meta,P._storeNames=P._storeNames.filter(function(ue){return"$meta"!==ue})):ce.objectStore("$meta").put(ie._cfg.version,"version"))})}),function ie(){return Q.length?tt.resolve(Q.shift()(G.idbtrans)).then(ie):tt.resolve()}().then(function(){vp(Z,Y)})):tt.resolve();var P,te,G,Y,Q,Z}).catch(A)):(H(E).forEach(function(X){ld(m,X,E[X].primKey,E[X].indexes)}),Xa(f,m),void tt.follow(function(){return f.on.populate.fire(M)}).catch(A));var $,q})}(f,Z/10,X,G))},G),Q.onsuccess=kn(function(){X=null;var Z,ie,ce,ue,Ce,He=f.idbdb=Q.result,Ze=Re(He.objectStoreNames);if(0<Ze.length)try{var Ue=He.transaction(1===(ue=Ze).length?ue[0]:ue,"readonly");if(p.autoSchema)ce=Ue,(Z=f).verno=(ie=He).version/10,ce=Z._dbSchema=hc(0,ie,ce),Z._storeNames=Re(ie.objectStoreNames,0),Ii(Z,[Z._allTables],H(ce),ce);else if(da(f,f._dbSchema,Ue),((Ce=_p(hc(0,(Ce=f).idbdb,Ue),Ce._dbSchema)).add.length||Ce.change.some(function(qe){return qe.add.length||qe.change.length}))&&!M)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),He.close(),E=He.version+1,M=!0,te(O());Xa(f,Ue)}catch{}Fn.push(f),He.onversionchange=kn(function(qe){p.vcFired=!0,f.on("versionchange").fire(qe)}),He.onclose=kn(function(qe){f.on("close").fire(qe)}),P&&(Ue=Y,He=(Ce=f._deps).indexedDB,Ce=Ce.IDBKeyRange,pc(He)||Ue===ua||Or(He,Ce).put({name:Ue}).catch(Et)),te()},G)}).catch(function(te){switch(te?.name){case"UnknownError":if(0<p.PR1398_maxLoop)return p.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),O();break;case"VersionError":if(0<E)return E=0,O()}return tt.reject(te)})})]).then(function(){return A(),p.onReadyBeingFired=[],tt.resolve(yp(function(){return f.on.ready.fire(f.vip)})).then(function te(){if(0<p.onReadyBeingFired.length){var G=p.onReadyBeingFired.reduce(Vi,Et);return p.onReadyBeingFired=[],tt.resolve(yp(function(){return G(f.vip)})).then(te)}})}).finally(function(){p.openCanceller===b&&(p.onReadyBeingFired=null,p.isBeingOpened=!1)}).catch(function(te){p.dbOpenError=te;try{X&&X.abort()}catch{}return b===p.openCanceller&&f._close(),tr(te)}).finally(function(){p.openComplete=!0,q()}).then(function(){var te;return P&&(te={},f.tables.forEach(function(G){G.schema.indexes.forEach(function(Y){Y.name&&(te["idb://".concat(f.name,"/").concat(G.name,"/").concat(Y.name)]=new rr(-1/0,[[[]]]))}),te["idb://".concat(f.name,"/").concat(G.name,"/")]=te["idb://".concat(f.name,"/").concat(G.name,"/:dels")]=new rr(-1/0,[[[]]])}),eo(st).fire(te),xt(te,!0)),f})}function Fs(f){function p(M){return f.next(M)}var m=E(p),b=E(function(M){return f.throw(M)});function E(M){return function($){var O=M($);return $=O.value,O.done?$:$&&"function"==typeof $.then?$.then(m,b):W($)?Promise.all($).then(m,b):m($)}}return E(p)()}function mc(f,p,m){for(var b=W(f)?f.slice():[f],E=0;E<m;++E)b.push(p);return b}var Cy={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(f){return j(j({},f),{table:function(p){var m=f.table(p),b=m.schema,E={},M=[];function A(P,te,G){var Y=bo(P),Q=E[Y]=E[Y]||[],Z=null==P?0:"string"==typeof P?1:P.length,ie=0<te;return ie=j(j({},G),{name:ie?"".concat(Y,"(virtual-from:").concat(G.name,")"):G.name,lowLevelIndex:G,isVirtual:ie,keyTail:te,keyLength:Z,extractKey:gp(P),unique:!ie&&G.unique}),Q.push(ie),ie.isPrimaryKey||M.push(ie),1<Z&&A(2===Z?P[0]:P.slice(0,Z-1),te+1,G),Q.sort(function(ce,ue){return ce.keyTail-ue.keyTail}),ie}p=A(b.primaryKey.keyPath,0,b.primaryKey),E[":id"]=[p];for(var O=0,$=b.indexes;O<$.length;O++){var q=$[O];A(q.keyPath,0,q)}function X(P){var te,G=P.query.index;return G.isVirtual?j(j({},P),{query:{index:G.lowLevelIndex,range:(te=P.query.range,G=G.keyTail,{type:1===te.type?2:te.type,lower:mc(te.lower,te.lowerOpen?f.MAX_KEY:f.MIN_KEY,G),lowerOpen:!0,upper:mc(te.upper,te.upperOpen?f.MIN_KEY:f.MAX_KEY,G),upperOpen:!0})}}):P}return j(j({},m),{schema:j(j({},b),{primaryKey:p,indexes:M,getIndexByKeyPath:function(P){return(P=E[bo(P)])&&P[0]}}),count:function(P){return m.count(X(P))},query:function(P){return m.query(X(P))},openCursor:function(P){var te=P.query.index,G=te.keyTail,Q=te.keyLength;return te.isVirtual?m.openCursor(X(P)).then(function(ie){return ie&&function Z(ie){return Object.create(ie,{continue:{value:function(ce){null!=ce?ie.continue(mc(ce,P.reverse?f.MAX_KEY:f.MIN_KEY,G)):P.unique?ie.continue(ie.key.slice(0,Q).concat(P.reverse?f.MIN_KEY:f.MAX_KEY,G)):ie.continue()}},continuePrimaryKey:{value:function(ce,ue){ie.continuePrimaryKey(mc(ce,f.MAX_KEY,G),ue)}},primaryKey:{get:function(){return ie.primaryKey}},key:{get:function(){var ce=ie.key;return 1===Q?ce[0]:ce.slice(0,Q)}},value:{get:function(){return ie.value}}})}(ie)}):m.openCursor(P)}})}})}};function gd(f,p,m,b){return m=m||{},b=b||"",H(f).forEach(function(E){var M,A,O;N(p,E)?(A=p[E],"object"==typeof(M=f[E])&&"object"==typeof A&&M&&A?(O=Ae(M))!==Ae(A)?m[b+E]=p[E]:"Object"===O?gd(M,A,m,b+E+"."):M!==A&&(m[b+E]=p[E]):M!==A&&(m[b+E]=p[E])):m[b+E]=void 0}),H(p).forEach(function(E){N(f,E)||(m[b+E]=p[E])}),m}function md(f,p){return"delete"===p.type?p.keys:p.keys||p.values.map(f.extractKey)}var _d={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(f){return j(j({},f),{table:function(p){var m=f.table(p),b=m.schema.primaryKey;return j(j({},m),{mutate:function(E){var M=_t.trans,A=M.table(p).hook,O=A.deleting,$=A.creating,q=A.updating;switch(E.type){case"add":if($.fire===Et)break;return M._promise("readwrite",function(){return X(E)},!0);case"put":if($.fire===Et&&q.fire===Et)break;return M._promise("readwrite",function(){return X(E)},!0);case"delete":if(O.fire===Et)break;return M._promise("readwrite",function(){return X(E)},!0);case"deleteRange":if(O.fire===Et)break;return M._promise("readwrite",function(){return function P(te,G,Y){return m.query({trans:te,values:!1,query:{index:b,range:G},limit:Y}).then(function(Q){var Z=Q.result;return X({type:"delete",keys:Z,trans:te}).then(function(ie){return 0<ie.numFailures?Promise.reject(ie.failures[0]):Z.length<Y?{failures:[],numFailures:0,lastResult:void 0}:P(te,j(j({},G),{lower:Z[Z.length-1],lowerOpen:!0}),Y)})})}(E.trans,E.range,1e4)},!0)}return m.mutate(E);function X(P){var te,G,Y,Q=_t.trans,Z=P.keys||md(b,P);if(!Z)throw new Error("Keys missing");return"delete"!==(P="add"===P.type||"put"===P.type?j(j({},P),{keys:Z}):j({},P)).type&&(P.values=fe([],P.values,!0)),P.keys&&(P.keys=fe([],P.keys,!0)),te=m,Y=Z,("add"===(G=P).type?Promise.resolve([]):te.getMany({trans:G.trans,keys:Y,cache:"immutable"})).then(function(ie){var ce=Z.map(function(ue,Ce){var He,Ze,Ue,qe=ie[Ce],$e={onerror:null,onsuccess:null};return"delete"===P.type?O.fire.call($e,ue,qe,Q):"add"===P.type||void 0===qe?(He=$.fire.call($e,ue,P.values[Ce],Q),null==ue&&null!=He&&(P.keys[Ce]=ue=He,b.outbound||xe(P.values[Ce],b.keyPath,ue))):(He=gd(qe,P.values[Ce]),(Ze=q.fire.call($e,He,ue,qe,Q))&&(Ue=P.values[Ce],Object.keys(Ze).forEach(function(Ke){N(Ue,Ke)?Ue[Ke]=Ze[Ke]:xe(Ue,Ke,Ze[Ke])}))),$e});return m.mutate(P).then(function(ue){for(var Ce=ue.failures,He=ue.results,Ze=ue.numFailures,Ue=(ue=ue.lastResult,0);Ue<Z.length;++Ue){var qe=(He||Z)[Ue],$e=ce[Ue];null==qe?$e.onerror&&$e.onerror(Ce[Ue]):$e.onsuccess&&$e.onsuccess("put"===P.type&&ie[Ue]?P.values[Ue]:qe)}return{failures:Ce,results:He,numFailures:Ze,lastResult:ue}}).catch(function(ue){return ce.forEach(function(Ce){return Ce.onerror&&Ce.onerror(ue)}),Promise.reject(ue)})})}}})}})}};function Cp(f,p,m){try{if(!p||p.keys.length<f.length)return null;for(var b=[],E=0,M=0;E<p.keys.length&&M<f.length;++E)0===en(p.keys[E],f[M])&&(b.push(m?me(p.values[E]):p.values[E]),++M);return b.length===f.length?b:null}catch{return null}}var vd={stack:"dbcore",level:-1,create:function(f){return{table:function(p){var m=f.table(p);return j(j({},m),{getMany:function(b){if(!b.cache)return m.getMany(b);var E=Cp(b.keys,b.trans._cache,"clone"===b.cache);return E?tt.resolve(E):m.getMany(b).then(function(M){return b.trans._cache={keys:b.keys,values:"clone"===b.cache?me(M):M},M})},mutate:function(b){return"add"!==b.type&&(b.trans._cache=null),m.mutate(b)}})}}}};function Dp(f,p){return"readonly"===f.trans.mode&&!!f.subscr&&!f.trans.explicit&&"disabled"!==f.trans.db._options.cache&&!p.schema.primaryKey.outbound}function Xo(f,p){switch(f){case"query":return p.values&&!p.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Dy={stack:"dbcore",level:0,name:"Observability",create:function(f){var p=f.schema.name,m=new rr(f.MIN_KEY,f.MAX_KEY);return j(j({},f),{transaction:function(b,E,M){if(_t.subscr&&"readonly"!==E)throw new ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(_t.querier));return f.transaction(b,E,M)},table:function(b){var E=f.table(b),M=E.schema,A=M.primaryKey,P=M.indexes,O=A.extractKey,$=A.outbound,q=A.autoIncrement&&P.filter(function(G){return G.compound&&G.keyPath.includes(A.keyPath)}),X=j(j({},E),{mutate:function(G){function Y(Ke){return Ke="idb://".concat(p,"/").concat(b,"/").concat(Ke),ue[Ke]||(ue[Ke]=new rr)}var Q,Z,ie,ce=G.trans,ue=G.mutatedParts||(G.mutatedParts={}),Ce=Y(""),He=Y(":dels"),Ze=G.type,Ue=($e="deleteRange"===G.type?[G.range]:"delete"===G.type?[G.keys]:G.values.length<50?[md(A,G).filter(function(Ke){return Ke}),G.values]:[])[0],qe=$e[1],$e=G.trans._cache;return W(Ue)?(Ce.addKeys(Ue),($e="delete"===Ze||Ue.length===qe.length?Cp(Ue,$e):null)||He.addKeys(Ue),($e||qe)&&(Q=Y,Z=$e,ie=qe,M.indexes.forEach(function(Ke){var lt=Q(Ke.name||"");function vt(Le){return null!=Le?Ke.extractKey(Le):null}function $t(Le){return Ke.multiEntry&&W(Le)?Le.forEach(function(In){return lt.addKey(In)}):lt.addKey(Le)}(Z||ie).forEach(function(Le,tn){var Xe=Z&&vt(Z[tn]);0!==en(Xe,tn=ie&&vt(ie[tn]))&&(null!=Xe&&$t(Xe),null!=tn&&$t(tn))})}))):Ue?(qe={from:null!==(qe=Ue.lower)&&void 0!==qe?qe:f.MIN_KEY,to:null!==(qe=Ue.upper)&&void 0!==qe?qe:f.MAX_KEY},He.add(qe),Ce.add(qe)):(Ce.add(m),He.add(m),M.indexes.forEach(function(Ke){return Y(Ke.name).add(m)})),E.mutate(G).then(function(Ke){return!Ue||"add"!==G.type&&"put"!==G.type||(Ce.addKeys(Ke.results),q&&q.forEach(function(lt){for(var vt=G.values.map(function(Xe){return lt.extractKey(Xe)}),$t=lt.keyPath.findIndex(function(Xe){return Xe===A.keyPath}),Le=0,In=Ke.results.length;Le<In;++Le)vt[Le][$t]=Ke.results[Le];Y(lt.name).addKeys(vt)})),ce.mutatedParts=wo(ce.mutatedParts||{},ue),Ke})}}),te={get:function(G){return[A,new rr(G.key)]},getMany:function(G){return[A,(new rr).addKeys(G.keys)]},count:P=function(Y){var Q;return[Y=(Q=Y.query).index,new rr(null!==(Y=(Q=Q.range).lower)&&void 0!==Y?Y:f.MIN_KEY,null!==(Q=Q.upper)&&void 0!==Q?Q:f.MAX_KEY)]},query:P,openCursor:P};return H(te).forEach(function(G){X[G]=function(Y){var Z=!!(Q=_t.subscr),ie=Dp(_t,E)&&Xo(G,Y)?Y.obsSet={}:Q;if(Z){var ce=function(qe){return qe="idb://".concat(p,"/").concat(b,"/").concat(qe),ie[qe]||(ie[qe]=new rr)},ue=ce(""),Ce=ce(":dels"),Q=(Z=(Q=te[G](Y))[0],Q[1]);if(("query"===G&&Z.isPrimaryKey&&!Y.values?Ce:ce(Z.name||"")).add(Q),!Z.isPrimaryKey){if("count"!==G){var He="query"===G&&$&&Y.values&&E.query(j(j({},Y),{values:!1}));return E[G].apply(this,arguments).then(function(qe){if("query"===G){if($&&Y.values)return He.then(function(vt){return ue.addKeys(vt=vt.result),qe});var $e=Y.values?qe.result.map(O):qe.result;(Y.values?ue:Ce).addKeys($e)}else if("openCursor"===G){var Ke=qe,lt=Y.values;return Ke&&Object.create(Ke,{key:{get:function(){return Ce.addKey(Ke.primaryKey),Ke.key}},primaryKey:{get:function(){var vt=Ke.primaryKey;return Ce.addKey(vt),vt}},value:{get:function(){return lt&&ue.addKey(Ke.primaryKey),Ke.value}}})}return qe})}Ce.add(m)}}return E[G].apply(this,arguments)}}),X}})}};function Lr(f,p,m){return 0===m.numFailures?p:"deleteRange"===p.type||m.numFailures===(p.keys?p.keys.length:"values"in p&&p.values?p.values.length:1)?null:(p=j({},p),W(p.keys)&&(p.keys=p.keys.filter(function(E,M){return!(M in m.failures)})),"values"in p&&W(p.values)&&(p.values=p.values.filter(function(E,M){return!(M in m.failures)})),p)}function Qo(f,p){return m=f,(void 0===(b=p).lower||(b.lowerOpen?0<en(m,b.lower):0<=en(m,b.lower)))&&(void 0===p.upper||(p.upperOpen?en(f,p.upper)<0:en(f,p.upper)<=0));var m,b}function yd(f,p,te,b,E,M){if(!te||0===te.length)return f;var A=p.query.index,O=A.multiEntry,$=p.query.range,q=b.schema.primaryKey.extractKey,X=A.extractKey,P=(A.lowLevelIndex||A).extractKey;return(te=te.reduce(function(G,Y){var Q=G,Z=[];if("add"===Y.type||"put"===Y.type)for(var ie=new rr,ce=Y.values.length-1;0<=ce;--ce){var ue,Ce=Y.values[ce],He=q(Ce);ie.hasKey(He)||(ue=X(Ce),(O&&W(ue)?ue.some(function(Ke){return Qo(Ke,$)}):Qo(ue,$))&&(ie.addKey(He),Z.push(Ce)))}switch(Y.type){case"add":var Ze=(new rr).addKeys(p.values?G.map(function(lt){return q(lt)}):G);Q=G.concat(p.values?Z.filter(function(lt){return lt=q(lt),!Ze.hasKey(lt)&&(Ze.addKey(lt),!0)}):Z.map(function(lt){return q(lt)}).filter(function(lt){return!Ze.hasKey(lt)&&(Ze.addKey(lt),!0)}));break;case"put":var Ue=(new rr).addKeys(Y.values.map(function(lt){return q(lt)}));Q=G.filter(function(lt){return!Ue.hasKey(p.values?q(lt):lt)}).concat(p.values?Z:Z.map(function(lt){return q(lt)}));break;case"delete":var qe=(new rr).addKeys(Y.keys);Q=G.filter(function(lt){return!qe.hasKey(p.values?q(lt):lt)});break;case"deleteRange":var $e=Y.range;Q=G.filter(function(lt){return!Qo(q(lt),$e)})}return Q},f))===f?f:(te.sort(function(G,Y){return en(P(G),P(Y))||en(q(G),q(Y))}),p.limit&&p.limit<1/0&&(te.length>p.limit?te.length=p.limit:f.length===p.limit&&te.length<p.limit&&(E.dirty=!0)),M?Object.freeze(te):te)}function tl(f,p){return 0===en(f.lower,p.lower)&&0===en(f.upper,p.upper)&&!!f.lowerOpen==!!p.lowerOpen&&!!f.upperOpen==!!p.upperOpen}var KD={stack:"dbcore",level:0,name:"Cache",create:function(f){var p=f.schema.name;return j(j({},f),{transaction:function(m,b,E){var M,A,O=f.transaction(m,b,E);return"readwrite"===b&&(A=(M=new AbortController).signal,O.addEventListener("abort",(E=function($){return function(){if(M.abort(),"readwrite"===b){for(var q=new Set,X=0,P=m;X<P.length;X++){var te=P[X],G=zr["idb://".concat(p,"/").concat(te)];if(G){var Y=f.table(te),Q=G.optimisticOps.filter(function(lt){return lt.trans===O});if(O._explicit&&$&&O.mutatedParts)for(var Z=0,ie=Object.values(G.queries.query);Z<ie.length;Z++)for(var ce=0,ue=(Ze=ie[Z]).slice();ce<ue.length;ce++)fd((Ue=ue[ce]).obsSet,O.mutatedParts)&&(kt(Ze,Ue),Ue.subscribers.forEach(function(lt){return q.add(lt)}));else if(0<Q.length){G.optimisticOps=G.optimisticOps.filter(function(lt){return lt.trans!==O});for(var Ce=0,He=Object.values(G.queries.query);Ce<He.length;Ce++)for(var Ze,Ue,qe,$e=0,Ke=(Ze=He[Ce]).slice();$e<Ke.length;$e++)null!=(Ue=Ke[$e]).res&&O.mutatedParts&&($&&!Ue.dirty?(qe=Object.isFrozen(Ue.res),qe=yd(Ue.res,Ue.req,Q,Y,Ue,qe),Ue.dirty?(kt(Ze,Ue),Ue.subscribers.forEach(function(lt){return q.add(lt)})):qe!==Ue.res&&(Ue.res=qe,Ue.promise=tt.resolve({result:qe}))):(Ue.dirty&&kt(Ze,Ue),Ue.subscribers.forEach(function(lt){return q.add(lt)})))}}}q.forEach(function(lt){return lt()})}}})(!1),{signal:A}),O.addEventListener("error",E(!1),{signal:A}),O.addEventListener("complete",E(!0),{signal:A})),O},table:function(m){var b=f.table(m),E=b.schema.primaryKey;return j(j({},b),{mutate:function(M){var A=_t.trans;if(E.outbound||"disabled"===A.db._options.cache||A.explicit||"readwrite"!==A.idbtrans.mode)return b.mutate(M);var O=zr["idb://".concat(p,"/").concat(m)];return O?(A=b.mutate(M),"add"!==M.type&&"put"!==M.type||!(50<=M.values.length||md(E,M).some(function($){return null==$}))?(O.optimisticOps.push(M),M.mutatedParts&&Ja(M.mutatedParts),A.then(function($){0<$.numFailures&&(kt(O.optimisticOps,M),($=Lr(0,M,$))&&O.optimisticOps.push($),M.mutatedParts&&Ja(M.mutatedParts))}),A.catch(function(){kt(O.optimisticOps,M),M.mutatedParts&&Ja(M.mutatedParts)})):A.then(function($){var q=Lr(0,j(j({},M),{values:M.values.map(function(X,P){var te;return $.failures[P]||xe(X=null!==(te=E.keyPath)&&void 0!==te&&te.includes(".")?me(X):j({},X),E.keyPath,$.results[P]),X})}),$);O.optimisticOps.push(q),queueMicrotask(function(){return M.mutatedParts&&Ja(M.mutatedParts)})}),A):b.mutate(M)},query:function(M){if(!Dp(_t,b)||!Xo("query",M))return b.query(M);var A="immutable"===(null===(q=_t.trans)||void 0===q?void 0:q.db._options.cache),O=(P=_t).requery,$=P.signal,q=function(Y,Q,Z,ie){var ce=zr["idb://".concat(Y,"/").concat(Q)];if(!ce)return[];if(!(Q=ce.queries[Z]))return[null,!1,ce,null];var ue=Q[(ie.query?ie.query.index.name:null)||""];if(!ue)return[null,!1,ce,null];switch(Z){case"query":var Ce=ue.find(function(He){return He.req.limit===ie.limit&&He.req.values===ie.values&&tl(He.req.query.range,ie.query.range)});return Ce?[Ce,!0,ce,ue]:[ue.find(function(He){return("limit"in He.req?He.req.limit:1/0)>=ie.limit&&(!ie.values||He.req.values)&&function _c(f,p){return function(m,b,E,M){if(void 0===m)return void 0!==b?-1:0;if(void 0===b)return 1;if(0===(b=en(m,b))){if(E&&M)return 0;if(E)return 1;if(M)return-1}return b}(f.lower,p.lower,f.lowerOpen,p.lowerOpen)<=0&&0<=function(m,b,E,M){if(void 0===m)return void 0!==b?1:0;if(void 0===b)return-1;if(0===(b=en(m,b))){if(E&&M)return 0;if(E)return-1;if(M)return 1}return b}(f.upper,p.upper,f.upperOpen,p.upperOpen)}(He.req.query.range,ie.query.range)}),!1,ce,ue];case"count":return[Ce=ue.find(function(He){return tl(He.req.query.range,ie.query.range)}),!!Ce,ce,ue]}}(p,m,"query",M),X=q[0],P=q[1],te=q[2],G=q[3];return X&&P?X.obsSet=M.obsSet:(P=b.query(M).then(function(Y){var Q=Y.result;if(X&&(X.res=Q),A){for(var Z=0,ie=Q.length;Z<ie;++Z)Object.freeze(Q[Z]);Object.freeze(Q)}else Y.result=me(Q);return Y}).catch(function(Y){return G&&X&&kt(G,X),Promise.reject(Y)}),X={obsSet:M.obsSet,promise:P,subscribers:new Set,type:"query",req:M,dirty:!1},G?G.push(X):(G=[X],(te=te||(zr["idb://".concat(p,"/").concat(m)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[M.query.index.name||""]=G)),function bd(f,p,m,b){f.subscribers.add(m),b.addEventListener("abort",function(){var E,M;f.subscribers.delete(m),0===f.subscribers.size&&(E=f,M=p,setTimeout(function(){0===E.subscribers.size&&kt(M,E)},3e3))})}(X,G,O,$),X.promise.then(function(Y){return{result:yd(Y.result,M,te?.optimisticOps,b,X,A)}})}})}})}};function nl(f,p){return new Proxy(f,{get:function(m,b,E){return"db"===b?p:Reflect.get(m,b,E)}})}var Jo=(on.prototype.version=function(f){if(isNaN(f)||f<.1)throw new ae.Type("Given version is not a positive number");if(f=Math.round(10*f)/10,this.idbdb||this._state.isBeingOpened)throw new ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,f);var p=this._versions,m=p.filter(function(b){return b._cfg.version===f})[0];return m||(m=new this.Version(f),p.push(m),p.sort(mp),m.stores({}),this._state.autoSchema=!1,m)},on.prototype._whenReady=function(f){var p=this;return this.idbdb&&(this._state.openComplete||_t.letThrough||this._vip)?f():new tt(function(m,b){if(p._state.openComplete)return b(new ae.DatabaseClosed(p._state.dbOpenError));if(!p._state.isBeingOpened){if(!p._state.autoOpen)return void b(new ae.DatabaseClosed);p.open().catch(Et)}p._state.dbReadyPromise.then(m,b)}).then(f)},on.prototype.use=function(f){var p=f.stack,m=f.create,b=f.level,E=f.name;return E&&this.unuse({stack:p,name:E}),(f=this._middlewares[p]||(this._middlewares[p]=[])).push({stack:p,create:m,level:b??10,name:E}),f.sort(function(M,A){return M.level-A.level}),this},on.prototype.unuse=function(f){var p=f.stack,m=f.name,b=f.create;return p&&this._middlewares[p]&&(this._middlewares[p]=this._middlewares[p].filter(function(E){return b?E.create!==b:!!m&&E.name!==m})),this},on.prototype.open=function(){var f=this;return Mi(Di,function(){return pd(f)})},on.prototype._close=function(){var f=this._state,p=Fn.indexOf(this);if(0<=p&&Fn.splice(p,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}f.isBeingOpened||(f.dbReadyPromise=new tt(function(m){f.dbReadyResolve=m}),f.openCanceller=new tt(function(m,b){f.cancelOpen=b}))},on.prototype.close=function(m){var p=(void 0===m?{disableAutoOpen:!0}:m).disableAutoOpen;m=this._state,p?(m.isBeingOpened&&m.cancelOpen(new ae.DatabaseClosed),this._close(),m.autoOpen=!1,m.dbOpenError=new ae.DatabaseClosed):(this._close(),m.autoOpen=this._options.autoOpen||m.isBeingOpened,m.openComplete=!1,m.dbOpenError=null)},on.prototype.delete=function(f){var p=this;void 0===f&&(f={disableAutoOpen:!0});var m=0<arguments.length&&"object"!=typeof arguments[0],b=this._state;return new tt(function(E,M){function A(){p.close(f);var O=p._deps.indexedDB.deleteDatabase(p.name);O.onsuccess=kn(function(){var $,q,X;q=p.name,X=($=p._deps).indexedDB,$=$.IDBKeyRange,pc(X)||q===ua||Or(X,$).delete(q).catch(Et),E()}),O.onerror=Bi(M),O.onblocked=p._fireOnBlocked}if(m)throw new ae.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(A):A()})},on.prototype.backendDB=function(){return this.idbdb},on.prototype.isOpen=function(){return null!==this.idbdb},on.prototype.hasBeenClosed=function(){var f=this._state.dbOpenError;return f&&"DatabaseClosed"===f.name},on.prototype.hasFailed=function(){return null!==this._state.dbOpenError},on.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(on.prototype,"tables",{get:function(){var f=this;return H(this._allTables).map(function(p){return f._allTables[p]})},enumerable:!1,configurable:!0}),on.prototype.transaction=function(){var f=function(p,m,b){var E=arguments.length;if(E<2)throw new ae.InvalidArgument("Too few arguments");for(var M=new Array(E-1);--E;)M[E-1]=arguments[E];return b=M.pop(),[p,et(M),b]}.apply(this,arguments);return this._transaction.apply(this,f)},on.prototype._transaction=function(f,p,m){var b=this,E=_t.trans;E&&E.db===this&&-1===f.indexOf("!")||(E=null);var M,A,O=-1!==f.indexOf("?");f=f.replace("!","").replace("?","");try{if(A=p.map(function(q){if("string"!=typeof(q=q instanceof b.Table?q.name:q))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return q}),"r"==f||f===up)M=up;else{if("rw"!=f&&f!=nd)throw new ae.InvalidArgument("Invalid transaction mode: "+f);M=nd}if(E){if(E.mode===up&&M===nd){if(!O)throw new ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");E=null}E&&A.forEach(function(q){if(E&&-1===E.storeNames.indexOf(q)){if(!O)throw new ae.SubTransaction("Table "+q+" not included in parent transaction.");E=null}}),O&&E&&!E.active&&(E=null)}}catch(q){return E?E._promise(null,function(X,P){P(q)}):tr(q)}var $=function q(X,P,te,G,Y){return tt.resolve().then(function(){var Q=_t.transless||_t,Z=X._createTransaction(P,te,X._dbSchema,G);if(Z.explicit=!0,Q={trans:Z,transless:Q},G)Z.idbtrans=G.idbtrans;else try{Z.create(),Z.idbtrans._explicit=!0,X._state.PR1398_maxLoop=3}catch(ue){return ue.name===Ee.InvalidState&&X.isOpen()&&0<--X._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),X.close({disableAutoOpen:!1}),X.open().then(function(){return q(X,P,te,null,Y)})):tr(ue)}var ie,ce=Li(Y);return ce&&jr(),Q=tt.follow(function(){var ue;(ie=Y.call(Z,Z))&&(ce?(ue=ni.bind(null,null),ie.then(ue,ue)):"function"==typeof ie.next&&"function"==typeof ie.throw&&(ie=Fs(ie)))},Q),(ie&&"function"==typeof ie.then?tt.resolve(ie).then(function(ue){return Z.active?ue:tr(new ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Q.then(function(){return ie})).then(function(ue){return G&&Z._resolve(),Z._completion.then(function(){return ue})}).catch(function(ue){return Z._reject(ue),tr(ue)})})}.bind(null,this,M,A,E,m);return E?E._promise(M,$,"lock"):_t.trans?Mi(_t.transless,function(){return b._whenReady($)}):this._whenReady($)},on.prototype.table=function(f){if(!N(this._allTables,f))throw new ae.InvalidTable("Table ".concat(f," does not exist"));return this._allTables[f]},on);function on(f,p){var m=this;this._middlewares={},this.verno=0;var b=on.dependencies;this._options=p=j({addons:on.addons,autoOpen:!0,indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange,cache:"cloned"},p),this._deps={indexedDB:p.indexedDB,IDBKeyRange:p.IDBKeyRange},b=p.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var E,M,A,O,$,q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Et,dbReadyPromise:null,cancelOpen:Et,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:p.autoOpen};q.dbReadyPromise=new tt(function(P){q.dbReadyResolve=P}),q.openCanceller=new tt(function(P,te){q.cancelOpen=te}),this._state=q,this.name=f,this.on=ac(this,"populate","blocked","versionchange","close",{ready:[Vi,Et]}),this.on.ready.subscribe=pt(this.on.ready.subscribe,function(P){return function(te,G){on.vip(function(){var Y,Q=m._state;Q.openComplete?(Q.dbOpenError||tt.resolve().then(te),G&&P(te)):Q.onReadyBeingFired?(Q.onReadyBeingFired.push(te),G&&P(te)):(P(te),Y=m,G||P(function Z(){Y.on.ready.unsubscribe(te),Y.on.ready.unsubscribe(Z)}))})}}),this.Collection=(E=this,lc(qD.prototype,function(ie,Z){this.db=E;var G=It,Y=null;if(Z)try{G=Z()}catch(ce){Y=ce}var Q=ie._ctx;this._ctx={table:Z=Q.table,index:Q.index,isPrimKey:!Q.index||Z.schema.primKey.keyPath&&Q.index===Z.schema.primKey.name,range:G,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Y,or:Q.or,valueMapper:(ie=Z.hook.reading.fire)!==wn?ie:null}})),this.Table=(M=this,lc(yo.prototype,function(P,te,G){this.db=M,this._tx=G,this.name=P,this.schema=te,this.hook=M._allTables[P]?M._allTables[P].hook:ac(null,{creating:[ei,Et],reading:[Ar,wn],updating:[go,Et],deleting:[er,Et]})})),this.Transaction=(A=this,lc(hp.prototype,function(P,te,G,Y,Q){var Z=this;this.db=A,this.mode=P,this.storeNames=te,this.schema=G,this.chromeTransactionDurability=Y,this.idbtrans=null,this.on=ac(this,"complete","error","abort"),this.parent=Q||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new tt(function(ie,ce){Z._resolve=ie,Z._reject=ce}),this._completion.then(function(){Z.active=!1,Z.on.complete.fire()},function(ie){var ce=Z.active;return Z.active=!1,Z.on.error.fire(ie),Z.parent?Z.parent._reject(ie):ce&&Z.idbtrans&&Z.idbtrans.abort(),tr(ie)})})),this.Version=(O=this,lc(ud.prototype,function(P){this.db=O,this._cfg={version:P,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=($=this,lc(Ya.prototype,function(P,te,G){if(this.db=$,this._ctx={table:P,index:":id"===te?null:te,or:G},this._cmp=this._ascending=en,this._descending=function(Y,Q){return en(Q,Y)},this._max=function(Y,Q){return 0<en(Y,Q)?Y:Q},this._min=function(Y,Q){return en(Y,Q)<0?Y:Q},this._IDBKeyRange=$._deps.IDBKeyRange,!this._IDBKeyRange)throw new ae.MissingAPI})),this.on("versionchange",function(P){0<P.newVersion?console.warn("Another connection wants to upgrade database '".concat(m.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(m.name,"'. Closing db now to resume the delete request.")),m.close({disableAutoOpen:!1})}),this.on("blocked",function(P){!P.newVersion||P.newVersion<P.oldVersion?console.warn("Dexie.delete('".concat(m.name,"') was blocked")):console.warn("Upgrade '".concat(m.name,"' blocked by other connection holding version ").concat(P.oldVersion/10))}),this._maxKey=fc(p.IDBKeyRange),this._createTransaction=function(P,te,G,Y){return new m.Transaction(P,te,G,m._options.chromeTransactionDurability,Y)},this._fireOnBlocked=function(P){m.on("blocked").fire(P),Fn.filter(function(te){return te.name===m.name&&te!==m&&!te._state.vcFired}).map(function(te){return te.on("versionchange").fire(P)})},this.use(vd),this.use(KD),this.use(Dy),this.use(Cy),this.use(_d);var X=new Proxy(this,{get:function(P,te,G){if("_vip"===te)return!0;if("table"===te)return function(Q){return nl(m.table(Q),X)};var Y=Reflect.get(P,te,G);return Y instanceof yo?nl(Y,X):"tables"===te?Y.map(function(Q){return nl(Q,X)}):"_createTransaction"===te?function(){return nl(Y.apply(this,arguments),X)}:Y}});this.vip=X,b.forEach(function(P){return P(m)})}br=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var fa,ZD=(vc.prototype.subscribe=function(f,p,m){return this._subscribe(f&&"function"!=typeof f?f:{next:f,error:p,complete:m})},vc.prototype[br]=function(){return this},vc);function vc(f){this._subscribe=f}try{fa={indexedDB:J.indexedDB||J.mozIndexedDB||J.webkitIndexedDB||J.msIndexedDB,IDBKeyRange:J.IDBKeyRange||J.webkitIDBKeyRange}}catch{fa={indexedDB:null,IDBKeyRange:null}}function Hi(f){var p,m=!1,b=new ZD(function(E){var A,M=Li(f),O=!1,$={},q={},X={get closed(){return O},unsubscribe:function(){O||(O=!0,A&&A.abort(),P&&eo.storagemutated.unsubscribe(G))}};E.start&&E.start(X);var P=!1,te=function(){return fn(Y)},G=function(Q){wo($,Q),fd(q,$)&&te()},Y=function(){var Q,Z,ie;!O&&fa.indexedDB&&($={},Q={},A&&A.abort(),A=new AbortController,ie=function(ce){var ue=xi();try{M&&jr();var Ce=mo(f,ce);return Ce=M?Ce.finally(ni):Ce}finally{ue&&sa()}}(Z={subscr:Q,signal:A.signal,requery:te,querier:f,trans:null}),Promise.resolve(ie).then(function(ce){m=!0,p=ce,O||Z.signal.aborted||($={},function(ue){for(var Ce in ue)if(N(ue,Ce))return;return 1}(q=Q)||P||(eo(st,G),P=!0),fn(function(){return!O&&E.next&&E.next(ce)}))},function(ce){m=!1,["DatabaseClosedError","AbortError"].includes(ce?.name)||O||fn(function(){O||E.error&&E.error(ce)})}))};return setTimeout(te,0),X});return b.hasValue=function(){return m},b.getValue=function(){return p},b}var zt=Jo;function es(f){var p=to;try{to=!0,eo.storagemutated.fire(f),xt(f,!0)}finally{to=p}}x(zt,j(j({},Ut),{delete:function(f){return new zt(f,{addons:[]}).delete()},exists:function(f){return new zt(f,{addons:[]}).open().then(function(p){return p.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(f){try{return m=(p=zt.dependencies).indexedDB,p=p.IDBKeyRange,(pc(m)?Promise.resolve(m.databases()).then(function(b){return b.map(function(E){return E.name}).filter(function(E){return E!==ua})}):Or(m,p).toCollection().primaryKeys()).then(f)}catch{return tr(new ae.MissingAPI)}var p,m},defineClass:function(){return function(f){R(this,f)}},ignoreTransaction:function(f){return _t.trans?Mi(_t.transless,f):f()},vip:yp,async:function(f){return function(){try{var p=Fs(f.apply(this,arguments));return p&&"function"==typeof p.then?p:tt.resolve(p)}catch(m){return tr(m)}}},spawn:function(f,p,m){try{var b=Fs(f.apply(m,p||[]));return b&&"function"==typeof b.then?b:tt.resolve(b)}catch(E){return tr(E)}},currentTransaction:{get:function(){return _t.trans||null}},waitFor:function(f,p){return p=tt.resolve("function"==typeof f?zt.ignoreTransaction(f):f).timeout(p||6e4),_t.trans?_t.trans.waitFor(p):p},Promise:tt,debug:{get:function(){return ti},set:function(f){oa(f)}},derive:z,extend:R,props:x,override:pt,Events:ac,on:eo,liveQuery:Hi,extendObservabilitySet:wo,getByKeyPath:pe,setByKeyPath:xe,delByKeyPath:function(f,p){"string"==typeof p?xe(f,p,void 0):"length"in p&&[].map.call(p,function(m){xe(f,m,void 0)})},shallowClone:Be,deepClone:me,getObjectDiff:gd,cmp:en,asap:ze,minKey:-1/0,addons:[],connections:Fn,errnames:Ee,dependencies:fa,cache:zr,semVer:"4.0.10",version:"4.0.10".split(".").map(function(f){return parseInt(f)}).reduce(function(f,p,m){return f+p/Math.pow(10,2*m)})})),zt.maxKey=fc(zt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(eo(st,function(f){to||(f=new CustomEvent(Za,{detail:f}),to=!0,dispatchEvent(f),to=!1)}),addEventListener(Za,function(f){f=f.detail,to||es(f)}));var Ps,to=!1,rl=function(){};return typeof BroadcastChannel<"u"&&((rl=function(){(Ps=new BroadcastChannel(Za)).onmessage=function(f){return f.data&&es(f.data)}})(),"function"==typeof Ps.unref&&Ps.unref(),eo(st,function(f){to||Ps.postMessage(f)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(f){if(!Jo.disableBfCache&&f.persisted){ti&&console.debug("Dexie: handling persisted pagehide"),Ps?.close();for(var p=0,m=Fn;p<m.length;p++)m[p].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(f){!Jo.disableBfCache&&f.persisted&&(ti&&console.debug("Dexie: handling persisted pageshow"),rl(),es({all:new rr(-1/0,[[]])}))})),tt.rejectionMapper=function(f,p){return!f||f instanceof ho||f instanceof TypeError||f instanceof SyntaxError||!f.name||!dt[f.name]?f:(p=new dt[f.name](p||f.message,f),"stack"in f&&U(p,"stack",{get:function(){return this.inner.stack}}),p)},oa(ti),j(Jo,Object.freeze({__proto__:null,Dexie:Jo,liveQuery:Hi,Entity:Ur,cmp:en,PropModSymbol:Yo,PropModification:uc,replacePrefix:function(f,p){return new uc({replacePrefix:[f,p]})},add:function(f){return new uc({add:f})},remove:function(f){return new uc({remove:f})},default:Jo,RangeSet:rr,mergeRanges:Zo,rangesOverlap:wp}),{default:Jo}),Jo}()}},Pe=>{Pe(Pe.s=484)}]);