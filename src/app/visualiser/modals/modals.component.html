<!--EDIT NODE MODAL-->
<ng-template #editNodeModal>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Edit Node</h4>
    <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="closeModal('modalRef')">
      <span aria-hidden="true" class="visually-hidden">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="createNodeForm">
      <div class="form-group">
        <label for="iconType">Icon Type</label>
        <div>
          <input type="radio" id="imageUrl" formControlName="iconType" value="url"> Image URL
          <input class="ml-5" type="radio" id="iconTypeSelect" formControlName="iconType" value="select"> Choose Icon
        </div>
      </div>
      <div class="form-group" *ngIf="createNodeForm.get('iconType').value === 'url'">
        <label for="imageUrl">Image URL</label>
        <div class="input-group">
          <input type="text" id="imageUrl" formControlName="imageUrl" class="form-control" placeholder="Image URL">
          <button type="button" class="btn btn-outline-secondary" (click)="clearImageUrl()">Clear</button>
        </div>
      </div>
      <div class="form-group" *ngIf="createNodeForm.get('iconType').value === 'select'">
        <label for="nodeIcon">Choose Icon</label>
        <select id="nodeIcon" formControlName="icon" class="form-control">
          <option value="">None</option>
          <option *ngFor="let icon of fontAwesomeIcons" [value]="icon.icon">{{ icon.name }}</option>
        </select>
      </div>
      <div *ngIf="createNodeForm.errors?.iconOrImage" class="text-danger">
        Please provide either an Image URL or choose an Icon, but not both.
      </div>
      <div class="form-group">
        <label for="label">Labels</label>
        <div formArrayName="label">
          <div *ngFor="let label of nodeLabelArray.controls; let i = index" [formGroupName]="i"
            class="d-flex flex-column align-items-start">
            <div class="d-flex align-items-center w-100">
              <input formControlName="label" class="form-control mb-2" placeholder="Label" [id]="'node-label-' + i">
              <button type="button" class="btn btn-danger ml-2" (click)="removeNodeLabel(i)">Remove</button>
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-secondary mt-2" (click)="addNodeLabel()">Add Label</button>
      </div>
      <div class="form-group">
        <label for="nodeAdditionalIcon">Additional icon</label>
        <select id="nodeAdditionalIcon" formControlName="additionalIcon" class="form-control">
          <option value="">None</option>
          <option *ngFor="let icon of fontAwesomeIcons" [value]="icon.icon">{{ icon.name }}</option>
        </select>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="closeModal('modalRef')">Cancel</button>
    <button type="button" class="btn btn-primary" (click)="createNode()" [disabled]="!createNodeForm.valid">Save Changes</button>
    <button type="button" class="btn btn-danger" (click)="deleteNode()">Delete Node</button>
  </div>
</ng-template>
<!-- ./MODAL-->

<!--CREATE NODE MODAL-->
<ng-template #createNodeModal>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Create Node</h4>
    <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="closeModal('modalRef')">
      <span aria-hidden="true" class="visually-hidden">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="createNodeForm">
      <div class="form-group">
        <label for="iconType">Icon Type</label>
        <div>
          <input type="radio" id="imageUrl" formControlName="iconType" value="url"> Image URL
          <input class="ml-5" type="radio" id="iconTypeSelect" formControlName="iconType" value="select"> Choose Icon
        </div>
      </div>
      <div class="form-group" *ngIf="createNodeForm.get('iconType').value === 'url'">
        <label for="imageUrl">Image URL</label>
        <div class="input-group">
          <input type="text" id="imageUrl" formControlName="imageUrl" class="form-control" placeholder="Image URL">
          <button type="button" class="btn btn-outline-secondary" (click)="clearImageUrl()">Clear</button>
        </div>
      </div>
      <div class="form-group" *ngIf="createNodeForm.get('iconType').value === 'select'">
        <label for="nodeIcon">Choose Icon</label>
        <select id="nodeIcon" formControlName="icon" class="form-control">
          <option value="">None</option>
          <option *ngFor="let icon of fontAwesomeIcons" [value]="icon.icon">{{ icon.name }}</option>
        </select>
      </div>
      <div *ngIf="createNodeForm.errors?.iconOrImage" class="text-danger">
        Please provide either an Image URL or choose an Icon, but not both.
      </div>
      <div class="form-group">
        <label for="label">Labels</label>
        <div formArrayName="label">
          <div *ngFor="let label of nodeLabelArray.controls; let i = index" [formGroupName]="i"
            class="d-flex flex-column align-items-start">
            <div class="d-flex align-items-center w-100">
              <input formControlName="label" class="form-control mb-2" placeholder="Label" [id]="'node-label-' + i">
              <button type="button" class="btn btn-danger ml-2" (click)="removeNodeLabel(i)">Remove</button>
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-secondary mt-2" (click)="addNodeLabel()">Add Label</button>
      </div>
      <div class="form-group">
        <label for="nodeAdditionalIcon">Additional icon</label>
        <select id="nodeAdditionalIcon" formControlName="additionalIcon" class="form-control">
          <option value="">None</option>
          <option *ngFor="let icon of fontAwesomeIcons" [value]="icon.icon">{{ icon.name }}</option>
        </select>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="closeModal('modalRef')">Cancel</button>
    <button type="button" class="btn btn-primary" (click)="createNode()" [disabled]="!createNodeForm.valid">Create Node</button>
  </div>
</ng-template>
<!-- ./MODAL-->

<!--EDIT LINKS MODAL-->
<ng-template #editLinksModal>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Edit Links</h4>
    <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="closeModal('modalRef')">
      <span aria-hidden="true" class="visually-hidden">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="createLinkForm">
      <div class="form-group">
        <label for="lineStyle">Line Style</label>
        <select id="lineStyle" formControlName="lineStyle" class="form-control">
          <option value="Solid">Solid</option>
          <option value="Dotted">Dotted</option>
        </select>
      </div>
      <div class="form-group form-check">
        <input type="checkbox" id="sourceArrow" formControlName="sourceArrow" class="form-check-input">
        <label for="sourceArrow">Source Arrow</label>
      </div>
      <div class="form-group form-check">
        <input type="checkbox" id="targetArrow" formControlName="targetArrow" class="form-check-input">
        <label for="targetArrow">Target Arrow</label>
      </div>

      <div class="form-group">
        <label for="label">Labels</label>
        <div formArrayName="label">
          <div *ngFor="let label of labelArray.controls; let i = index" [formGroupName]="i"
            class="d-flex flex-column align-items-start">
            <div class="d-flex align-items-center w-100">
              <input formControlName="label" class="form-control" placeholder="Label" [id]="'label-' + i">
              <button type="button" class="btn btn-danger ml-2" (click)="removeLabel(i)">Remove</button>
            </div>
            <div class="form-group form-check">
              <input type="checkbox" formControlName="linkIcon" class="form-check-input" [id]="'linkIcon-' + i">
              <label [for]="'linkIcon-' + i">Link Icon?</label>
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-secondary mt-2" (click)="addLabel()">Add Label</button>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="closeModal('modalRef')">Cancel</button>
    <button type="button" class="btn btn-primary" (click)="createLink()" [disabled]="!createLinkForm.valid">Save Changes</button>
    <button type="button" class="btn btn-danger" (click)="deleteLink()">Delete Link</button>
  </div>
</ng-template>
<!-- ./MODAL-->


<!--CREATE LINK MODAL-->
<ng-template #createLinkModal>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Create Link</h4>
    <button type="button" class="btn-close close pull-right" aria-label="Close" (click)="closeModal('modalRef')">
      <span aria-hidden="true" class="visually-hidden">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="createLinkForm">
      <div class="form-group">
        <label for="lineStyle">Line Style</label>
        <select id="lineStyle" formControlName="lineStyle" class="form-control">
          <option value="Solid">Solid</option>
          <option value="Dotted">Dotted</option>
        </select>
      </div>
      <div class="form-group form-check">
        <input type="checkbox" id="sourceArrow" formControlName="sourceArrow" class="form-check-input">
        <label for="sourceArrow">Source Arrow</label>
      </div>
      <div class="form-group form-check">
        <input type="checkbox" id="targetArrow" formControlName="targetArrow" class="form-check-input">
        <label for="targetArrow">Target Arrow</label>
      </div>

      <div class="form-group">
        <label for="label">Labels</label>
        <div formArrayName="label">
          <div *ngFor="let label of labelArray.controls; let i = index" [formGroupName]="i"
            class="d-flex flex-column align-items-start">
            <div class="d-flex align-items-center w-100">
              <input formControlName="label" class="form-control" placeholder="Label" [id]="'label-' + i">
              <button type="button" class="btn btn-danger ml-2" (click)="removeLabel(i)">Remove</button>
            </div>
            <div class="form-group form-check">
              <input type="checkbox" formControlName="linkIcon" class="form-check-input" [id]="'linkIcon-' + i">
              <label [for]="'linkIcon-' + i">Link Icon?</label>
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-secondary mt-2" (click)="addLabel()">Add Label</button>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="closeModal('modalRef')">Cancel</button>
    <button type="button" class="btn btn-primary" (click)="createLink()" [disabled]="!createLinkForm.valid">Create Link</button>
  </div>
</ng-template>
<!-- ./MODAL-->